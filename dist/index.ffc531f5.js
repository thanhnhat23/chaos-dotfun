!function(e,t,i,n,r){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof s[n]&&s[n],o=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(t,i){if(!o[t]){if(!e[t]){var r="function"==typeof s[n]&&s[n];if(!i&&r)return r(t,!0);if(a)return a(t,!0);if(l&&"string"==typeof t)return l(t);var u=Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}d.resolve=function(i){var n=e[t][1][i];return null!=n?n:i},d.cache={};var c=o[t]=new h.Module(t);e[t][0].call(c.exports,d,c,c.exports,s)}return o[t].exports;function d(e){var t=d.resolve(e);return!1===t?{}:h(t)}}h.isParcelRequire=!0,h.Module=function(e){this.id=e,this.bundle=h,this.exports={}},h.modules=e,h.cache=o,h.parent=a,h.register=function(t,i){e[t]=[function(e,t){t.exports=i},{}]},Object.defineProperty(h,"root",{get:function(){return s[n]}}),s[n]=h;for(var u=0;u<t.length;u++)h(t[u]);if(i){var c=h(i);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define(function(){return c})}}({f4hYr:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js"),s=e("react/jsx-dev-runtime"),a=e("react-dom/client"),o=e("./app/App.jsx"),l=r.interopDefault(o),h=e("../../lib/game/client/game-manager"),u=e("../plugins/client-plugin");let c=new URLSearchParams(window.location.search);window.RELDENS_LOG_LEVEL=c.get("logLevel")||7,window.RELDENS_ENABLE_TRACE_FOR=Number(c.get("traceFor")||"emergency,alert,critical");let d=new h.GameManager;d.setupCustomClientPlugin("customPluginKey",u.ClientPlugin),d.events.on("reldens.afterInitEngineAndStartGame",()=>{let e=d.gameDom.getElement("#current-version");e&&(e.innerHTML=d.config.client.gameEngine.version+" -")}),d.events.on("reldens.startGameAfter",()=>{d.gameDom.getElement(".row-disclaimer")?.remove()}),d.events.on("reldens.activateRoom",e=>{e.onMessage("*",e=>{if("rski.Bc"!==e.act)return;let t=(e.data?.skillKey||"").toString(),i=Number(e.data?.extraData?.sd||0);if(""!==t&&0<i){let e=d.gameDom.getElement(".skill-icon-"+t);if(!e)return;let n=Date.now()+i;e.classList.add("cooldown"),e.style.setProperty("--angle","0deg"),function t(){let r=n-Date.now();if(0>=r){e.style.setProperty("--angle","360deg"),e.classList.remove("cooldown");return}e.style.setProperty("--angle",`${(i-r)/i*360}deg`),requestAnimationFrame(t)}()}})}),window.reldens=d,document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("root");if(!e){console.error("Missing #root element for React mount.");return}(0,a.createRoot)(e).render(/*#__PURE__*/(0,s.jsxDEV)(l.default,{reldens:d},void 0,!1,{fileName:"theme/default/index.js",lineNumber:74,columnNumber:17},this))})},{"react/jsx-dev-runtime":"9piX2","react-dom/client":"9i2M9","./app/App.jsx":"Mf0qZ","../../lib/game/client/game-manager":"4hjCS","../plugins/client-plugin":"7ASKi","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"9piX2":[function(e,t,i,n){t.exports=e("ee51401569654d91")},{ee51401569654d91:"dLgGL"}],dLgGL:[function(e,t,i,n){!function(){var t,n,r,s,a,o,l,h,u,c,d,f,p,m,g=e("58362d9d82be395f"),v=Symbol.for("react.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),R=Symbol.iterator,O=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function M(e){for(var t,i,n,r,s=arguments.length,a=Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];t=e,i=a,""!==(n=O.ReactDebugCurrentFrame.getStackAddendum())&&(t+="%s",i=i.concat([n])),(r=i.map(function(e){return String(e)})).unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,r)}function L(e){return e.displayName||"Context"}function D(e){if(null==e)return null;if("number"==typeof e.tag&&M("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case b:return"Fragment";case y:return"Portal";case E:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case _:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case S:return L(e)+".Consumer";case w:return L(e._context)+".Provider";case T:return function(e,t,i){var n=e.displayName;if(n)return n;var r=t.displayName||t.name||"";return""!==r?i+"("+r+")":i}(e,e.render,"ForwardRef");case C:var t=e.displayName||null;if(null!==t)return t;return D(e.type)||"Memo";case I:var i=e._payload,n=e._init;try{return D(n(i))}catch(e){}}return null}t=Symbol.for("react.module.reference");var k=Object.assign,N=0;function F(){}F.__reactDisabledLog=!0;var B=O.ReactCurrentDispatcher;function U(e,t,i){if(void 0===u)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);u=n&&n[1]||""}return"\n"+u+e}var j=!1;function V(e,t){if(!e||j)return"";var i,u,d=c.get(e);if(void 0!==d)return d;j=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0,u=B.current,B.current=null,function(){if(0===N){n=console.log,r=console.info,s=console.warn,a=console.error,o=console.group,l=console.groupCollapsed,h=console.groupEnd;var e={configurable:!0,enumerable:!0,value:F,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}N++}();try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(p,[])}catch(e){i=e}Reflect.construct(e,[],p)}else{try{p.call()}catch(e){i=e}e.call(p.prototype)}}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var m=t.stack.split("\n"),g=i.stack.split("\n"),v=m.length-1,y=g.length-1;v>=1&&y>=0&&m[v]!==g[y];)y--;for(;v>=1&&y>=0;v--,y--)if(m[v]!==g[y]){if(1!==v||1!==y)do if(v--,--y<0||m[v]!==g[y]){var b="\n"+m[v].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),"function"==typeof e&&c.set(e,b),b}while(v>=1&&y>=0)break}}}finally{j=!1,B.current=u,function(){if(0==--N){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:k({},e,{value:n}),info:k({},e,{value:r}),warn:k({},e,{value:s}),error:k({},e,{value:a}),group:k({},e,{value:o}),groupCollapsed:k({},e,{value:l}),groupEnd:k({},e,{value:h})})}N<0&&M("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=f}var x=e?e.displayName||e.name:"",E=x?U(x):"";return"function"==typeof e&&c.set(e,E),E}function G(e,t,i){if(null==e)return"";if("function"==typeof e)return V(e,!!((n=e.prototype)&&n.isReactComponent));if("string"==typeof e)return U(e);switch(e){case A:return U("Suspense");case _:return U("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case T:return V(e.render,!1);case C:return G(e.type,t,i);case I:var n,r=e._payload,s=e._init;try{return G(s(r),t,i)}catch(e){}}return""}c=new("function"==typeof WeakMap?WeakMap:Map);var W=Object.prototype.hasOwnProperty,z={},Y=O.ReactDebugCurrentFrame;function H(e){if(e){var t=e._owner,i=G(e.type,e._source,t?t.type:null);Y.setExtraStackFrame(i)}else Y.setExtraStackFrame(null)}var X=Array.isArray;function q(e){if(function(e){try{return!1}catch(e){return!0}}(0))return M("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.","function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"),""+e}var K=O.ReactCurrentOwner,$={key:!0,ref:!0,__self:!0,__source:!0};p={};var Q=function(e,t,i,n,r,s,a){var o={$$typeof:v,type:e,key:t,ref:i,props:a,_owner:s};return o._store={},Object.defineProperty(o._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(o,"_self",{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.defineProperty(o,"_source",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.freeze&&(Object.freeze(o.props),Object.freeze(o)),o},J=O.ReactCurrentOwner,Z=O.ReactDebugCurrentFrame;function ee(e){if(e){var t=e._owner,i=G(e.type,e._source,t?t.type:null);Z.setExtraStackFrame(i)}else Z.setExtraStackFrame(null)}function et(e){return"object"==typeof e&&null!==e&&e.$$typeof===v}function ei(){if(J.current){var e=D(J.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}m=!1;var en={};function er(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var i=function(e){var t=ei();if(!t){var i="string"==typeof e?e:e.displayName||e.name;i&&(t="\n\nCheck the top-level render call using <"+i+">.")}return t}(t);if(!en[i]){en[i]=!0;var n="";e&&e._owner&&e._owner!==J.current&&(n=" It was passed a child from "+D(e._owner.type)+"."),ee(e),M('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',i,n),ee(null)}}}function es(e,t){if("object"==typeof e){if(X(e))for(var i=0;i<e.length;i++){var n=e[i];et(n)&&er(n,t)}else if(et(e))e._store&&(e._store.validated=!0);else if(e){var r=function(e){if(null===e||"object"!=typeof e)return null;var t=R&&e[R]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof r&&r!==e.entries)for(var s,a=r.call(e);!(s=a.next()).done;)et(s.value)&&er(s.value,t)}}}var ea={};i.Fragment=b,i.jsxDEV=function(e,i,n,r,s,a){var o="string"==typeof e||"function"==typeof e||e===b||e===E||e===x||e===A||e===_||e===P||"object"==typeof e&&null!==e&&(e.$$typeof===I||e.$$typeof===C||e.$$typeof===w||e.$$typeof===S||e.$$typeof===T||e.$$typeof===t||void 0!==e.getModuleId);if(!o){var l,h="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(h+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var u=void 0!==s?"\n\nCheck your code at "+s.fileName.replace(/^.*[\\\/]/,"")+":"+s.lineNumber+".":"";(u?h+=u:h+=ei(),null===e)?l="null":X(e)?l="array":void 0!==e&&e.$$typeof===v?(l="<"+(D(e.type)||"Unknown")+" />",h=" Did you accidentally export a JSX literal instead of a component?"):l=typeof e,M("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",l,h)}var c=function(e,t,i,n,r){var s,a={},o=null,l=null;for(s in void 0!==i&&(q(i),o=""+i),function(e){if(W.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(q(t.key),o=""+t.key),function(e){if(W.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(l=t.ref,function(e,t){if("string"==typeof e.ref&&K.current&&t&&K.current.stateNode!==t){var i=D(K.current.type);p[i]||(M('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',D(K.current.type),e.ref),p[i]=!0)}}(t,r)),t)W.call(t,s)&&!$.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps){var h=e.defaultProps;for(s in h)void 0===a[s]&&(a[s]=h[s])}if(o||l){var u,c,m="function"==typeof e?e.displayName||e.name||"Unknown":e;o&&((u=function(){d||(d=!0,M("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",m))}).isReactWarning=!0,Object.defineProperty(a,"key",{get:u,configurable:!0})),l&&((c=function(){f||(f=!0,M("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",m))}).isReactWarning=!0,Object.defineProperty(a,"ref",{get:c,configurable:!0}))}return Q(e,o,l,r,n,K.current,a)}(e,i,n,s,a);if(null==c)return c;if(o){var g=i.children;if(void 0!==g){if(r){if(X(g)){for(var y=0;y<g.length;y++)es(g[y],e);Object.freeze&&Object.freeze(g)}else M("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.")}else es(g,e)}}if(W.call(i,"key")){var R=D(e),O=Object.keys(i).filter(function(e){return"key"!==e}),L=O.length>0?"{key: someKey, "+O.join(": ..., ")+": ...}":"{key: someKey}";ea[R+L]||(M('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',L,R,O.length>0?"{"+O.join(": ..., ")+": ...}":"{}",R),ea[R+L]=!0)}return e===b?function(e){for(var t=Object.keys(e.props),i=0;i<t.length;i++){var n=t[i];if("children"!==n&&"key"!==n){ee(e),M("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",n),ee(null);break}}null!==e.ref&&(ee(e),M("Invalid attribute `ref` supplied to `React.Fragment`."),ee(null))}(c):function(e){var t,i=e.type;if(null!=i&&"string"!=typeof i){if("function"==typeof i)t=i.propTypes;else{if("object"!=typeof i||i.$$typeof!==T&&i.$$typeof!==C)return;t=i.propTypes}if(t){var n=D(i);!function(e,t,i,n,r){var s=Function.call.bind(W);for(var a in e)if(s(e,a)){var o=void 0;try{if("function"!=typeof e[a]){var l=Error((n||"React class")+": "+i+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}o=e[a](t,a,n,i,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){o=e}!o||o instanceof Error||(H(r),M("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",i,a,typeof o),H(null)),o instanceof Error&&!(o.message in z)&&(z[o.message]=!0,H(r),M("Failed %s type: %s",i,o.message),H(null))}}(t,e.props,"prop",n,e)}else void 0===i.PropTypes||m||(m=!0,M("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",D(i)||"Unknown"));"function"!=typeof i.getDefaultProps||i.getDefaultProps.isReactClassApproved||M("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}(c),c}}()},{"58362d9d82be395f":"imCjC"}],imCjC:[function(e,t,i,n){t.exports=e("a569817e6ea559f6")},{a569817e6ea559f6:"ahBsH"}],ahBsH:[function(e,t,i,n){!function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var e,n,r,s,a,o,l,h,u,c,d,f,p,m,g=Symbol.for("react.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),P=Symbol.iterator;function R(e){if(null===e||"object"!=typeof e)return null;var t=P&&e[P]||e["@@iterator"];return"function"==typeof t?t:null}var O={current:null},M={transition:null},L={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},D={current:null},k={},N=null;k.setExtraStackFrame=function(e){N=e},k.getCurrentStack=null,k.getStackAddendum=function(){var e="";N&&(e+=N);var t=k.getCurrentStack;return t&&(e+=t()||""),e};var F={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:D};function B(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];j("warn",e,i)}function U(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];j("error",e,i)}function j(e,t,i){var n=F.ReactDebugCurrentFrame.getStackAddendum();""!==n&&(t+="%s",i=i.concat([n]));var r=i.map(function(e){return String(e)});r.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,r)}F.ReactDebugCurrentFrame=k,F.ReactCurrentActQueue=L;var V={};function G(e,t){var i=e.constructor,n=i&&(i.displayName||i.name)||"ReactClass",r=n+"."+t;V[r]||(U("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,n),V[r]=!0)}var W={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,i){G(e,"forceUpdate")},enqueueReplaceState:function(e,t,i,n){G(e,"replaceState")},enqueueSetState:function(e,t,i,n){G(e,"setState")}},z=Object.assign,Y={};function H(e,t,i){this.props=e,this.context=t,this.refs=Y,this.updater=i||W}Object.freeze(Y),H.prototype.isReactComponent={},H.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},H.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var X={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},q=function(e,t){Object.defineProperty(H.prototype,e,{get:function(){B("%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var K in X)X.hasOwnProperty(K)&&q(K,X[K]);function $(){}function Q(e,t,i){this.props=e,this.context=t,this.refs=Y,this.updater=i||W}$.prototype=H.prototype;var J=Q.prototype=new $;J.constructor=Q,z(J,H.prototype),J.isPureReactComponent=!0;var Z=Array.isArray;function ee(e){if(function(e){try{return!1}catch(e){return!0}}(0))return U("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.","function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"),""+e}function et(e){return e.displayName||"Context"}function ei(e){if(null==e)return null;if("number"==typeof e.tag&&U("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case v:return"Portal";case x:return"Profiler";case b:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case w:return et(e)+".Consumer";case E:return et(e._context)+".Provider";case S:return function(e,t,i){var n=e.displayName;if(n)return n;var r=t.displayName||t.name||"";return""!==r?i+"("+r+")":i}(e,e.render,"ForwardRef");case _:var t=e.displayName||null;if(null!==t)return t;return ei(e.type)||"Memo";case C:var i=e._payload,n=e._init;try{return ei(n(i))}catch(e){}}return null}var en=Object.prototype.hasOwnProperty,er={key:!0,ref:!0,__self:!0,__source:!0};function es(e){if(en.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function ea(e){if(en.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}r={};var eo=function(e,t,i,n,r,s,a){var o={$$typeof:g,type:e,key:t,ref:i,props:a,_owner:s};return o._store={},Object.defineProperty(o._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(o,"_self",{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.defineProperty(o,"_source",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.freeze&&(Object.freeze(o.props),Object.freeze(o)),o};function el(t,i,s){var a,o={},l=null,h=null,u=null,c=null;if(null!=i)for(a in es(i)&&(h=i.ref,function(e){if("string"==typeof e.ref&&D.current&&e.__self&&D.current.stateNode!==e.__self){var t=ei(D.current.type);r[t]||(U('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',t,e.ref),r[t]=!0)}}(i)),ea(i)&&(ee(i.key),l=""+i.key),u=void 0===i.__self?null:i.__self,c=void 0===i.__source?null:i.__source,i)en.call(i,a)&&!er.hasOwnProperty(a)&&(o[a]=i[a]);var d=arguments.length-2;if(1===d)o.children=s;else if(d>1){for(var f=Array(d),p=0;p<d;p++)f[p]=arguments[p+2];Object.freeze&&Object.freeze(f),o.children=f}if(t&&t.defaultProps){var m=t.defaultProps;for(a in m)void 0===o[a]&&(o[a]=m[a])}if(l||h){var g,v,y="function"==typeof t?t.displayName||t.name||"Unknown":t;l&&((g=function(){e||(e=!0,U("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",y))}).isReactWarning=!0,Object.defineProperty(o,"key",{get:g,configurable:!0})),h&&((v=function(){n||(n=!0,U("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",y))}).isReactWarning=!0,Object.defineProperty(o,"ref",{get:v,configurable:!0}))}return eo(t,l,h,u,c,D.current,o)}function eh(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n,r,s=z({},e.props),a=e.key,o=e.ref,l=e._self,h=e._source,u=e._owner;if(null!=t)for(n in es(t)&&(o=t.ref,u=D.current),ea(t)&&(ee(t.key),a=""+t.key),e.type&&e.type.defaultProps&&(r=e.type.defaultProps),t)en.call(t,n)&&!er.hasOwnProperty(n)&&(void 0===t[n]&&void 0!==r?s[n]=r[n]:s[n]=t[n]);var c=arguments.length-2;if(1===c)s.children=i;else if(c>1){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];s.children=d}return eo(e.type,a,o,l,h,u,s)}function eu(e){return"object"==typeof e&&null!==e&&e.$$typeof===g}var ec=!1,ed=/\/+/g;function ef(e){return e.replace(ed,"$&/")}function ep(e,t){if("object"==typeof e&&null!==e&&null!=e.key){var i,n;return ee(e.key),i=""+e.key,n={"=":"=0",":":"=2"},"$"+i.replace(/[=:]/g,function(e){return n[e]})}return t.toString(36)}function em(e,t,i){if(null==e)return e;var n=[],r=0;return!function e(t,i,n,r,s){var a=typeof t;("undefined"===a||"boolean"===a)&&(t=null);var o=!1;if(null===t)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case g:case v:o=!0}}if(o){var l,h,u=t,c=s(u),d=""===r?"."+ep(u,0):r;if(Z(c)){var f="";null!=d&&(f=ef(d)+"/"),e(c,i,f,"",function(e){return e})}else null!=c&&(eu(c)&&(c.key&&(!u||u.key!==c.key)&&ee(c.key),l=c,h=n+(c.key&&(!u||u.key!==c.key)?ef(""+c.key)+"/":"")+d,c=eo(l.type,h,l.ref,l._self,l._source,l._owner,l.props)),i.push(c));return 1}var p=0,m=""===r?".":r+":";if(Z(t))for(var y=0;y<t.length;y++)E=m+ep(x=t[y],y),p+=e(x,i,n,E,s);else{var b=R(t);if("function"==typeof b){var x,E,w,S=t;b===S.entries&&(ec||B("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ec=!0);for(var T=b.call(S),A=0;!(w=T.next()).done;)E=m+ep(x=w.value,A++),p+=e(x,i,n,E,s)}else if("object"===a){var _=String(t);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===_?"object with keys {"+Object.keys(t).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}}return p}(e,n,"","",function(e){return t.call(i,e,r++)}),n}function eg(e){if(-1===e._status){var t=(0,e._result)();t.then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status){var i=e._result;return void 0===i&&U("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))\n\nDid you accidentally put curly braces around the import?",i),"default"in i||U("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",i),i.default}throw e._result}function ev(e){return"string"==typeof e||"function"==typeof e||e===y||e===x||e===b||e===T||e===A||e===I||"object"==typeof e&&null!==e&&(e.$$typeof===C||e.$$typeof===_||e.$$typeof===E||e.$$typeof===w||e.$$typeof===S||e.$$typeof===s||void 0!==e.getModuleId)}function ey(){var e=O.current;return null===e&&U("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem."),e}s=Symbol.for("react.module.reference");var eb=0;function ex(){}ex.__reactDisabledLog=!0;var eE=F.ReactCurrentDispatcher;function ew(e,t,i){if(void 0===f)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);f=n&&n[1]||""}return"\n"+f+e}var eS=!1;function eT(e,t){if(!e||eS)return"";var i,n,r=p.get(e);if(void 0!==r)return r;eS=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0,n=eE.current,eE.current=null,function(){if(0===eb){a=console.log,o=console.info,l=console.warn,h=console.error,u=console.group,c=console.groupCollapsed,d=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ex,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}eb++}();try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(f,[])}catch(e){i=e}Reflect.construct(e,[],f)}else{try{f.call()}catch(e){i=e}e.call(f.prototype)}}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var m=t.stack.split("\n"),g=i.stack.split("\n"),v=m.length-1,y=g.length-1;v>=1&&y>=0&&m[v]!==g[y];)y--;for(;v>=1&&y>=0;v--,y--)if(m[v]!==g[y]){if(1!==v||1!==y)do if(v--,--y<0||m[v]!==g[y]){var b="\n"+m[v].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),"function"==typeof e&&p.set(e,b),b}while(v>=1&&y>=0)break}}}finally{eS=!1,eE.current=n,function(){if(0==--eb){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:z({},e,{value:a}),info:z({},e,{value:o}),warn:z({},e,{value:l}),error:z({},e,{value:h}),group:z({},e,{value:u}),groupCollapsed:z({},e,{value:c}),groupEnd:z({},e,{value:d})})}eb<0&&U("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=s}var x=e?e.displayName||e.name:"",E=x?ew(x):"";return"function"==typeof e&&p.set(e,E),E}function eA(e,t,i){if(null==e)return"";if("function"==typeof e)return eT(e,!!((n=e.prototype)&&n.isReactComponent));if("string"==typeof e)return ew(e);switch(e){case T:return ew("Suspense");case A:return ew("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case S:return eT(e.render,!1);case _:return eA(e.type,t,i);case C:var n,r=e._payload,s=e._init;try{return eA(s(r),t,i)}catch(e){}}return""}p=new("function"==typeof WeakMap?WeakMap:Map);var e_={},eC=F.ReactDebugCurrentFrame;function eI(e){if(e){var t=e._owner,i=eA(e.type,e._source,t?t.type:null);eC.setExtraStackFrame(i)}else eC.setExtraStackFrame(null)}function eP(e){if(e){var t=e._owner;N=eA(e.type,e._source,t?t.type:null)}else N=null}function eR(){if(D.current){var e=ei(D.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}m=!1;var eO={};function eM(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var i=function(e){var t=eR();if(!t){var i="string"==typeof e?e:e.displayName||e.name;i&&(t="\n\nCheck the top-level render call using <"+i+">.")}return t}(t);if(!eO[i]){eO[i]=!0;var n="";e&&e._owner&&e._owner!==D.current&&(n=" It was passed a child from "+ei(e._owner.type)+"."),eP(e),U('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',i,n),eP(null)}}}function eL(e,t){if("object"==typeof e){if(Z(e))for(var i=0;i<e.length;i++){var n=e[i];eu(n)&&eM(n,t)}else if(eu(e))e._store&&(e._store.validated=!0);else if(e){var r=R(e);if("function"==typeof r&&r!==e.entries)for(var s,a=r.call(e);!(s=a.next()).done;)eu(s.value)&&eM(s.value,t)}}}function eD(e){var t,i=e.type;if(null!=i&&"string"!=typeof i){if("function"==typeof i)t=i.propTypes;else{if("object"!=typeof i||i.$$typeof!==S&&i.$$typeof!==_)return;t=i.propTypes}if(t){var n=ei(i);!function(e,t,i,n,r){var s=Function.call.bind(en);for(var a in e)if(s(e,a)){var o=void 0;try{if("function"!=typeof e[a]){var l=Error((n||"React class")+": "+i+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}o=e[a](t,a,n,i,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){o=e}!o||o instanceof Error||(eI(r),U("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",i,a,typeof o),eI(null)),o instanceof Error&&!(o.message in e_)&&(e_[o.message]=!0,eI(r),U("Failed %s type: %s",i,o.message),eI(null))}}(t,e.props,"prop",n,e)}else void 0===i.PropTypes||m||(m=!0,U("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ei(i)||"Unknown"));"function"!=typeof i.getDefaultProps||i.getDefaultProps.isReactClassApproved||U("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ek(e,t,i){var n=ev(e);if(!n){var r,s="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var a=function(e){if(null!=e){var t;return void 0!==(t=e.__source)?"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+".":""}return""}(t);(a?s+=a:s+=eR(),null===e)?r="null":Z(e)?r="array":void 0!==e&&e.$$typeof===g?(r="<"+(ei(e.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):r=typeof e,U("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",r,s)}var o=el.apply(this,arguments);if(null==o)return o;if(n)for(var l=2;l<arguments.length;l++)eL(arguments[l],e);return e===y?function(e){for(var t=Object.keys(e.props),i=0;i<t.length;i++){var n=t[i];if("children"!==n&&"key"!==n){eP(e),U("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",n),eP(null);break}}null!==e.ref&&(eP(e),U("Invalid attribute `ref` supplied to `React.Fragment`."),eP(null))}(o):eD(o),o}var eN=!1,eF=!1,eB=null,eU=0,ej=!1;function eV(e){var t,i=eU;eU++,null===L.current&&(L.current=[]);var n=L.isBatchingLegacy;try{if(L.isBatchingLegacy=!0,t=e(),!n&&L.didScheduleLegacyUpdate){var r=L.current;null!==r&&(L.didScheduleLegacyUpdate=!1,eY(r))}}catch(e){throw eG(i),e}finally{L.isBatchingLegacy=n}if(null!==t&&"object"==typeof t&&"function"==typeof t.then){var s=t,a=!1;return ej||"undefined"==typeof Promise||Promise.resolve().then(function(){}).then(function(){a||(ej=!0,U("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(e,t){a=!0,s.then(function(n){eG(i),0===eU?eW(n,e,t):e(n)},function(e){eG(i),t(e)})}}}var o=t;if(eG(i),0!==eU)return{then:function(e,t){e(o)}};var l=L.current;return null!==l&&(eY(l),L.current=null),{then:function(e,t){null===L.current?(L.current=[],eW(o,e,t)):e(o)}}}function eG(e){e!==eU-1&&U("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),eU=e}function eW(e,i,n){var r=L.current;if(null!==r)try{eY(r),function(e){if(null===eB)try{var i=("require"+Math.random()).slice(0,7);eB=(t&&t[i]).call(t,"timers").setImmediate}catch(e){eB=function(e){!1===eF&&(eF=!0,"undefined"==typeof MessageChannel&&U("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}eB(e)}(function(){0===r.length?(L.current=null,i(e)):eW(e,i,n)})}catch(e){n(e)}else i(e)}var ez=!1;function eY(e){if(!ez){ez=!0;var t=0;try{for(;t<e.length;t++){var i=e[t];do i=i(!0);while(null!==i)}e.length=0}catch(i){throw e=e.slice(t+1),i}finally{ez=!1}}}i.Children={map:em,forEach:function(e,t,i){em(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return em(e,function(){t++}),t},toArray:function(e){return em(e,function(e){return e})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i.Component=H,i.Fragment=y,i.Profiler=x,i.PureComponent=Q,i.StrictMode=b,i.Suspense=T,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,i.act=eV,i.cloneElement=function(e,t,i){for(var n=eh.apply(this,arguments),r=2;r<arguments.length;r++)eL(arguments[r],n.type);return eD(n),n},i.createContext=function(e){var t={$$typeof:w,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};t.Provider={$$typeof:E,_context:t};var i=!1,n=!1,r=!1,s={$$typeof:w,_context:t};return Object.defineProperties(s,{Provider:{get:function(){return n||(n=!0,U("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),t.Provider},set:function(e){t.Provider=e}},_currentValue:{get:function(){return t._currentValue},set:function(e){t._currentValue=e}},_currentValue2:{get:function(){return t._currentValue2},set:function(e){t._currentValue2=e}},_threadCount:{get:function(){return t._threadCount},set:function(e){t._threadCount=e}},Consumer:{get:function(){return i||(i=!0,U("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),t.Consumer}},displayName:{get:function(){return t.displayName},set:function(e){r||(B("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",e),r=!0)}}}),t.Consumer=s,t._currentRenderer=null,t._currentRenderer2=null,t},i.createElement=ek,i.createFactory=function(e){var t=ek.bind(null,e);return t.type=e,eN||(eN=!0,B("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(t,"type",{enumerable:!1,get:function(){return B("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},i.createRef=function(){var e={current:null};return Object.seal(e),e},i.forwardRef=function(e){null!=e&&e.$$typeof===_?U("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!=typeof e?U("forwardRef requires a render function but was given %s.",null===e?"null":typeof e):0!==e.length&&2!==e.length&&U("forwardRef render functions accept exactly two parameters: props and ref. %s",1===e.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=e&&(null!=e.defaultProps||null!=e.propTypes)&&U("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var t,i={$$typeof:S,render:e};return Object.defineProperty(i,"displayName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i,e.name||e.displayName||(e.displayName=i)}}),i},i.isValidElement=eu,i.lazy=function(e){var t,i,n={$$typeof:C,_payload:{_status:-1,_result:e},_init:eg};return Object.defineProperties(n,{defaultProps:{configurable:!0,get:function(){return t},set:function(e){U("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),t=e,Object.defineProperty(n,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return i},set:function(e){U("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),i=e,Object.defineProperty(n,"propTypes",{enumerable:!0})}}}),n},i.memo=function(e,t){ev(e)||U("memo: The first argument must be a component. Instead received: %s",null===e?"null":typeof e);var i,n={$$typeof:_,type:e,compare:void 0===t?null:t};return Object.defineProperty(n,"displayName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(t){i=t,e.name||e.displayName||(e.displayName=t)}}),n},i.startTransition=function(e,t){var i=M.transition;M.transition={};var n=M.transition;M.transition._updatedFibers=new Set;try{e()}finally{M.transition=i,null===i&&n._updatedFibers&&(n._updatedFibers.size>10&&B("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),n._updatedFibers.clear())}},i.unstable_act=eV,i.useCallback=function(e,t){return ey().useCallback(e,t)},i.useContext=function(e){var t=ey();if(void 0!==e._context){var i=e._context;i.Consumer===e?U("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):i.Provider===e&&U("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return t.useContext(e)},i.useDebugValue=function(e,t){return ey().useDebugValue(e,t)},i.useDeferredValue=function(e){return ey().useDeferredValue(e)},i.useEffect=function(e,t){return ey().useEffect(e,t)},i.useId=function(){return ey().useId()},i.useImperativeHandle=function(e,t,i){return ey().useImperativeHandle(e,t,i)},i.useInsertionEffect=function(e,t){return ey().useInsertionEffect(e,t)},i.useLayoutEffect=function(e,t){return ey().useLayoutEffect(e,t)},i.useMemo=function(e,t){return ey().useMemo(e,t)},i.useReducer=function(e,t,i){return ey().useReducer(e,t,i)},i.useRef=function(e){return ey().useRef(e)},i.useState=function(e){return ey().useState(e)},i.useSyncExternalStore=function(e,t,i){return ey().useSyncExternalStore(e,t,i)},i.useTransition=function(){return ey().useTransition()},i.version="18.3.1","undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()},{}],"9i2M9":[function(e,t,i,n){var r=e("aaccff5d309d9239"),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;i.createRoot=function(e,t){s.usingClientEntryPoint=!0;try{return r.createRoot(e,t)}finally{s.usingClientEntryPoint=!1}},i.hydrateRoot=function(e,t,i){s.usingClientEntryPoint=!0;try{return r.hydrateRoot(e,t,i)}finally{s.usingClientEntryPoint=!1}}},{aaccff5d309d9239:"t2kdj"}],t2kdj:[function(e,t,i,n){t.exports=e("b0f0e6b9e8349dac")},{b0f0e6b9e8349dac:"gexA0"}],gexA0:[function(e,t,i,n){!function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t,n,r,s,a,o,l,h,u,c,d,f,p,m,g,v,y,b,x,E,w,S,T,A,_,C,I,P,R,O,M,L,D,k,N,F,B,U,j,V,G,W,z,Y,H,X,q,K,$,Q,J,Z,ee,et,ei,en,er,es,ea,eo,el,eh,eu,ec,ed,ef,ep,em,eg,ev,ey,eb,ex=e("6f0162e9ab224cd4"),eE=e("8ad4ca65319d28a7"),ew=ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eS=!1;function eT(e){if(!eS){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];e_("warn",e,i)}}function eA(e){if(!eS){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];e_("error",e,i)}}function e_(e,t,i){var n=ew.ReactDebugCurrentFrame.getStackAddendum();""!==n&&(t+="%s",i=i.concat([n]));var r=i.map(function(e){return String(e)});r.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,r)}var eC=new Set,eI={},eP={};function eR(e,t){eO(e,t),eO(e+"Capture",t)}function eO(e,t){eI[e]&&eA("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",e),eI[e]=t,eP[e.toLowerCase()]=e,"onDoubleClick"===e&&(eP.ondblclick=e);for(var i=0;i<t.length;i++)eC.add(t[i])}var eM=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),eL=Object.prototype.hasOwnProperty;function eD(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}function ek(e){try{return!1}catch(e){return!0}}function eN(e,t){if(ek(e))return eA("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",t,eD(e)),""+e}function eF(e){if(ek(e))return eA("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",eD(e)),""+e}var eB=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",eU=eB+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",ej=RegExp("^["+eB+"]["+eU+"]*$"),eV={},eG={};function eW(e){return!!eL.call(eG,e)||!eL.call(eV,e)&&(ej.test(e)?(eG[e]=!0,!0):(eV[e]=!0,eA("Invalid attribute name: `%s`",e),!1))}function ez(e,t,i){return null!==t?0===t.type:!i&&e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])}function eY(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(n)return!1;if(null!==i)return!i.acceptsBooleans;var r=e.toLowerCase().slice(0,5);return"data-"!==r&&"aria-"!==r;default:return!1}}function eH(e,t,i,n){if(null==t||eY(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}function eX(e){return eK.hasOwnProperty(e)?eK[e]:null}function eq(e,t,i,n,r,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var eK={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(e){eK[e]=new eq(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0],i=e[1];eK[t]=new eq(t,1,!1,i,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){eK[e]=new eq(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){eK[e]=new eq(e,2,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){eK[e]=new eq(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){eK[e]=new eq(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){eK[e]=new eq(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){eK[e]=new eq(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){eK[e]=new eq(e,5,!1,e.toLowerCase(),null,!1,!1)});var e$=/[\-\:]([a-z])/g,eQ=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(e$,eQ);eK[t]=new eq(t,1,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(e$,eQ);eK[t]=new eq(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(e$,eQ);eK[t]=new eq(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){eK[e]=new eq(e,1,!1,e.toLowerCase(),null,!1,!1)}),eK.xlinkHref=new eq("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){eK[e]=new eq(e,1,!1,e.toLowerCase(),null,!0,!0)});var eJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,eZ=!1;function e0(e){!eZ&&eJ.test(e)&&(eZ=!0,eA("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(e)))}function e1(e,t,i,n){if(eW(t)){if(!e.hasAttribute(t))return void 0===i?void 0:null;var r=e.getAttribute(t);return(eN(i,t),r===""+i)?i:r}}function e2(e,t,i,n){var r=eX(t);if(!ez(t,r,n)){if(eH(t,i,r,n)&&(i=null),n||null===r){eW(t)&&(null===i?e.removeAttribute(t):(eN(i,t),e.setAttribute(t,""+i)));return}if(r.mustUseProperty){var s=r.propertyName;if(null===i){var a=r.type;e[s]=3!==a&&""}else e[s]=i;return}var o=r.attributeName,l=r.attributeNamespace;if(null===i)e.removeAttribute(o);else{var h,u=r.type;3===u||4===u&&!0===i?h="":(eN(i,o),h=""+i,r.sanitizeURL&&e0(h.toString())),l?e.setAttributeNS(l,o,h):e.setAttribute(o,h)}}}var e3=Symbol.for("react.element"),e4=Symbol.for("react.portal"),e5=Symbol.for("react.fragment"),e9=Symbol.for("react.strict_mode"),e6=Symbol.for("react.profiler"),e8=Symbol.for("react.provider"),e7=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),ti=Symbol.for("react.suspense_list"),tn=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),ts=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),ta=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator);function to(e){if(null===e||"object"!=typeof e)return null;var t=ta&&e[ta]||e["@@iterator"];return"function"==typeof t?t:null}var tl=Object.assign,th=0;function tu(){}tu.__reactDisabledLog=!0;var tc=ew.ReactCurrentDispatcher;function td(e,t,i){if(void 0===f)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);f=n&&n[1]||""}return"\n"+f+e}var tf=!1;function tp(e,t){if(!e||tf)return"";var i,n,r=p.get(e);if(void 0!==r)return r;tf=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0,n=tc.current,tc.current=null,function(){if(0===th){a=console.log,o=console.info,l=console.warn,h=console.error,u=console.group,c=console.groupCollapsed,d=console.groupEnd;var e={configurable:!0,enumerable:!0,value:tu,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}th++}();try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(f,[])}catch(e){i=e}Reflect.construct(e,[],f)}else{try{f.call()}catch(e){i=e}e.call(f.prototype)}}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var m=t.stack.split("\n"),g=i.stack.split("\n"),v=m.length-1,y=g.length-1;v>=1&&y>=0&&m[v]!==g[y];)y--;for(;v>=1&&y>=0;v--,y--)if(m[v]!==g[y]){if(1!==v||1!==y)do if(v--,--y<0||m[v]!==g[y]){var b="\n"+m[v].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),"function"==typeof e&&p.set(e,b),b}while(v>=1&&y>=0)break}}}finally{tf=!1,tc.current=n,function(){if(0==--th){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:tl({},e,{value:a}),info:tl({},e,{value:o}),warn:tl({},e,{value:l}),error:tl({},e,{value:h}),group:tl({},e,{value:u}),groupCollapsed:tl({},e,{value:c}),groupEnd:tl({},e,{value:d})})}th<0&&eA("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=s}var x=e?e.displayName||e.name:"",E=x?td(x):"";return"function"==typeof e&&p.set(e,E),E}function tm(e){try{var t="",i=e;do t+=function(e){switch(e._debugOwner&&e._debugOwner.type,e._debugSource,e.tag){case 5:return td(e.type);case 16:return td("Lazy");case 13:return td("Suspense");case 19:return td("SuspenseList");case 0:case 2:case 15:return tp(e.type,!1);case 11:return tp(e.type.render,!1);case 1:return tp(e.type,!0);default:return""}}(i),i=i.return;while(i)return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function tg(e){return e.displayName||"Context"}function tv(e){if(null==e)return null;if("number"==typeof e.tag&&eA("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case e5:return"Fragment";case e4:return"Portal";case e6:return"Profiler";case e9:return"StrictMode";case tt:return"Suspense";case ti:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case e7:return tg(e)+".Consumer";case e8:return tg(e._context)+".Provider";case te:return function(e,t,i){var n=e.displayName;if(n)return n;var r=t.displayName||t.name||"";return""!==r?i+"("+r+")":i}(e,e.render,"ForwardRef");case tn:var t=e.displayName||null;if(null!==t)return t;return tv(e.type)||"Memo";case tr:var i=e._payload,n=e._init;try{return tv(n(i))}catch(e){}}return null}function ty(e){return e.displayName||"Context"}function tb(e){var t,i,n,r=e.tag,s=e.type;switch(r){case 24:return"Cache";case 9:return ty(s)+".Consumer";case 10:return ty(s._context)+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,i="ForwardRef",n=t.displayName||t.name||"",s.displayName||(""!==n?i+"("+n+")":i);case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(s);case 8:if(s===e9)return"StrictMode";return"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof s)return s.displayName||s.name||null;if("string"==typeof s)return s}return null}p=new("function"==typeof WeakMap?WeakMap:Map);var tx=ew.ReactDebugCurrentFrame,tE=null,tw=!1;function tS(){if(null===tE)return null;var e=tE._debugOwner;return null!=e?tb(e):null}function tT(){return null===tE?"":tm(tE)}function tA(){tx.getCurrentStack=null,tE=null,tw=!1}function t_(e){tx.getCurrentStack=null===e?null:tT,tE=e,tw=!1}function tC(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return eF(e),e;default:return""}}var tI={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function tP(e,t){tI[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||null==t.value||eA("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),t.onChange||t.readOnly||t.disabled||null==t.checked||eA("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function tR(e){var t=e.type,i=e.nodeName;return i&&"input"===i.toLowerCase()&&("checkbox"===t||"radio"===t)}function tO(e){return e._valueTracker}function tM(e){tO(e)||(e._valueTracker=function(e){var t=tR(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);eF(e[t]);var n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){eF(e),n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){eF(e),n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function tL(e){if(!e)return!1;var t,i=tO(e);if(!i)return!0;var n=i.getValue(),r=(t="",e?t=tR(e)?e.checked?"true":"false":e.value:t);return r!==n&&(i.setValue(r),!0)}function tD(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var tk=!1,tN=!1,tF=!1,tB=!1;function tU(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function tj(e,t){var i=t.checked;return tl({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function tV(e,t){tP("input",t),void 0===t.checked||void 0===t.defaultChecked||tN||(eA("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",tS()||"A component",t.type),tN=!0),void 0===t.value||void 0===t.defaultValue||tk||(eA("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",tS()||"A component",t.type),tk=!0);var i=null==t.defaultValue?"":t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:tC(null!=t.value?t.value:i),controlled:tU(t)}}function tG(e,t){var i=t.checked;null!=i&&e2(e,"checked",i,!1)}function tW(e,t){var i=tU(t);e._wrapperState.controlled||!i||tB||(eA("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),tB=!0),!e._wrapperState.controlled||i||tF||(eA("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),tF=!0),tG(e,t);var n=tC(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r){e.removeAttribute("value");return}t.hasOwnProperty("value")?tY(e,t.type,n):t.hasOwnProperty("defaultValue")&&tY(e,t.type,tC(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function tz(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(("submit"===n||"reset"===n)&&(void 0===t.value||null===t.value))return;var r=""+e._wrapperState.initialValue;i||r===e.value||(e.value=r),e.defaultValue=r}var s=e.name;""!==s&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function tY(e,t,i){("number"!==t||tD(e.ownerDocument)!==e)&&(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var tH=!1,tX=!1,tq=!1;function tK(e,t){null!=t.value||("object"==typeof t.children&&null!==t.children?ex.Children.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e||tX||(tX=!0,eA("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):null==t.dangerouslySetInnerHTML||tq||(tq=!0,eA("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),null==t.selected||tH||(eA("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),tH=!0)}var t$=Array.isArray;function tQ(){var e=tS();return e?"\n\nCheck the render method of `"+e+"`.":""}m=!1;var tJ=["value","defaultValue"];function tZ(e,t,i,n){var r=e.options;if(t){for(var s={},a=0;a<i.length;a++)s["$"+i[a]]=!0;for(var o=0;o<r.length;o++){var l=s.hasOwnProperty("$"+r[o].value);r[o].selected!==l&&(r[o].selected=l),l&&n&&(r[o].defaultSelected=!0)}}else{for(var h=""+tC(i),u=null,c=0;c<r.length;c++){if(r[c].value===h){r[c].selected=!0,n&&(r[c].defaultSelected=!0);return}null!==u||r[c].disabled||(u=r[c])}null!==u&&(u.selected=!0)}}function t0(e,t){return tl({},t,{value:void 0})}function t1(e,t){!function(e){tP("select",e);for(var t=0;t<tJ.length;t++){var i=tJ[t];if(null!=e[i]){var n=t$(e[i]);e.multiple&&!n?eA("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",i,tQ()):!e.multiple&&n&&eA("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",i,tQ())}}}(t),e._wrapperState={wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||m||(eA("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),m=!0)}var t2=!1;function t3(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");return tl({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function t4(e,t){tP("textarea",t),void 0===t.value||void 0===t.defaultValue||t2||(eA("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",tS()||"A component"),t2=!0);var i=t.value;if(null==i){var n=t.children,r=t.defaultValue;if(null!=n){if(eA("Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=r)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(t$(n)){if(n.length>1)throw Error("<textarea> can only have at most one child.");n=n[0]}r=n}null==r&&(r=""),i=r}e._wrapperState={initialValue:tC(i)}}function t5(e,t){var i=tC(t.value),n=tC(t.defaultValue);if(null!=i){var r=""+i;r!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)}null!=n&&(e.defaultValue=""+n)}function t9(e,t){var i=e.textContent;i===e._wrapperState.initialValue&&""!==i&&null!==i&&(e.value=i)}var t6="http://www.w3.org/1999/xhtml",t8="http://www.w3.org/2000/svg";function t7(e){switch(e){case"svg":return t8;case"math":return"http://www.w3.org/1998/Math/MathML";default:return t6}}function ie(e,t){return null==e||e===t6?t7(t):e===t8&&"foreignObject"===t?t6:e}var it=(t=function(e,t){if(e.namespaceURI===t8&&!("innerHTML"in e)){(g=g||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(var i=g.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild);return}e.innerHTML=t},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,r)})}:t),ii=function(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType){i.nodeValue=t;return}}e.textContent=t},ir={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ia=["Webkit","ms","Moz","O"];function io(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||is.hasOwnProperty(e)&&is[e]?(ek(t)&&eA("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",e,eD(t)),(""+t).trim()):t+"px"}Object.keys(is).forEach(function(e){ia.forEach(function(t){is[t+e.charAt(0).toUpperCase()+e.substring(1)]=is[e]})});var il=/([A-Z])/g,ih=/^ms-/,iu=/^(?:webkit|moz|o)[A-Z]/,ic=/^-ms-/,id=/-(.)/g,ip=/;\s*$/,im={},ig={},iv=!1,iy=!1,ib=function(e){im.hasOwnProperty(e)&&im[e]||(im[e]=!0,eA("Unsupported style property %s. Did you mean %s?",e,e.replace(ic,"ms-").replace(id,function(e,t){return t.toUpperCase()})))},ix=function(e){im.hasOwnProperty(e)&&im[e]||(im[e]=!0,eA("Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))},iE=function(e,t){ig.hasOwnProperty(t)&&ig[t]||(ig[t]=!0,eA('Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(ip,"")))},iw=function(e,t){iv||(iv=!0,eA("`NaN` is an invalid value for the `%s` css style property.",e))},iS=function(e,t){iy||(iy=!0,eA("`Infinity` is an invalid value for the `%s` css style property.",e))},iT=function(e,t){e.indexOf("-")>-1?ib(e):iu.test(e)?ix(e):ip.test(t)&&iE(e,t),"number"!=typeof t||(isNaN(t)?iw(e,t):isFinite(t)||iS(e,t))};function iA(e,t){var i=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--");r||iT(n,t[n]);var s=io(n,t[n],r);"float"===n&&(n="cssFloat"),r?i.setProperty(n,s):i[n]=s}}function i_(e){var t={};for(var i in e)for(var n=ir[i]||[i],r=0;r<n.length;r++)t[n[r]]=i;return t}var iC=tl({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iI(e,t){if(t){if(iC[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(e+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!t.suppressContentEditableWarning&&t.contentEditable&&null!=t.children&&eA("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function iP(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iR={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},iO={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},iM={},iL=RegExp("^(aria)-["+eU+"]*$"),iD=RegExp("^(aria)[A-Z]["+eU+"]*$"),ik=!1,iN=function(){},iF={},iB=/^on./,iU=/^on[^A-Z]/,ij=RegExp("^(aria)-["+eU+"]*$"),iV=RegExp("^(aria)[A-Z]["+eU+"]*$");iN=function(e,t,i,n){if(eL.call(iF,t)&&iF[t])return!0;var r=t.toLowerCase();if("onfocusin"===r||"onfocusout"===r)return eA("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),iF[t]=!0,!0;if(null!=n){var s=n.registrationNameDependencies,a=n.possibleRegistrationNames;if(s.hasOwnProperty(t))return!0;var o=a.hasOwnProperty(r)?a[r]:null;if(null!=o)return eA("Invalid event handler property `%s`. Did you mean `%s`?",t,o),iF[t]=!0,!0;if(iB.test(t))return eA("Unknown event handler property `%s`. It will be ignored.",t),iF[t]=!0,!0}else if(iB.test(t))return iU.test(t)&&eA("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),iF[t]=!0,!0;if(ij.test(t)||iV.test(t))return!0;if("innerhtml"===r)return eA("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),iF[t]=!0,!0;if("aria"===r)return eA("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),iF[t]=!0,!0;if("is"===r&&null!=i&&"string"!=typeof i)return eA("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof i),iF[t]=!0,!0;if("number"==typeof i&&isNaN(i))return eA("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),iF[t]=!0,!0;var l=eX(t),h=null!==l&&0===l.type;if(iR.hasOwnProperty(r)){var u=iR[r];if(u!==t)return eA("Invalid DOM property `%s`. Did you mean `%s`?",t,u),iF[t]=!0,!0}else if(!h&&t!==r)return eA("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,r),iF[t]=!0,!0;return"boolean"==typeof i&&eY(t,i,l,!1)?(i?eA('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',i,t,t,i,t):eA('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',i,t,t,i,t,t,t),iF[t]=!0,!0):!!h||(eY(t,i,l,!1)?(iF[t]=!0,!1):(("false"===i||"true"===i)&&null!==l&&3===l.type&&(eA("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",i,t,"false"===i?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,i),iF[t]=!0),!0))};var iG=function(e,t,i){var n=[];for(var r in t)iN(e,r,t[r],i)||n.push(r);var s=n.map(function(e){return"`"+e+"`"}).join(", ");1===n.length?eA("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",s,e):n.length>1&&eA("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",s,e)},iW=null;function iz(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var iY=null,iH=null,iX=null;function iq(e){var t=aH(e);if(t){if("function"!=typeof iY)throw Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var i=t.stateNode;if(i){var n=aq(i);iY(t.stateNode,t.type,n)}}}function iK(e){iH?iX?iX.push(e):iX=[e]:iH=e}function i$(){if(iH){var e=iH,t=iX;if(iH=null,iX=null,iq(e),t)for(var i=0;i<t.length;i++)iq(t[i])}}var iQ=function(e,t){return e(t)},iJ=function(){},iZ=!1;function i0(e,t,i){if(iZ)return e(t,i);iZ=!0;try{return iQ(e,t,i)}finally{iZ=!1,(null!==iH||null!==iX)&&(iJ(),i$())}}function i1(e,t){var i=e.stateNode;if(null===i)return null;var n=aq(i);if(null===n)return null;var r=n[t];if(function(e,t,i){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(i.disabled&&("button"===t||"input"===t||"select"===t||"textarea"===t));default:return!1}}(t,e.type,n))return null;if(r&&"function"!=typeof r)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof r+"` type.");return r}var i2=!1;if(eM)try{var i3={};Object.defineProperty(i3,"passive",{get:function(){i2=!0}}),window.addEventListener("test",i3,i3),window.removeEventListener("test",i3,i3)}catch(e){i2=!1}function i4(e,t,i,n,r,s,a,o,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(i,h)}catch(e){this.onError(e)}}var i5=i4;if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var i9=document.createElement("react");i5=function(e,t,i,n,r,s,a,o,l){if("undefined"==typeof document||null===document)throw Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var h,u=document.createEvent("Event"),c=!1,d=!0,f=window.event,p=Object.getOwnPropertyDescriptor(window,"event");function m(){i9.removeEventListener(E,v,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=f)}var g=Array.prototype.slice.call(arguments,3);function v(){c=!0,m(),t.apply(i,g),d=!1}var y=!1,b=!1;function x(e){if(h=e.error,y=!0,null===h&&0===e.colno&&0===e.lineno&&(b=!0),e.defaultPrevented&&null!=h&&"object"==typeof h)try{h._suppressLogging=!0}catch(e){}}var E="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",x),i9.addEventListener(E,v,!1),u.initEvent(E,!1,!1),i9.dispatchEvent(u),p&&Object.defineProperty(window,"event",p),c&&d&&(y?b&&(h=Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):h=Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(h)),window.removeEventListener("error",x),!c)return m(),i4.apply(this,arguments)}}var i6=i5,i8=!1,i7=null,ne=!1,nt=null,ni={onError:function(e){i8=!0,i7=e}};function nn(e,t,i,n,r,s,a,o,l){i8=!1,i7=null,i6.apply(ni,arguments)}function nr(){if(i8){var e=i7;return i8=!1,i7=null,e}throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function ns(e){return e._reactInternals}var na=ew.ReactCurrentOwner;function no(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{var n=t;do(4098&(t=n).flags)!=0&&(i=t.return),n=t.return;while(n)}return 3===t.tag?i:null}function nl(e){if(13===e.tag){var t=e.memoizedState;if(null===t){var i=e.alternate;null!==i&&(t=i.memoizedState)}if(null!==t)return t.dehydrated}return null}function nh(e){return 3===e.tag?e.stateNode.containerInfo:null}function nu(e){if(no(e)!==e)throw Error("Unable to find node on an unmounted component.")}function nc(e){var t=e.alternate;if(!t){var i=no(e);if(null===i)throw Error("Unable to find node on an unmounted component.");return i!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){var o=s.return;if(null!==o){n=r=o;continue}break}if(s.child===a.child){for(var l=s.child;l;){if(l===n)return nu(s),e;if(l===r)return nu(s),t;l=l.sibling}throw Error("Unable to find node on an unmounted component.")}if(n.return!==r.return)n=s,r=a;else{for(var h=!1,u=s.child;u;){if(u===n){h=!0,n=s,r=a;break}if(u===r){h=!0,r=s,n=a;break}u=u.sibling}if(!h){for(u=a.child;u;){if(u===n){h=!0,n=a,r=s;break}if(u===r){h=!0,r=a,n=s;break}u=u.sibling}if(!h)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(n.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==n.tag)throw Error("Unable to find node on an unmounted component.");return n.stateNode.current===n?e:t}function nd(e){var t=nc(e);return null!==t?function e(t){if(5===t.tag||6===t.tag)return t;for(var i=t.child;null!==i;){var n=e(i);if(null!==n)return n;i=i.sibling}return null}(t):null}var nf=eE.unstable_scheduleCallback,np=eE.unstable_cancelCallback,nm=eE.unstable_shouldYield,ng=eE.unstable_requestPaint,nv=eE.unstable_now,ny=eE.unstable_getCurrentPriorityLevel,nb=eE.unstable_ImmediatePriority,nx=eE.unstable_UserBlockingPriority,nE=eE.unstable_NormalPriority,nw=eE.unstable_LowPriority,nS=eE.unstable_IdlePriority,nT=eE.unstable_yieldValue,nA=eE.unstable_setDisableYieldValue,n_=null,nC=null,nI=null,nP=!1,nR="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function nO(e){if("function"==typeof nT&&(nA(e),eS=e),nC&&"function"==typeof nC.setStrictMode)try{nC.setStrictMode(n_,e)}catch(e){nP||(nP=!0,eA("React instrumentation encountered an error: %s",e))}}function nM(e){nI=e}function nL(){for(var e=new Map,t=1,i=0;i<nY;i++){var n,r=1&(n=t)?"Sync":2&n?"InputContinuousHydration":4&n?"InputContinuous":8&n?"DefaultHydration":16&n?"Default":32&n?"TransitionHydration":4194240&n?"Transition":0x7c00000&n?"Retry":0x8000000&n?"SelectiveHydration":0x10000000&n?"IdleHydration":0x20000000&n?"Idle":0x40000000&n?"Offscreen":void 0;e.set(t,r),t*=2}return e}function nD(){null!==nI&&"function"==typeof nI.markCommitStopped&&nI.markCommitStopped()}function nk(e){null!==nI&&"function"==typeof nI.markComponentRenderStarted&&nI.markComponentRenderStarted(e)}function nN(){null!==nI&&"function"==typeof nI.markComponentRenderStopped&&nI.markComponentRenderStopped()}function nF(e){null!==nI&&"function"==typeof nI.markComponentLayoutEffectUnmountStarted&&nI.markComponentLayoutEffectUnmountStarted(e)}function nB(){null!==nI&&"function"==typeof nI.markComponentLayoutEffectUnmountStopped&&nI.markComponentLayoutEffectUnmountStopped()}function nU(e){null!==nI&&"function"==typeof nI.markRenderStarted&&nI.markRenderStarted(e)}function nj(){null!==nI&&"function"==typeof nI.markRenderStopped&&nI.markRenderStopped()}function nV(e,t){null!==nI&&"function"==typeof nI.markStateUpdateScheduled&&nI.markStateUpdateScheduled(e,t)}var nG=Math.clz32?Math.clz32:function(e){var t=e>>>0;return 0===t?32:31-(nW(t)/nz|0)|0},nW=Math.log,nz=Math.LN2,nY=31,nH=64,nX=4194304;function nq(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&e;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return eA("Should have found matching lanes. This is a bug in React."),e}}function nK(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,r=e.suspendedLanes,s=e.pingedLanes,a=0xfffffff&i;if(0!==a){var o=a&~r;if(0!==o)n=nq(o);else{var l=a&s;0!==l&&(n=nq(l))}}else{var h=i&~r;0!==h?n=nq(h):0!==s&&(n=nq(s))}if(0===n)return 0;if(0!==t&&t!==n&&(t&r)==0){var u,c=(u=n)&-u,d=t&-t;if(c>=d||16===c&&(4194240&d)!=0)return t}(4&n)!=0&&(n|=16&i);var f=e.entangledLanes;if(0!==f)for(var p=e.entanglements,m=n&f;m>0;){var g=n2(m),v=1<<g;n|=p[g],m&=~v}return n}function n$(e){var t=-0x40000001&e.pendingLanes;return 0!==t?t:0x40000000&t?0x40000000:0}function nQ(e){return(0xfffffff&e)!=0}function nJ(e){return(0x7c00000&e)===e}function nZ(e){return(4194240&e)!=0}function n0(){var e=nH;return(4194240&(nH<<=1))==0&&(nH=64),e}function n1(e){return e&-e}function n2(e){return 31-nG(e)}function n3(e){for(var t=[],i=0;i<nY;i++)t.push(e);return t}function n4(e,t,i){e.pendingLanes|=t,0x20000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0),e.eventTimes[n2(t)]=i}function n5(e,t,i){e.pingedLanes|=e.suspendedLanes&t}function n9(e,t){for(var i=e.entangledLanes|=t,n=e.entanglements,r=i;r;){var s=n2(r),a=1<<s;a&t|n[s]&t&&(n[s]|=t),r&=~a}}function n6(e,t,i){if(nR)for(var n=e.pendingUpdatersLaneMap;i>0;){var r=n2(i),s=1<<r;n[r].add(t),i&=~s}}function n8(e,t){if(nR)for(var i=e.pendingUpdatersLaneMap,n=e.memoizedUpdaters;t>0;){var r=n2(t),s=1<<r,a=i[r];a.size>0&&(a.forEach(function(e){var t=e.alternate;null!==t&&n.has(t)||n.add(e)}),a.clear()),t&=~s}}var n7=0;function re(e){var t=e&-e;return 1<t?4<t?nQ(t)?16:0x20000000:4:1}function rt(e){return e.current.memoizedState.isDehydrated}var ri=!1,rn=[],rr=null,rs=null,ra=null,ro=new Map,rl=new Map,rh=[],ru=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function rc(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":var i=t.pointerId;ro.delete(i);break;case"gotpointercapture":case"lostpointercapture":var n=t.pointerId;rl.delete(n)}}function rd(e,t,i,n,r,s){if(null===e||e.nativeEvent!==s){if(null!==t){var a=aH(t);null!==a&&y(a)}return{blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]}}e.eventSystemFlags|=n;var o=e.targetContainers;return null!==r&&-1===o.indexOf(r)&&o.push(r),e}function rf(e){var t=aY(e.target);if(null!==t){var i=no(t);if(null!==i){var n=i.tag;if(13===n){var r=nl(i);if(null!==r){e.blockedOn=r,E(e.priority,function(){b(i)});return}}else if(3===n&&rt(i.stateNode)){e.blockedOn=nh(i);return}}}e.blockedOn=null}function rp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;t.length>0;){var i=t[0],n=rA(e.domEventName,e.eventSystemFlags,i,e.nativeEvent);if(null===n){var r=e.nativeEvent,s=new r.constructor(r.type,r);null!==iW&&eA("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),iW=s,r.target.dispatchEvent(s),null===iW&&eA("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),iW=null}else{var a=aH(n);return null!==a&&y(a),e.blockedOn=n,!1}t.shift()}return!0}function rm(e,t,i){rp(e)&&i.delete(t)}function rg(){ri=!1,null!==rr&&rp(rr)&&(rr=null),null!==rs&&rp(rs)&&(rs=null),null!==ra&&rp(ra)&&(ra=null),ro.forEach(rm),rl.forEach(rm)}function rv(e,t){e.blockedOn!==t||(e.blockedOn=null,ri||(ri=!0,eE.unstable_scheduleCallback(eE.unstable_NormalPriority,rg)))}function ry(e){if(rn.length>0){rv(rn[0],e);for(var t=1;t<rn.length;t++){var i=rn[t];i.blockedOn===e&&(i.blockedOn=null)}}null!==rr&&rv(rr,e),null!==rs&&rv(rs,e),null!==ra&&rv(ra,e);var n=function(t){return rv(t,e)};ro.forEach(n),rl.forEach(n);for(var r=0;r<rh.length;r++){var s=rh[r];s.blockedOn===e&&(s.blockedOn=null)}for(;rh.length>0;){var a=rh[0];if(null!==a.blockedOn)break;rf(a),null===a.blockedOn&&rh.shift()}}var rb=ew.ReactCurrentBatchConfig,rx=!0;function rE(e,t,i,n){var r=n7,s=rb.transition;rb.transition=null;try{n7=1,rS(e,t,i,n)}finally{n7=r,rb.transition=s}}function rw(e,t,i,n){var r=n7,s=rb.transition;rb.transition=null;try{n7=4,rS(e,t,i,n)}finally{n7=r,rb.transition=s}}function rS(e,t,i,n){rx&&function(e,t,i,n){var r=rA(e,t,i,n);if(null===r){sZ(e,t,n,rT,i),rc(e,n);return}if(function(e,t,i,n,r){switch(t){case"focusin":return rr=rd(rr,e,t,i,n,r),!0;case"dragenter":return rs=rd(rs,e,t,i,n,r),!0;case"mouseover":return ra=rd(ra,e,t,i,n,r),!0;case"pointerover":var s=r.pointerId;return ro.set(s,rd(ro.get(s)||null,e,t,i,n,r)),!0;case"gotpointercapture":var a=r.pointerId;return rl.set(a,rd(rl.get(a)||null,e,t,i,n,r)),!0}return!1}(r,e,t,i,n)){n.stopPropagation();return}if(rc(e,n),4&t&&ru.indexOf(e)>-1){for(;null!==r;){var s=aH(r);null!==s&&v(s);var a=rA(e,t,i,n);if(null===a&&sZ(e,t,n,rT,i),a===r)break;r=a}null!==r&&n.stopPropagation();return}sZ(e,t,n,null,i)}(e,t,i,n)}var rT=null;function rA(e,t,i,n){rT=null;var r=aY(iz(n));if(null!==r){var s=no(r);if(null===s)r=null;else{var a=s.tag;if(13===a){var o=nl(s);if(null!==o)return o;r=null}else if(3===a){if(rt(s.stateNode))return nh(s);r=null}else s!==r&&(r=null)}}return rT=r,null}function r_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ny()){case nb:return 1;case nx:return 4;case nE:case nw:return 16;case nS:return 0x20000000;default:return 16}default:return 16}}var rC=null,rI=null,rP=null;function rR(){if(rP)return rP;var e,t,i=rI,n=i.length,r=rO(),s=r.length;for(e=0;e<n&&i[e]===r[e];e++);var a=n-e;for(t=1;t<=a&&i[n-t]===r[s-t];t++);var o=t>1?1-t:void 0;return rP=r.slice(e,o)}function rO(){return"value"in rC?rC.value:rC.textContent}function rM(e){var t,i=e.keyCode;return("charCode"in e?0===(t=e.charCode)&&13===i&&(t=13):t=i,10===t&&(t=13),t>=32||13===t)?t:0}function rL(){return!0}function rD(){return!1}function rk(e){function t(t,i,n,r,s){for(var a in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)if(e.hasOwnProperty(a)){var o=e[a];o?this[a]=o(r):this[a]=r[a]}return(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?this.isDefaultPrevented=rL:this.isDefaultPrevented=rD,this.isPropagationStopped=rD,this}return tl(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rL)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rL)},persist:function(){},isPersistent:rL}),t}var rN={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rF=rk(rN),rB=tl({},rN,{view:0,detail:0}),rU=rk(rB),rj=tl({},rB,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rQ,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==T&&(T&&"mousemove"===e.type?(w=e.screenX-T.screenX,S=e.screenY-T.screenY):(w=0,S=0),T=e),w)},movementY:function(e){return"movementY"in e?e.movementY:S}}),rV=rk(rj),rG=rk(tl({},rj,{dataTransfer:0})),rW=rk(tl({},rB,{relatedTarget:0})),rz=rk(tl({},rN,{animationName:0,elapsedTime:0,pseudoElement:0})),rY=rk(tl({},rN,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),rH=rk(tl({},rN,{data:0})),rX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r$(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var i=rK[e];return!!i&&!!t[i]}function rQ(e){return r$}var rJ=rk(tl({},rB,{key:function(e){if(e.key){var t=rX[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var i=rM(e);return 13===i?"Enter":String.fromCharCode(i)}return"keydown"===e.type||"keyup"===e.type?rq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rQ,charCode:function(e){return"keypress"===e.type?rM(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rM(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),rZ=rk(tl({},rj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),r0=rk(tl({},rB,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rQ})),r1=rk(tl({},rN,{propertyName:0,elapsedTime:0,pseudoElement:0})),r2=rk(tl({},rj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),r3=[9,13,27,32],r4=eM&&"CompositionEvent"in window,r5=null;eM&&"documentMode"in document&&(r5=document.documentMode);var r9=eM&&"TextEvent"in window&&!r5,r6=eM&&(!r4||r5&&r5>8&&r5<=11),r8=!1;function r7(e,t){switch(e){case"keyup":return -1!==r3.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function st(e){return"ko"===e.locale}var si=!1,sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sn[e.type]:"textarea"===t}function ss(e,t,i,n){iK(n);var r=s1(t,"onChange");if(r.length>0){var s=new rF("onChange","change",null,i,n);e.push({event:s,listeners:r})}}var sa=null,so=null;function sl(e){sH(e,0)}function sh(e){if(tL(aX(e)))return e}function su(e,t){if("change"===e)return t}var sc=!1;function sd(){sa&&(sa.detachEvent("onpropertychange",sf),sa=null,so=null)}function sf(e){if("value"===e.propertyName&&sh(so)){var t;ss(t=[],so,e,iz(e)),i0(sl,t)}}function sp(e,t,i){"focusin"===e?(sd(),sa=t,so=i,sa.attachEvent("onpropertychange",sf)):"focusout"===e&&sd()}function sm(e,t){if("selectionchange"===e||"keyup"===e||"keydown"===e)return sh(so)}function sg(e,t){if("click"===e)return sh(t)}function sv(e,t){if("input"===e||"change"===e)return sh(t)}eM&&(sc=/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function(e){if(!eM)return!1;var t="on"+e,i=t in document;if(!i){var n=document.createElement("div");n.setAttribute(t,"return;"),i="function"==typeof n[t]}return i}("input")&&(!document.documentMode||document.documentMode>9));var sy="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sb(e,t){if(sy(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!eL.call(t,s)||!sy(e[s],t[s]))return!1}return!0}function sx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sE(e,t){for(var i=sx(e),n=0,r=0;i;){if(3===i.nodeType){if(r=n+i.textContent.length,n<=t&&r>=t)return{node:i,offset:t-n};n=r}i=sx(function(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}(i))}}function sw(e){return e&&3===e.nodeType}function sS(){for(var e=window,t=tD();t instanceof e.HTMLIFrameElement&&function(e){try{return"string"==typeof e.contentWindow.location.href}catch(e){return!1}}(t);)t=tD((e=t.contentWindow).document);return t}function sT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sA=eM&&"documentMode"in document&&document.documentMode<=11,s_=null,sC=null,sI=null,sP=!1;function sR(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!sP&&null!=s_&&s_===tD(n)){var r=function(e){if("selectionStart"in e&&sT(e))return{start:e.selectionStart,end:e.selectionEnd};var t=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}(s_);if(!sI||!sb(sI,r)){sI=r;var s=s1(sC,"onSelect");if(s.length>0){var a=new rF("onSelect","select",null,t,i);e.push({event:a,listeners:s}),a.target=s_}}}}function sO(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var sM={animationend:sO("Animation","AnimationEnd"),animationiteration:sO("Animation","AnimationIteration"),animationstart:sO("Animation","AnimationStart"),transitionend:sO("Transition","TransitionEnd")},sL={},sD={};function sk(e){if(sL[e])return sL[e];if(!sM[e])return e;var t=sM[e];for(var i in t)if(t.hasOwnProperty(i)&&i in sD)return sL[e]=t[i];return e}!eM||(sD=document.createElement("div").style,"AnimationEvent"in window||(delete sM.animationend.animation,delete sM.animationiteration.animation,delete sM.animationstart.animation),"TransitionEvent"in window||delete sM.transitionend.transition);var sN=sk("animationend"),sF=sk("animationiteration"),sB=sk("animationstart"),sU=sk("transitionend"),sj=new Map,sV=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function sG(e,t){sj.set(e,t),eR(t,[e])}!function(){for(var e=0;e<sV.length;e++){var t=sV[e];sG(t.toLowerCase(),"on"+(t[0].toUpperCase()+t.slice(1)))}sG(sN,"onAnimationEnd"),sG(sF,"onAnimationIteration"),sG(sB,"onAnimationStart"),sG("dblclick","onDoubleClick"),sG("focusin","onFocus"),sG("focusout","onBlur"),sG(sU,"onTransitionEnd")}(),eO("onMouseEnter",["mouseout","mouseover"]),eO("onMouseLeave",["mouseout","mouseover"]),eO("onPointerEnter",["pointerout","pointerover"]),eO("onPointerLeave",["pointerout","pointerover"]),eR("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"]),eR("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"]),eR("onBeforeInput",["compositionend","keypress","textInput","paste"]),eR("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),eR("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),eR("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"]);var sW=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],sz=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(sW));function sY(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,r,s,a,o,l){if(nn.apply(this,arguments),i8){var h=nr();ne||(ne=!0,nt=h)}}(n,t,void 0,e),e.currentTarget=null}function sH(e,t){for(var i=(4&t)!=0,n=0;n<e.length;n++){var r=e[n];!function(e,t,i){var n;if(i)for(var r=t.length-1;r>=0;r--){var s=t[r],a=s.instance,o=s.currentTarget,l=s.listener;if(a!==n&&e.isPropagationStopped())return;sY(e,l,o),n=a}else for(var h=0;h<t.length;h++){var u=t[h],c=u.instance,d=u.currentTarget,f=u.listener;if(c!==n&&e.isPropagationStopped())return;sY(e,f,d),n=c}}(r.event,r.listeners,i)}!function(){if(ne){var e=nt;throw ne=!1,nt=null,e}}()}function sX(e,t){sz.has(e)||eA('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',e);var i,n=(void 0===(i=t[aG])&&(i=t[aG]=new Set),i),r=e+"__bubble";n.has(r)||(sQ(t,e,2,!1),n.add(r))}function sq(e,t,i){sz.has(e)&&!t&&eA('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',e);var n=0;t&&(n|=4),sQ(i,e,n,t)}var sK="_reactListening"+Math.random().toString(36).slice(2);function s$(e){if(!e[sK]){e[sK]=!0,eC.forEach(function(t){"selectionchange"!==t&&(sz.has(t)||sq(t,!1,e),sq(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[sK]||(t[sK]=!0,sq("selectionchange",!1,t))}}function sQ(e,t,i,n,r){var s,a,o=function(e,t,i){var n;switch(r_(t)){case 1:n=rE;break;case 4:n=rw;break;default:n=rS}return n.bind(null,t,i,e)}(e,t,i),l=void 0;(i2&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(l=!0),n)?void 0!==l?(s=l,e.addEventListener(t,o,{capture:!0,passive:s})):e.addEventListener(t,o,!0):void 0!==l?(a=l,e.addEventListener(t,o,{passive:a})):e.addEventListener(t,o,!1)}function sJ(e,t){return e===t||8===e.nodeType&&e.parentNode===t}function sZ(e,t,i,n,r){var s=n;if((1&t)==0&&(2&t)==0&&null!==n){var a=n;e:for(;;){if(null===a)return;var o=a.tag;if(3===o||4===o){var l=a.stateNode.containerInfo;if(sJ(l,r))break;if(4===o)for(var h=a.return;null!==h;){var u=h.tag;if((3===u||4===u)&&sJ(h.stateNode.containerInfo,r))return;h=h.return}for(;null!==l;){var c=aY(l);if(null===c)return;var d=c.tag;if(5===d||6===d){a=s=c;continue e}l=l.parentNode}}a=a.return}}i0(function(){var n,r,a,o,l,h,u,c,d,f;return n=s,r=iz(i),void(function(e,t,i,n,r,s,a){var o=sj.get(t);if(void 0!==o){var l=rF,h=t;switch(t){case"keypress":if(0===rM(n))return;case"keydown":case"keyup":l=rJ;break;case"focusin":h="focus",l=rW;break;case"focusout":h="blur",l=rW;break;case"beforeblur":case"afterblur":l=rW;break;case"click":if(2===n.button)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=rV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=r0;break;case sN:case sF:case sB:l=rz;break;case sU:l=r1;break;case"scroll":l=rU;break;case"wheel":l=r2;break;case"copy":case"cut":case"paste":l=rY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=rZ}var u=(4&s)!=0,c=function(e,t,i,n,r,s){for(var a=n?null!==t?t+"Capture":null:t,o=[],l=e,h=null;null!==l;){var u=l,c=u.stateNode;if(5===u.tag&&null!==c&&(h=c,null!==a)){var d=i1(l,a);null!=d&&o.push(s0(l,d,h))}if(r)break;l=l.return}return o}(i,o,n.type,u,!u&&"scroll"===t);if(c.length>0){var d=new l(o,h,null,n,r);e.push({event:d,listeners:c})}}}(o=a=[],l=e,h=n,u=i,c=r,d=t),(7&d)==0&&(function(e,t,i,n,r,s,a){var o,l,h,u="mouseover"===t||"pointerover"===t,c="mouseout"===t||"pointerout"===t;if(u&&n!==iW){var d=n.relatedTarget||n.fromElement;if(d&&(aY(d)||d[aV]))return}if(c||u){if(r.window===r)o=r;else{var f=r.ownerDocument;o=f?f.defaultView||f.parentWindow:window}if(c){var p=n.relatedTarget||n.toElement;if(l=i,null!==(h=p?aY(p):null)){var m=no(h);(h!==m||5!==h.tag&&6!==h.tag)&&(h=null)}}else l=null,h=i;if(l!==h){var g,v,y,b,x=rV,E="onMouseLeave",w="onMouseEnter",S="mouse";("pointerout"===t||"pointerover"===t)&&(x=rZ,E="onPointerLeave",w="onPointerEnter",S="pointer");var T=null==l?o:aX(l),A=null==h?o:aX(h),_=new x(E,S+"leave",l,n,r);_.target=T,_.relatedTarget=A;var C=null;if(aY(r)===i){var I=new x(w,S+"enter",h,n,r);I.target=A,I.relatedTarget=T,C=I}g=C,v=l,y=h,b=v&&y?function(e,t){for(var i=e,n=t,r=0,s=i;s;s=s2(s))r++;for(var a=0,o=n;o;o=s2(o))a++;for(;r-a>0;)i=s2(i),r--;for(;a-r>0;)n=s2(n),a--;for(var l=r;l--;){if(i===n||null!==n&&i===n.alternate)return i;i=s2(i),n=s2(n)}return null}(v,y):null,null!==v&&s3(e,_,v,b,!1),null!==y&&null!==g&&s3(e,g,y,b,!0)}}}(o,l,h,u,c),function(e,t,i,n,r,s,a){var o,l,h,u,c,d=i?aX(i):window;if("select"===(o=d.nodeName&&d.nodeName.toLowerCase())||"input"===o&&"file"===d.type?u=su:sr(d)?sc?u=sv:(u=sm,c=sp):(l=d.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===d.type||"radio"===d.type)&&(u=sg),u){var f=u(t,i);if(f){ss(e,f,n,r);return}}c&&c(t,d,i),"focusout"===t&&(h=d._wrapperState)&&h.controlled&&"number"===d.type&&tY(d,"number",d.value)}(o,l,h,u,c),function(e,t,i,n,r,s,a){var o=i?aX(i):window;switch(t){case"focusin":(sr(o)||"true"===o.contentEditable)&&(s_=o,sC=i,sI=null);break;case"focusout":s_=null,sC=null,sI=null;break;case"mousedown":sP=!0;break;case"contextmenu":case"mouseup":case"dragend":sP=!1,sR(e,n,r);break;case"selectionchange":if(sA)break;case"keydown":case"keyup":sR(e,n,r)}}(o,l,h,u,c),function(e,t,i,n,r){if(r4?s=function(e){switch(e){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}(t):si?r7(t,n)&&(s="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(s="onCompositionStart"),s){r6&&!st(n)&&(si||"onCompositionStart"!==s?"onCompositionEnd"===s&&si&&(a=rR()):(rC=r,rI=rO(),si=!0));var s,a,o=s1(i,s);if(o.length>0){var l=new rH(s,t,null,n,r);if(e.push({event:l,listeners:o}),a)l.data=a;else{var h=se(n);null!==h&&(l.data=h)}}}}(o,l,h,u,c),function(e,t,i,n,r){if(s=r9?function(e,t){switch(e){case"compositionend":return se(t);case"keypress":if(32!==t.which)return null;return r8=!0," ";case"textInput":var i=t.data;if(" "===i&&r8)return null;return i;default:return null}}(t,n):function(e,t){if(si){if("compositionend"===e||!r4&&r7(e,t)){var i=rR();return rC=null,rI=null,rP=null,si=!1,i}return null}switch(e){case"paste":default:return null;case"keypress":if(!((t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey))){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return r6&&!st(t)?null:t.data}}(t,n)){var s,a=s1(i,"onBeforeInput");if(a.length>0){var o=new rH("onBeforeInput","beforeinput",null,n,r);e.push({event:o,listeners:a}),o.data=s}}}(o,l,h,u,c)),sH(a,t))})}function s0(e,t,i){return{instance:e,listener:t,currentTarget:i}}function s1(e,t){for(var i=t+"Capture",n=[],r=e;null!==r;){var s=r,a=s.stateNode;if(5===s.tag&&null!==a){var o=i1(r,i);null!=o&&n.unshift(s0(r,o,a));var l=i1(r,t);null!=l&&n.push(s0(r,l,a))}r=r.return}return n}function s2(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function s3(e,t,i,n,r){for(var s=t._reactName,a=[],o=i;null!==o&&o!==n;){var l=o,h=l.alternate,u=l.stateNode,c=l.tag;if(null!==h&&h===n)break;if(5===c&&null!==u){if(r){var d=i1(o,s);null!=d&&a.unshift(s0(o,d,u))}else if(!r){var f=i1(o,s);null!=f&&a.push(s0(o,f,u))}}o=o.return}0!==a.length&&e.push({event:t,listeners:a})}var s4=!1,s5="dangerouslySetInnerHTML",s9="suppressContentEditableWarning",s6="suppressHydrationWarning",s8="autoFocus",s7="children",ae="style",at="__html";A={dialog:!0,webview:!0},_=function(e,t){var i;iP(e,t)||function(e,t){var i=[];for(var n in t)!function(e,t){if(eL.call(iM,t)&&iM[t])return!0;if(iD.test(t)){var i="aria-"+t.slice(4).toLowerCase(),n=iO.hasOwnProperty(i)?i:null;if(null==n)return eA("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",t),iM[t]=!0,!0;if(t!==n)return eA("Invalid ARIA attribute `%s`. Did you mean `%s`?",t,n),iM[t]=!0,!0}if(iL.test(t)){var r=t.toLowerCase(),s=iO.hasOwnProperty(r)?r:null;if(null==s)return iM[t]=!0,!1;t!==s&&(eA("Unknown ARIA attribute `%s`. Did you mean `%s`?",t,s),iM[t]=!0)}return!0}(0,n)&&i.push(n);var r=i.map(function(e){return"`"+e+"`"}).join(", ");1===i.length?eA("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",r,e):i.length>1&&eA("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",r,e)}(e,t),"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||ik||(ik=!0,"select"===e&&t.multiple?eA("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",e):eA("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",e)),i={registrationNameDependencies:eI,possibleRegistrationNames:eP},iP(e,t)||iG(e,t,i)},R=eM&&!document.documentMode,C=function(e,t,i){if(!s4){var n=ar(i),r=ar(t);r!==n&&(s4=!0,eA("Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(r),JSON.stringify(n)))}},I=function(e){if(!s4){s4=!0;var t=[];e.forEach(function(e){t.push(e)}),eA("Extra attributes from the server: %s",t)}},P=function(e,t){!1===t?eA("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",e,e,e):eA("Expected `%s` listener to be a function, instead got a value of `%s` type.",e,typeof t)},O=function(e,t){var i=e.namespaceURI===t6?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return i.innerHTML=t,i.innerHTML};var ai=/\r\n?/g,an=/\u0000|\uFFFD/g;function ar(e){return ek(e)&&eA("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",eD(e)),("string"==typeof e?e:""+e).replace(ai,"\n").replace(an,"")}function as(e,t,i,n){var r=ar(t),s=ar(e);if(s!==r&&(n&&!s4&&(s4=!0,eA('Text content did not match. Server: "%s" Client: "%s"',s,r)),i))throw Error("Text content does not match server-rendered HTML.")}function aa(e){return 9===e.nodeType?e:e.ownerDocument}function ao(){}function al(e){e.onclick=ao}function ah(e,t){s4||(s4=!0,eA("Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function au(e,t){s4||(s4=!0,eA('Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function ac(e,t,i){s4||(s4=!0,eA("Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function ad(e,t){""!==t&&(s4||(s4=!0,eA('Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))}var af=function(){},ap=function(){},am=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],ag=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],av=ag.concat(["button"]),ay=["dd","dt","li","option","optgroup","p","rp","rt"],ab={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};ap=function(e,t){var i=tl({},e||ab),n={tag:t};return -1!==ag.indexOf(t)&&(i.aTagInScope=null,i.buttonTagInScope=null,i.nobrTagInScope=null),-1!==av.indexOf(t)&&(i.pTagInButtonScope=null),-1!==am.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(i.listItemTagAutoclosing=null,i.dlItemTagAutoclosing=null),i.current=n,"form"===t&&(i.formTag=n),"a"===t&&(i.aTagInScope=n),"button"===t&&(i.buttonTagInScope=n),"nobr"===t&&(i.nobrTagInScope=n),"p"===t&&(i.pTagInButtonScope=n),"li"===t&&(i.listItemTagAutoclosing=n),("dd"===t||"dt"===t)&&(i.dlItemTagAutoclosing=n),i};var ax=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e||"frameset"===e;case"frameset":return"frame"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return -1===ay.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},aE=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},aw={};af=function(e,t,i){var n=(i=i||ab).current,r=n&&n.tag;null!=t&&(null!=e&&eA("validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var s=ax(e,r)?null:n,a=s?null:aE(e,i),o=s||a;if(o){var l=o.tag,h=!!s+"|"+e+"|"+l;if(!aw[h]){aw[h]=!0;var u=e,c="";if("#text"===e?/\S/.test(t)?u="Text nodes":(u="Whitespace text nodes",c=" Make sure you don't have any extra whitespace between tags on each line of your source code."):u="<"+e+">",s){var d="";"table"===l&&"tr"===e&&(d+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),eA("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",u,l,c,d)}else eA("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",u,l)}}};var aS="suppressHydrationWarning",aT=null,aA=null;function a_(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var aC="function"==typeof setTimeout?setTimeout:void 0,aI="function"==typeof clearTimeout?clearTimeout:void 0,aP="function"==typeof Promise?Promise:void 0,aR="function"==typeof queueMicrotask?queueMicrotask:void 0!==aP?function(e){return aP.resolve(null).then(e).catch(aO)}:aC;function aO(e){setTimeout(function(){throw e})}function aM(e,t){var i=t,n=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&8===r.nodeType){var s=r.data;if("/$"===s){if(0===n){e.removeChild(r),ry(t);return}n--}else("$"===s||"$?"===s||"$!"===s)&&n++}i=r}while(i)ry(t)}function aL(e){return"$?"===e.data}function aD(e){return"$!"===e.data}function ak(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){var i=e.data;if("$"===i||"$!"===i||"$?"===i)break;if("/$"===i)return null}}return e}function aN(e){return ak(e.nextSibling)}function aF(e){for(var t=e.previousSibling,i=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===i)return t;i--}else"/$"===n&&i++}t=t.previousSibling}return null}var aB=Math.random().toString(36).slice(2),aU="__reactFiber$"+aB,aj="__reactProps$"+aB,aV="__reactContainer$"+aB,aG="__reactEvents$"+aB,aW="__reactListeners$"+aB,az="__reactHandles$"+aB;function aY(e){var t=e[aU];if(t)return t;for(var i=e.parentNode;i;){if(t=i[aV]||i[aU]){var n=t.alternate;if(null!==t.child||null!==n&&null!==n.child)for(var r=aF(e);null!==r;){var s=r[aU];if(s)return s;r=aF(r)}return t}i=(e=i).parentNode}return null}function aH(e){var t=e[aU]||e[aV];return t&&(5===t.tag||6===t.tag||13===t.tag||3===t.tag)?t:null}function aX(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function aq(e){return e[aj]||null}var aK={},a$=ew.ReactDebugCurrentFrame;function aQ(e){if(e){var t=e._owner,i=function e(t,i,n){if(null==t)return"";if("function"==typeof t)return tp(t,!!((r=t.prototype)&&r.isReactComponent));if("string"==typeof t)return td(t);switch(t){case tt:return td("Suspense");case ti:return td("SuspenseList")}if("object"==typeof t)switch(t.$$typeof){case te:return tp(t.render,!1);case tn:return e(t.type,i,n);case tr:var r,s=t._payload,a=t._init;try{return e(a(s),i,n)}catch(e){}}return""}(e.type,e._source,t?t.type:null);a$.setExtraStackFrame(i)}else a$.setExtraStackFrame(null)}function aJ(e,t,i,n,r){var s=Function.call.bind(eL);for(var a in e)if(s(e,a)){var o=void 0;try{if("function"!=typeof e[a]){var l=Error((n||"React class")+": "+i+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}o=e[a](t,a,n,i,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){o=e}!o||o instanceof Error||(aQ(r),eA("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",i,a,typeof o),aQ(null)),o instanceof Error&&!(o.message in aK)&&(aK[o.message]=!0,aQ(r),eA("Failed %s type: %s",i,o.message),aQ(null))}}var aZ=[];M=[];var a0=-1;function a1(e){return{current:e}}function a2(e,t){if(a0<0){eA("Unexpected pop.");return}t!==M[a0]&&eA("Unexpected Fiber popped."),e.current=aZ[a0],aZ[a0]=null,M[a0]=null,a0--}function a3(e,t,i){aZ[++a0]=e.current,M[a0]=i,e.current=t}L={};var a4={};Object.freeze(a4);var a5=a1(a4),a9=a1(!1),a6=a4;function a8(e,t,i){return i&&oi(t)?a6:a5.current}function a7(e,t,i){var n=e.stateNode;n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i}function oe(e,t){var i=e.type.contextTypes;if(!i)return a4;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r={};for(var s in i)r[s]=t[s];return aJ(i,r,"context",tb(e)||"Unknown"),n&&a7(e,t,r),r}function ot(){return a9.current}function oi(e){return null!=e.childContextTypes}function on(e){a2(a9,e),a2(a5,e)}function or(e){a2(a9,e),a2(a5,e)}function os(e,t,i){if(a5.current!==a4)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");a3(a5,t,e),a3(a9,i,e)}function oa(e,t,i){var n=e.stateNode,r=t.childContextTypes;if("function"!=typeof n.getChildContext){var s=tb(e)||"Unknown";return L[s]||(L[s]=!0,eA("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",s,s)),i}var a=n.getChildContext();for(var o in a)if(!(o in r))throw Error((tb(e)||"Unknown")+'.getChildContext(): key "'+o+'" is not defined in childContextTypes.');return aJ(r,a,"child context",tb(e)||"Unknown"),tl({},i,a)}function oo(e){var t=e.stateNode,i=t&&t.__reactInternalMemoizedMergedChildContext||a4;return a6=a5.current,a3(a5,i,e),a3(a9,a9.current,e),!0}function ol(e,t,i){var n=e.stateNode;if(!n)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(i){var r=oa(e,t,a6);n.__reactInternalMemoizedMergedChildContext=r,a2(a9,e),a2(a5,e),a3(a5,r,e),a3(a9,i,e)}else a2(a9,e),a3(a9,i,e)}var oh=null,ou=!1,oc=!1;function od(e){null===oh?oh=[e]:oh.push(e)}function of(){if(!oc&&null!==oh){oc=!0;var e=0,t=n7;try{var i=oh;for(n7=1;e<i.length;e++){var n=i[e];do n=n(!0);while(null!==n)}oh=null,ou=!1}catch(t){throw null!==oh&&(oh=oh.slice(e+1)),nf(nb,of),t}finally{n7=t,oc=!1}}return null}var op=[],om=0,og=null,ov=0,oy=[],ob=0,ox=null,oE=1,ow="";function oS(e,t){oI(),op[om++]=ov,op[om++]=og,og=e,ov=t}function oT(e,t,i){oI(),oy[ob++]=oE,oy[ob++]=ow,oy[ob++]=ox,ox=e;var n=oE,r=ow,s=o_(n)-1,a=n&~(1<<s),o=i+1,l=o_(t)+s;if(l>30){var h=s-s%5,u=(a&(1<<h)-1).toString(32),c=s-h,d=o_(t)+c;oE=o<<c|a>>h|1<<d,ow=u+r}else oE=o<<s|a|1<<l,ow=r}function oA(e){oI(),null!==e.return&&(oS(e,1),oT(e,1,0))}function o_(e){return 32-nG(e)}function oC(e){for(;e===og;)og=op[--om],op[om]=null,ov=op[--om],op[om]=null;for(;e===ox;)ox=oy[--ob],oy[ob]=null,ow=oy[--ob],oy[ob]=null,oE=oy[--ob],oy[ob]=null}function oI(){oO||eA("Expected to be hydrating. This is a bug in React. Please file an issue.")}var oP=null,oR=null,oO=!1,oM=!1,oL=null;function oD(e,t){switch(e.tag){case 3:var i;i=e.stateNode.containerInfo,1===t.nodeType?ah(i,t):8===t.nodeType||au(i,t);break;case 5:var n,r,s=(1&e.mode)!=0;e.type,n=e.memoizedProps,r=e.stateNode,(s||!0!==n[aS])&&(1===t.nodeType?ah(r,t):8===t.nodeType||au(r,t));break;case 13:var a,o=e.memoizedState;null!==o.dehydrated&&null!==(a=o.dehydrated.parentNode)&&(1===t.nodeType?ah(a,t):8===t.nodeType||au(a,t))}}function ok(e,t){oD(e,t);var i,n=((i=fs(5,null,null,0)).elementType="DELETED",i);n.stateNode=t,n.return=e;var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}function oN(e,t){if(!oM)switch(e.tag){case 3:var i=e.stateNode.containerInfo;switch(t.tag){case 5:var n=t.type;t.pendingProps,ac(i,n);break;case 6:ad(i,t.pendingProps)}break;case 5:e.type;var r=e.memoizedProps,s=e.stateNode;switch(t.tag){case 5:var a=t.type;t.pendingProps,((1&e.mode)!=0||!0!==r[aS])&&ac(s,a);break;case 6:var o=t.pendingProps;((1&e.mode)!=0||!0!==r[aS])&&ad(s,o)}break;case 13:var l=e.memoizedState.dehydrated;if(null!==l)switch(t.tag){case 5:var h,u=t.type;t.pendingProps,null!==(h=l.parentNode)&&ac(h,u);break;case 6:var c,d=t.pendingProps;null!==(c=l.parentNode)&&ad(c,d)}break;default:return}}function oF(e,t){t.flags=-4097&t.flags|2,oN(e,t)}function oB(e,t){switch(e.tag){case 5:var i=e.type;e.pendingProps;var n=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t;if(null!==n)return e.stateNode=n,oP=e,oR=ak(n.firstChild),!0;return!1;case 6:var r=""===e.pendingProps||3!==t.nodeType?null:t;if(null!==r)return e.stateNode=r,oP=e,oR=null,!0;return!1;case 13:var s=8!==t.nodeType?null:t;if(null!==s){var a,o={dehydrated:s,treeContext:(oI(),null!==ox)?{id:oE,overflow:ow}:null,retryLane:0x40000000};e.memoizedState=o;var l=((a=fs(18,null,null,0)).stateNode=s,a);return l.return=e,e.child=l,oP=e,oR=null,!0}return!1;default:return!1}}function oU(e){return(1&e.mode)!=0&&(128&e.flags)==0}function oj(e){throw Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function oV(e){if(oO){var t=oR;if(!t){oU(e)&&(oN(oP,e),oj()),oF(oP,e),oO=!1,oP=e;return}var i=t;if(!oB(e,t)){oU(e)&&(oN(oP,e),oj()),t=aN(i);var n=oP;if(!t||!oB(e,t)){oF(oP,e),oO=!1,oP=e;return}ok(n,i)}}}function oG(e){for(var t=e.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;oP=t}function oW(e){if(e!==oP)return!1;if(!oO)return oG(e),oO=!0,!1;if(3!==e.tag&&(5!==e.tag||"head"!==(t=e.type)&&"body"!==t&&!a_(e.type,e.memoizedProps))){var t,i=oR;if(i){if(oU(e))oz(e),oj();else for(;i;)ok(e,i),i=aN(i)}}return oG(e),oR=13===e.tag?function(e){var t=e.memoizedState,i=null!==t?t.dehydrated:null;if(!i)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return function(e){for(var t=e.nextSibling,i=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===i)return aN(t);i--}else("$"===n||"$!"===n||"$?"===n)&&i++}t=t.nextSibling}return null}(i)}(e):oP?aN(e.stateNode):null,!0}function oz(e){for(var t=oR;t;)oD(e,t),t=aN(t)}function oY(){oP=null,oR=null,oO=!1,oM=!1}function oH(){null!==oL&&(dI(oL),oL=null)}function oX(e){null===oL?oL=[e]:oL.push(e)}var oq=ew.ReactCurrentBatchConfig,oK={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},o$=function(e){for(var t=null,i=e;null!==i;)8&i.mode&&(t=i),i=i.return;return t},oQ=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t.sort().join(", ")},oJ=[],oZ=[],o0=[],o1=[],o2=[],o3=[],o4=new Set;oK.recordUnsafeLifecycleWarnings=function(e,t){!o4.has(e.type)&&("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&oJ.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillMount&&oZ.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&o0.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&o1.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&o2.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillUpdate&&o3.push(e))},oK.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;oJ.length>0&&(oJ.forEach(function(t){e.add(tb(t)||"Component"),o4.add(t.type)}),oJ=[]);var t=new Set;oZ.length>0&&(oZ.forEach(function(e){t.add(tb(e)||"Component"),o4.add(e.type)}),oZ=[]);var i=new Set;o0.length>0&&(o0.forEach(function(e){i.add(tb(e)||"Component"),o4.add(e.type)}),o0=[]);var n=new Set;o1.length>0&&(o1.forEach(function(e){n.add(tb(e)||"Component"),o4.add(e.type)}),o1=[]);var r=new Set;o2.length>0&&(o2.forEach(function(e){r.add(tb(e)||"Component"),o4.add(e.type)}),o2=[]);var s=new Set;o3.length>0&&(o3.forEach(function(e){s.add(tb(e)||"Component"),o4.add(e.type)}),o3=[]),t.size>0&&eA("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",oQ(t)),n.size>0&&eA("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",oQ(n)),s.size>0&&eA("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",oQ(s)),e.size>0&&eT("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",oQ(e)),i.size>0&&eT("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",oQ(i)),r.size>0&&eT("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",oQ(r))};var o5=new Map,o9=new Set;oK.recordLegacyContextWarning=function(e,t){var i=o$(e);if(null===i){eA("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!o9.has(e.type)){var n=o5.get(i);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===n&&(n=[],o5.set(i,n)),n.push(e))}},oK.flushLegacyContextWarning=function(){o5.forEach(function(e,t){if(0!==e.length){var i=e[0],n=new Set;e.forEach(function(e){n.add(tb(e)||"Component"),o9.add(e.type)});var r=oQ(n);try{t_(i),eA("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",r)}finally{tA()}}})},oK.discardPendingWarnings=function(){oJ=[],oZ=[],o0=[],o1=[],o2=[],o3=[],o5=new Map};var o6=function(e,t){};function o8(e,t,i){var n=i.ref;if(null!==n&&"function"!=typeof n&&"object"!=typeof n){if(e.mode,!(i._owner&&i._self&&i._owner.stateNode!==i._self)&&!(i._owner&&1!==i._owner.tag)&&!("function"==typeof i.type&&!((s=i.type).prototype&&s.prototype.isReactComponent))&&i._owner){var r=tb(e)||"Component";N[r]||(eA('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',r,n),N[r]=!0)}if(i._owner){var s,a,o=i._owner;if(o){if(1!==o.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");a=o.stateNode}if(!a)throw Error("Missing owner for string ref "+n+". This error is likely caused by a bug in React. Please file an issue.");var l=a;ek(n)&&eA("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.","ref",eD(n));var h=""+n;if(null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===h)return t.ref;var u=function(e){var t=l.refs;null===e?delete t[h]:t[h]=e};return u._stringRef=h,u}if("string"!=typeof n)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!i._owner)throw Error("Element ref was specified as a string ("+n+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return n}function o7(e,t){var i=Object.prototype.toString.call(t);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.")}function le(e){var t=tb(e)||"Component";B[t]||(B[t]=!0,eA("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function lt(e){var t=e._payload;return(0,e._init)(t)}function li(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(var r=n;null!==r;)t(i,r),r=r.sibling;return null}function n(e,t){for(var i=new Map,n=t;null!==n;)null!==n.key?i.set(n.key,n):i.set(n.index,n),n=n.sibling;return i}function r(e,t){var i=fo(e,t);return i.index=0,i.sibling=null,i}function s(t,i,n){if(t.index=n,!e)return t.flags|=1048576,i;var r=t.alternate;if(null===r)return t.flags|=2,i;var s=r.index;return s<i?(t.flags|=2,i):s}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,i,n){if(null===t||6!==t.tag){var s=fd(i,e.mode,n);return s.return=e,s}var a=r(t,i);return a.return=e,a}function l(e,t,i,n){var s=i.type;if(s===e5)return u(e,t,i.props.children,n,i.key);if(null!==t&&(t.elementType===s||fi(t,i)||"object"==typeof s&&null!==s&&s.$$typeof===tr&&lt(s)===t.type)){var a=r(t,i.props);return a.ref=o8(e,t,i),a.return=e,a._debugSource=i._source,a._debugOwner=i._owner,a}var o=fh(i,e.mode,n);return o.ref=o8(e,t,i),o.return=e,o}function h(e,t,i,n){if(null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation){var s=ff(i,e.mode,n);return s.return=e,s}var a=r(t,i.children||[]);return a.return=e,a}function u(e,t,i,n,s){if(null===t||7!==t.tag){var a=fu(i,e.mode,n,s);return a.return=e,a}var o=r(t,i);return o.return=e,o}function c(e,t,i){if("string"==typeof t&&""!==t||"number"==typeof t){var n=fd(""+t,e.mode,i);return n.return=e,n}if("object"==typeof t&&null!==t){switch(t.$$typeof){case e3:var r=fh(t,e.mode,i);return r.ref=o8(e,null,t),r.return=e,r;case e4:var s=ff(t,e.mode,i);return s.return=e,s;case tr:var a=t._payload;return c(e,(0,t._init)(a),i)}if(t$(t)||to(t)){var o=fu(t,e.mode,i,null);return o.return=e,o}o7(e,t)}return"function"==typeof t&&le(e),null}function d(e,t,i,n){var r=null!==t?t.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==r?null:o(e,t,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case e3:if(i.key===r)return l(e,t,i,n);return null;case e4:if(i.key===r)return h(e,t,i,n);return null;case tr:var s=i._payload;return d(e,t,(0,i._init)(s),n)}if(t$(i)||to(i))return null!==r?null:u(e,t,i,n,null);o7(e,i)}return"function"==typeof i&&le(e),null}function f(e,t,i,n,r){if("string"==typeof n&&""!==n||"number"==typeof n)return o(t,e.get(i)||null,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case e3:return l(t,e.get(null===n.key?i:n.key)||null,n,r);case e4:return h(t,e.get(null===n.key?i:n.key)||null,n,r);case tr:var s=n._payload;return f(e,t,i,(0,n._init)(s),r)}if(t$(n)||to(n))return u(t,e.get(i)||null,n,r,null);o7(t,n)}return"function"==typeof n&&le(t),null}function p(e,t,i){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case e3:case e4:o6(e,i);var n=e.key;if("string"!=typeof n)break;if(null===t){(t=new Set).add(n);break}if(!t.has(n)){t.add(n);break}eA("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",n);break;case tr:var r=e._payload;p((0,e._init)(r),t,i)}return t}return function o(l,h,u,m){if("object"==typeof u&&null!==u&&u.type===e5&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case e3:return a(function(e,n,s,a){for(var o=s.key,l=n;null!==l;){if(l.key===o){var h=s.type;if(h===e5){if(7===l.tag){i(e,l.sibling);var u=r(l,s.props.children);return u.return=e,u._debugSource=s._source,u._debugOwner=s._owner,u}}else if(l.elementType===h||fi(l,s)||"object"==typeof h&&null!==h&&h.$$typeof===tr&&lt(h)===l.type){i(e,l.sibling);var c=r(l,s.props);return c.ref=o8(e,l,s),c.return=e,c._debugSource=s._source,c._debugOwner=s._owner,c}i(e,l);break}t(e,l),l=l.sibling}if(s.type===e5){var d=fu(s.props.children,e.mode,a,s.key);return d.return=e,d}var f=fh(s,e.mode,a);return f.ref=o8(e,n,s),f.return=e,f}(l,h,u,m));case e4:return a(function(e,n,s,a){for(var o=s.key,l=n;null!==l;){if(l.key===o){if(4===l.tag&&l.stateNode.containerInfo===s.containerInfo&&l.stateNode.implementation===s.implementation){i(e,l.sibling);var h=r(l,s.children||[]);return h.return=e,h}i(e,l);break}t(e,l),l=l.sibling}var u=ff(s,e.mode,a);return u.return=e,u}(l,h,u,m));case tr:var g=u._payload;return o(l,h,(0,u._init)(g),m)}if(t$(u))return function(r,a,o,l){for(var h=null,u=0;u<o.length;u++)h=p(o[u],h,r);for(var m=null,g=null,v=a,y=0,b=0,x=null;null!==v&&b<o.length;b++){v.index>b?(x=v,v=null):x=v.sibling;var E=d(r,v,o[b],l);if(null===E){null===v&&(v=x);break}e&&v&&null===E.alternate&&t(r,v),y=s(E,y,b),null===g?m=E:g.sibling=E,g=E,v=x}if(b===o.length)return i(r,v),oO&&oS(r,b),m;if(null===v){for(;b<o.length;b++){var w=c(r,o[b],l);null!==w&&(y=s(w,y,b),null===g?m=w:g.sibling=w,g=w)}return oO&&oS(r,b),m}for(var S=n(r,v);b<o.length;b++){var T=f(S,r,b,o[b],l);null!==T&&(e&&null!==T.alternate&&S.delete(null===T.key?b:T.key),y=s(T,y,b),null===g?m=T:g.sibling=T,g=T)}return e&&S.forEach(function(e){return t(r,e)}),oO&&oS(r,b),m}(l,h,u,m);if(to(u))return function(r,a,o,l){var h=to(o);if("function"!=typeof h)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===o[Symbol.toStringTag]&&(k||eA("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),k=!0),o.entries===h&&(D||eA("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),D=!0);var u=h.call(o);if(u)for(var m=null,g=u.next();!g.done;g=u.next())m=p(g.value,m,r);var v=h.call(o);if(null==v)throw Error("An iterable object provided no iterator.");for(var y=null,b=null,x=a,E=0,w=0,S=null,T=v.next();null!==x&&!T.done;w++,T=v.next()){x.index>w?(S=x,x=null):S=x.sibling;var A=d(r,x,T.value,l);if(null===A){null===x&&(x=S);break}e&&x&&null===A.alternate&&t(r,x),E=s(A,E,w),null===b?y=A:b.sibling=A,b=A,x=S}if(T.done)return i(r,x),oO&&oS(r,w),y;if(null===x){for(;!T.done;w++,T=v.next()){var _=c(r,T.value,l);null!==_&&(E=s(_,E,w),null===b?y=_:b.sibling=_,b=_)}return oO&&oS(r,w),y}for(var C=n(r,x);!T.done;w++,T=v.next()){var I=f(C,r,w,T.value,l);null!==I&&(e&&null!==I.alternate&&C.delete(null===I.key?w:I.key),E=s(I,E,w),null===b?y=I:b.sibling=I,b=I)}return e&&C.forEach(function(e){return t(r,e)}),oO&&oS(r,w),y}(l,h,u,m);o7(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?a(function(e,t,n,s){if(null!==t&&6===t.tag){i(e,t.sibling);var a=r(t,n);return a.return=e,a}i(e,t);var o=fd(n,e.mode,s);return o.return=e,o}(l,h,""+u,m)):("function"==typeof u&&le(l),i(l,h))}}D=!1,k=!1,N={},F={},B={},o6=function(e,t){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var i=tb(t)||"Component";F[i]||(F[i]=!0,eA('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var ln=li(!0),lr=li(!1),ls=a1(null);U={};var la=null,lo=null,ll=null,lh=!1;function lu(){la=null,lo=null,ll=null,lh=!1}function lc(e,t,i){a3(ls,t._currentValue,e),t._currentValue=i,void 0!==t._currentRenderer&&null!==t._currentRenderer&&t._currentRenderer!==U&&eA("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=U}function ld(e,t){var i=ls.current;a2(ls,t),e._currentValue=i}function lf(e,t,i){for(var n=e;null!==n;){var r=n.alternate;if((n.childLanes&t)===t?null!==r&&(r.childLanes&t)!==t&&(r.childLanes=r.childLanes|t):(n.childLanes=n.childLanes|t,null!==r&&(r.childLanes=r.childLanes|t)),n===i)break;n=n.return}n!==i&&eA("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function lp(e,t){la=e,lo=null,ll=null;var i=e.dependencies;null!==i&&null!==i.firstContext&&((i.lanes&t)!=0&&(uk=!0),i.firstContext=null)}function lm(e){lh&&eA("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var t=e._currentValue;if(ll===e);else{var i={context:e,memoizedValue:t,next:null};if(null===lo){if(null===la)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");lo=i,la.dependencies={lanes:0,firstContext:i}}else lo=lo.next=i}return t}var lg=null;function lv(e){null===lg?lg=[e]:lg.push(e)}function ly(e,t,i,n){var r=t.interleaved;return null===r?(i.next=i,lv(t)):(i.next=r.next,r.next=i),t.interleaved=i,lb(e,n)}function lb(e,t){e.lanes=e.lanes|t;var i=e.alternate;null!==i&&(i.lanes=i.lanes|t),null===i&&(4098&e.flags)!=0&&d1(e);for(var n=e,r=e.return;null!==r;)(r.childLanes=r.childLanes|t,null!==(i=r.alternate))?i.childLanes=i.childLanes|t:(4098&r.flags)!=0&&d1(e),n=r,r=r.return;return 3===n.tag?n.stateNode:null}var lx=!1;function lE(e){var t={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null};e.updateQueue=t}function lw(e,t){var i=t.updateQueue,n=e.updateQueue;if(i===n){var r={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects};t.updateQueue=r}}function lS(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lT(e,t,i){var n,r=e.updateQueue;if(null===r)return null;var s=r.shared;if(V!==s||j||(eA("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),j=!0),(2&c$)!=0){var a=s.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),s.pending=t,lb(e,i)}return null===(n=s.interleaved)?(t.next=t,lv(s)):(t.next=n.next,n.next=t),s.interleaved=t,lb(e,i)}function lA(e,t,i){var n=t.updateQueue;if(null!==n){var r=n.shared;if(nZ(i)){var s=r.lanes,a=(s&=e.pendingLanes)|i;r.lanes=a,n9(e,a)}}}function l_(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n){var r=n.updateQueue;if(i===r){var s=null,a=null,o=i.firstBaseUpdate;if(null!==o){var l=o;do{var h={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};null===a?s=a=h:(a.next=h,a=h),l=l.next}while(null!==l)null===a?s=a=t:(a.next=t,a=t)}else s=a=t;i={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=i;return}}var u=i.lastBaseUpdate;null===u?i.firstBaseUpdate=t:u.next=t,i.lastBaseUpdate=t}function lC(e,t,i,n){var r=e.updateQueue;lx=!1,V=r.shared;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,h=l.next;l.next=null,null===a?s=h:a.next=h,a=l;var u=e.alternate;if(null!==u){var c=u.updateQueue,d=c.lastBaseUpdate;d!==a&&(null===d?c.firstBaseUpdate=h:d.next=h,c.lastBaseUpdate=l)}}if(null!==s){for(var f=r.baseState,p=0,m=null,g=null,v=null,y=s;;){var b=y.lane,x=y.eventTime;if((n&b)===b){if(null!==v){var E={eventTime:x,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null};v=v.next=E}if(f=function(e,t,i,n,r,s){switch(i.tag){case 1:var a=i.payload;if("function"==typeof a){lh=!0;var o=a.call(s,n,r);if(8&e.mode){nO(!0);try{a.call(s,n,r)}finally{nO(!1)}}return lh=!1,o}return a;case 3:e.flags=-65537&e.flags|128;case 0:var l,h=i.payload;if("function"==typeof h){if(lh=!0,l=h.call(s,n,r),8&e.mode){nO(!0);try{h.call(s,n,r)}finally{nO(!1)}}lh=!1}else l=h;if(null==l)break;return tl({},n,l);case 2:lx=!0}return n}(e,0,y,f,t,i),null!==y.callback&&0!==y.lane){e.flags|=64;var w=r.effects;null===w?r.effects=[y]:w.push(y)}}else{var S={eventTime:x,lane:b,tag:y.tag,payload:y.payload,callback:y.callback,next:null};null===v?(g=v=S,m=f):v=v.next=S,p|=b}if(null===(y=y.next)){if(null===(o=r.shared.pending))break;var T=o,A=T.next;T.next=null,y=A,r.lastBaseUpdate=T,r.shared.pending=null}}null===v&&(m=f),r.baseState=m,r.firstBaseUpdate=g,r.lastBaseUpdate=v;var _=r.shared.interleaved;if(null!==_){var C=_;do p|=C.lane,C=C.next;while(C!==_)}else null===s&&(r.shared.lanes=0);c5|=p,e.lanes=p,e.memoizedState=f}V=null}function lI(e,t,i){var n=t.effects;if(t.effects=null,null!==n)for(var r=0;r<n.length;r++){var s=n[r],a=s.callback;null!==a&&(s.callback=null,function(e,t){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}(a,i))}}j=!1,V=null;var lP={},lR=a1(lP),lO=a1(lP),lM=a1(lP);function lL(e){if(e===lP)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function lD(){return lL(lM.current)}function lk(e,t){a3(lM,t,e),a3(lO,e,e),a3(lR,lP,e);var i=function(e){var t,i,n=e.nodeType;switch(n){case 9:case 11:t=9===n?"#document":"#fragment";var r=e.documentElement;i=r?r.namespaceURI:ie(null,"");break;default:var s=8===n?e.parentNode:e;i=ie(s.namespaceURI||null,t=s.tagName)}var a=t.toLowerCase();return{namespace:i,ancestorInfo:ap(null,a)}}(t);a2(lR,e),a3(lR,i,e)}function lN(e){a2(lR,e),a2(lO,e),a2(lM,e)}function lF(){return lL(lR.current)}function lB(e){lL(lM.current);var t,i=lL(lR.current),n=(t=e.type,{namespace:ie(i.namespace,t),ancestorInfo:ap(i.ancestorInfo,t)});i!==n&&(a3(lO,e,e),a3(lR,n,e))}function lU(e){lO.current===e&&(a2(lR,e),a2(lO,e))}var lj=a1(0);function lV(e,t){a3(lj,t,e)}function lG(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i){var n=i.dehydrated;if(null===n||aL(n)||aD(n))return t}}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if((128&t.flags)!=0)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lW=[];function lz(){for(var e=0;e<lW.length;e++)lW[e]._workInProgressVersionPrimary=null;lW.length=0}var lY=ew.ReactCurrentDispatcher,lH=ew.ReactCurrentBatchConfig;G=new Set;var lX=0,lq=null,lK=null,l$=null,lQ=!1,lJ=!1,lZ=0,l0=0,l1=null,l2=null,l3=-1,l4=!1;function l5(){var e=l1;null===l2?l2=[e]:l2.push(e)}function l9(){var e=l1;null!==l2&&l2[++l3]!==e&&function(e){var t=tb(lq);if(!G.has(t)&&(G.add(t),null!==l2)){for(var i="",n=0;n<=l3;n++){for(var r=l2[n],s=n===l3?e:r,a=n+1+". "+r;a.length<30;)a+=" ";a+=s+"\n",i+=a}eA("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,i)}}(e)}function l6(e){null==e||t$(e)||eA("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",l1,typeof e)}function l8(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function l7(e,t){if(l4)return!1;if(null===t)return eA("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",l1),!1;e.length!==t.length&&eA("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",l1,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var i=0;i<t.length&&i<e.length;i++)if(!sy(e[i],t[i]))return!1;return!0}function he(e,t,i,n,r,s){lX=s,lq=t,l2=null!==e?e._debugHookTypes:null,l3=-1,l4=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=0,null!==e&&null!==e.memoizedState?lY.current=h5:null!==l2?lY.current=h4:lY.current=h3;var a=i(n,r);if(lJ){var o=0;do{if(lJ=!1,lZ=0,o>=25)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");o+=1,l4=!1,lK=null,l$=null,t.updateQueue=null,l3=-1,lY.current=h9,a=i(n,r)}while(lJ)}lY.current=h2,t._debugHookTypes=l2;var l=null!==lK&&null!==lK.next;if(lX=0,lq=null,lK=null,l$=null,l1=null,l2=null,l3=-1,null!==e&&(0xe00000&e.flags)!=(0xe00000&t.flags)&&(1&e.mode)!=0&&eA("Internal React error: Expected static flag was missing. Please notify the React team."),lQ=!1,l)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return a}function ht(){var e=0!==lZ;return lZ=0,e}function hi(e,t,i){t.updateQueue=e.updateQueue,(16&t.mode)!=0?t.flags&=-0x3000805:t.flags&=-2053,e.lanes=e.lanes&~i}function hn(){if(lY.current=h2,lQ){for(var e=lq.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}lQ=!1}lX=0,lq=null,lK=null,l$=null,l2=null,l3=-1,l1=null,hq=!1,lJ=!1,lZ=0}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===l$?lq.memoizedState=l$=e:l$=l$.next=e,l$}function hs(){if(null===lK){var e,t,i=lq.alternate;e=null!==i?i.memoizedState:null}else e=lK.next;if(null!==(t=null===l$?lq.memoizedState:l$.next))t=(l$=t).next,lK=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");var n={memoizedState:(lK=e).memoizedState,baseState:lK.baseState,baseQueue:lK.baseQueue,queue:lK.queue,next:null};null===l$?lq.memoizedState=l$=n:l$=l$.next=n}return l$}function ha(){return{lastEffect:null,stores:null}}function ho(e,t){return"function"==typeof t?t(e):t}function hl(e,t,i){var n,r=hr();n=void 0!==i?i(t):t,r.memoizedState=r.baseState=n;var s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n};r.queue=s;var a=s.dispatch=hQ.bind(null,lq,s);return[r.memoizedState,a]}function hh(e,t,i){var n=hs(),r=n.queue;if(null===r)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");r.lastRenderedReducer=e;var s=lK,a=s.baseQueue,o=r.pending;if(null!==o){if(null!==a){var l=a.next,h=o.next;a.next=h,o.next=l}s.baseQueue!==a&&eA("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),s.baseQueue=a=o,r.pending=null}if(null!==a){var u=a.next,c=s.baseState,d=null,f=null,p=null,m=u;do{var g=m.lane;if((lX&g)===g){if(null!==p){var v={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p=p.next=v}c=m.hasEagerState?m.eagerState:e(c,m.action)}else{var y={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};null===p?(f=p=y,d=c):p=p.next=y,lq.lanes=lq.lanes|g,c5|=g}m=m.next}while(null!==m&&m!==u)null===p?d=c:p.next=f,sy(c,n.memoizedState)||(uk=!0),n.memoizedState=c,n.baseState=d,n.baseQueue=p,r.lastRenderedState=c}var b=r.interleaved;if(null!==b){var x=b;do{var E=x.lane;lq.lanes=lq.lanes|E,c5|=E,x=x.next}while(x!==b)}else null===a&&(r.lanes=0);var w=r.dispatch;return[n.memoizedState,w]}function hu(e,t,i){var n=hs(),r=n.queue;if(null===r)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,o=n.memoizedState;if(null!==a){r.pending=null;var l=a.next,h=l;do o=e(o,h.action),h=h.next;while(h!==l)sy(o,n.memoizedState)||(uk=!0),n.memoizedState=o,null===n.baseQueue&&(n.baseState=o),r.lastRenderedState=o}return[o,s]}function hc(e,t,i){}function hd(e,t,i){}function hf(e,t,i){var n,r=lq,s=hr();if(oO){if(void 0===i)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");n=i(),W||n===i()||(eA("The result of getServerSnapshot should be cached to avoid an infinite loop"),W=!0)}else{if(n=t(),W||sy(n,t())||(eA("The result of getSnapshot should be cached to avoid an infinite loop"),W=!0),null===cQ)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(30&lX)!=0||hm(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,h_(hv.bind(null,r,a,e),[e]),r.flags|=2048,hE(9,hg.bind(null,r,a,n,t),void 0,null),n}function hp(e,t,i){var n=lq,r=hs(),s=t();W||sy(s,t())||(eA("The result of getSnapshot should be cached to avoid an infinite loop"),W=!0);var a=!sy(r.memoizedState,s);a&&(r.memoizedState=s,uk=!0);var o=r.queue;if(hC(hv.bind(null,n,o,e),[e]),o.getSnapshot!==t||a||null!==l$&&1&l$.memoizedState.tag){if(n.flags|=2048,hE(9,hg.bind(null,n,o,s,t),void 0,null),null===cQ)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(30&lX)!=0||hm(n,t,s)}return s}function hm(e,t,i){e.flags|=16384;var n={getSnapshot:t,value:i},r=lq.updateQueue;if(null===r)r=ha(),lq.updateQueue=r,r.stores=[n];else{var s=r.stores;null===s?r.stores=[n]:s.push(n)}}function hg(e,t,i,n){t.value=i,t.getSnapshot=n,hy(t)&&hb(e)}function hv(e,t,i){return i(function(){hy(t)&&hb(e)})}function hy(e){var t=e.getSnapshot,i=e.value;try{var n=t();return!sy(i,n)}catch(e){return!0}}function hb(e){var t=lb(e,1);null!==t&&dT(t,e,1,-1)}function hx(e){var t=hr();"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e;var i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:e};t.queue=i;var n=i.dispatch=hJ.bind(null,lq,i);return[t.memoizedState,n]}function hE(e,t,i,n){var r={tag:e,create:t,destroy:i,deps:n,next:null},s=lq.updateQueue;if(null===s)s=ha(),lq.updateQueue=s,s.lastEffect=r.next=r;else{var a=s.lastEffect;if(null===a)s.lastEffect=r.next=r;else{var o=a.next;a.next=r,r.next=o,s.lastEffect=r}}return r}function hw(e){var t=hr(),i={current:e};return t.memoizedState=i,i}function hS(e){return hs().memoizedState}function hT(e,t,i,n){var r=hr();lq.flags|=e,r.memoizedState=hE(1|t,i,void 0,void 0===n?null:n)}function hA(e,t,i,n){var r=hs(),s=void 0===n?null:n,a=void 0;if(null!==lK){var o=lK.memoizedState;if(a=o.destroy,null!==s&&l7(s,o.deps)){r.memoizedState=hE(t,i,a,s);return}}lq.flags|=e,r.memoizedState=hE(1|t,i,a,s)}function h_(e,t){return(16&lq.mode)!=0?hT(0x2800800,8,e,t):hT(8390656,8,e,t)}function hC(e,t){return hA(2048,8,e,t)}function hI(e,t){return hT(4,2,e,t)}function hP(e,t){return hA(4,2,e,t)}function hR(e,t){var i;return i=4194308,(16&lq.mode)!=0&&(i|=0x1000000),hT(i,4,e,t)}function hO(e,t){return hA(4,4,e,t)}function hM(e,t){if("function"==typeof t)return t(e()),function(){t(null)};if(null!=t){t.hasOwnProperty("current")||eA("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(t).join(", ")+"}");var i=e();return t.current=i,function(){t.current=null}}}function hL(e,t,i){"function"!=typeof t&&eA("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var n,r=null!=i?i.concat([e]):null;return n=4194308,(16&lq.mode)!=0&&(n|=0x1000000),hT(n,4,hM.bind(null,t,e),r)}function hD(e,t,i){"function"!=typeof t&&eA("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var n=null!=i?i.concat([e]):null;return hA(4,4,hM.bind(null,t,e),n)}function hk(e,t){}function hN(e,t){return hr().memoizedState=[e,void 0===t?null:t],e}function hF(e,t){var i=hs(),n=void 0===t?null:t,r=i.memoizedState;return null!==r&&null!==n&&l7(n,r[1])?r[0]:(i.memoizedState=[e,n],e)}function hB(e,t){var i=hr(),n=e();return i.memoizedState=[n,void 0===t?null:t],n}function hU(e,t){var i=hs(),n=void 0===t?null:t,r=i.memoizedState;if(null!==r&&null!==n&&l7(n,r[1]))return r[0];var s=e();return i.memoizedState=[s,n],s}function hj(e){return hr().memoizedState=e,e}function hV(e){return hW(hs(),lK.memoizedState,e)}function hG(e){var t=hs();return null===lK?(t.memoizedState=e,e):hW(t,lK.memoizedState,e)}function hW(e,t,i){if(!((21&lX)!=0))return e.baseState&&(e.baseState=!1,uk=!0),e.memoizedState=i,i;if(!sy(i,t)){var n=n0();lq.lanes=lq.lanes|n,c5|=n,e.baseState=!0}return t}function hz(e,t,i){var n=n7;n7=0!==n&&n<4?n:4,e(!0);var r=lH.transition;lH.transition={};var s=lH.transition;lH.transition._updatedFibers=new Set;try{e(!1),t()}finally{n7=n,lH.transition=r,null===r&&s._updatedFibers&&(s._updatedFibers.size>10&&eT("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),s._updatedFibers.clear())}}function hY(){var e=hx(!1),t=e[0],i=e[1],n=hz.bind(null,i);return hr().memoizedState=n,[t,n]}function hH(){return[hh(ho)[0],hs().memoizedState]}function hX(){return[hu(ho)[0],hs().memoizedState]}var hq=!1;function hK(){var e,t=hr(),i=cQ.identifierPrefix;if(oO){e=":"+i+"R"+(n=ow,((r=oE)&~(1<<o_(r)-1)).toString(32)+n);var n,r,s=lZ++;s>0&&(e+="H"+s.toString(32)),e+=":"}else e=":"+i+"r"+(l0++).toString(32)+":";return t.memoizedState=e,e}function h$(){return hs().memoizedState}function hQ(e,t,i){"function"==typeof arguments[3]&&eA("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var n=dS(e),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(hZ(e))h0(t,r);else{var s=ly(e,t,r,n);null!==s&&(dT(s,e,n,dw()),h1(s,t,n))}nV(e,n)}function hJ(e,t,i){"function"==typeof arguments[3]&&eA("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var n=dS(e),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(hZ(e))h0(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)){var a,o=t.lastRenderedReducer;if(null!==o){a=lY.current,lY.current=h8;try{var l,h=t.lastRenderedState,u=o(h,i);if(r.hasEagerState=!0,r.eagerState=u,sy(u,h)){l=t.interleaved,null===l?(r.next=r,lv(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch(e){}finally{lY.current=a}}}var c=ly(e,t,r,n);null!==c&&(dT(c,e,n,dw()),h1(c,t,n))}nV(e,n)}function hZ(e){var t=e.alternate;return e===lq||null!==t&&t===lq}function h0(e,t){lJ=lQ=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function h1(e,t,i){if(nZ(i)){var n=t.lanes,r=(n&=e.pendingLanes)|i;t.lanes=r,n9(e,r)}}var h2={readContext:lm,useCallback:l8,useContext:l8,useEffect:l8,useImperativeHandle:l8,useInsertionEffect:l8,useLayoutEffect:l8,useMemo:l8,useReducer:l8,useRef:l8,useState:l8,useDebugValue:l8,useDeferredValue:l8,useTransition:l8,useMutableSource:l8,useSyncExternalStore:l8,useId:l8,unstable_isNewReconciler:!1},h3=null,h4=null,h5=null,h9=null,h6=null,h8=null,h7=null,ue=function(){eA("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},ut=function(){eA("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};h3={readContext:function(e){return lm(e)},useCallback:function(e,t){return l1="useCallback",l5(),l6(t),hN(e,t)},useContext:function(e){return l1="useContext",l5(),lm(e)},useEffect:function(e,t){return l1="useEffect",l5(),l6(t),h_(e,t)},useImperativeHandle:function(e,t,i){return l1="useImperativeHandle",l5(),l6(i),hL(e,t,i)},useInsertionEffect:function(e,t){return l1="useInsertionEffect",l5(),l6(t),hI(e,t)},useLayoutEffect:function(e,t){return l1="useLayoutEffect",l5(),l6(t),hR(e,t)},useMemo:function(e,t){l1="useMemo",l5(),l6(t);var i=lY.current;lY.current=h6;try{return hB(e,t)}finally{lY.current=i}},useReducer:function(e,t,i){l1="useReducer",l5();var n=lY.current;lY.current=h6;try{return hl(e,t,i)}finally{lY.current=n}},useRef:function(e){return l1="useRef",l5(),hw(e)},useState:function(e){l1="useState",l5();var t=lY.current;lY.current=h6;try{return hx(e)}finally{lY.current=t}},useDebugValue:function(e,t){return l1="useDebugValue",l5(),hk()},useDeferredValue:function(e){return l1="useDeferredValue",l5(),hj(e)},useTransition:function(){return l1="useTransition",l5(),hY()},useMutableSource:function(e,t,i){return l1="useMutableSource",l5(),hc()},useSyncExternalStore:function(e,t,i){return l1="useSyncExternalStore",l5(),hf(e,t,i)},useId:function(){return l1="useId",l5(),hK()},unstable_isNewReconciler:!1},h4={readContext:function(e){return lm(e)},useCallback:function(e,t){return l1="useCallback",l9(),hN(e,t)},useContext:function(e){return l1="useContext",l9(),lm(e)},useEffect:function(e,t){return l1="useEffect",l9(),h_(e,t)},useImperativeHandle:function(e,t,i){return l1="useImperativeHandle",l9(),hL(e,t,i)},useInsertionEffect:function(e,t){return l1="useInsertionEffect",l9(),hI(e,t)},useLayoutEffect:function(e,t){return l1="useLayoutEffect",l9(),hR(e,t)},useMemo:function(e,t){l1="useMemo",l9();var i=lY.current;lY.current=h6;try{return hB(e,t)}finally{lY.current=i}},useReducer:function(e,t,i){l1="useReducer",l9();var n=lY.current;lY.current=h6;try{return hl(e,t,i)}finally{lY.current=n}},useRef:function(e){return l1="useRef",l9(),hw(e)},useState:function(e){l1="useState",l9();var t=lY.current;lY.current=h6;try{return hx(e)}finally{lY.current=t}},useDebugValue:function(e,t){return l1="useDebugValue",l9(),hk()},useDeferredValue:function(e){return l1="useDeferredValue",l9(),hj(e)},useTransition:function(){return l1="useTransition",l9(),hY()},useMutableSource:function(e,t,i){return l1="useMutableSource",l9(),hc()},useSyncExternalStore:function(e,t,i){return l1="useSyncExternalStore",l9(),hf(e,t,i)},useId:function(){return l1="useId",l9(),hK()},unstable_isNewReconciler:!1},h5={readContext:function(e){return lm(e)},useCallback:function(e,t){return l1="useCallback",l9(),hF(e,t)},useContext:function(e){return l1="useContext",l9(),lm(e)},useEffect:function(e,t){return l1="useEffect",l9(),hC(e,t)},useImperativeHandle:function(e,t,i){return l1="useImperativeHandle",l9(),hD(e,t,i)},useInsertionEffect:function(e,t){return l1="useInsertionEffect",l9(),hP(e,t)},useLayoutEffect:function(e,t){return l1="useLayoutEffect",l9(),hO(e,t)},useMemo:function(e,t){l1="useMemo",l9();var i=lY.current;lY.current=h8;try{return hU(e,t)}finally{lY.current=i}},useReducer:function(e,t,i){l1="useReducer",l9();var n=lY.current;lY.current=h8;try{return hh(e,t,i)}finally{lY.current=n}},useRef:function(e){return l1="useRef",l9(),hS()},useState:function(e){l1="useState",l9();var t=lY.current;lY.current=h8;try{return hh(ho)}finally{lY.current=t}},useDebugValue:function(e,t){return l1="useDebugValue",l9(),hk()},useDeferredValue:function(e){return l1="useDeferredValue",l9(),hV(e)},useTransition:function(){return l1="useTransition",l9(),hH()},useMutableSource:function(e,t,i){return l1="useMutableSource",l9(),hd()},useSyncExternalStore:function(e,t,i){return l1="useSyncExternalStore",l9(),hp(e,t)},useId:function(){return l1="useId",l9(),h$()},unstable_isNewReconciler:!1},h9={readContext:function(e){return lm(e)},useCallback:function(e,t){return l1="useCallback",l9(),hF(e,t)},useContext:function(e){return l1="useContext",l9(),lm(e)},useEffect:function(e,t){return l1="useEffect",l9(),hC(e,t)},useImperativeHandle:function(e,t,i){return l1="useImperativeHandle",l9(),hD(e,t,i)},useInsertionEffect:function(e,t){return l1="useInsertionEffect",l9(),hP(e,t)},useLayoutEffect:function(e,t){return l1="useLayoutEffect",l9(),hO(e,t)},useMemo:function(e,t){l1="useMemo",l9();var i=lY.current;lY.current=h7;try{return hU(e,t)}finally{lY.current=i}},useReducer:function(e,t,i){l1="useReducer",l9();var n=lY.current;lY.current=h7;try{return hu(e,t,i)}finally{lY.current=n}},useRef:function(e){return l1="useRef",l9(),hS()},useState:function(e){l1="useState",l9();var t=lY.current;lY.current=h7;try{return hu(ho)}finally{lY.current=t}},useDebugValue:function(e,t){return l1="useDebugValue",l9(),hk()},useDeferredValue:function(e){return l1="useDeferredValue",l9(),hG(e)},useTransition:function(){return l1="useTransition",l9(),hX()},useMutableSource:function(e,t,i){return l1="useMutableSource",l9(),hd()},useSyncExternalStore:function(e,t,i){return l1="useSyncExternalStore",l9(),hp(e,t)},useId:function(){return l1="useId",l9(),h$()},unstable_isNewReconciler:!1},h6={readContext:function(e){return ue(),lm(e)},useCallback:function(e,t){return l1="useCallback",ut(),l5(),hN(e,t)},useContext:function(e){return l1="useContext",ut(),l5(),lm(e)},useEffect:function(e,t){return l1="useEffect",ut(),l5(),h_(e,t)},useImperativeHandle:function(e,t,i){return l1="useImperativeHandle",ut(),l5(),hL(e,t,i)},useInsertionEffect:function(e,t){return l1="useInsertionEffect",ut(),l5(),hI(e,t)},useLayoutEffect:function(e,t){return l1="useLayoutEffect",ut(),l5(),hR(e,t)},useMemo:function(e,t){l1="useMemo",ut(),l5();var i=lY.current;lY.current=h6;try{return hB(e,t)}finally{lY.current=i}},useReducer:function(e,t,i){l1="useReducer",ut(),l5();var n=lY.current;lY.current=h6;try{return hl(e,t,i)}finally{lY.current=n}},useRef:function(e){return l1="useRef",ut(),l5(),hw(e)},useState:function(e){l1="useState",ut(),l5();var t=lY.current;lY.current=h6;try{return hx(e)}finally{lY.current=t}},useDebugValue:function(e,t){return l1="useDebugValue",ut(),l5(),hk()},useDeferredValue:function(e){return l1="useDeferredValue",ut(),l5(),hj(e)},useTransition:function(){return l1="useTransition",ut(),l5(),hY()},useMutableSource:function(e,t,i){return l1="useMutableSource",ut(),l5(),hc()},useSyncExternalStore:function(e,t,i){return l1="useSyncExternalStore",ut(),l5(),hf(e,t,i)},useId:function(){return l1="useId",ut(),l5(),hK()},unstable_isNewReconciler:!1},h8={readContext:function(e){return ue(),lm(e)},useCallback:function(e,t){return l1="useCallback",ut(),l9(),hF(e,t)},useContext:function(e){return l1="useContext",ut(),l9(),lm(e)},useEffect:function(e,t){return l1="useEffect",ut(),l9(),hC(e,t)},useImperativeHandle:function(e,t,i){return l1="useImperativeHandle",ut(),l9(),hD(e,t,i)},useInsertionEffect:function(e,t){return l1="useInsertionEffect",ut(),l9(),hP(e,t)},useLayoutEffect:function(e,t){return l1="useLayoutEffect",ut(),l9(),hO(e,t)},useMemo:function(e,t){l1="useMemo",ut(),l9();var i=lY.current;lY.current=h8;try{return hU(e,t)}finally{lY.current=i}},useReducer:function(e,t,i){l1="useReducer",ut(),l9();var n=lY.current;lY.current=h8;try{return hh(e,t,i)}finally{lY.current=n}},useRef:function(e){return l1="useRef",ut(),l9(),hS()},useState:function(e){l1="useState",ut(),l9();var t=lY.current;lY.current=h8;try{return hh(ho)}finally{lY.current=t}},useDebugValue:function(e,t){return l1="useDebugValue",ut(),l9(),hk()},useDeferredValue:function(e){return l1="useDeferredValue",ut(),l9(),hV(e)},useTransition:function(){return l1="useTransition",ut(),l9(),hH()},useMutableSource:function(e,t,i){return l1="useMutableSource",ut(),l9(),hd()},useSyncExternalStore:function(e,t,i){return l1="useSyncExternalStore",ut(),l9(),hp(e,t)},useId:function(){return l1="useId",ut(),l9(),h$()},unstable_isNewReconciler:!1},h7={readContext:function(e){return ue(),lm(e)},useCallback:function(e,t){return l1="useCallback",ut(),l9(),hF(e,t)},useContext:function(e){return l1="useContext",ut(),l9(),lm(e)},useEffect:function(e,t){return l1="useEffect",ut(),l9(),hC(e,t)},useImperativeHandle:function(e,t,i){return l1="useImperativeHandle",ut(),l9(),hD(e,t,i)},useInsertionEffect:function(e,t){return l1="useInsertionEffect",ut(),l9(),hP(e,t)},useLayoutEffect:function(e,t){return l1="useLayoutEffect",ut(),l9(),hO(e,t)},useMemo:function(e,t){l1="useMemo",ut(),l9();var i=lY.current;lY.current=h8;try{return hU(e,t)}finally{lY.current=i}},useReducer:function(e,t,i){l1="useReducer",ut(),l9();var n=lY.current;lY.current=h8;try{return hu(e,t,i)}finally{lY.current=n}},useRef:function(e){return l1="useRef",ut(),l9(),hS()},useState:function(e){l1="useState",ut(),l9();var t=lY.current;lY.current=h8;try{return hu(ho)}finally{lY.current=t}},useDebugValue:function(e,t){return l1="useDebugValue",ut(),l9(),hk()},useDeferredValue:function(e){return l1="useDeferredValue",ut(),l9(),hG(e)},useTransition:function(){return l1="useTransition",ut(),l9(),hX()},useMutableSource:function(e,t,i){return l1="useMutableSource",ut(),l9(),hd()},useSyncExternalStore:function(e,t,i){return l1="useSyncExternalStore",ut(),l9(),hp(e,t)},useId:function(){return l1="useId",ut(),l9(),h$()},unstable_isNewReconciler:!1};var ui=eE.unstable_now,un=0,ur=-1,us=-1,ua=-1,uo=!1,ul=!1;function uh(e){us=ui(),e.actualStartTime<0&&(e.actualStartTime=ui())}function uu(e,t){if(us>=0){var i=ui()-us;e.actualDuration+=i,t&&(e.selfBaseDuration=i),us=-1}}function uc(e){if(ur>=0){var t=ui()-ur;ur=-1;for(var i=e.return;null!==i;){switch(i.tag){case 3:var n=i.stateNode;n.effectDuration+=t;return;case 12:var r=i.stateNode;r.effectDuration+=t;return}i=i.return}}}function ud(e){if(ua>=0){var t=ui()-ua;ua=-1;for(var i=e.return;null!==i;){switch(i.tag){case 3:var n=i.stateNode;null!==n&&(n.passiveEffectDuration+=t);return;case 12:var r=i.stateNode;null!==r&&(r.passiveEffectDuration+=t);return}i=i.return}}}function uf(){ur=ui()}function up(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}function um(e,t){if(e&&e.defaultProps){var i=tl({},t),n=e.defaultProps;for(var r in n)void 0===i[r]&&(i[r]=n[r]);return i}return t}var ug={};z=new Set,Y=new Set,H=new Set,X=new Set,Q=new Set,q=new Set,J=new Set,Z=new Set,ee=new Set;var uv=new Set;function uy(e,t,i,n){var r=e.memoizedState,s=i(n,r);if(8&e.mode){nO(!0);try{s=i(n,r)}finally{nO(!1)}}K(t,s);var a=null==s?r:tl({},r,s);e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}$=function(e,t){if(null!==e&&"function"!=typeof e){var i=t+"_"+e;uv.has(i)||(uv.add(i),eA("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},K=function(e,t){if(void 0===t){var i=tv(e)||"Component";q.has(i)||(q.add(i),eA("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",i))}},Object.defineProperty(ug,"_processChildContext",{enumerable:!1,value:function(){throw Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(ug);var ub={isMounted:function(e){var t=na.current;if(null!==t&&1===t.tag){var i=t.stateNode;i._warnedAboutRefsInRender||eA("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",tb(t)||"A component"),i._warnedAboutRefsInRender=!0}var n=ns(e);return!!n&&no(n)===n},enqueueSetState:function(e,t,i){var n=ns(e),r=dw(),s=dS(n),a=lS(r,s);a.payload=t,null!=i&&($(i,"setState"),a.callback=i);var o=lT(n,a,s);null!==o&&(dT(o,n,s,r),lA(o,n,s)),nV(n,s)},enqueueReplaceState:function(e,t,i){var n=ns(e),r=dw(),s=dS(n),a=lS(r,s);a.tag=1,a.payload=t,null!=i&&($(i,"replaceState"),a.callback=i);var o=lT(n,a,s);null!==o&&(dT(o,n,s,r),lA(o,n,s)),nV(n,s)},enqueueForceUpdate:function(e,t){var i=ns(e),n=dw(),r=dS(i),s=lS(n,r);s.tag=2,null!=t&&($(t,"forceUpdate"),s.callback=t);var a=lT(i,s,r);null!==a&&(dT(a,i,r,n),lA(a,i,r)),null!==nI&&"function"==typeof nI.markForceUpdateScheduled&&nI.markForceUpdateScheduled(i,r)}};function ux(e,t,i,n,r,s,a){var o=e.stateNode;if("function"==typeof o.shouldComponentUpdate){var l=o.shouldComponentUpdate(n,s,a);if(8&e.mode){nO(!0);try{l=o.shouldComponentUpdate(n,s,a)}finally{nO(!1)}}return void 0===l&&eA("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",tv(t)||"Component"),l}return!t.prototype||!t.prototype.isPureReactComponent||!sb(i,n)||!sb(r,s)}function uE(e,t){t.updater=ub,e.stateNode=t,t._reactInternals=e,t._reactInternalInstance=ug}function uw(e,t,i){var n=!1,r=a4,s=a4,a=t.contextType;if("contextType"in t&&!(null===a||void 0!==a&&a.$$typeof===e7&&void 0===a._context)&&!Z.has(t)){Z.add(t);var o="";o=void 0===a?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof a?" However, it is set to a "+typeof a+".":a.$$typeof===e8?" Did you accidentally pass the Context.Provider instead?":void 0!==a._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(a).join(", ")+"}.",eA("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",tv(t)||"Component",o)}"object"==typeof a&&null!==a?s=lm(a):(r=a8(e,t,!0),s=(n=null!=t.contextTypes)?oe(e,r):a4);var l=new t(i,s);if(8&e.mode){nO(!0);try{l=new t(i,s)}finally{nO(!1)}}var h=e.memoizedState=null!==l.state&&void 0!==l.state?l.state:null;if(uE(e,l),"function"==typeof t.getDerivedStateFromProps&&null===h){var u=tv(t)||"Component";Y.has(u)||(Y.add(u),eA("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",u,null===l.state?"null":"undefined",u))}if("function"==typeof t.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate){var c=null,d=null,f=null;if("function"==typeof l.componentWillMount&&!0!==l.componentWillMount.__suppressDeprecationWarning?c="componentWillMount":"function"==typeof l.UNSAFE_componentWillMount&&(c="UNSAFE_componentWillMount"),"function"==typeof l.componentWillReceiveProps&&!0!==l.componentWillReceiveProps.__suppressDeprecationWarning?d="componentWillReceiveProps":"function"==typeof l.UNSAFE_componentWillReceiveProps&&(d="UNSAFE_componentWillReceiveProps"),"function"==typeof l.componentWillUpdate&&!0!==l.componentWillUpdate.__suppressDeprecationWarning?f="componentWillUpdate":"function"==typeof l.UNSAFE_componentWillUpdate&&(f="UNSAFE_componentWillUpdate"),null!==c||null!==d||null!==f){var p=tv(t)||"Component",m="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";X.has(p)||(X.add(p),eA("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",p,m,null!==c?"\n  "+c:"",null!==d?"\n  "+d:"",null!==f?"\n  "+f:""))}}return n&&a7(e,r,s),l}function uS(e,t,i,n){var r=t.state;if("function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==r){var s=tb(e)||"Component";z.has(s)||(z.add(s),eA("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",s)),ub.enqueueReplaceState(t,t.state,null)}}function uT(e,t,i,n){r=e.stateNode,s=tv(t)||"Component",r.render||(t.prototype&&"function"==typeof t.prototype.render?eA("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",s):eA("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",s)),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||eA("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",s),r.getDefaultProps&&!r.getDefaultProps.isReactClassApproved&&eA("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",s),r.propTypes&&eA("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",s),r.contextType&&eA("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",s),t.childContextTypes&&!ee.has(t)&&(8&e.mode)==0&&(ee.add(t),eA("%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead\n\n.Learn more about this warning here: https://reactjs.org/link/legacy-context",s)),t.contextTypes&&!ee.has(t)&&(8&e.mode)==0&&(ee.add(t),eA("%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",s)),r.contextTypes&&eA("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",s),t.contextType&&t.contextTypes&&!J.has(t)&&(J.add(t),eA("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",s)),"function"==typeof r.componentShouldUpdate&&eA("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",s),t.prototype&&t.prototype.isPureReactComponent&&void 0!==r.shouldComponentUpdate&&eA("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",tv(t)||"A pure component"),"function"==typeof r.componentDidUnmount&&eA("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",s),"function"==typeof r.componentDidReceiveProps&&eA("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",s),"function"==typeof r.componentWillRecieveProps&&eA("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",s),"function"==typeof r.UNSAFE_componentWillRecieveProps&&eA("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",s),a=r.props!==i,void 0!==r.props&&a&&eA("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",s,s),r.defaultProps&&eA("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",s,s),"function"!=typeof r.getSnapshotBeforeUpdate||"function"==typeof r.componentDidUpdate||H.has(t)||(H.add(t),eA("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",tv(t))),"function"==typeof r.getDerivedStateFromProps&&eA("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",s),"function"==typeof r.getDerivedStateFromError&&eA("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",s),"function"==typeof t.getSnapshotBeforeUpdate&&eA("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",s),(o=r.state)&&("object"!=typeof o||t$(o))&&eA("%s.state: must be set to an object or null",s),"function"==typeof r.getChildContext&&"object"!=typeof t.childContextTypes&&eA("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",s);var r,s,a,o,l,h,u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},lE(e);var c=t.contextType;if("object"==typeof c&&null!==c)u.context=lm(c);else{var d=a8(e,t,!0);u.context=oe(e,d)}if(u.state===i){var f=tv(t)||"Component";Q.has(f)||(Q.add(f),eA("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",f))}8&e.mode&&oK.recordLegacyContextWarning(e,u),oK.recordUnsafeLifecycleWarnings(e,u),u.state=e.memoizedState;var p=t.getDerivedStateFromProps;"function"==typeof p&&(uy(e,t,p,i),u.state=e.memoizedState),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof u.getSnapshotBeforeUpdate&&("function"==typeof u.UNSAFE_componentWillMount||"function"==typeof u.componentWillMount)&&(l=u.state,"function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount(),l!==u.state&&(eA("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",tb(e)||"Component"),ub.enqueueReplaceState(u,u.state,null)),lC(e,i,u,n),u.state=e.memoizedState),"function"==typeof u.componentDidMount&&(h=4194308,(16&e.mode)!=0&&(h|=0x1000000),e.flags|=h)}function uA(e,t){return{value:e,source:t,stack:tm(t),digest:null}}function u_(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function uC(e,t){try{var i,n=t.value,r=t.source,s=t.stack;if(null!=n&&n._suppressLogging){if(1===e.tag)return;console.error(n)}var a=r?tb(r):null;if(3===e.tag)i="Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.";else{var o=tb(e)||"Anonymous";i="React will try to recreate this component tree from scratch using the error boundary you provided, "+o+"."}var l=(a?"The above error occurred in the <"+a+"> component:":"The above error occurred in one of your React components:")+"\n"+(null!==s?s:"")+"\n\n"+i;console.error(l)}catch(e){setTimeout(function(){throw e})}}var uI="function"==typeof WeakMap?WeakMap:Map;function uP(e,t,i){var n=lS(-1,i);n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){dY(r),uC(e,t)},n}function uR(e,t,i){var n=lS(-1,i);n.tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fn(e),uC(e,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){fn(e),uC(e,t),"function"!=typeof r&&(null===da?da=new Set([this]):da.add(this));var i=t.value,n=t.stack;this.componentDidCatch(i,{componentStack:null!==n?n:""}),"function"==typeof r||(1&e.lanes)!=0||eA("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",tb(e)||"Unknown")}),n}function uO(e,t,i){var n,r=e.pingCache;if(null===r?(r=e.pingCache=new uI,n=new Set,r.set(t,n)):void 0===(n=r.get(t))&&(n=new Set,r.set(t,n)),!n.has(i)){n.add(i);var s=dq.bind(null,e,t,i);nR&&d3(e,i),t.then(s,s)}}function uM(e){var t=e;do{if(13===t.tag&&function(e,t){var i=e.memoizedState;return null!==i?null!==i.dehydrated:(e.memoizedProps,!0)}(t))return t;t=t.return}while(null!==t)return null}function uL(e,t,i,n,r){if((1&e.mode)==0){if(e===t)e.flags|=65536;else{if(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag){if(null===i.alternate)i.tag=17;else{var s=lS(-1,1);s.tag=2,lT(i,s,1)}}i.lanes=1|i.lanes}return e}return e.flags|=65536,e.lanes=r,e}var uD=ew.ReactCurrentOwner,uk=!1;function uN(e,t,i,n){null===e?t.child=lr(t,null,i,n):t.child=ln(t,e.child,i,n)}function uF(e,t,i,n,r){if(t.type!==t.elementType){var s,a,o=i.propTypes;o&&aJ(o,n,"prop",tv(i))}var l=i.render,h=t.ref;if(lp(t,r),nk(t),uD.current=t,tw=!0,s=he(e,t,l,n,h,r),a=ht(),8&t.mode){nO(!0);try{s=he(e,t,l,n,h,r),a=ht()}finally{nO(!1)}}return(tw=!1,nN(),null===e||uk)?(oO&&a&&oA(t),t.flags|=1,uN(e,t,s,r),t.child):(hi(e,t,r),u6(e,t,r))}function uB(e,t,i,n,r){if(null===e){var s=i.type;if("function"==typeof s&&!fa(s)&&void 0===s.defaultProps&&null===i.compare&&void 0===i.defaultProps){var a=s;return a=fe(s),t.tag=15,t.type=a,uX(t,s),uU(e,t,a,n,r)}var o=s.propTypes;if(o&&aJ(o,n,"prop",tv(s)),void 0!==i.defaultProps){var l=tv(s)||"Unknown";eh[l]||(eA("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",l),eh[l]=!0)}var h=fl(i.type,null,n,t,t.mode,r);return h.ref=t.ref,h.return=t,t.child=h,h}var u=i.type,c=u.propTypes;c&&aJ(c,n,"prop",tv(u));var d=e.child;if(!u8(e,r)){var f=d.memoizedProps,p=i.compare;if((p=null!==p?p:sb)(f,n)&&e.ref===t.ref)return u6(e,t,r)}t.flags|=1;var m=fo(d,n);return m.ref=t.ref,m.return=t,t.child=m,m}function uU(e,t,i,n,r){if(t.type!==t.elementType){var s=t.elementType;if(s.$$typeof===tr){var a=s,o=a._payload,l=a._init;try{s=l(o)}catch(e){s=null}var h=s&&s.propTypes;h&&aJ(h,n,"prop",tv(s))}}if(null!==e){var u=e.memoizedProps;if(sb(u,n)&&e.ref===t.ref&&t.type===e.type){if(uk=!1,t.pendingProps=n=u,!u8(e,r))return t.lanes=e.lanes,u6(e,t,r);(131072&e.flags)!=0&&(uk=!0)}}return uG(e,t,i,n,r)}function uj(e,t,i){var n,r,s=t.pendingProps,a=s.children,o=null!==e?e.memoizedState:null;if("hidden"===s.mode){if((1&t.mode)==0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dL(t,i);else if((0x40000000&i)!=0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dL(t,null!==o?o.baseLanes:i);else{return n=null!==o?o.baseLanes|i:i,t.lanes=t.childLanes=0x40000000,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,dL(t,n),null}}else null!==o?(r=o.baseLanes|i,t.memoizedState=null):r=i,dL(t,r);return uN(e,t,a,i),t.child}function uV(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function uG(e,t,i,n,r){if(t.type!==t.elementType){var s,a,o,l=i.propTypes;l&&aJ(l,n,"prop",tv(i))}var h=a8(t,i,!0);if(s=oe(t,h),lp(t,r),nk(t),uD.current=t,tw=!0,a=he(e,t,i,n,s,r),o=ht(),8&t.mode){nO(!0);try{a=he(e,t,i,n,s,r),o=ht()}finally{nO(!1)}}return(tw=!1,nN(),null===e||uk)?(oO&&o&&oA(t),t.flags|=1,uN(e,t,a,r),t.child):(hi(e,t,r),u6(e,t,r))}function uW(e,t,i,n,r){switch(fA(t)){case!1:var s,a,o=t.stateNode,l=new t.type(t.memoizedProps,o.context).state;o.updater.enqueueSetState(o,l,null);break;case!0:t.flags|=128,t.flags|=65536;var h,u=Error("Simulated error coming from DevTools"),c=(h=r)&-h;t.lanes=t.lanes|c;var d=uR(t,uA(u,t),c);l_(t,d)}if(t.type!==t.elementType){var f=i.propTypes;f&&aJ(f,n,"prop",tv(i))}oi(i)?(s=!0,oo(t)):s=!1,lp(t,r),null===t.stateNode?(u9(e,t),uw(t,i,n),uT(t,i,n,r),a=!0):a=null===e?function(e,t,i,n){var r,s,a,o=e.stateNode,l=e.memoizedProps;o.props=l;var h=o.context,u=t.contextType,c=a4;if("object"==typeof u&&null!==u)c=lm(u);else{var d=a8(e,t,!0);c=oe(e,d)}var f=t.getDerivedStateFromProps,p="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate;p||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||l===i&&h===c||uS(e,o,i,c),lx=!1;var m=e.memoizedState,g=o.state=m;if(lC(e,i,o,n),g=e.memoizedState,l===i&&m===g&&!ot()&&!lx)return"function"==typeof o.componentDidMount&&(r=4194308,(16&e.mode)!=0&&(r|=0x1000000),e.flags|=r),!1;"function"==typeof f&&(uy(e,t,f,i),g=e.memoizedState);var v=lx||ux(e,t,l,i,m,g,c);return v?(p||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(s=4194308,(16&e.mode)!=0&&(s|=0x1000000),e.flags|=s)):("function"==typeof o.componentDidMount&&(a=4194308,(16&e.mode)!=0&&(a|=0x1000000),e.flags|=a),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=c,v}(t,i,n,r):function(e,t,i,n,r){var s=t.stateNode;lw(e,t);var a=t.memoizedProps,o=t.type===t.elementType?a:um(t.type,a);s.props=o;var l=t.pendingProps,h=s.context,u=i.contextType,c=a4;if("object"==typeof u&&null!==u)c=lm(u);else{var d=a8(t,i,!0);c=oe(t,d)}var f=i.getDerivedStateFromProps,p="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate;p||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||a===l&&h===c||uS(t,s,n,c),lx=!1;var m=t.memoizedState,g=s.state=m;if(lC(t,n,s,r),g=t.memoizedState,a===l&&m===g&&!ot()&&!lx)return"function"==typeof s.componentDidUpdate&&(a!==e.memoizedProps||m!==e.memoizedState)&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(a!==e.memoizedProps||m!==e.memoizedState)&&(t.flags|=1024),!1;"function"==typeof f&&(uy(t,i,f,n),g=t.memoizedState);var v=lx||ux(t,i,o,n,m,g,c)||!1;return v?(p||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(n,g,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,g,c)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"==typeof s.componentDidUpdate&&(a!==e.memoizedProps||m!==e.memoizedState)&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(a!==e.memoizedProps||m!==e.memoizedState)&&(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,v}(e,t,i,n,r);var p=uz(e,t,i,a,s,r),m=t.stateNode;return a&&m.props!==n&&(ea||eA("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",tb(t)||"a component"),ea=!0),p}function uz(e,t,i,n,r,s){uV(e,t);var a,o,l=(128&t.flags)!=0;if(!n&&!l)return r&&ol(t,i,!1),u6(e,t,s);var h=t.stateNode;if(uD.current=t,l&&"function"!=typeof i.getDerivedStateFromError)o=null,us=-1;else{if(nk(t),tw=!0,o=h.render(),8&t.mode){nO(!0);try{h.render()}finally{nO(!1)}}tw=!1,nN()}return(t.flags|=1,null!==e&&l)?(a=o,t.child=ln(t,e.child,null,s),t.child=ln(t,null,a,s)):uN(e,t,o,s),t.memoizedState=h.state,r&&ol(t,i,!0),t.child}function uY(e){var t=e.stateNode;t.pendingContext?os(e,t.pendingContext,t.pendingContext!==t.context):t.context&&os(e,t.context,!1),lk(e,t.containerInfo)}function uH(e,t,i,n,r){return oY(),oX(r),t.flags|=256,uN(e,t,i,n),t.child}function uX(e,t){if(t&&t.childContextTypes&&eA("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var i="",n=tS();n&&(i+="\n\nCheck the render method of `"+n+"`.");var r=n||"",s=e._debugSource;s&&(r=s.fileName+":"+s.lineNumber),es[r]||(es[r]=!0,eA("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",i))}if(void 0!==t.defaultProps){var a=tv(t)||"Unknown";eh[a]||(eA("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",a),eh[a]=!0)}if("function"==typeof t.getDerivedStateFromProps){var o=tv(t)||"Unknown";er[o]||(eA("%s: Function components do not support getDerivedStateFromProps.",o),er[o]=!0)}if("object"==typeof t.contextType&&null!==t.contextType){var l=tv(t)||"Unknown";en[l]||(eA("%s: Function components do not support contextType.",l),en[l]=!0)}}et={},ei={},en={},er={},es={},ea=!1,eo={},el={},eh={};var uq={dehydrated:null,treeContext:null,retryLane:0};function uK(e){return{baseLanes:e,cachePool:null,transitions:null}}function u$(e,t,i){var n=t.pendingProps;f_(t)&&(t.flags|=128);var r=lj.current,s=!1,a=(128&t.flags)!=0;if(a||(o=r,(null===e||null!==e.memoizedState)&&(2&o)!=0)?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(r|=1),lV(t,r&=1),null===e){oV(t);var o,l,h,u,c,d,f=t.memoizedState;if(null!==f){var p=f.dehydrated;if(null!==p)return(1&t.mode)==0?(eA("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),t.lanes=1):aD(p)?t.lanes=8:t.lanes=0x40000000,null}var m=n.children,g=n.fallback;if(!s)return uQ(t,m);var v=(u=t.mode,c=t.child,d={mode:"hidden",children:m},(1&u)==0&&null!==c?((l=c).childLanes=0,l.pendingProps=d,2&t.mode&&(l.actualDuration=0,l.actualStartTime=-1,l.selfBaseDuration=0,l.treeBaseDuration=0)):l=uJ(d,u),h=fu(g,u,i,null),l.return=t,h.return=t,l.sibling=h,t.child=l,h);return t.child.memoizedState=uK(i),t.memoizedState=uq,v}var y=e.memoizedState;if(null!==y){var b=y.dehydrated;if(null!==b)return function(e,t,i,n,r,s,a){if(i){if(256&t.flags)return t.flags&=-257,uZ(e,t,a,u_(Error("There was an error while hydrating this Suspense boundary. Switched to client rendering.")));if(null!==t.memoizedState)return t.child=e.child,t.flags|=128,null;var o,l,h,u,c,d,f=n.children,p=n.fallback,m=(c=uJ({mode:"visible",children:f},u=t.mode),d=fu(p,u,a,null),d.flags|=2,c.return=t,d.return=t,c.sibling=d,t.child=c,(1&t.mode)!=0&&ln(t,e.child,null,a),d);return t.child.memoizedState=uK(a),t.memoizedState=uq,m}if(oO&&eA("We should not be hydrating here. This is a bug in React. Please file a bug."),(1&t.mode)==0)return uZ(e,t,a,null);if(aD(r)){var g,v,y,b,x,E,w,S=((b=r.nextSibling&&r.nextSibling.dataset)&&(g=b.dgst,v=b.msg,y=b.stck),{message:v,digest:g,stack:y});return x=S.digest,E=S.message,w=S.stack,uZ(e,t,a,u_(E?Error(E):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),x,w))}var T=(a&e.childLanes)!=0;if(uk||T){var A=cQ;if(null!==A){var _=function(e,t){var i;switch(t&-t){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:i=32;break;case 0x20000000:i=0x10000000;break;default:i=0}return(i&(e.suspendedLanes|t))!=0?0:i}(A,a);0!==_&&_!==s.retryLane&&(s.retryLane=_,lb(e,_),dT(A,e,_,-1))}return dB(),uZ(e,t,a,u_(Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition.")))}if(aL(r)){t.flags|=128,t.child=e.child;var C=d$.bind(null,e);return r._reactRetry=C,null}o=t,l=r,h=s.treeContext,oR=ak(l.nextSibling),oP=o,oO=!0,oL=null,oM=!1,null!==h&&(oI(),oy[ob++]=oE,oy[ob++]=ow,oy[ob++]=ox,oE=h.id,ow=h.overflow,ox=o);var I=uQ(t,n.children);return I.flags|=4096,I}(e,t,a,n,b,y,i)}if(s){var x,E,w,S,T,A,_,C=n.fallback,I=(x=n.children,S=t.mode,A=(T=e.child).sibling,_={mode:"hidden",children:x},(1&S)==0&&t.child!==T?((E=t.child).childLanes=0,E.pendingProps=_,2&t.mode&&(E.actualDuration=0,E.actualStartTime=-1,E.selfBaseDuration=T.selfBaseDuration,E.treeBaseDuration=T.treeBaseDuration),t.deletions=null):(E=fo(T,_)).subtreeFlags=0xe00000&T.subtreeFlags,null!==A?w=fo(A,C):(w=fu(C,S,i,null),w.flags|=2),w.return=t,E.return=t,E.sibling=w,t.child=E,w),P=t.child,R=e.child.memoizedState;return P.memoizedState=null===R?uK(i):{baseLanes:R.baseLanes|i,cachePool:null,transitions:R.transitions},P.childLanes=e.childLanes&~i,t.memoizedState=uq,I}var O=function(e,t,i,n){var r=e.child,s=r.sibling,a=fo(r,{mode:"visible",children:i});if((1&t.mode)==0&&(a.lanes=n),a.return=t,a.sibling=null,null!==s){var o=t.deletions;null===o?(t.deletions=[s],t.flags|=16):o.push(s)}return t.child=a,a}(e,t,n.children,i);return t.memoizedState=null,O}function uQ(e,t,i){var n=uJ({mode:"visible",children:t},e.mode);return n.return=e,e.child=n,n}function uJ(e,t,i){return fc(e,t,0,null)}function uZ(e,t,i,n){null!==n&&oX(n),ln(t,e.child,null,i);var r=t.pendingProps.children,s=uQ(t,r);return s.flags|=2,t.memoizedState=null,s}function u0(e,t,i){e.lanes=e.lanes|t;var n=e.alternate;null!==n&&(n.lanes=n.lanes|t),lf(e.return,t,i)}function u1(e,t){var i=t$(e),n=!i&&"function"==typeof to(e);if(i||n){var r=i?"array":"iterable";return eA("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",r,t,r),!1}return!0}function u2(e,t,i,n,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=r)}function u3(e,t,i){var n=t.pendingProps,r=n.revealOrder,s=n.tail,a=n.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!eo[e]){if(eo[e]=!0,"string"==typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":eA('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":eA('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:eA('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else eA('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}}(r),void 0===s||el[s]||("collapsed"!==s&&"hidden"!==s?(el[s]=!0,eA('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',s)):"forwards"!==r&&"backwards"!==r&&(el[s]=!0,eA('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',s))),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e){if(t$(e)){for(var i=0;i<e.length;i++)if(!u1(e[i],i))return}else{var n=to(e);if("function"==typeof n){var r=n.call(e);if(r)for(var s=r.next(),a=0;!s.done;s=r.next()){if(!u1(s.value,a))return;a++}}else eA('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}}(a,r),uN(e,t,a,i);var o=lj.current;if((2&o)!=0?(o=1&o|2,t.flags|=128):(null!==e&&(128&e.flags)!=0&&function(e,t,i){for(var n=t;null!==n;){if(13===n.tag)null!==n.memoizedState&&u0(n,i,e);else if(19===n.tag)u0(n,i,e);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(t,t.child,i),o&=1),lV(t,o),(1&t.mode)==0)t.memoizedState=null;else switch(r){case"forwards":var l,h=function(e){for(var t=e,i=null;null!==t;){var n=t.alternate;null!==n&&null===lG(n)&&(i=t),t=t.sibling}return i}(t.child);null===h?(l=t.child,t.child=null):(l=h.sibling,h.sibling=null),u2(t,!1,l,h,s);break;case"backwards":var u=null,c=t.child;for(t.child=null;null!==c;){var d=c.alternate;if(null!==d&&null===lG(d)){t.child=c;break}var f=c.sibling;c.sibling=u,u=c,c=f}u2(t,!0,u,null,s);break;case"together":u2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}var u4=!1,u5=!1;function u9(e,t){(1&t.mode)==0&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function u6(e,t,i){var n;return(null!==e&&(t.dependencies=e.dependencies),us=-1,n=t.lanes,c5|=n,(i&t.childLanes)!=0)?(!function(e,t){if(null!==e&&t.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==t.child){var i=t.child,n=fo(i,i.pendingProps);for(t.child=n,n.return=t;null!==i.sibling;)i=i.sibling,(n=n.sibling=fo(i,i.pendingProps)).return=t;n.sibling=null}}(e,t),t.child):null}function u8(e,t){return(e.lanes&t)!=0}function u7(e,t,i){if(t._debugNeedsRemount&&null!==e)return function(e,t,i){var n=t.return;if(null===n)throw Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,i.index=t.index,i.sibling=t.sibling,i.return=t.return,i.ref=t.ref,t===n.child)n.child=i;else{var r=n.child;if(null===r)throw Error("Expected parent to have a child.");for(;r.sibling!==t;)if(null===(r=r.sibling))throw Error("Expected to find the previous sibling.");r.sibling=i}var s=n.deletions;return null===s?(n.deletions=[e],n.flags|=16):s.push(e),i.flags|=2,i}(e,t,fl(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(null!==e){if(e.memoizedProps!==t.pendingProps||ot()||t.type!==e.type)uk=!0;else{if(!u8(e,i)&&(128&t.flags)==0)return uk=!1,function(e,t,i){switch(t.tag){case 3:uY(t),t.stateNode,oY();break;case 5:lB(t);break;case 1:oi(t.type)&&oo(t);break;case 4:lk(t,t.stateNode.containerInfo);break;case 10:var n=t.memoizedProps.value,r=t.type._context;lc(t,r,n);break;case 12:(i&t.childLanes)!=0&&(t.flags|=4);var s=t.stateNode;s.effectDuration=0,s.passiveEffectDuration=0;break;case 13:var a=t.memoizedState;if(null!==a){if(null!==a.dehydrated)return lV(t,1&lj.current),t.flags|=128,null;if((i&t.child.childLanes)!=0)return u$(e,t,i);lV(t,1&lj.current);var o=u6(e,t,i);if(null!==o)return o.sibling;return null}lV(t,1&lj.current);break;case 19:var l=(128&e.flags)!=0,h=(i&t.childLanes)!=0;if(l){if(h)return u3(e,t,i);t.flags|=128}var u=t.memoizedState;if(null!==u&&(u.rendering=null,u.tail=null,u.lastEffect=null),lV(t,lj.current),!h)return null;break;case 22:case 23:return t.lanes=0,uj(e,t,i)}return u6(e,t,i)}(e,t,i);uk=(131072&e.flags)!=0}}else if(uk=!1,oO&&(oI(),(1048576&t.flags)!=0)){var n=t.index;oT(t,(oI(),ov),n)}switch(t.lanes=0,t.tag){case 2:return function(e,t,i,n){u9(e,t);var r,s,a,o=t.pendingProps,l=a8(t,i,!1);if(r=oe(t,l),lp(t,n),nk(t),i.prototype&&"function"==typeof i.prototype.render){var h=tv(i)||"Unknown";et[h]||(eA("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",h,h),et[h]=!0)}if(8&t.mode&&oK.recordLegacyContextWarning(t,null),tw=!0,uD.current=t,s=he(null,t,i,o,r,n),a=ht(),tw=!1,nN(),t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof){var u=tv(i)||"Unknown";ei[u]||(eA("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",u,u,u),ei[u]=!0)}if("object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof){var c=tv(i)||"Unknown";ei[c]||(eA("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",c,c,c),ei[c]=!0),t.tag=1,t.memoizedState=null,t.updateQueue=null;var d=!1;return oi(i)?(d=!0,oo(t)):d=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,lE(t),uE(t,s),uT(t,i,o,n),uz(null,t,i,!0,d,n)}if(t.tag=0,8&t.mode){nO(!0);try{s=he(null,t,i,o,r,n),a=ht()}finally{nO(!1)}}return oO&&a&&oA(t),uN(null,t,s,n),uX(t,i),t.child}(e,t,t.type,i);case 16:var r=t.elementType;return function(e,t,i,n){u9(e,t);var r=t.pendingProps,s=i._payload,a=(0,i._init)(s);t.type=a;var o=t.tag=function(e){if("function"==typeof e)return fa(e)?1:0;if(null!=e){var t=e.$$typeof;if(t===te)return 11;if(t===tn)return 14}return 2}(a),l=um(a,r);switch(o){case 0:return uX(t,a),t.type=a=fe(a),uG(null,t,a,l,n);case 1:return t.type=a=fe(a),uW(null,t,a,l,n);case 11:return t.type=a=ft(a),uF(null,t,a,l,n);case 14:if(t.type!==t.elementType){var h=a.propTypes;h&&aJ(h,l,"prop",tv(a))}return uB(null,t,a,um(a.type,l),n)}var u="";throw null!==a&&"object"==typeof a&&a.$$typeof===tr&&(u=" Did you wrap a component in React.lazy() more than once?"),Error("Element type is invalid. Received a promise that resolves to: "+a+". Lazy element type must resolve to a class or function."+u)}(e,t,r,i);case 0:var s=t.type,a=t.pendingProps,o=t.elementType===s?a:um(s,a);return uG(e,t,s,o,i);case 1:var l=t.type,h=t.pendingProps,u=t.elementType===l?h:um(l,h);return uW(e,t,l,u,i);case 3:return function(e,t,i){if(uY(t),null===e)throw Error("Should have a current fiber. This is a bug in React.");var n=t.pendingProps,r=t.memoizedState,s=r.element;lw(e,t),lC(t,n,null,i);var a=t.memoizedState;t.stateNode;var o=a.element;if(r.isDehydrated){var l={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions};if(t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){var h=uA(Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),t);return uH(e,t,o,i,h)}if(o!==s){var u=uA(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),t);return uH(e,t,o,i,u)}oR=ak(t.stateNode.containerInfo.firstChild),oP=t,oO=!0,oL=null,oM=!1;var c=lr(t,null,o,i);t.child=c;for(var d=c;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(oY(),o===s)return u6(e,t,i);uN(e,t,o,i)}return t.child}(e,t,i);case 5:return lB(t),null===e&&oV(t),E=t.type,w=t.pendingProps,S=null!==e?e.memoizedProps:null,T=w.children,a_(E,w)?T=null:null!==S&&a_(E,S)&&(t.flags|=32),uV(e,t),uN(e,t,T,i),t.child;case 6:return null===e&&oV(t),null;case 13:return u$(e,t,i);case 4:return lk(t,t.stateNode.containerInfo),A=t.pendingProps,null===e?t.child=ln(t,null,A,i):uN(e,t,A,i),t.child;case 11:var c=t.type,d=t.pendingProps,f=t.elementType===c?d:um(c,d);return uF(e,t,c,f,i);case 7:return _=t.pendingProps,uN(e,t,_,i),t.child;case 8:return C=t.pendingProps.children,uN(e,t,C,i),t.child;case 12:return t.flags|=4,(I=t.stateNode).effectDuration=0,I.passiveEffectDuration=0,P=t.pendingProps.children,uN(e,t,P,i),t.child;case 10:return function(e,t,i){var n=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value;"value"in r||u4||(u4=!0,eA("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var o=t.type.propTypes;if(o&&aJ(o,r,"prop","Context.Provider"),lc(t,n,a),null!==s){if(sy(s.value,a)){if(s.children===r.children&&!ot())return u6(e,t,i)}else!function(e,t,i){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var r=void 0,s=n.dependencies;if(null!==s){r=n.child;for(var a=s.firstContext;null!==a;){if(a.context===t){if(1===n.tag){var o,l=lS(-1,(o=i)&-o);l.tag=2;var h=n.updateQueue;if(null===h);else{var u=h.shared,c=u.pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}n.lanes=n.lanes|i;var d=n.alternate;null!==d&&(d.lanes=d.lanes|i),lf(n.return,i,e),s.lanes=s.lanes|i;break}a=a.next}}else if(10===n.tag)r=n.type===e.type?null:n.child;else if(18===n.tag){var f=n.return;if(null===f)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");f.lanes=f.lanes|i;var p=f.alternate;null!==p&&(p.lanes=p.lanes|i),lf(f,i,e),r=n.sibling}else r=n.child;if(null!==r)r.return=n;else for(r=n;null!==r;){if(r===e){r=null;break}var m=r.sibling;if(null!==m){m.return=r.return,r=m;break}r=r.return}n=r}}(t,n,i)}return uN(e,t,r.children,i),t.child}(e,t,i);case 9:return void 0===(y=t.type)._context?y===y.Consumer||u5||(u5=!0,eA("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")):y=y._context,"function"!=typeof(b=t.pendingProps.children)&&eA("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),lp(t,i),x=lm(y),nk(t),uD.current=t,tw=!0,v=b(x),tw=!1,nN(),t.flags|=1,uN(e,t,v,i),t.child;case 14:var p=t.type,m=um(p,t.pendingProps);if(t.type!==t.elementType){var g=p.propTypes;g&&aJ(g,m,"prop",tv(p))}return m=um(p.type,m),uB(e,t,p,m,i);case 15:return uU(e,t,t.type,t.pendingProps,i);case 17:var v,y,b,x,E,w,S,T,A,_,C,I,P,R,O=t.type,M=t.pendingProps,L=t.elementType===O?M:um(O,M);return u9(e,t),t.tag=1,oi(O)?(R=!0,oo(t)):R=!1,lp(t,i),uw(t,O,L),uT(t,O,L,i),uz(null,t,O,!0,R,i);case 19:return u3(e,t,i);case 21:break;case 22:return uj(e,t,i)}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ce(e){e.flags|=4}function ct(e){e.flags|=512,e.flags|=2097152}function ci(e,t){if(!oO)switch(e.tailMode){case"hidden":for(var i=e.tail,n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":for(var r=e.tail,s=null;null!==r;)null!==r.alternate&&(s=r),r=r.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function cn(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t){if((2&e.mode)!=0){for(var r=e.selfBaseDuration,s=e.child;null!==s;)i|=s.lanes|s.childLanes,n|=0xe00000&s.subtreeFlags,n|=0xe00000&s.flags,r+=s.treeBaseDuration,s=s.sibling;e.treeBaseDuration=r}else for(var a=e.child;null!==a;)i|=a.lanes|a.childLanes,n|=0xe00000&a.subtreeFlags,n|=0xe00000&a.flags,a.return=e,a=a.sibling;e.subtreeFlags|=n}else{if((2&e.mode)!=0){for(var o=e.actualDuration,l=e.selfBaseDuration,h=e.child;null!==h;)i|=h.lanes|h.childLanes,n|=h.subtreeFlags,n|=h.flags,o+=h.actualDuration,l+=h.treeBaseDuration,h=h.sibling;e.actualDuration=o,e.treeBaseDuration=l}else for(var u=e.child;null!==u;)i|=u.lanes|u.childLanes,n|=u.subtreeFlags,n|=u.flags,u.return=e,u=u.sibling;e.subtreeFlags|=n}return e.childLanes=i,t}function cr(e,t,i){var n=t.pendingProps;switch(oC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:case 17:return oi(t.type)&&on(t),cn(t),null;case 3:var r=t.stateNode;return lN(t),or(t),lz(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(oW(t)?ce(t):null===e||e.memoizedState.isDehydrated&&(256&t.flags)==0||(t.flags|=1024,oH())),ec(e,t),cn(t),null;case 5:lU(t);var s=lD(),a=t.type;if(null!==e&&null!=t.stateNode)ed(e,t,a,n,s),e.ref!==t.ref&&ct(t);else{if(!n){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return cn(t),null}var o,l,h,u,c,d=lF();if(oW(t))h=t.stateNode,u=!oM,o=t.type,l=t.memoizedProps,h[aU]=t,h[aj]=l,c=function(e,t,i,n,r,s,a){switch(o=iP(t,i),_(t,i),t){case"dialog":sX("cancel",e),sX("close",e);break;case"iframe":case"object":case"embed":sX("load",e);break;case"video":case"audio":for(var o,l,h=0;h<sW.length;h++)sX(sW[h],e);break;case"source":sX("error",e);break;case"img":case"image":case"link":sX("error",e),sX("load",e);break;case"details":sX("toggle",e);break;case"input":tV(e,i),sX("invalid",e);break;case"option":tK(e,i);break;case"select":t1(e,i),sX("invalid",e);break;case"textarea":t4(e,i),sX("invalid",e)}iI(t,i),l=new Set;for(var u=e.attributes,c=0;c<u.length;c++)switch(u[c].name.toLowerCase()){case"value":case"checked":case"selected":break;default:l.add(u[c].name)}var d=null;for(var f in i)if(i.hasOwnProperty(f)){var p=i[f];if(f===s7)"string"==typeof p?e.textContent!==p&&(!0!==i[s6]&&as(e.textContent,p,s,a),d=[s7,p]):"number"==typeof p&&e.textContent!==""+p&&(!0!==i[s6]&&as(e.textContent,p,s,a),d=[s7,""+p]);else if(eI.hasOwnProperty(f))null!=p&&("function"!=typeof p&&P(f,p),"onScroll"===f&&sX("scroll",e));else if(a&&"boolean"==typeof o){var m=void 0,g=eX(f);if(!0===i[s6]);else if(f===s9||f===s6||"value"===f||"checked"===f||"selected"===f);else if(f===s5){var v=e.innerHTML,y=p?p[at]:void 0;if(null!=y){var b=O(e,y);b!==v&&C(f,v,b)}}else if(f===ae){if(l.delete(f),R){var x=function(e){var t="",i="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(null!=r){var s=0===n.indexOf("--");t+=i+(s?n:n.replace(il,"-$1").toLowerCase().replace(ih,"-ms-"))+":",t+=io(n,r,s),i=";"}}return t||null}(p);x!==(m=e.getAttribute("style"))&&C(f,m,x)}}else if(o)l.delete(f.toLowerCase()),m=e1(e,f,p),p!==m&&C(f,m,p);else if(!ez(f,g,o)&&!eH(f,p,g,o)){var E=!1;if(null!==g)l.delete(g.attributeName),m=function(e,t,i,n){if(n.mustUseProperty)return e[n.propertyName];eN(i,t),n.sanitizeURL&&e0(""+i);var r=n.attributeName,s=null;if(4===n.type){if(e.hasAttribute(r)){var a=e.getAttribute(r);return""===a||(eH(t,i,n,!1)?a:a===""+i?i:a)}}else if(e.hasAttribute(r)){if(eH(t,i,n,!1))return e.getAttribute(r);if(3===n.type)return i;s=e.getAttribute(r)}return eH(t,i,n,!1)?null===s?i:s:s===""+i?i:s}(e,f,p,g);else{var w=n;if(w===t6&&(w=t7(t)),w===t6)l.delete(f.toLowerCase());else{var S=function(e){var t=e.toLowerCase();return iR.hasOwnProperty(t)&&iR[t]||null}(f);null!==S&&S!==f&&(E=!0,l.delete(S)),l.delete(f)}m=e1(e,f,p)}p===m||E||C(f,m,p)}}}switch(a&&l.size>0&&!0!==i[s6]&&I(l),t){case"input":tM(e),tz(e,i,!0);break;case"textarea":tM(e),t9(e);break;case"select":case"option":break;default:"function"==typeof i.onClick&&al(e)}return d}(h,o,l,d.namespace,0,(1&t.mode)!=0,u),t.updateQueue=c,null!==c&&ce(t);else{var f=function(e,t,i,n,r){if(af(e,null,n.ancestorInfo),"string"==typeof t.children||"number"==typeof t.children){var s=""+t.children,a=ap(n.ancestorInfo,e);af(null,s,a)}var o=function(e,t,i,n){var r,s,a=aa(i),o=n;if(o===t6&&(o=t7(e)),o===t6){if((r=iP(e,t))||e===e.toLowerCase()||eA("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",e),"script"===e){var l=a.createElement("div");l.innerHTML="<script><\/script>";var h=l.firstChild;s=l.removeChild(h)}else if("string"==typeof t.is)s=a.createElement(e,{is:t.is});else if(s=a.createElement(e),"select"===e){var u=s;t.multiple?u.multiple=!0:t.size&&(u.size=t.size)}}else s=a.createElementNS(o,e);return o!==t6||r||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(s)||eL.call(A,e)||(A[e]=!0,eA("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e)),s}(e,t,i,n.namespace);return o[aU]=r,o[aj]=t,o}(a,n,s,d,t);eu(f,t,!1,!1),t.stateNode=f,function(e,t,i,n,r){switch(function(e,t,i,n){var r,s,a=iP(t,i);switch(_(t,i),t){case"dialog":sX("cancel",e),sX("close",e),s=i;break;case"iframe":case"object":case"embed":sX("load",e),s=i;break;case"video":case"audio":for(var o=0;o<sW.length;o++)sX(sW[o],e);s=i;break;case"source":sX("error",e),s=i;break;case"img":case"image":case"link":sX("error",e),sX("load",e),s=i;break;case"details":sX("toggle",e),s=i;break;case"input":tV(e,i),s=tj(e,i),sX("invalid",e);break;case"option":tK(e,i),s=i;break;case"select":t1(e,i),s=t0(e,i),sX("invalid",e);break;case"textarea":t4(e,i),s=t3(e,i),sX("invalid",e);break;default:s=i}switch(iI(t,s),function(e,t,i,n,r){for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];if(s===ae)a&&Object.freeze(a),iA(t,a);else if(s===s5){var o=a?a[at]:void 0;null!=o&&it(t,o)}else s===s7?"string"==typeof a?("textarea"!==e||""!==a)&&ii(t,a):"number"==typeof a&&ii(t,""+a):s===s9||s===s6||s===s8||(eI.hasOwnProperty(s)?null!=a&&("function"!=typeof a&&P(s,a),"onScroll"===s&&sX("scroll",t)):null!=a&&e2(t,s,a,r))}}(t,e,0,s,a),t){case"input":tM(e),tz(e,i,!1);break;case"textarea":tM(e),t9(e);break;case"option":null!=i.value&&e.setAttribute("value",""+tC(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?tZ(e,!!i.multiple,r,!1):null!=i.defaultValue&&tZ(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof s.onClick&&al(e)}}(e,t,i,0),t){case"button":case"input":case"select":case"textarea":return!!i.autoFocus;case"img":return!0;default:return!1}}(f,a,n,0)&&ce(t)}null!==t.ref&&ct(t)}return cn(t),null;case 6:if(e&&null!=t.stateNode){var p=e.memoizedProps;ef(e,t,p,n)}else{if("string"!=typeof n&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var m,g=lD(),v=lF();oW(t)?function(e){var t=e.stateNode,i=e.memoizedProps,n=(t[aU]=e,e.mode,t.nodeValue!==i);if(n){var r=oP;if(null!==r)switch(r.tag){case 3:r.stateNode.containerInfo;var s=(1&r.mode)!=0;as(t.nodeValue,i,s,!0);break;case 5:r.type;var a=r.memoizedProps,o=(r.stateNode,(1&r.mode)!=0);!0!==a[aS]&&as(t.nodeValue,i,o,!0)}}return n}(t)&&ce(t):t.stateNode=(af(null,n,v.ancestorInfo),(m=aa(g).createTextNode(n))[aU]=t,m)}return cn(t),null;case 13:a2(lj,t);var y=t.memoizedState;if((null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated)&&!function(e,t,i){if(oO&&null!==oR&&(1&t.mode)!=0&&(128&t.flags)==0)return oz(t),oY(),t.flags|=98560,!1;var n=oW(t);if(null===i||null===i.dehydrated)return oH(),!0;if(null===e){if(!n)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(!function(e){var t=e.memoizedState,i=null!==t?t.dehydrated:null;if(!i)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");i[aU]=e}(t),cn(t),(2&t.mode)!=0&&null!==i){var r=t.child;null!==r&&(t.treeBaseDuration-=r.treeBaseDuration)}return!1}if(oY(),(128&t.flags)==0&&(t.memoizedState=null),t.flags|=4,cn(t),(2&t.mode)!=0&&null!==i){var s=t.child;null!==s&&(t.treeBaseDuration-=s.treeBaseDuration)}return!1}(e,t,y)){if(65536&t.flags)return t;return null}if((128&t.flags)!=0)return t.lanes=i,(2&t.mode)!=0&&up(t),t;var b=null!==y;if(b!==(null!==e&&null!==e.memoizedState)&&b){var x=t.child;x.flags|=8192,(1&t.mode)!=0&&((null!==e||(t.memoizedProps.unstable_avoidThisFallback,0))&&(1&lj.current)==0?dB():0===c2&&(c2=3))}if(null!==t.updateQueue&&(t.flags|=4),cn(t),(2&t.mode)!=0&&b){var E=t.child;null!==E&&(t.treeBaseDuration-=E.treeBaseDuration)}return null;case 4:return lN(t),ec(e,t),null===e&&s$(t.stateNode.containerInfo),cn(t),null;case 10:return ld(t.type._context,t),cn(t),null;case 19:a2(lj,t);var w=t.memoizedState;if(null===w)return cn(t),null;var S=(128&t.flags)!=0,T=w.rendering;if(null===T){if(S)ci(w,!1);else{if(!(0===c2&&(null===e||(128&e.flags)==0)))for(var M=t.child;null!==M;){var L=lG(M);if(null!==L){S=!0,t.flags|=128,ci(w,!1);var D=L.updateQueue;return null!==D&&(t.updateQueue=D,t.flags|=4),t.subtreeFlags=0,!function(e,t){for(var i=e.child;null!==i;)(function(e,t){e.flags&=0xe00002;var i=e.alternate;if(null===i)e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0;else{e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type;var n=i.dependencies;e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},e.selfBaseDuration=i.selfBaseDuration,e.treeBaseDuration=i.treeBaseDuration}})(i,t),i=i.sibling}(t,i),lV(t,1&lj.current|2),t.child}M=M.sibling}null!==w.tail&&nv()>dt&&(t.flags|=128,S=!0,ci(w,!1),t.lanes=4194304)}}else{if(!S){var k=lG(T);if(null!==k){t.flags|=128,S=!0;var N=k.updateQueue;if(null!==N&&(t.updateQueue=N,t.flags|=4),ci(w,!0),null===w.tail&&"hidden"===w.tailMode&&!T.alternate&&!oO)return cn(t),null}else 2*nv()-w.renderingStartTime>dt&&0x40000000!==i&&(t.flags|=128,S=!0,ci(w,!1),t.lanes=4194304)}if(w.isBackwards)T.sibling=t.child,t.child=T;else{var F=w.last;null!==F?F.sibling=T:t.child=T,w.last=T}}if(null!==w.tail){var B=w.tail;w.rendering=B,w.tail=B.sibling,w.renderingStartTime=nv(),B.sibling=null;var U=lj.current;return S?U=1&U|2:U&=1,lV(t,U),B}return cn(t),null;case 21:break;case 22:case 23:dD(t);var j=null!==t.memoizedState;return null!==e&&null!==e.memoizedState!==j&&(t.flags|=8192),j&&(1&t.mode)!=0?(0x40000000&c0)!=0&&(cn(t),6&t.subtreeFlags&&(t.flags|=8192)):cn(t),null;case 24:case 25:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function cs(e,t,i){switch(oC(t),t.tag){case 1:null!=t.type.childContextTypes&&on(t);break;case 3:t.stateNode,lN(t),or(t),lz();break;case 5:lU(t);break;case 4:lN(t);break;case 13:case 19:a2(lj,t);break;case 10:ld(t.type._context,t);break;case 22:case 23:dD(t)}}eu=function(e,t,i,n){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)!function(e,t){e.appendChild(t)}(e,r.stateNode);else if(4===r.tag);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)return;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ec=function(e,t){},ed=function(e,t,i,n,r){var s=e.memoizedProps;if(s!==n){var a=function(e,t,i,n,r,s){if(typeof n.children!=typeof i.children&&("string"==typeof n.children||"number"==typeof n.children)){var a=""+n.children,o=ap(s.ancestorInfo,t);af(null,a,o)}return function(e,t,i,n,r){_(t,n);var s,a,o,l,h=null;switch(t){case"input":s=tj(e,i),a=tj(e,n),h=[];break;case"select":s=t0(e,i),a=t0(e,n),h=[];break;case"textarea":s=t3(e,i),a=t3(e,n),h=[];break;default:s=i,a=n,"function"!=typeof s.onClick&&"function"==typeof a.onClick&&al(e)}iI(t,a);var u=null;for(o in s)if(!a.hasOwnProperty(o)&&s.hasOwnProperty(o)&&null!=s[o]){if(o===ae){var c=s[o];for(l in c)c.hasOwnProperty(l)&&(u||(u={}),u[l]="")}else o!==s5&&o!==s7&&o!==s9&&o!==s6&&o!==s8&&(eI.hasOwnProperty(o)?h||(h=[]):(h=h||[]).push(o,null))}for(o in a){var d=a[o],f=null!=s?s[o]:void 0;if(a.hasOwnProperty(o)&&d!==f&&(null!=d||null!=f)){if(o===ae){if(d&&Object.freeze(d),f){for(l in f)!f.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(u||(u={}),u[l]="");for(l in d)d.hasOwnProperty(l)&&f[l]!==d[l]&&(u||(u={}),u[l]=d[l])}else u||(h||(h=[]),h.push(o,u)),u=d}else if(o===s5){var p=d?d[at]:void 0,m=f?f[at]:void 0;null!=p&&m!==p&&(h=h||[]).push(o,p)}else o===s7?("string"==typeof d||"number"==typeof d)&&(h=h||[]).push(o,""+d):o!==s9&&o!==s6&&(eI.hasOwnProperty(o)?(null!=d&&("function"!=typeof d&&P(o,d),"onScroll"===o&&sX("scroll",e)),h||f===d||(h=[])):(h=h||[]).push(o,d))}}return u&&(function(e,t){if(t){var i=i_(e),n=i_(t),r={};for(var s in i){var a=i[s],o=n[s];if(o&&a!==o){var l,h=a+","+o;if(r[h])continue;r[h]=!0,eA("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",null==(l=e[a])||"boolean"==typeof l||""===l?"Removing":"Updating",a,o)}}}}(u,a[ae]),(h=h||[]).push(ae,u)),h}(e,t,i,n)}(t.stateNode,i,s,n,0,lF());t.updateQueue=a,a&&ce(t)}},ef=function(e,t,i,n){i!==n&&ce(t)};var ca=null;ca=new Set;var co=!1,cl=!1,ch="function"==typeof WeakSet?WeakSet:Set,cu=null,cd=null,cf=null,cp=function(e,t){if(t.props=e.memoizedProps,t.state=e.memoizedState,2&e.mode)try{uf(),t.componentWillUnmount()}finally{uc(e)}else t.componentWillUnmount()};function cm(e,t){try{cw(4,e)}catch(i){dX(e,t,i)}}function cg(e,t,i){try{cp(e,i)}catch(i){dX(e,t,i)}}function cv(e,t){try{cS(e)}catch(i){dX(e,t,i)}}function cy(e,t){var i,n=e.ref;if(null!==n){if("function"==typeof n){try{if(2&e.mode)try{uf(),i=n(null)}finally{uc(e)}else i=n(null)}catch(i){dX(e,t,i)}"function"==typeof i&&eA("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",tb(e))}else n.current=null}}function cb(e,t,i){try{i()}catch(i){dX(e,t,i)}}var cx=!1;function cE(e,t,i){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next,a=s;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&((8&e)!=0?null!==nI&&"function"==typeof nI.markComponentPassiveEffectUnmountStarted&&nI.markComponentPassiveEffectUnmountStarted(t):(4&e)!=0&&nF(t),(2&e)!=0&&(dE=!0),cb(t,i,o),(2&e)!=0&&(dE=!1),(8&e)!=0?null!==nI&&"function"==typeof nI.markComponentPassiveEffectUnmountStopped&&nI.markComponentPassiveEffectUnmountStopped():(4&e)!=0&&nB())}a=a.next}while(a!==s)}}function cw(e,t){var i=t.updateQueue,n=null!==i?i.lastEffect:null;if(null!==n){var r=n.next,s=r;do{if((s.tag&e)===e){(8&e)!=0?null!==nI&&"function"==typeof nI.markComponentPassiveEffectMountStarted&&nI.markComponentPassiveEffectMountStarted(t):(4&e)!=0&&null!==nI&&"function"==typeof nI.markComponentLayoutEffectMountStarted&&nI.markComponentLayoutEffectMountStarted(t);var a=s.create;(2&e)!=0&&(dE=!0),s.destroy=a(),(2&e)!=0&&(dE=!1),(8&e)!=0?null!==nI&&"function"==typeof nI.markComponentPassiveEffectMountStopped&&nI.markComponentPassiveEffectMountStopped():(4&e)!=0&&null!==nI&&"function"==typeof nI.markComponentLayoutEffectMountStopped&&nI.markComponentLayoutEffectMountStopped();var o=s.destroy;if(void 0!==o&&"function"!=typeof o){var l=void 0;l=(4&s.tag)!=0?"useLayoutEffect":(2&s.tag)!=0?"useInsertionEffect":"useEffect";var h=void 0;h=null===o?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof o.then?"\n\nIt looks like you wrote "+l+"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n"+l+"(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+o,eA("%s must not return anything besides a function, which is used for clean-up.%s",l,h)}}s=s.next}while(s!==r)}}function cS(e){var t=e.ref;if(null!==t){var i,n=e.stateNode;if(e.tag,"function"==typeof t){if(2&e.mode)try{uf(),i=t(n)}finally{uc(e)}else i=t(n);"function"==typeof i&&eA("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",tb(e))}else t.hasOwnProperty("current")||eA("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",tb(e)),t.current=n}}function cT(e){return 5===e.tag||3===e.tag||4===e.tag}function cA(e){var t=e;t:for(;;){for(;null===t.sibling;){if(null===t.return||cT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags||null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}var c_=null,cC=!1;function cI(e,t,i){for(var n=i.child;null!==n;)cP(e,t,n),n=n.sibling}function cP(e,t,i){switch(!function(e){if(nC&&"function"==typeof nC.onCommitFiberUnmount)try{nC.onCommitFiberUnmount(n_,e)}catch(e){nP||(nP=!0,eA("React instrumentation encountered an error: %s",e))}}(i),i.tag){case 5:cl||cy(i,t);case 6:var n,r,s,a,o=c_,l=cC;c_=null,cI(e,t,i),c_=o,cC=l,null!==c_&&(cC?(s=c_,a=i.stateNode,8===s.nodeType?s.parentNode.removeChild(a):s.removeChild(a)):function(e,t){e.removeChild(t)}(c_,i.stateNode));return;case 18:null!==c_&&(cC?(n=c_,r=i.stateNode,8===n.nodeType?aM(n.parentNode,r):1===n.nodeType&&aM(n,r),ry(n)):aM(c_,i.stateNode));return;case 4:var h=c_,u=cC;c_=i.stateNode.containerInfo,cC=!0,cI(e,t,i),c_=h,cC=u;return;case 0:case 11:case 14:case 15:if(!cl){var c=i.updateQueue;if(null!==c){var d=c.lastEffect;if(null!==d){var f=d.next,p=f;do{var m=p,g=m.destroy,v=m.tag;void 0!==g&&((2&v)!=0?cb(i,t,g):(4&v)!=0&&(nF(i),2&i.mode?(uf(),cb(i,t,g),uc(i)):cb(i,t,g),nB())),p=p.next}while(p!==f)}}}cI(e,t,i);return;case 1:if(!cl){cy(i,t);var y=i.stateNode;"function"==typeof y.componentWillUnmount&&cg(i,t,y)}cI(e,t,i);return;case 21:default:cI(e,t,i);return;case 22:if(1&i.mode){var b=cl;cl=b||null!==i.memoizedState,cI(e,t,i),cl=b}else cI(e,t,i)}}function cR(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new ch),t.forEach(function(t){var n=dQ.bind(null,e,t);if(!i.has(t)){if(i.add(t),nR){if(null!==cd&&null!==cf)d3(cf,cd);else throw Error("Expected finished root and lanes to be set. This is a bug in React.")}t.then(n,n)}})}}function cO(e,t,i){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{!function(e,t,i){var n,r=t;i:for(;null!==r;){switch(r.tag){case 5:c_=r.stateNode,cC=!1;break i;case 3:case 4:c_=r.stateNode.containerInfo,cC=!0;break i}r=r.return}if(null===c_)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");cP(e,t,i),c_=null,cC=!1,null!==(n=i.alternate)&&(n.return=null),i.return=null}(e,t,s)}catch(e){dX(s,t,e)}}var a=tE;if(12854&t.subtreeFlags)for(var o=t.child;null!==o;)t_(o),cM(o,e),o=o.sibling;t_(a)}function cM(e,t,i){var n,r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cO(t,e),cL(e),4&s){try{cE(3,e,e.return),cw(3,e)}catch(t){dX(e,e.return,t)}if(2&e.mode){try{uf(),cE(5,e,e.return)}catch(t){dX(e,e.return,t)}uc(e)}else try{cE(5,e,e.return)}catch(t){dX(e,e.return,t)}}return;case 1:cO(t,e),cL(e),512&s&&null!==r&&cy(r,r.return);return;case 5:if(cO(t,e),cL(e),512&s&&null!==r&&cy(r,r.return),32&e.flags){var a=e.stateNode;try{ii(a,"")}catch(t){dX(e,e.return,t)}}if(4&s){var o=e.stateNode;if(null!=o){var l=e.memoizedProps,h=null!==r?r.memoizedProps:l,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{!function(e,t,i,n,r){var s,a;switch("input"===i&&"radio"===r.type&&null!=r.name&&tG(e,r),iP(i,n),function(e,t,i,n){for(var r=0;r<t.length;r+=2){var s=t[r],a=t[r+1];s===ae?iA(e,a):s===s5?it(e,a):s===s7?ii(e,a):e2(e,s,a,n)}}(e,t,0,iP(i,r)),i){case"input":tW(e,r);break;case"textarea":t5(e,r);break;case"select":s=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?tZ(e,!!r.multiple,a,!1):!!r.multiple!==s&&(null!=r.defaultValue?tZ(e,!!r.multiple,r.defaultValue,!0):tZ(e,!!r.multiple,r.multiple?[]:"",!1))}}(o,c,u,h,l),o[aj]=l}catch(t){dX(e,e.return,t)}}}return;case 6:if(cO(t,e),cL(e),4&s){if(null===e.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var d=e.stateNode,f=e.memoizedProps;null!==r&&r.memoizedProps;try{d.nodeValue=f}catch(t){dX(e,e.return,t)}}return;case 3:if(cO(t,e),cL(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{n=t.containerInfo,ry(n)}catch(t){dX(e,e.return,t)}return;case 4:default:cO(t,e),cL(e);return;case 13:cO(t,e),cL(e);var p=e.child;if(8192&p.flags){var m=p.stateNode,g=null!==p.memoizedState;m.isHidden=g,g&&!(null!==p.alternate&&null!==p.alternate.memoizedState)&&(de=nv())}if(4&s){try{e.memoizedState}catch(t){dX(e,e.return,t)}cR(e)}return;case 22:var v=null!==r&&null!==r.memoizedState;if(1&e.mode){var y=cl;cl=y||v,cO(t,e),cl=y}else cO(t,e);if(cL(e),8192&s){var b=e.stateNode,x=null!==e.memoizedState;if(b.isHidden=x,x&&!v&&(1&e.mode)!=0){cu=e;for(var E=e.child;null!==E;)cu=E,function(e){for(;null!==cu;){var t=cu,i=t.child;switch(t.tag){case 0:case 11:case 14:case 15:if(2&t.mode)try{uf(),cE(4,t,t.return)}finally{uc(t)}else cE(4,t,t.return);break;case 1:cy(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&cg(t,t.return,n);break;case 5:cy(t,t.return);break;case 22:if(null!==t.memoizedState){ck(e);continue}}null!==i?(i.return=t,cu=i):ck(e)}}(E),E=E.sibling}!function(e,t){for(var i=null,n=e;;){if(5===n.tag){if(null===i){i=n;try{var r=n.stateNode;t?function(e){var t=e.style;"function"==typeof t.setProperty?t.setProperty("display","none","important"):t.display="none"}(r):function(e,t){var i=t.style,n=null!=i&&i.hasOwnProperty("display")?i.display:null;e.style.display=io("display",n)}(n.stateNode,n.memoizedProps)}catch(t){dX(e,e.return,t)}}}else if(6===n.tag){if(null===i)try{var s,a=n.stateNode;t?a.nodeValue="":(s=n.memoizedProps,a.nodeValue=s)}catch(t){dX(e,e.return,t)}}else if((22===n.tag||23===n.tag)&&null!==n.memoizedState&&n!==e);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return;for(;null===n.sibling;){if(null===n.return||n.return===e)return;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}}(e,x)}return;case 19:cO(t,e),cL(e),4&s&&cR(e);return;case 21:return}}function cL(e){var t=e.flags;if(2&t){try{!function(e){var t=function(e){for(var t=e.return;null!==t;){if(cT(t))return t;t=t.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e);switch(t.tag){case 5:var i=t.stateNode;32&t.flags&&(ii(i,""),t.flags&=-33);var n=cA(e);!function e(t,i,n){var r=t.tag;if(5===r||6===r){var s=t.stateNode;i?function(e,t,i){e.insertBefore(t,i)}(n,s,i):function(e,t){e.appendChild(t)}(n,s)}else if(4===r);else{var a=t.child;if(null!==a){e(a,i,n);for(var o=a.sibling;null!==o;)e(o,i,n),o=o.sibling}}}(e,n,i);break;case 3:case 4:var r=t.stateNode.containerInfo,s=cA(e);!function e(t,i,n){var r=t.tag;if(5===r||6===r){var s,a=t.stateNode;i?8===n.nodeType?n.parentNode.insertBefore(a,i):n.insertBefore(a,i):(8===n.nodeType?(s=n.parentNode).insertBefore(a,n):(s=n).appendChild(a),null==n._reactRootContainer&&null===s.onclick&&al(s))}else if(4===r);else{var o=t.child;if(null!==o){e(o,i,n);for(var l=o.sibling;null!==l;)e(l,i,n),l=l.sibling}}}(e,s,r);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}(e)}catch(t){dX(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function cD(e,t,i){for(;null!==cu;){var n=cu;if((8772&n.flags)!=0){var r=n.alternate;t_(n);try{!function(e,t,i,n){if((8772&i.flags)!=0)switch(i.tag){case 0:case 11:case 15:if(!cl){if(2&i.mode)try{uf(),cw(5,i)}finally{uc(i)}else cw(5,i)}break;case 1:var r=i.stateNode;if(4&i.flags&&!cl){if(null===t){if(i.type!==i.elementType||ea||(r.props!==i.memoizedProps&&eA("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",tb(i)||"instance"),r.state!==i.memoizedState&&eA("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",tb(i)||"instance")),2&i.mode)try{uf(),r.componentDidMount()}finally{uc(i)}else r.componentDidMount()}else{var s=i.elementType===i.type?t.memoizedProps:um(i.type,t.memoizedProps),a=t.memoizedState;if(i.type!==i.elementType||ea||(r.props!==i.memoizedProps&&eA("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",tb(i)||"instance"),r.state!==i.memoizedState&&eA("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",tb(i)||"instance")),2&i.mode)try{uf(),r.componentDidUpdate(s,a,r.__reactInternalSnapshotBeforeUpdate)}finally{uc(i)}else r.componentDidUpdate(s,a,r.__reactInternalSnapshotBeforeUpdate)}}var o=i.updateQueue;null!==o&&(i.type!==i.elementType||ea||(r.props!==i.memoizedProps&&eA("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",tb(i)||"instance"),r.state!==i.memoizedState&&eA("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",tb(i)||"instance")),lI(i,o,r));break;case 3:var l=i.updateQueue;if(null!==l){var h=null;if(null!==i.child)switch(i.child.tag){case 5:case 1:h=i.child.stateNode}lI(i,l,h)}break;case 5:var u=i.stateNode;null===t&&4&i.flags&&function(e,t,i,n){switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&e.focus();return;case"img":i.src&&(e.src=i.src);return}}(u,i.type,i.memoizedProps);break;case 6:case 4:case 19:case 17:case 21:case 22:case 23:case 25:break;case 12:var c=i.memoizedProps,d=c.onCommit,f=c.onRender,p=i.stateNode.effectDuration,m=un,g=null===t?"mount":"update";uo&&(g="nested-update"),"function"==typeof f&&f(i.memoizedProps.id,g,i.actualDuration,i.treeBaseDuration,i.actualStartTime,m),"function"==typeof d&&d(i.memoizedProps.id,g,p,m),dc.push(i),dl||(dl=!0,d5(nE,function(){return dW(),null}));var v=i.return;n:for(;null!==v;){switch(v.tag){case 3:var y=v.stateNode;y.effectDuration+=p;break n;case 12:var b=v.stateNode;b.effectDuration+=p;break n}v=v.return}break;case 13:!function(e,t){if(null===t.memoizedState){var i=t.alternate;if(null!==i){var n=i.memoizedState;if(null!==n){var r=n.dehydrated;null!==r&&ry(r)}}}}(0,i);break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}!cl&&512&i.flags&&cS(i)}(0,r,n,0)}catch(e){dX(n,n.return,e)}tA()}if(n===e){cu=null;return}var s=n.sibling;if(null!==s){s.return=n.return,cu=s;return}cu=n.return}}function ck(e){for(;null!==cu;){var t=cu;if(t===e){cu=null;return}var i=t.sibling;if(null!==i){i.return=t.return,cu=i;return}cu=t.return}}function cN(e){for(;null!==cu;){var t=cu;t_(t);try{!function(e){switch(e.tag){case 0:case 11:case 15:if(2&e.mode)try{uf(),cm(e,e.return)}finally{uc(e)}else cm(e,e.return);break;case 1:var t=e.stateNode;"function"==typeof t.componentDidMount&&function(e,t,i){try{i.componentDidMount()}catch(i){dX(e,t,i)}}(e,e.return,t),cv(e,e.return);break;case 5:cv(e,e.return)}}(t)}catch(e){dX(t,t.return,e)}if(tA(),t===e){cu=null;return}var i=t.sibling;if(null!==i){i.return=t.return,cu=i;return}cu=t.return}}function cF(e){switch(e.tag){case 0:case 11:case 15:try{cw(5,e)}catch(t){dX(e,e.return,t)}break;case 1:var t=e.stateNode;try{t.componentDidMount()}catch(t){dX(e,e.return,t)}}}function cB(e){switch(e.tag){case 0:case 11:case 15:try{cw(9,e)}catch(t){dX(e,e.return,t)}}}function cU(e){switch(e.tag){case 0:case 11:case 15:try{cE(5,e,e.return)}catch(t){dX(e,e.return,t)}break;case 1:var t=e.stateNode;"function"==typeof t.componentWillUnmount&&cg(e,e.return,t)}}function cj(e){switch(e.tag){case 0:case 11:case 15:try{cE(9,e,e.return)}catch(t){dX(e,e.return,t)}}}if("function"==typeof Symbol&&Symbol.for){var cV=Symbol.for;cV("selector.component"),cV("selector.has_pseudo_class"),cV("selector.role"),cV("selector.test_id"),cV("selector.text")}var cG=[],cW=ew.ReactCurrentActQueue;function cz(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return e||null===cW.current||eA("The current testing environment is not configured to support act(...)"),e}var cY=Math.ceil,cH=ew.ReactCurrentDispatcher,cX=ew.ReactCurrentOwner,cq=ew.ReactCurrentBatchConfig,cK=ew.ReactCurrentActQueue,c$=0,cQ=null,cJ=null,cZ=0,c0=0,c1=a1(0),c2=0,c3=null,c4=0,c5=0,c9=0,c6=0,c8=null,c7=null,de=0,dt=1/0,di=null;function dn(){dt=nv()+500}var dr=!1,ds=null,da=null,dl=!1,dh=null,du=0,dc=[],dd=null,df=0,dp=null,dm=!1,dg=!1,dv=0,dy=null,db=-1,dx=0,dE=!1;function dw(){return(6&c$)!=0?nv():-1!==db?db:db=nv()}function dS(e){if((1&e.mode)==0)return 1;if((2&c$)!=0&&0!==cZ){var t;return(t=cZ)&-t}if(null!==oq.transition){if(null!==cq.transition){var i,n=cq.transition;n._updatedFibers||(n._updatedFibers=new Set),n._updatedFibers.add(e)}return 0===dx&&(dx=n0()),dx}var r=n7;return 0!==r?r:void 0===(i=window.event)?16:r_(i.type)}function dT(e,t,i,n){((function(){if(df>50)throw df=0,dp=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");dv>50&&(dv=0,dy=null,eA("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))})(),dE&&eA("useInsertionEffect must not schedule updates."),dm&&(dg=!0),n4(e,i,n),(2&c$)!=0&&e===cQ)?function(e){if(tw&&!hq)switch(e.tag){case 0:case 11:case 15:var t=cJ&&tb(cJ)||"Unknown";em.has(t)||(em.add(t),eA("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",tb(e)||"Unknown",t,t));break;case 1:d2||(eA("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),d2=!0)}}(t):(nR&&n6(e,t,i),function(e){if(1&e.mode){if(!cz())return}else{var t;if(t="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0,"undefined"==typeof jest||!1===t||0!==c$||0!==e.tag&&11!==e.tag&&15!==e.tag)return}if(null===cK.current){var i=tE;try{t_(e),eA("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",tb(e))}finally{i?t_(e):tA()}}}(t),e===cQ&&((2&c$)==0&&(c9|=i),4===c2&&dP(e,cZ)),dA(e,n),1===i&&0===c$&&(1&t.mode)==0&&!cK.isBatchingLegacy&&(dn(),ou&&of()))}function dA(e,t){var i,n,r,s=e.callbackNode;!function(e,t){for(var i=e.pendingLanes,n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=i;a>0;){var o=n2(a),l=1<<o,h=s[o];-1===h?((l&n)==0||(l&r)!=0)&&(s[o]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return -1;default:return eA("Should have found matching lanes. This is a bug in React."),-1}}(l,t)):h<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var a=nK(e,e===cQ?cZ:0);if(0===a){null!==s&&d9(s),e.callbackNode=null,e.callbackPriority=0;return}var o=a&-a,l=e.callbackPriority;if(l===o&&!(null!==cK.current&&s!==d4)){null==s&&1!==l&&eA("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}if(null!=s&&d9(s),1===o)0===e.tag?(null!==cK.isBatchingLegacy&&(cK.didScheduleLegacyUpdate=!0),i=dR.bind(null,e),ou=!0,od(i)):od(dR.bind(null,e)),null!==cK.current?cK.current.push(of):aR(function(){(6&c$)==0&&of()}),n=null;else{switch(re(a)){case 1:r=nb;break;case 4:r=nx;break;case 16:default:r=nE;break;case 0x20000000:r=nS}n=d5(r,d_.bind(null,e))}e.callbackPriority=o,e.callbackNode=n}function d_(e,t){if(uo=!1,ul=!1,db=-1,dx=0,(6&c$)!=0)throw Error("Should not already be working.");var i=e.callbackNode;if(dW()&&e.callbackNode!==i)return null;var n=nK(e,e===cQ?cZ:0);if(0===n)return null;var r=(30&n)!=0||(n&e.expiredLanes)!=0||t?dU(e,n):function(e,t){var i=c$;c$|=2;var n=dF();if(cQ!==e||cZ!==t){if(nR){var r=e.memoizedUpdaters;r.size>0&&(d3(e,cZ),r.clear()),n8(e,t)}di=null,dn(),dk(e,t)}for(nU(t);;)try{!function(){for(;null!==cJ&&!nm();)dj(cJ)}();break}catch(t){dN(e,t)}return(lu(),cH.current=n,c$=i,null!==cJ)?(null!==nI&&"function"==typeof nI.markRenderYielded&&nI.markRenderYielded(),0):(nj(),cQ=null,cZ=0,c2)}(e,n);if(0!==r){if(2===r){var s=n$(e);0!==s&&(n=s,r=dC(e,s))}if(1===r){var a=c3;throw dk(e,0),dP(e,n),dA(e,nv()),a}if(6===r)dP(e,n);else{var o=(30&n)==0,l=e.current.alternate;if(o&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i){var n=i.stores;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot,o=s.value;try{if(!sy(a(),o))return!1}catch(e){return!1}}}}var l=t.child;if(16384&t.subtreeFlags&&null!==l){l.return=t,t=l;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}return!0}(l)){if(2===(r=dU(e,n))){var h=n$(e);0!==h&&(n=h,r=dC(e,h))}if(1===r){var u=c3;throw dk(e,0),dP(e,n),dA(e,nv()),u}}e.finishedWork=l,e.finishedLanes=n,function(e,t,i){switch(t){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:case 5:dG(e,c7,di);break;case 3:if(dP(e,i),nJ(i)&&!d6()){var n=de+500-nv();if(n>10){if(0!==nK(e,0))break;var r=e.suspendedLanes;if((r&i)!==i){dw(),n5(e,r);break}e.timeoutHandle=aC(dG.bind(null,e,c7,di),n);break}}dG(e,c7,di);break;case 4:if(dP(e,i),(4194240&i)===i)break;if(!d6()){var s=function(e,t){for(var i=e.eventTimes,n=-1;t>0;){var r=n2(t),s=1<<r,a=i[r];a>n&&(n=a),t&=~s}return n}(e,i),a=nv()-s,o=(a<120?120:a<480?480:a<1080?1080:a<1920?1920:a<3e3?3e3:a<4320?4320:1960*cY(a/1960))-a;if(o>10){e.timeoutHandle=aC(dG.bind(null,e,c7,di),o);break}}dG(e,c7,di);break;default:throw Error("Unknown root exit status.")}}(e,r,n)}}return(dA(e,nv()),e.callbackNode===i)?d_.bind(null,e):null}function dC(e,t){var i=c8;if(rt(e)){var n=dk(e,t);n.flags|=256,eA("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",e.containerInfo.nodeName.toLowerCase())}var r=dU(e,t);if(2!==r){var s=c7;c7=i,null!==s&&dI(s)}return r}function dI(e){null===c7?c7=e:c7.push.apply(c7,e)}function dP(e,t){t&=~c6,function(e,t){e.suspendedLanes|=t,e.pingedLanes&=~t;for(var i=e.expirationTimes,n=t;n>0;){var r=n2(n),s=1<<r;i[r]=-1,n&=~s}}(e,t&=~c9)}function dR(e){if(uo=ul,ul=!1,(6&c$)!=0)throw Error("Should not already be working.");dW();var t=nK(e,0);if(!((1&t)!=0))return dA(e,nv()),null;var i=dU(e,t);if(0!==e.tag&&2===i){var n=n$(e);0!==n&&(t=n,i=dC(e,n))}if(1===i){var r=c3;throw dk(e,0),dP(e,t),dA(e,nv()),r}if(6===i)throw Error("Root did not complete. This is a bug in React.");var s=e.current.alternate;return e.finishedWork=s,e.finishedLanes=t,dG(e,c7,di),dA(e,nv()),null}function dO(e,t){var i=c$;c$|=1;try{return e(t)}finally{0===(c$=i)&&!cK.isBatchingLegacy&&(dn(),ou&&of())}}function dM(e){null!==dh&&0===dh.tag&&(6&c$)==0&&dW();var t=c$;c$|=1;var i=cq.transition,n=n7;try{if(cq.transition=null,n7=1,e)return e();return}finally{n7=n,cq.transition=i,(6&(c$=t))==0&&of()}}function dL(e,t){a3(c1,c0,e),c0|=t,c4|=t}function dD(e){c0=c1.current,a2(c1,e)}function dk(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,aI(i)),null!==cJ)for(var n=cJ.return;null!==n;)cs(n.alternate,n),n=n.return;cQ=e;var r=fo(e.current,null);return cJ=r,cZ=c0=c4=t,c2=0,c3=null,c5=0,c9=0,c6=0,c8=null,c7=null,!function(){if(null!==lg){for(var e=0;e<lg.length;e++){var t=lg[e],i=t.interleaved;if(null!==i){t.interleaved=null;var n=i.next,r=t.pending;if(null!==r){var s=r.next;r.next=n,i.next=s}t.pending=i}}lg=null}}(),oK.discardPendingWarnings(),r}function dN(e,t){for(;;){var i=cJ;try{if(lu(),hn(),tA(),cX.current=null,null===i||null===i.return){c2=1,c3=t,cJ=null;return}if(2&i.mode&&uu(i,!0),nN(),null!==t&&"object"==typeof t&&"function"==typeof t.then){var n,r,s,a,o,l=t;a=i,o=cZ,null!==nI&&"function"==typeof nI.markComponentSuspended&&nI.markComponentSuspended(a,l,o)}else n=i,r=t,s=cZ,null!==nI&&"function"==typeof nI.markComponentErrored&&nI.markComponentErrored(n,r,s);!function(e,t,i,n,r){if(i.flags|=32768,nR&&d3(e,r),null!==n&&"object"==typeof n&&"function"==typeof n.then){var s,a=n;(function(e,t){var i=e.tag;if((1&e.mode)==0&&(0===i||11===i||15===i)){var n=e.alternate;n?(e.updateQueue=n.updateQueue,e.memoizedState=n.memoizedState,e.lanes=n.lanes):(e.updateQueue=null,e.memoizedState=null)}})(i),oO&&1&i.mode&&(oM=!0);var o=uM(t);if(null!==o){o.flags&=-257,uL(o,t,i,e,r),1&o.mode&&uO(e,a,r),function(e,t,i,n){var r=e.updateQueue;if(null===r){var s=new Set;s.add(i),e.updateQueue=s}else r.add(i)}(o,0,a);return}if(!((1&r)!=0)){uO(e,a,r),dB();return}n=Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}else if(oO&&1&i.mode){oM=!0;var l=uM(t);if(null!==l){(65536&l.flags)==0&&(l.flags|=256),uL(l,t,i,e,r),oX(uA(n,i));return}}s=n=uA(n,i),4!==c2&&(c2=2),null===c8?c8=[s]:c8.push(s);var h=t;do{switch(h.tag){case 3:var u,c=n;h.flags|=65536;var d=(u=r)&-u;h.lanes=h.lanes|d;var f=uP(h,c,d);l_(h,f);return;case 1:var p=n,m=h.type,g=h.stateNode;if((128&h.flags)==0&&("function"==typeof m.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&!dz(g))){h.flags|=65536;var v,y=(v=r)&-v;h.lanes=h.lanes|y;var b=uR(h,p,y);l_(h,b);return}}h=h.return}while(null!==h)}(e,i.return,i,t,cZ),dV(i)}catch(e){t=e,cJ===i&&null!==i?cJ=i=i.return:i=cJ;continue}return}}function dF(){var e=cH.current;return(cH.current=h2,null===e)?h2:e}function dB(){(0===c2||3===c2||2===c2)&&(c2=4),null!==cQ&&(nQ(c5)||nQ(c9))&&dP(cQ,cZ)}function dU(e,t){var i=c$;c$|=2;var n=dF();if(cQ!==e||cZ!==t){if(nR){var r=e.memoizedUpdaters;r.size>0&&(d3(e,cZ),r.clear()),n8(e,t)}di=null,dk(e,t)}for(nU(t);;)try{!function(){for(;null!==cJ;)dj(cJ)}();break}catch(t){dN(e,t)}if(lu(),c$=i,cH.current=n,null!==cJ)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return nj(),cQ=null,cZ=0,c2}function dj(e){var t,i=e.alternate;t_(e),(2&e.mode)!=0?(uh(e),t=ep(i,e,c0),uu(e,!0)):t=ep(i,e,c0),tA(),e.memoizedProps=e.pendingProps,null===t?dV(e):cJ=t,cX.current=null}function dV(e){var t=e;do{var i=t.alternate,n=t.return;if((32768&t.flags)==0){t_(t);var r=void 0;if((2&t.mode)==0?r=cr(i,t,c0):(uh(t),r=cr(i,t,c0),uu(t,!1)),tA(),null!==r){cJ=r;return}}else{var s=function(e,t,i){switch(oC(t),t.tag){case 1:oi(t.type)&&on(t);var n=t.flags;if(65536&n)return t.flags=-65537&n|128,(2&t.mode)!=0&&up(t),t;return null;case 3:t.stateNode,lN(t),or(t),lz();var r=t.flags;if((65536&r)!=0&&(128&r)==0)return t.flags=-65537&r|128,t;return null;case 5:return lU(t),null;case 13:a2(lj,t);var s=t.memoizedState;if(null!==s&&null!==s.dehydrated){if(null===t.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");oY()}var a=t.flags;if(65536&a)return t.flags=-65537&a|128,(2&t.mode)!=0&&up(t),t;return null;case 19:return a2(lj,t),null;case 4:return lN(t),null;case 10:return ld(t.type._context,t),null;case 22:case 23:return dD(t),null;default:return null}}(0,t);if(null!==s){s.flags&=32767,cJ=s;return}if((2&t.mode)!=0){uu(t,!1);for(var a=t.actualDuration,o=t.child;null!==o;)a+=o.actualDuration,o=o.sibling;t.actualDuration=a}if(null!==n)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{c2=6,cJ=null;return}}var l=t.sibling;if(null!==l){cJ=l;return}cJ=t=n}while(null!==t)0===c2&&(c2=5)}function dG(e,t,i){var n=n7,r=cq.transition;try{cq.transition=null,n7=1,function(e,t,i,n){do dW();while(null!==dh)if(oK.flushLegacyContextWarning(),oK.flushPendingUnsafeLifecycleWarnings(),(6&c$)!=0)throw Error("Should not already be working.");var r=e.finishedWork,s=e.finishedLanes;if(null!==nI&&"function"==typeof nI.markCommitStarted&&nI.markCommitStarted(s),null===r)return nD();if(0===s&&eA("root.finishedLanes should not be empty during a commit. This is a bug in React."),e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t;for(var n=e.entanglements,r=e.eventTimes,s=e.expirationTimes,a=i;a>0;){var o=n2(a),l=1<<o;n[o]=0,r[o]=-1,s[o]=-1,a&=~l}})(e,a),e===cQ&&(cQ=null,cJ=null,cZ=0),(2064&r.subtreeFlags)==0&&(2064&r.flags)==0||dl||(dl=!0,dd=i,d5(nE,function(){return dW(),null}));var o=(15990&r.subtreeFlags)!=0,l=(15990&r.flags)!=0;if(o||l){var h,u,c,d=cq.transition;cq.transition=null;var f=n7;n7=1;var p=c$;c$|=4,cX.current=null,e.containerInfo,aT=rx,aA={focusedElem:u=sS(),selectionRange:sT(u)?("selectionStart"in u?{start:u.selectionStart,end:u.selectionEnd}:function(e){var t=e.ownerDocument,i=t&&t.defaultView||window,n=i.getSelection&&i.getSelection();if(!n||0===n.rangeCount)return null;var r=n.anchorNode,s=n.anchorOffset,a=n.focusNode,o=n.focusOffset;try{r.nodeType,a.nodeType}catch(e){return null}return function(e,t,i,n,r){var s=0,a=-1,o=-1,l=0,h=0,u=e,c=null;n:for(;;){for(var d=null;u===t&&(0===i||3===u.nodeType)&&(a=s+i),u===n&&(0===r||3===u.nodeType)&&(o=s+r),3===u.nodeType&&(s+=u.nodeValue.length),null!==(d=u.firstChild);)c=u,u=d;for(;;){if(u===e)break n;if(c===t&&++l===i&&(a=s),c===n&&++h===r&&(o=s),null!==(d=u.nextSibling))break;c=(u=c).parentNode}u=d}return -1===a||-1===o?null:{start:a,end:o}}(e,r,s,a,o)}(u))||{start:0,end:0}:null},rx=!1,cu=r,function(){for(;null!==cu;){var e=cu,t=e.child;(1028&e.subtreeFlags)!=0&&null!==t?(t.return=e,cu=t):function(){for(;null!==cu;){var e=cu;t_(e);try{(function(e){var t=e.alternate;if((1024&e.flags)!=0){switch(t_(e),e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==t){var i,n=t.memoizedProps,r=t.memoizedState,s=e.stateNode;e.type!==e.elementType||ea||(s.props!==e.memoizedProps&&eA("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",tb(e)||"instance"),s.state!==e.memoizedState&&eA("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",tb(e)||"instance"));var a=s.getSnapshotBeforeUpdate(e.elementType===e.type?n:um(e.type,n),r),o=ca;void 0!==a||o.has(e.type)||(o.add(e.type),eA("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",tb(e))),s.__reactInternalSnapshotBeforeUpdate=a}break;case 3:1===(i=e.stateNode.containerInfo).nodeType?i.textContent="":9===i.nodeType&&i.documentElement&&i.removeChild(i.documentElement);break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}tA()}})(e)}catch(t){dX(e,e.return,t)}tA();var t=e.sibling;if(null!==t){t.return=e.return,cu=t;return}cu=e.return}}()}}(),un=ui(),cd=s,cf=e,t_(r),cM(r,e),t_(r),cd=null,cf=null,e.containerInfo,function(e){var t,i=sS(),n=e.focusedElem,r=e.selectionRange;if(i!==n&&(t=n)&&t.ownerDocument&&function e(t,i){return!!t&&!!i&&(t===i||!sw(t)&&(sw(i)?e(t,i.parentNode):"contains"in t?t.contains(i):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(i))))}(t.ownerDocument.documentElement,t)){null!==r&&sT(n)&&(s=r.start,a=r.end,void 0===a&&(a=s),"selectionStart"in n?(n.selectionStart=s,n.selectionEnd=Math.min(a,n.value.length)):function(e,t){var i=e.ownerDocument||document,n=i&&i.defaultView||window;if(n.getSelection){var r=n.getSelection(),s=e.textContent.length,a=Math.min(t.start,s),o=void 0===t.end?a:Math.min(t.end,s);if(!r.extend&&a>o){var l=o;o=a,a=l}var h=sE(e,a),u=sE(e,o);if(h&&u){if(1===r.rangeCount&&r.anchorNode===h.node&&r.anchorOffset===h.offset&&r.focusNode===u.node&&r.focusOffset===u.offset)return;var c=i.createRange();c.setStart(h.node,h.offset),r.removeAllRanges(),a>o?(r.addRange(c),r.extend(u.node,u.offset)):(c.setEnd(u.node,u.offset),r.addRange(c))}}}(n,r));for(var s,a,o=[],l=n;l=l.parentNode;)1===l.nodeType&&o.push({element:l,left:l.scrollLeft,top:l.scrollTop});"function"==typeof n.focus&&n.focus();for(var h=0;h<o.length;h++){var u=o[h];u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}}(aA),rx=!!aT,aT=null,aA=null,e.current=r,null!==nI&&"function"==typeof nI.markLayoutEffectsStarted&&nI.markLayoutEffectsStarted(s),cd=s,cf=e,cu=r,function e(t,i,n){for(var r=(1&t.mode)!=0;null!==cu;){var s=cu,a=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||co;if(o){cD(t,i,n);continue}var l=s.alternate,h=null!==l&&null!==l.memoizedState||cl,u=co,c=cl;co=o,(cl=h)&&!c&&(cu=s,function(e){for(;null!==cu;){var t=cu,i=t.child;if(22===t.tag&&null!==t.memoizedState){cN(e);continue}null!==i?(i.return=t,cu=i):cN(e)}}(s));for(var d=a;null!==d;)cu=d,e(d,i,n),d=d.sibling;cu=s,co=u,cl=c,cD(t,i,n);continue}(8772&s.subtreeFlags)!=0&&null!==a?(a.return=s,cu=a):cD(t,i,n)}}(r,e,s),cd=null,cf=null,null!==nI&&"function"==typeof nI.markLayoutEffectsStopped&&nI.markLayoutEffectsStopped(),ng(),c$=p,n7=f,cq.transition=d}else e.current=r,un=ui();var m=dl;if(dl?(dl=!1,dh=e,du=s):(dv=0,dy=null),0===(a=e.pendingLanes)&&(da=null),m||dJ(e.current,!1),function(e,t){if(nC&&"function"==typeof nC.onCommitFiberRoot)try{var i,n=(128&e.current.flags)==128;switch(t){case 1:i=nb;break;case 4:i=nx;break;case 16:default:i=nE;break;case 0x20000000:i=nS}nC.onCommitFiberRoot(n_,e,i,n)}catch(e){nP||(nP=!0,eA("React instrumentation encountered an error: %s",e))}}(r.stateNode,n),nR&&e.memoizedUpdaters.clear(),cG.forEach(function(e){return e()}),dA(e,nv()),null!==t)for(var g=e.onRecoverableError,v=0;v<t.length;v++){var y=t[v],b=y.stack,x=y.digest;g(y.value,{componentStack:b,digest:x})}if(dr){dr=!1;var E=ds;throw ds=null,E}(1&du)!=0&&0!==e.tag&&dW(),(1&(a=e.pendingLanes))!=0?(ul=!0,e===dp?df++:(df=0,dp=e)):df=0,of(),nD()}(e,t,i,n)}finally{cq.transition=r,n7=n}return null}function dW(){if(null!==dh){var e=re(du),t=cq.transition,i=n7;try{return cq.transition=null,n7=16>e?16:e,function(){if(null===dh)return!1;var e,t=dd;dd=null;var i=dh,n=du;if(dh=null,du=0,(6&c$)!=0)throw Error("Cannot flush passive effects while already rendering.");dm=!0,dg=!1,null!==nI&&"function"==typeof nI.markPassiveEffectsStarted&&nI.markPassiveEffectsStarted(n);var r=c$;c$|=4,cu=i.current,function(){for(;null!==cu;){var e=cu,t=e.child;if((16&cu.flags)!=0){var i=e.deletions;if(null!==i){for(var n=0;n<i.length;n++){var r=i[n];cu=r,function(e,t){for(;null!==cu;){var i=cu;t_(i),function(e,t){switch(e.tag){case 0:case 11:case 15:2&e.mode?(ua=ui(),cE(8,e,t),ud(e)):cE(8,e,t)}}(i,t),tA();var n=i.child;null!==n?(n.return=i,cu=n):function(e){for(;null!==cu;){var t=cu,i=t.sibling,n=t.return;if(function e(t){var i=t.alternate;if(null!==i&&(t.alternate=null,e(i)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag){var n=t.stateNode;null!==n&&(delete n[aU],delete n[aj],delete n[aG],delete n[aW],delete n[az])}t.stateNode=null,t._debugOwner=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(t),t===e){cu=null;return}if(null!==i){i.return=n,cu=i;return}cu=n}}(e)}}(r,e)}var s=e.alternate;if(null!==s){var a=s.child;if(null!==a){s.child=null;do{var o=a.sibling;a.sibling=null,a=o}while(null!==a)}}cu=e}}(2064&e.subtreeFlags)!=0&&null!==t?(t.return=e,cu=t):function(){for(;null!==cu;){var e=cu;(2048&e.flags)!=0&&(t_(e),function(e){switch(e.tag){case 0:case 11:case 15:2&e.mode?(ua=ui(),cE(9,e,e.return),ud(e)):cE(9,e,e.return)}}(e),tA());var t=e.sibling;if(null!==t){t.return=e.return,cu=t;return}cu=e.return}}()}}(),cu=e=i.current,function(e,t,i,n){for(;null!==cu;){var r=cu,s=r.child;(2064&r.subtreeFlags)!=0&&null!==s?(s.return=r,cu=s):function(e,t,i,n){for(;null!==cu;){var r=cu;if((2048&r.flags)!=0){t_(r);try{(function(e,t,i,n){switch(t.tag){case 0:case 11:case 15:if(2&t.mode){ua=ui();try{cw(9,t)}finally{ud(t)}}else cw(9,t)}})(0,r,0,0)}catch(e){dX(r,r.return,e)}tA()}if(r===e){cu=null;return}var s=r.sibling;if(null!==s){s.return=r.return,cu=s;return}cu=r.return}}(e,0,0,0)}}(e,i,n,t);var s=dc;dc=[];for(var a=0;a<s.length;a++)!function(e,t){if((4&t.flags)!=0&&12===t.tag){var i=t.stateNode.passiveEffectDuration,n=t.memoizedProps,r=n.id,s=n.onPostCommit,a=un,o=null===t.alternate?"mount":"update";uo&&(o="nested-update"),"function"==typeof s&&s(r,o,i,a);var l=t.return;n:for(;null!==l;){switch(l.tag){case 3:var h=l.stateNode;h.passiveEffectDuration+=i;break n;case 12:var u=l.stateNode;u.passiveEffectDuration+=i;break n}l=l.return}}}(0,s[a]);null!==nI&&"function"==typeof nI.markPassiveEffectsStopped&&nI.markPassiveEffectsStopped(),dJ(i.current,!0),c$=r,of(),dg?i===dy?dv++:(dv=0,dy=i):dv=0,dm=!1,dg=!1,function(e){if(nC&&"function"==typeof nC.onPostCommitFiberRoot)try{nC.onPostCommitFiberRoot(n_,e)}catch(e){nP||(nP=!0,eA("React instrumentation encountered an error: %s",e))}}(i);var o=i.current.stateNode;return o.effectDuration=0,o.passiveEffectDuration=0,!0}()}finally{n7=i,cq.transition=t}}return!1}function dz(e){return null!==da&&da.has(e)}var dY=function(e){dr||(dr=!0,ds=e)};function dH(e,t,i){var n=uP(e,uA(i,t),1),r=lT(e,n,1),s=dw();null!==r&&(n4(r,1,s),dA(r,s))}function dX(e,t,i){if(nn(null,function(){throw i}),nr(),dE=!1,3===e.tag){dH(e,e,i);return}var n=null;for(n=t;null!==n;){if(3===n.tag){dH(n,e,i);return}if(1===n.tag){var r=n.type,s=n.stateNode;if("function"==typeof r.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&!dz(s)){var a=uR(n,uA(i,e),1),o=lT(n,a,1),l=dw();null!==o&&(n4(o,1,l),dA(o,l));return}}n=n.return}eA("Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\n\nError message:\n\n%s",i)}function dq(e,t,i){var n=e.pingCache;null!==n&&n.delete(t);var r=dw();n5(e,i),0!==e.tag&&cz()&&null===cK.current&&eA("A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\n\nWhen testing, code that resolves suspended data should be wrapped into act(...):\n\nact(() => {\n  /* finish loading suspended data */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act"),cQ===e&&(cZ&i)===i&&(4===c2||3===c2&&nJ(cZ)&&nv()-de<500?dk(e,0):c6|=i),dA(e,r)}function dK(e,t){0===t&&(t=(1&e.mode)==0?1:(i=nX,(0x7c00000&(nX<<=1))==0&&(nX=4194304),i));var i,n=dw(),r=lb(e,t);null!==r&&(n4(r,t,n),dA(r,n))}function d$(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),dK(e,i)}function dQ(e,t){var i,n=0;switch(e.tag){case 13:i=e.stateNode;var r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==i&&i.delete(t),dK(e,n)}function dJ(e,t){t_(e),dZ(e,0x1000000,cU),t&&dZ(e,0x2000000,cj),dZ(e,0x1000000,cF),t&&dZ(e,0x2000000,cB),tA()}function dZ(e,t,i){for(var n=e,r=null;null!==n;){var s=n.subtreeFlags&t;n!==r&&null!==n.child&&0!==s?n=n.child:((n.flags&t)!=0&&i(n),n=null!==n.sibling?n.sibling:r=n.return)}}var d0=null;function d1(e){if((2&c$)==0&&1&e.mode){var t=e.tag;if(2===t||3===t||1===t||0===t||11===t||14===t||15===t){var i=tb(e)||"ReactComponent";if(null!==d0){if(d0.has(i))return;d0.add(i)}else d0=new Set([i]);var n=tE;try{t_(e),eA("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{n?t_(e):tA()}}}}ep=function(e,t,i){var n=fp(null,t);try{return u7(e,t,i)}catch(s){if(oM||null!==s&&"object"==typeof s&&"function"==typeof s.then)throw s;if(lu(),hn(),cs(e,t),fp(t,n),2&t.mode&&uh(t),nn(null,u7,null,e,t,i),i8){var r=nr();"object"==typeof r&&null!==r&&r._suppressLogging&&"object"==typeof s&&null!==s&&!s._suppressLogging&&(s._suppressLogging=!0)}throw s}};var d2=!1;function d3(e,t){nR&&e.memoizedUpdaters.forEach(function(i){n6(e,i,t)})}em=new Set;var d4={};function d5(e,t){var i=cK.current;return null!==i?(i.push(t),d4):nf(e,t)}function d9(e){if(e!==d4)return np(e)}function d6(){return null!==cK.current}var d8=null,d7=null;function fe(e){if(null===d8)return e;var t=d8(e);return void 0===t?e:t.current}function ft(e){if(null===d8)return e;var t=d8(e);if(void 0===t){if(null!=e&&"function"==typeof e.render){var i=fe(e.render);if(e.render!==i){var n={$$typeof:te,render:i};return void 0!==e.displayName&&(n.displayName=e.displayName),n}}return e}return t.current}function fi(e,t){if(null===d8)return!1;var i=e.elementType,n=t.type,r=!1,s="object"==typeof n&&null!==n?n.$$typeof:null;switch(e.tag){case 1:"function"==typeof n&&(r=!0);break;case 0:"function"==typeof n?r=!0:s===tr&&(r=!0);break;case 11:s===te?r=!0:s===tr&&(r=!0);break;case 14:case 15:s===tn?r=!0:s===tr&&(r=!0);break;default:return!1}if(r){var a=d8(i);if(void 0!==a&&a===d8(n))return!0}return!1}function fn(e){null!==d8&&"function"==typeof WeakSet&&(null===d7&&(d7=new WeakSet),d7.add(e))}eg=!1;try{Object.preventExtensions({})}catch(e){eg=!0}function fr(e,t,i,n){this.tag=e,this.key=i,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=n,this.flags=0,this.subtreeFlags=0,this.deletions=null,this.lanes=0,this.childLanes=0,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,eg||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var fs=function(e,t,i,n){return new fr(e,t,i,n)};function fa(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function fo(e,t){var i=e.alternate;null===i?((i=fs(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i._debugSource=e._debugSource,i._debugOwner=e._debugOwner,i._debugHookTypes=e._debugHookTypes,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null,i.actualDuration=0,i.actualStartTime=-1),i.flags=0xe00000&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue;var n=e.dependencies;switch(i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.selfBaseDuration=e.selfBaseDuration,i.treeBaseDuration=e.treeBaseDuration,i._debugNeedsRemount=e._debugNeedsRemount,i.tag){case 2:case 0:case 15:case 1:i.type=fe(e.type);break;case 11:i.type=ft(e.type)}return i}function fl(e,t,i,n,r,s){var a,o,l,h,u=2,c=e;if("function"==typeof e)fa(e)&&(u=1),c=fe(c);else if("string"==typeof e)u=5;else r:switch(e){case e5:return fu(i.children,r,s,t);case e9:u=8,(1&(r|=8))!=0&&(r|=16);break;case e6:return a=r,"string"!=typeof i.id&&eA('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof i.id),(o=fs(12,i,t,2|a)).elementType=e6,o.lanes=s,o.stateNode={effectDuration:0,passiveEffectDuration:0},o;case tt:return(l=fs(13,i,t,r)).elementType=tt,l.lanes=s,l;case ti:return(h=fs(19,i,t,r)).elementType=ti,h.lanes=s,h;case ts:return fc(i,r,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case e8:u=10;break r;case e7:u=9;break r;case te:u=11,c=ft(c);break r;case tn:u=14;break r;case tr:u=16,c=null;break r}var d="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(d+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var f=n?tb(n):null;throw f&&(d+="\n\nCheck the render method of `"+f+"`."),Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+d)}var p=fs(u,i,t,r);return p.elementType=e,p.type=c,p.lanes=s,p._debugOwner=n,p}function fh(e,t,i){var n=null;n=e._owner;var r=fl(e.type,e.key,e.props,n,t,i);return r._debugSource=e._source,r._debugOwner=e._owner,r}function fu(e,t,i,n){var r=fs(7,e,n,t);return r.lanes=i,r}function fc(e,t,i,n){var r=fs(22,e,n,t);return r.elementType=ts,r.lanes=i,r.stateNode={isHidden:!1},r}function fd(e,t,i){var n=fs(6,e,null,t);return n.lanes=i,n}function ff(e,t,i){var n=fs(4,null!==e.children?e.children:[],e.key,t);return n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function fp(e,t){return null===e&&(e=fs(2,null,null,0)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.subtreeFlags=t.subtreeFlags,e.deletions=t.deletions,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function fm(e,t,i,n,r){this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=-1,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=n3(0),this.expirationTimes=n3(-1),this.pendingLanes=0,this.suspendedLanes=0,this.pingedLanes=0,this.expiredLanes=0,this.mutableReadLanes=0,this.finishedLanes=0,this.entangledLanes=0,this.entanglements=n3(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0,this.memoizedUpdaters=new Set;for(var s=this.pendingUpdatersLaneMap=[],a=0;a<nY;a++)s.push(new Set);switch(t){case 1:this._debugRootType=i?"hydrateRoot()":"createRoot()";break;case 0:this._debugRootType=i?"hydrate()":"render()"}}function fg(e,t,i,n,r,s,a,o,l,h){var u,c=new fm(e,t,i,o,l),d=(1===t?(u=1,!0===s&&(u|=8,u|=16)):u=0,nR&&(u|=2),fs(3,null,null,u));return c.current=d,d.stateNode=c,d.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},lE(d),c}var fv="18.3.1";function fy(e){if(!e)return a4;var t=ns(e),i=function(e){if(no(e)!==e||1!==e.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case 3:return t.stateNode.context;case 1:if(oi(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t)throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}(t);if(1===t.tag){var n=t.type;if(oi(n))return oa(t,n,i)}return i}function fb(e,t,i,n,r,s,a,o,l,h){var u=fg(i,n,!0,e,r,s,a,o,l);u.context=fy(null);var c=u.current,d=dw(),f=dS(c),p=lS(d,f);return p.callback=null!=t?t:null,lT(c,p,f),u.current.lanes=f,n4(u,f,d),dA(u,d),u}function fx(e,t,i,n){!function(e,t){if(nC&&"function"==typeof nC.onScheduleFiberRoot)try{nC.onScheduleFiberRoot(n_,e,t)}catch(e){nP||(nP=!0,eA("React instrumentation encountered an error: %s",e))}}(t,e);var r=t.current,s=dw(),a=dS(r);null!==nI&&"function"==typeof nI.markRenderScheduled&&nI.markRenderScheduled(a);var o=fy(i);null===t.context?t.context=o:t.pendingContext=o,tw&&null!==tE&&!ev&&(ev=!0,eA("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",tb(tE)||"Unknown"));var l=lS(s,a);l.payload={element:e},null!==(n=void 0===n?null:n)&&("function"!=typeof n&&eA("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",n),l.callback=n);var h=lT(r,l,a);return null!==h&&(dT(h,r,a,s),lA(h,r,a)),a}function fE(e){var t=e.current;return t.child?(t.child.tag,t.child.stateNode):null}function fw(e,t){var i,n=e.memoizedState;null!==n&&null!==n.dehydrated&&(n.retryLane=0!==(i=n.retryLane)&&i<t?i:t)}function fS(e,t){fw(e,t);var i=e.alternate;i&&fw(i,t)}function fT(e){var t,i=null!==(t=nc(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(var i=t.child;null!==i;){if(4!==i.tag){var n=e(i);if(null!==n)return n}i=i.sibling}return null}(t):null;return null===i?null:i.stateNode}ev=!1,ey={};var fA=function(e){return null},f_=function(e){return!1},fC=null,fI=null,fP=null,fR=null,fO=null,fM=null,fL=null,fD=null,fk=null,fN=function(e,t,i){var n=t[i],r=t$(e)?e.slice():tl({},e);return i+1===t.length?t$(r)?r.splice(n,1):delete r[n]:r[n]=fN(e[n],t,i+1),r},fF=function(e,t){return fN(e,t,0)},fB=function(e,t,i,n){var r=t[n],s=t$(e)?e.slice():tl({},e);return n+1===t.length?(s[i[n]]=s[r],t$(s))?s.splice(r,1):delete s[r]:s[r]=fB(e[r],t,i,n+1),s},fU=function(e,t,i){if(t.length!==i.length){eT("copyWithRename() expects paths of the same length");return}for(var n=0;n<i.length-1;n++)if(t[n]!==i[n]){eT("copyWithRename() expects paths to be the same except for the deepest key");return}return fB(e,t,i,0)},fj=function(e,t,i,n){if(i>=t.length)return n;var r=t[i],s=t$(e)?e.slice():tl({},e);return s[r]=fj(e[r],t,i+1,n),s},fV=function(e,t,i){return fj(e,t,0,i)},fG=function(e,t){for(var i=e.memoizedState;null!==i&&t>0;)i=i.next,t--;return i};fC=function(e,t,i,n){var r=fG(e,t);if(null!==r){var s=fV(r.memoizedState,i,n);r.memoizedState=s,r.baseState=s,e.memoizedProps=tl({},e.memoizedProps);var a=lb(e,1);null!==a&&dT(a,e,1,-1)}},fI=function(e,t,i){var n=fG(e,t);if(null!==n){var r=fF(n.memoizedState,i);n.memoizedState=r,n.baseState=r,e.memoizedProps=tl({},e.memoizedProps);var s=lb(e,1);null!==s&&dT(s,e,1,-1)}},fP=function(e,t,i,n){var r=fG(e,t);if(null!==r){var s=fU(r.memoizedState,i,n);r.memoizedState=s,r.baseState=s,e.memoizedProps=tl({},e.memoizedProps);var a=lb(e,1);null!==a&&dT(a,e,1,-1)}},fR=function(e,t,i){e.pendingProps=fV(e.memoizedProps,t,i),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var n=lb(e,1);null!==n&&dT(n,e,1,-1)},fO=function(e,t){e.pendingProps=fF(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var i=lb(e,1);null!==i&&dT(i,e,1,-1)},fM=function(e,t,i){e.pendingProps=fU(e.memoizedProps,t,i),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var n=lb(e,1);null!==n&&dT(n,e,1,-1)},fL=function(e){var t=lb(e,1);null!==t&&dT(t,e,1,-1)},fD=function(e){fA=e},fk=function(e){f_=e};var fW="function"==typeof reportError?reportError:function(e){console.error(e)};function fz(e){this._internalRoot=e}function fY(e){this._internalRoot=e}function fH(e){return!!(e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}function fX(e){return!!(e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue))}function fq(e){1===e.nodeType&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&eA("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),e[aV]&&(e._reactRootContainer?eA("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):eA("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}fY.prototype.render=fz.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error("Cannot update an unmounted root.");"function"==typeof arguments[1]?eA("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):fH(arguments[1])?eA("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):void 0!==arguments[1]&&eA("You passed a second argument to root.render(...) but it only accepts one argument.");var i=t.containerInfo;if(8!==i.nodeType){var n=fT(t.current);n&&n.parentNode!==i&&eA("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}fx(e,t,null,null)},fY.prototype.unmount=fz.prototype.unmount=function(){"function"==typeof arguments[0]&&eA("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;(6&c$)!=0&&eA("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),dM(function(){fx(null,e,null,null)}),t[aV]=null}},fY.prototype.unstable_scheduleHydration=function(e){e&&function(e){for(var t,i=x(),n={blockedOn:null,target:e,priority:i},r=0;r<rh.length&&(t=rh[r].priority,0!==i&&i<t);r++);rh.splice(r,0,n),0===r&&rf(n)}(e)};var fK=ew.ReactCurrentOwner;function f$(e){return e?9===e.nodeType?e.documentElement:e.firstChild:null}function fQ(){}function fJ(e,t,i,n,r){eb(i),a="render",null!==(s=void 0===r?null:r)&&"function"!=typeof s&&eA("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",a,s);var s,a,o,l=i._reactRootContainer;if(l){if(o=l,"function"==typeof r){var h=r;r=function(){var e=fE(o);h.call(e)}}fx(t,o,e,r)}else o=function(e,t,i,n,r){if(r){if("function"==typeof n){var s,a,o=n;n=function(){var e=fE(l);o.call(e)}}var l=fb(t,n,e,0,null,!1,!1,"",fQ);return e._reactRootContainer=l,a=l.current,e[aV]=a,s$(8===e.nodeType?e.parentNode:e),dM(),l}for(;h=e.lastChild;)e.removeChild(h);if("function"==typeof n){var h,u=n;n=function(){var e=fE(c);u.call(e)}}var c=fg(e,0,!1,null,null,!1,!1,"",fQ);return e._reactRootContainer=c,s=c.current,e[aV]=s,s$(8===e.nodeType?e.parentNode:e),dM(function(){fx(t,c,i,n)}),c}(i,t,e,r,n);return fE(o)}eb=function(e){if(e._reactRootContainer&&8!==e.nodeType){var t=fT(e._reactRootContainer.current);t&&t.parentNode!==e&&eA("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var i=!!e._reactRootContainer,n=f$(e);n&&aH(n)&&!i&&eA("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),1===e.nodeType&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&eA("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};var fZ=!1,f0=!1;v=function(e){switch(e.tag){case 3:var t=e.stateNode;if(rt(t)){var i=nq(t.pendingLanes);0!==i&&(n9(t,1|i),dA(t,nv()),(6&c$)==0&&(dn(),of()))}break;case 13:dM(function(){var t=lb(e,1);null!==t&&dT(t,e,1,dw())}),fS(e,1)}},y=function(e){if(13===e.tag){var t=lb(e,0x8000000);null!==t&&dT(t,e,0x8000000,dw()),fS(e,0x8000000)}},b=function(e){if(13===e.tag){var t=dS(e),i=lb(e,t);null!==i&&dT(i,e,t,dw()),fS(e,t)}},x=function(){return n7},E=function(e,t){var i=n7;try{return n7=e,t()}finally{n7=i}},("function"!=typeof Map||null==Map.prototype||"function"!=typeof Map.prototype.forEach||"function"!=typeof Set||null==Set.prototype||"function"!=typeof Set.prototype.clear||"function"!=typeof Set.prototype.forEach)&&eA("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),iY=function(e,t,i){var n;switch(t){case"input":tW(e,i),function(e,t){var i=t.name;if("radio"===t.type&&null!=i){for(var n=e;n.parentNode;)n=n.parentNode;eN(i,"name");for(var r=n.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==e&&a.form===e.form){var o=aq(a);if(!o)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");tL(a),tW(a,o)}}}}(e,i);return;case"textarea":t5(e,i);return;case"select":null!=(n=i.value)&&tZ(e,!!i.multiple,n,!1);return}},iQ=dO,iJ=dM;var f1={usingClientEntryPoint:!1,Events:[aH,aX,aq,iK,i$,dO]};if(r=(n={findFiberByHostInstance:aY,bundleType:1,version:fv,rendererPackageName:"react-dom"}).findFiberByHostInstance,s=ew.ReactCurrentDispatcher,!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return eA("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{e=tl({},e,{getLaneLabelMap:nL,injectProfilingHooks:nM}),n_=t.inject(e),nC=t}catch(e){eA("React instrumentation encountered an error: %s.",e)}return!!t.checkDCE}({bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:fC,overrideHookStateDeletePath:fI,overrideHookStateRenamePath:fP,overrideProps:fR,overridePropsDeletePath:fO,overridePropsRenamePath:fM,setErrorHandler:fD,setSuspenseHandler:fk,scheduleUpdate:fL,currentDispatcherRef:s,findHostInstanceByFiber:function(e){var t=nd(e);return null===t?null:t.stateNode},findFiberByHostInstance:r||function(e){return null},findHostInstancesForRefresh:function(e,t){var i=new Set,n=new Set(t.map(function(e){return e.current}));return function e(t,i,n){var r=t.child,s=t.sibling,a=t.tag,o=t.type,l=null;switch(a){case 0:case 15:case 1:l=o;break;case 11:l=o.render}var h=!1;null!==l&&i.has(l)&&(h=!0),h?function(e,t){if(!function(e,t){for(var i=e,n=!1;;){if(5===i.tag)n=!0,t.add(i.stateNode);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)return n;for(;null===i.sibling;){if(null===i.return||i.return===e)return n;i=i.return}i.sibling.return=i.return,i=i.sibling}return!1}(e,t))for(var i=e;;){switch(i.tag){case 5:t.add(i.stateNode);return;case 4:case 3:t.add(i.stateNode.containerInfo);return}if(null===i.return)throw Error("Expected to reach root first.");i=i.return}}(t,n):null!==r&&e(r,i,n),null!==s&&e(s,i,n)}(e.current,n,i),i},scheduleRefresh:function(e,t){if(null!==d8){var i=t.staleFamilies,n=t.updatedFamilies;dW(),dM(function(){(function e(t,i,n){var r=t.alternate,s=t.child,a=t.sibling,o=t.tag,l=t.type,h=null;switch(o){case 0:case 15:case 1:h=l;break;case 11:h=l.render}if(null===d8)throw Error("Expected resolveFamily to be set during hot reload.");var u=!1,c=!1;if(null!==h){var d=d8(h);void 0!==d&&(n.has(d)?c=!0:i.has(d)&&(1===o?c=!0:u=!0))}if(null!==d7&&(d7.has(t)||null!==r&&d7.has(r))&&(c=!0),c&&(t._debugNeedsRemount=!0),c||u){var f=lb(t,1);null!==f&&dT(f,t,1,-1)}null===s||c||e(s,i,n),null!==a&&e(a,i,n)})(e.current,n,i)})}},scheduleRoot:function(e,t){e.context===a4&&(dW(),dM(function(){fx(t,e,null,null)}))},setRefreshHandler:function(e){d8=e},getCurrentFiber:function(){return tE},reconcilerVersion:fv})&&eM&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var f2=window.location.protocol;/^(https?|file):$/.test(f2)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+("file:"===f2?"\nYou might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq":""),"font-weight:bold")}i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f1,i.createPortal=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!fH(t))throw Error("Target container is not a DOM element.");return function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ek(n)&&eA("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",eD(n)),{$$typeof:e4,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},i.createRoot=function(e,t){return f1.usingClientEntryPoint||eA('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),function(e,t){if(!fH(e))throw Error("createRoot(...): Target container is not a DOM element.");fq(e);var i,n=!1,r="",s=fW;null!=t&&(t.hydrate?eT("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):"object"==typeof t&&null!==t&&t.$$typeof===e3&&eA("You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:\n\n  let root = createRoot(domContainer);\n  root.render(<App />);"),!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.transitionCallbacks&&t.transitionCallbacks);var a=fg(e,1,!1,null,null,n,!1,r,s);return i=a.current,e[aV]=i,s$(8===e.nodeType?e.parentNode:e),new fz(a)}(e,t)},i.findDOMNode=function(e){fZ||(fZ=!0,eA("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var t=fK.current;return(null!==t&&null!==t.stateNode&&(t.stateNode._warnedAboutRefsInRender||eA("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",tv(t.type)||"A component"),t.stateNode._warnedAboutRefsInRender=!0),null==e)?null:1===e.nodeType?e:function(e,t){var i=ns(e);if(void 0===i){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e).join(","))}var n=nd(i);if(null===n)return null;if(8&n.mode){var r=tb(i)||"Component";if(!ey[r]){ey[r]=!0;var s=tE;try{t_(n),8&i.mode?eA("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,r):eA("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,r)}finally{s?t_(s):tA()}}}return n.stateNode}(e,"findDOMNode")},i.flushSync=function(e){return(6&c$)!=0&&eA("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),dM(e)},i.hydrate=function(e,t,i){if(eA("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!fX(t))throw Error("Target container is not a DOM element.");return t[aV]&&void 0===t._reactRootContainer&&eA("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?"),fJ(null,e,t,!0,i)},i.hydrateRoot=function(e,t,i){return f1.usingClientEntryPoint||eA('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),function(e,t,i){if(!fH(e))throw Error("hydrateRoot(...): Target container is not a DOM element.");fq(e),void 0===t&&eA("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var n,r=null!=i?i:null,s=null!=i&&i.hydratedSources||null,a=!1,o="",l=fW;null!=i&&(!0===i.unstable_strictMode&&(a=!0),void 0!==i.identifierPrefix&&(o=i.identifierPrefix),void 0!==i.onRecoverableError&&(l=i.onRecoverableError));var h=fb(t,null,e,1,r,a,!1,o,l);if(n=h.current,e[aV]=n,s$(e),s)for(var u=0;u<s.length;u++)!function(e,t){var i=(0,t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i)}(h,s[u]);return new fY(h)}(e,t,i)},i.render=function(e,t,i){if(eA("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!fX(t))throw Error("Target container is not a DOM element.");return t[aV]&&void 0===t._reactRootContainer&&eA("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?"),fJ(null,e,t,!1,i)},i.unmountComponentAtNode=function(e){if(f0||(f0=!0,eA("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!fX(e))throw Error("unmountComponentAtNode(...): Target container is not a DOM element.");if(e[aV]&&void 0===e._reactRootContainer&&eA("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?"),e._reactRootContainer){var t=f$(e);return t&&!aH(t)&&eA("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),dM(function(){fJ(null,null,e,!1,function(){e._reactRootContainer=null,e[aV]=null})}),!0}var i=f$(e),n=!!(i&&aH(i)),r=1===e.nodeType&&fX(e.parentNode)&&!!e.parentNode._reactRootContainer;return n&&eA("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",r?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},i.unstable_batchedUpdates=dO,i.unstable_renderSubtreeIntoContainer=function(e,t,i,n){return function(e,t,i,n){if(eA("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!fX(i))throw Error("Target container is not a DOM element.");if(null==e||!(void 0!==e._reactInternals))throw Error("parentComponent must be a valid React Component");return fJ(e,t,i,!1,n)}(e,t,i,n)},i.version=fv,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()},{"6f0162e9ab224cd4":"imCjC","8ad4ca65319d28a7":"4PwWk"}],"4PwWk":[function(e,t,i,n){t.exports=e("ef03b89c8fe2794e")},{ef03b89c8fe2794e:"lWn2h"}],lWn2h:[function(e,t,i,n){!function(){function e(e,t){var i=e.length;e.push(t),function(e,t,i){for(var n=i;n>0;){var s=n-1>>>1,a=e[s];if(!(r(a,t)>0))return;e[s]=t,e[n]=a,n=s}}(e,t,i)}function t(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],i=e.pop();return i!==t&&(e[0]=i,function(e,t,i){for(var n=0,s=e.length,a=s>>>1;n<a;){var o=(n+1)*2-1,l=e[o],h=o+1,u=e[h];if(0>r(l,t))h<s&&0>r(u,l)?(e[n]=u,e[h]=t,n=h):(e[n]=l,e[o]=t,n=o);else{if(!(h<s&&0>r(u,t)))return;e[n]=u,e[h]=t,n=h}}}(e,i,0)),t}function r(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),"object"==typeof performance&&"function"==typeof performance.now){var s,a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var h=[],u=[],c=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(i){for(var r=t(u);null!==r;){if(null===r.callback)n(u);else{if(!(r.startTime<=i))return;n(u),r.sortIndex=r.expirationTime,e(h,r)}r=t(u)}}function E(e){if(g=!1,x(e),!m){if(null!==t(h))m=!0,M(w);else{var i=t(u);null!==i&&L(E,i.startTime-e)}}}function w(e,r){m=!1,g&&(g=!1,y(A),A=-1),p=!0;var s=f;try{return function(e,r){var s=r;for(x(s),d=t(h);null!==d&&!(d.expirationTime>s&&(!e||I()));){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=s);s=i.unstable_now(),"function"==typeof o?d.callback=o:d===t(h)&&n(h),x(s)}else n(h);d=t(h)}if(null!==d)return!0;var l=t(u);return null!==l&&L(E,l.startTime-s),!1}(e,r)}finally{d=null,f=s,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S=!1,T=null,A=-1,_=5,C=-1;function I(){return!(i.unstable_now()-C<_)}var P=function(){if(null!==T){var e=i.unstable_now();C=e;var t=!0;try{t=T(!0,e)}finally{t?s():(S=!1,T=null)}}else S=!1};if("function"==typeof b)s=function(){b(P)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=P,s=function(){O.postMessage(null)}}else s=function(){v(P,0)};function M(e){T=e,S||(S=!0,s())}function L(e,t){A=v(function(){e(i.unstable_now())},t)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(e){e.callback=null},i.unstable_continueExecution=function(){m||p||(m=!0,M(w))},i.unstable_forceFrameRate=function(e){if(e<0||e>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}_=e>0?Math.floor(1e3/e):5},i.unstable_getCurrentPriorityLevel=function(){return f},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(e){switch(f){case 1:case 2:case 3:t=3;break;default:t=f}var t,i=f;f=t;try{return e()}finally{f=i}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=f;f=e;try{return t()}finally{f=i}},i.unstable_scheduleCallback=function(n,r,s){var a,o,l=i.unstable_now();if("object"==typeof s&&null!==s){var d=s.delay;a="number"==typeof d&&d>0?l+d:l}else a=l;switch(n){case 1:o=-1;break;case 2:o=250;break;case 5:o=0x3fffffff;break;case 4:o=1e4;break;default:o=5e3}var f=a+o,v={id:c++,callback:r,priorityLevel:n,startTime:a,expirationTime:f,sortIndex:-1};return a>l?(v.sortIndex=a,e(u,v),null===t(h)&&v===t(u)&&(g?(y(A),A=-1):g=!0,L(E,a-l))):(v.sortIndex=f,e(h,v),m||p||(m=!0,M(w))),v},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(e){var t=f;return function(){var i=f;f=t;try{return e.apply(this,arguments)}finally{f=i}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()},{}],Mf0qZ:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i);var s=e("react/jsx-dev-runtime"),a=e("react");r.interopDefault(a);var o=e("react-router-dom"),l=e("./translations.js"),h=e("./pages/LoginPage.jsx"),u=r.interopDefault(h),c=e("./pages/SignupPage.jsx"),d=r.interopDefault(c),f=e("./pages/GuestPage.jsx"),p=r.interopDefault(f),m=e("./pages/ForgotPasswordPage.jsx"),g=r.interopDefault(m);let v=["/login","/signup","/guest","/forgot"],y=({route:e,currentRoute:t,children:i})=>{let n=t===e;return/*#__PURE__*/(0,s.jsxDEV)("section",{className:["auth-page w-full transition-opacity duration-300",n?"opacity-100 scale-100":"pointer-events-none opacity-0 scale-95"].join(" "),"data-route":e,"aria-hidden":!n,hidden:!n,style:{display:n?void 0:"none"},children:i},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:14,columnNumber:9},void 0)},b=({links:e,activeRoute:t,onNavigate:i})=>/*#__PURE__*/(0,s.jsxDEV)("div",{className:"flex flex-wrap items-center justify-center gap-3 md:justify-end",children:e.map(({route:e,label:n})=>{let r="inline-flex items-center justify-center rounded-full border px-5 py-2 text-sm font-semibold uppercase tracking-wide transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70",a=t===e?`${r} border-sky-400 bg-sky-500/80 text-white shadow-lg shadow-sky-500/30`:`${r} border-white/15 bg-white/10 text-slate-200 hover:border-sky-400 hover:bg-sky-500/30 hover:text-white`;return/*#__PURE__*/(0,s.jsxDEV)("button",{type:"button",className:a,onClick:()=>i(e),children:n},e,!1,{fileName:"theme/default/app/App.jsx",lineNumber:35,columnNumber:17},void 0)})},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:27,columnNumber:5},void 0),x=({copy:e})=>{let t=(0,o.useLocation)(),i=(0,o.useNavigate)(),[n,r]=(0,a.useState)("/login"),h=(0,a.useCallback)(e=>{let t=v.includes(e)?e:"/login";i(t),r(t)},[i]);(0,a.useEffect)(()=>{let e=(t.pathname||"").toLowerCase(),n=e.length>1?e.replace(/\/+$/,""):e,s=v.includes(n)?n:"/login";if(n!==s){i(s,{replace:!0});return}r(e=>e===s?e:s)},[t.pathname,i]);let c=e.nav||l.translations.en.nav,f=c.find(e=>e.route===n)?.label||c[0]?.label||"Login";return/*#__PURE__*/(0,s.jsxDEV)("div",{className:"wrapper relative min-h-screen overflow-hidden text-slate-100",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900 to-sky-950 opacity-95"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:73,columnNumber:13},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(96,165,250,0.18),_transparent_60%)]"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:74,columnNumber:13},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"relative z-10 flex min-h-screen flex-col",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"content flex-1 px-4 pb-16",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"row row-disclaimer mx-auto mt-10 w-full max-w-4xl !max-w-4xl !bg-white/10 !p-6 !shadow-2xl border border-white/10 text-center text-sm leading-relaxed text-slate-200 backdrop-blur-xl",children:e.disclaimer.map((t,i)=>/*#__PURE__*/(0,s.jsxDEV)(a.Fragment,{children:[t,i<e.disclaimer.length-1&&/*#__PURE__*/(0,s.jsxDEV)("br",{},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:81,columnNumber:72},void 0)]},t,!0,{fileName:"theme/default/app/App.jsx",lineNumber:79,columnNumber:29},void 0))},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:77,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"mt-10 flex w-full justify-center px-2",children:/*#__PURE__*/(0,s.jsxDEV)("div",{className:"forms-container flex w-full max-w-5xl flex-col items-center gap-8",children:/*#__PURE__*/(0,s.jsxDEV)("div",{className:"w-full rounded-3xl border border-white/10 bg-slate-900/70 p-6 shadow-2xl backdrop-blur-xl md:p-10",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"flex flex-col gap-6 border-b border-white/10 pb-6 text-center md:flex-row md:items-end md:justify-between md:text-left",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{children:[/*#__PURE__*/(0,s.jsxDEV)("h2",{className:"mt-2 text-3xl font-semibold text-white",children:f},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:90,columnNumber:41},void 0),/*#__PURE__*/(0,s.jsxDEV)("p",{className:"mt-1 text-sm text-slate-300",children:"Choose how you want to enter the adventure."},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:91,columnNumber:41},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:89,columnNumber:37},void 0),/*#__PURE__*/(0,s.jsxDEV)(b,{links:c,activeRoute:n,onNavigate:h},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:95,columnNumber:37},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:88,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"relative mt-8 space-y-2",children:[/*#__PURE__*/(0,s.jsxDEV)(y,{route:"/login",currentRoute:n,children:/*#__PURE__*/(0,s.jsxDEV)(u.default,{copy:e},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:99,columnNumber:41},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:98,columnNumber:37},void 0),/*#__PURE__*/(0,s.jsxDEV)(y,{route:"/signup",currentRoute:n,children:/*#__PURE__*/(0,s.jsxDEV)(d.default,{copy:e},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:102,columnNumber:41},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:101,columnNumber:37},void 0),/*#__PURE__*/(0,s.jsxDEV)(y,{route:"/guest",currentRoute:n,children:/*#__PURE__*/(0,s.jsxDEV)(p.default,{copy:e},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:105,columnNumber:41},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:104,columnNumber:37},void 0),/*#__PURE__*/(0,s.jsxDEV)(y,{route:"/forgot",currentRoute:n,children:/*#__PURE__*/(0,s.jsxDEV)(g.default,{copy:e},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:108,columnNumber:41},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:107,columnNumber:37},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:97,columnNumber:33},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:87,columnNumber:29},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:86,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:85,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{id:"terms-and-conditions",className:"hidden",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"terms-and-conditions-text rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur-xl",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"terms-heading text-2xl font-semibold text-white",children:e.terms.heading},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:116,columnNumber:29},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"terms-body mt-4 text-sm leading-relaxed text-slate-200"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:117,columnNumber:29},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:115,columnNumber:25},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"terms-box mt-4 flex items-center gap-3 rounded-2xl border border-white/10 bg-slate-900/70 p-4 text-sm text-slate-200 backdrop-blur",children:[/*#__PURE__*/(0,s.jsxDEV)("input",{type:"checkbox",id:"accept-terms-and-conditions"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:120,columnNumber:29},void 0),/*#__PURE__*/(0,s.jsxDEV)("label",{className:"accept-terms-and-conditions-label cursor-pointer",htmlFor:"accept-terms-and-conditions",children:e.terms.acceptLabel},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:121,columnNumber:29},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:119,columnNumber:25},void 0),/*#__PURE__*/(0,s.jsxDEV)("img",{id:"terms-and-conditions-close",className:"box-close mt-4 h-6 w-6 cursor-pointer",src:"./assets/controls/bx.png",alt:"close"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:125,columnNumber:25},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:114,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{id:"instructions",className:"hidden",children:/*#__PURE__*/(0,s.jsxDEV)("div",{className:"instructions-content rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur-xl",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"text-2xl font-semibold text-white",children:e.instructions.heading},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:134,columnNumber:29},void 0),/*#__PURE__*/(0,s.jsxDEV)("ul",{className:"mt-4 list-disc space-y-2 pl-6 text-sm text-slate-200",children:e.instructions.steps.map(e=>/*#__PURE__*/(0,s.jsxDEV)("li",{children:e},e,!1,{fileName:"theme/default/app/App.jsx",lineNumber:137,columnNumber:37},void 0))},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:135,columnNumber:29},void 0),/*#__PURE__*/(0,s.jsxDEV)("img",{id:"instructions-close",className:"box-close mt-6 h-6 w-6 cursor-pointer",src:"./assets/controls/bx.png",alt:"close"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:140,columnNumber:29},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:133,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:132,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{id:"game-over",className:"hidden",children:/*#__PURE__*/(0,s.jsxDEV)("div",{className:"game-over-content rounded-3xl border border-white/10 bg-slate-900/80 p-8 text-center text-lg font-semibold text-slate-100 shadow-2xl backdrop-blur-xl",children:/*#__PURE__*/(0,s.jsxDEV)("h3",{children:e.gameOver.map((t,i)=>/*#__PURE__*/(0,s.jsxDEV)(a.Fragment,{children:[t,i<e.gameOver.length-1&&/*#__PURE__*/(0,s.jsxDEV)(a.Fragment,{children:[/*#__PURE__*/(0,s.jsxDEV)("br",{},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:156,columnNumber:49},void 0),/*#__PURE__*/(0,s.jsxDEV)("br",{},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:157,columnNumber:49},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:155,columnNumber:45},void 0)]},t,!0,{fileName:"theme/default/app/App.jsx",lineNumber:152,columnNumber:37},void 0))},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:150,columnNumber:29},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:149,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:148,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{id:"player-selection",className:"hidden",children:/*#__PURE__*/(0,s.jsxDEV)("div",{className:"selection-forms-container rounded-3xl border border-white/10 bg-slate-900/80 p-8 shadow-2xl backdrop-blur-xl",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"player-selection-form-errors"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:167,columnNumber:29},void 0),/*#__PURE__*/(0,s.jsxDEV)("form",{name:"player-selector-form",id:"player-selector-form",className:"player-selector-form hidden",action:"#",method:"post",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"form-title text-center text-lg font-semibold text-white",children:/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"player-select-element",children:e.playerSelection.selectLabel},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:176,columnNumber:37},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:175,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box player-select-box mt-4",children:/*#__PURE__*/(0,s.jsxDEV)("select",{className:"input-box select-element w-full rounded-xl border border-white/15 bg-slate-900/50 px-4 py-3 text-sm text-slate-100 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/40",id:"player-select-element",name:"player-select-element"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:179,columnNumber:37},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:178,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"player-selection-additional-info mt-3 text-sm text-slate-300"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:185,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box submit-container player-select-submit mt-4 flex items-center justify-end gap-3",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"loading-container hidden",children:/*#__PURE__*/(0,s.jsxDEV)("img",{src:"./assets/web/loading.gif",alt:e.playerSelection.loadingAlt},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:188,columnNumber:41},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:187,columnNumber:37},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"submit",value:e.playerSelection.selectSubmit},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:190,columnNumber:37},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:186,columnNumber:33},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:168,columnNumber:29},void 0),/*#__PURE__*/(0,s.jsxDEV)("form",{name:"player-create-form",id:"player-create-form",className:"player-create-form hidden",action:"#",method:"post",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"form-title text-center text-lg font-semibold text-white",children:e.playerSelection.createTitle},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:200,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box player-create-name mt-4",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"new-player-name",children:e.playerSelection.createNameLabel},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:204,columnNumber:37},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"text",name:"new-player-name",id:"new-player-name",className:"required",required:!0},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:205,columnNumber:37},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:203,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"player-creation-additional-info mt-3 text-sm text-slate-300"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:207,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box submit-container player-create-submit mt-4 flex items-center justify-end gap-3",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"loading-container hidden",children:/*#__PURE__*/(0,s.jsxDEV)("img",{src:"./assets/web/loading.gif",alt:e.playerSelection.loadingAlt},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:210,columnNumber:41},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:209,columnNumber:37},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"submit",value:e.playerSelection.createSubmit},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:212,columnNumber:37},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:208,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box response-error"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:214,columnNumber:33},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:193,columnNumber:29},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:166,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:165,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"game-container hidden",children:/*#__PURE__*/(0,s.jsxDEV)("div",{id:"reldens"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:219,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:218,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:76,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"footer mt-auto bg-slate-950/80 py-6 text-center text-sm text-slate-300 backdrop-blur",children:/*#__PURE__*/(0,s.jsxDEV)("div",{className:"copyright",children:/*#__PURE__*/(0,s.jsxDEV)("a",{className:"hover:text-white hover:underline",href:"https://www.dwdeveloper.com/",children:["by D",/*#__PURE__*/(0,s.jsxDEV)("span",{className:"text-black text-lowercase",children:"w"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:225,columnNumber:33},void 0),/*#__PURE__*/(0,s.jsxDEV)("span",{className:"text-capitalize",children:"Developer"},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:226,columnNumber:29},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:224,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:223,columnNumber:21},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:222,columnNumber:17},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:75,columnNumber:13},void 0)]},void 0,!0,{fileName:"theme/default/app/App.jsx",lineNumber:72,columnNumber:9},void 0)};i.default=({reldens:e})=>{let t="undefined"!=typeof document&&document.documentElement.lang||"en",i=l.translations[t]?t:"en",n=l.translations[i];return(0,a.useEffect)(()=>{e&&"function"==typeof e.clientStart&&e.clientStart()},[e]),/*#__PURE__*/(0,s.jsxDEV)(o.BrowserRouter,{children:/*#__PURE__*/(0,s.jsxDEV)(x,{copy:n},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:248,columnNumber:13},void 0)},void 0,!1,{fileName:"theme/default/app/App.jsx",lineNumber:247,columnNumber:9},void 0)}},{"react/jsx-dev-runtime":"9piX2",react:"imCjC","react-router-dom":"fcBHP","./translations.js":"dLT5s","./pages/LoginPage.jsx":"fjnMy","./pages/SignupPage.jsx":"2h2jJ","./pages/GuestPage.jsx":"5Jxfu","./pages/ForgotPasswordPage.jsx":"6nRZv","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],fcBHP:[function(e,t,i,n){/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r,s,a,o,l=e("@parcel/transformer-js/src/esmodule-helpers.js");l.defineInteropFlag(i),l.export(i,"AbortedDeferredError",()=>c.AbortedDeferredError),l.export(i,"Await",()=>c.Await),l.export(i,"MemoryRouter",()=>c.MemoryRouter),l.export(i,"Navigate",()=>c.Navigate),l.export(i,"NavigationType",()=>c.NavigationType),l.export(i,"Outlet",()=>c.Outlet),l.export(i,"Route",()=>c.Route),l.export(i,"Router",()=>c.Router),l.export(i,"Routes",()=>c.Routes),l.export(i,"UNSAFE_DataRouterContext",()=>c.UNSAFE_DataRouterContext),l.export(i,"UNSAFE_DataRouterStateContext",()=>c.UNSAFE_DataRouterStateContext),l.export(i,"UNSAFE_LocationContext",()=>c.UNSAFE_LocationContext),l.export(i,"UNSAFE_NavigationContext",()=>c.UNSAFE_NavigationContext),l.export(i,"UNSAFE_RouteContext",()=>c.UNSAFE_RouteContext),l.export(i,"UNSAFE_useRouteId",()=>c.UNSAFE_useRouteId),l.export(i,"createMemoryRouter",()=>c.createMemoryRouter),l.export(i,"createPath",()=>c.createPath),l.export(i,"createRoutesFromChildren",()=>c.createRoutesFromChildren),l.export(i,"createRoutesFromElements",()=>c.createRoutesFromElements),l.export(i,"defer",()=>c.defer),l.export(i,"generatePath",()=>c.generatePath),l.export(i,"isRouteErrorResponse",()=>c.isRouteErrorResponse),l.export(i,"json",()=>c.json),l.export(i,"matchPath",()=>c.matchPath),l.export(i,"matchRoutes",()=>c.matchRoutes),l.export(i,"parsePath",()=>c.parsePath),l.export(i,"redirect",()=>c.redirect),l.export(i,"redirectDocument",()=>c.redirectDocument),l.export(i,"renderMatches",()=>c.renderMatches),l.export(i,"replace",()=>c.replace),l.export(i,"resolvePath",()=>c.resolvePath),l.export(i,"useActionData",()=>c.useActionData),l.export(i,"useAsyncError",()=>c.useAsyncError),l.export(i,"useAsyncValue",()=>c.useAsyncValue),l.export(i,"useBlocker",()=>c.useBlocker),l.export(i,"useHref",()=>c.useHref),l.export(i,"useInRouterContext",()=>c.useInRouterContext),l.export(i,"useLoaderData",()=>c.useLoaderData),l.export(i,"useLocation",()=>c.useLocation),l.export(i,"useMatch",()=>c.useMatch),l.export(i,"useMatches",()=>c.useMatches),l.export(i,"useNavigate",()=>c.useNavigate),l.export(i,"useNavigation",()=>c.useNavigation),l.export(i,"useNavigationType",()=>c.useNavigationType),l.export(i,"useOutlet",()=>c.useOutlet),l.export(i,"useOutletContext",()=>c.useOutletContext),l.export(i,"useParams",()=>c.useParams),l.export(i,"useResolvedPath",()=>c.useResolvedPath),l.export(i,"useRevalidator",()=>c.useRevalidator),l.export(i,"useRouteError",()=>c.useRouteError),l.export(i,"useRouteLoaderData",()=>c.useRouteLoaderData),l.export(i,"useRoutes",()=>c.useRoutes),l.export(i,"UNSAFE_ErrorResponseImpl",()=>d.UNSAFE_ErrorResponseImpl),l.export(i,"BrowserRouter",()=>N),l.export(i,"Form",()=>W),l.export(i,"HashRouter",()=>F),l.export(i,"Link",()=>V),l.export(i,"NavLink",()=>G),l.export(i,"RouterProvider",()=>D),l.export(i,"ScrollRestoration",()=>z),l.export(i,"UNSAFE_FetchersContext",()=>I),l.export(i,"UNSAFE_ViewTransitionContext",()=>C),l.export(i,"UNSAFE_useScrollRestoration",()=>er),l.export(i,"createBrowserRouter",()=>T),l.export(i,"createHashRouter",()=>A),l.export(i,"createSearchParams",()=>v),l.export(i,"unstable_HistoryRouter",()=>B),l.export(i,"unstable_usePrompt",()=>ea),l.export(i,"unstable_useViewTransitionState",()=>eo),l.export(i,"useBeforeUnload",()=>es),l.export(i,"useFetcher",()=>ee),l.export(i,"useFetchers",()=>et),l.export(i,"useFormAction",()=>Z),l.export(i,"useLinkClickHandler",()=>q),l.export(i,"useSearchParams",()=>K),l.export(i,"useSubmit",()=>J);var h=e("react"),u=e("react-dom"),c=e("react-router"),d=e("@remix-run/router");function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}let m="application/x-www-form-urlencoded";function g(e){return null!=e&&"string"==typeof e.tagName}function v(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,i)=>{let n=e[i];return t.concat(Array.isArray(n)?n.map(e=>[i,e]):[[i,n]])},[]))}let y=null,b=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x(e){return null==e||b.has(e)?e:((0,d.UNSAFE_warning)(!1,'"'+e+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "'+m+'"'),null)}let E=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],w=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],S=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}function T(e,t){return(0,d.createRouter)({basename:null==t?void 0:t.basename,future:f({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,d.createBrowserHistory)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||_(),routes:e,mapRouteProperties:c.UNSAFE_mapRouteProperties,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnNavigation:null==t?void 0:t.unstable_patchRoutesOnNavigation,window:null==t?void 0:t.window}).initialize()}function A(e,t){return(0,d.createRouter)({basename:null==t?void 0:t.basename,future:f({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,d.createHashHistory)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||_(),routes:e,mapRouteProperties:c.UNSAFE_mapRouteProperties,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnNavigation:null==t?void 0:t.unstable_patchRoutesOnNavigation,window:null==t?void 0:t.window}).initialize()}function _(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=f({},t,{errors:function(e){if(!e)return null;let t=Object.entries(e),i={};for(let[e,n]of t)if(n&&"RouteErrorResponse"===n.__type)i[e]=new d.UNSAFE_ErrorResponseImpl(n.status,n.statusText,n.data,!0===n.internal);else if(n&&"Error"===n.__type){if(n.__subType){let t=window[n.__subType];if("function"==typeof t)try{let r=new t(n.message);r.stack="",i[e]=r}catch(e){}}if(null==i[e]){let t=Error(n.message);t.stack="",i[e]=t}}else i[e]=n;return i}(t.errors)})),t}let C=/*#__PURE__*/h.createContext({isTransitioning:!1});C.displayName="ViewTransition";let I=/*#__PURE__*/h.createContext(new Map);I.displayName="Fetchers";let P=h.startTransition,R=u.flushSync,O=h.useId;function M(e){R?R(e):e()}class L{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}}function D(e){let{fallbackElement:t,router:i,future:n}=e,[r,s]=h.useState(i.state),[a,o]=h.useState(),[l,u]=h.useState({isTransitioning:!1}),[f,p]=h.useState(),[m,g]=h.useState(),[v,y]=h.useState(),b=h.useRef(new Map),{v7_startTransition:x}=n||{},E=h.useCallback(e=>{x&&P?P(e):e()},[x]),w=h.useCallback((e,t)=>{let{deletedFetchers:n,unstable_flushSync:r,unstable_viewTransitionOpts:a}=t;n.forEach(e=>b.current.delete(e)),e.fetchers.forEach((e,t)=>{void 0!==e.data&&b.current.set(t,e.data)});let l=null==i.window||null==i.window.document||"function"!=typeof i.window.document.startViewTransition;if(!a||l){r?M(()=>s(e)):E(()=>s(e));return}if(r){M(()=>{m&&(f&&f.resolve(),m.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})});let t=i.window.document.startViewTransition(()=>{M(()=>s(e))});t.finished.finally(()=>{M(()=>{p(void 0),g(void 0),o(void 0),u({isTransitioning:!1})})}),M(()=>g(t));return}m?(f&&f.resolve(),m.skipTransition(),y({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(o(e),u({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))},[i.window,m,f,b,E]);h.useLayoutEffect(()=>i.subscribe(w),[i,w]),h.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new L)},[l]),h.useEffect(()=>{if(f&&a&&i.window){let e=f.promise,t=i.window.document.startViewTransition(async()=>{E(()=>s(a)),await e});t.finished.finally(()=>{p(void 0),g(void 0),o(void 0),u({isTransitioning:!1})}),g(t)}},[E,a,f,i.window]),h.useEffect(()=>{f&&a&&r.location.key===a.location.key&&f.resolve()},[f,m,r.location,a]),h.useEffect(()=>{!l.isTransitioning&&v&&(o(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[l.isTransitioning,v]),h.useEffect(()=>{(0,d.UNSAFE_warning)(null==t||!i.future.v7_partialHydration,"`<RouterProvider fallbackElement>` is deprecated when using `v7_partialHydration`, use a `HydrateFallback` component instead")},[]);let S=h.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:e=>i.navigate(e),push:(e,t,n)=>i.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>i.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}),[i]),T=i.basename||"/",A=h.useMemo(()=>({router:i,navigator:S,static:!1,basename:T}),[i,S,T]),_=h.useMemo(()=>({v7_relativeSplatPath:i.future.v7_relativeSplatPath}),[i.future.v7_relativeSplatPath]);return /*#__PURE__*/h.createElement(h.Fragment,null,/*#__PURE__*/h.createElement(c.UNSAFE_DataRouterContext.Provider,{value:A},/*#__PURE__*/h.createElement(c.UNSAFE_DataRouterStateContext.Provider,{value:r},/*#__PURE__*/h.createElement(I.Provider,{value:b.current},/*#__PURE__*/h.createElement(C.Provider,{value:l},/*#__PURE__*/h.createElement(c.Router,{basename:T,location:r.location,navigationType:r.historyAction,navigator:S,future:_},r.initialized||i.future.v7_partialHydration?/*#__PURE__*/h.createElement(k,{routes:i.routes,future:i.future,state:r}):t))))),null)}let k=/*#__PURE__*/h.memo(function(e){let{routes:t,future:i,state:n}=e;return(0,c.UNSAFE_useRoutesImpl)(t,void 0,n,i)});function N(e){let{basename:t,children:i,future:n,window:r}=e,s=h.useRef();null==s.current&&(s.current=(0,d.createBrowserHistory)({window:r,v5Compat:!0}));let a=s.current,[o,l]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},f=h.useCallback(e=>{u&&P?P(()=>l(e)):l(e)},[l,u]);return h.useLayoutEffect(()=>a.listen(f),[a,f]),/*#__PURE__*/h.createElement(c.Router,{basename:t,children:i,location:o.location,navigationType:o.action,navigator:a,future:n})}function F(e){let{basename:t,children:i,future:n,window:r}=e,s=h.useRef();null==s.current&&(s.current=(0,d.createHashHistory)({window:r,v5Compat:!0}));let a=s.current,[o,l]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},f=h.useCallback(e=>{u&&P?P(()=>l(e)):l(e)},[l,u]);return h.useLayoutEffect(()=>a.listen(f),[a,f]),/*#__PURE__*/h.createElement(c.Router,{basename:t,children:i,location:o.location,navigationType:o.action,navigator:a,future:n})}function B(e){let{basename:t,children:i,future:n,history:r}=e,[s,a]=h.useState({action:r.action,location:r.location}),{v7_startTransition:o}=n||{},l=h.useCallback(e=>{o&&P?P(()=>a(e)):a(e)},[a,o]);return h.useLayoutEffect(()=>r.listen(l),[r,l]),/*#__PURE__*/h.createElement(c.Router,{basename:t,children:i,location:s.location,navigationType:s.action,navigator:r,future:n})}B.displayName="unstable_HistoryRouter";let U="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V=/*#__PURE__*/h.forwardRef(function(e,t){let i,{onClick:n,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:m,unstable_viewTransition:g}=e,v=p(e,E),{basename:y}=h.useContext(c.UNSAFE_NavigationContext),b=!1;if("string"==typeof u&&j.test(u)&&(i=u,U))try{let e=new URL(window.location.href),t=new URL(u.startsWith("//")?e.protocol+u:u),i=(0,d.stripBasename)(t.pathname,y);t.origin===e.origin&&null!=i?u=i+t.search+t.hash:b=!0}catch(e){(0,d.UNSAFE_warning)(!1,'<Link to="'+u+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let x=(0,c.useHref)(u,{relative:r}),w=q(u,{replace:a,state:o,target:l,preventScrollReset:m,relative:r,unstable_viewTransition:g});return /*#__PURE__*/h.createElement("a",f({},v,{href:i||x,onClick:b||s?n:function(e){n&&n(e),e.defaultPrevented||w(e)},ref:t,target:l}))});V.displayName="Link";let G=/*#__PURE__*/h.forwardRef(function(e,t){let i,{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,unstable_viewTransition:u,children:m}=e,g=p(e,w),v=(0,c.useResolvedPath)(l,{relative:g.relative}),y=(0,c.useLocation)(),b=h.useContext(c.UNSAFE_DataRouterStateContext),{navigator:x,basename:E}=h.useContext(c.UNSAFE_NavigationContext),S=null!=b&&eo(v)&&!0===u,T=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,A=y.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(A=A.toLowerCase(),_=_?_.toLowerCase():null,T=T.toLowerCase()),_&&E&&(_=(0,d.stripBasename)(_,E)||_);let C="/"!==T&&T.endsWith("/")?T.length-1:T.length,I=A===T||!a&&A.startsWith(T)&&"/"===A.charAt(C),P=null!=_&&(_===T||!a&&_.startsWith(T)&&"/"===_.charAt(T.length)),R={isActive:I,isPending:P,isTransitioning:S},O=I?n:void 0;i="function"==typeof s?s(R):[s,I?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let M="function"==typeof o?o(R):o;return /*#__PURE__*/h.createElement(V,f({},g,{"aria-current":O,className:i,ref:t,style:M,to:l,unstable_viewTransition:u}),"function"==typeof m?m(R):m)});G.displayName="NavLink";let W=/*#__PURE__*/h.forwardRef((e,t)=>{let{fetcherKey:i,navigate:n,reloadDocument:r,replace:s,state:a,method:o="get",action:l,onSubmit:u,relative:c,preventScrollReset:d,unstable_viewTransition:m}=e,g=p(e,S),v=J(),y=Z(l,{relative:c}),b="get"===o.toLowerCase()?"get":"post";return /*#__PURE__*/h.createElement("form",f({ref:t,method:b,action:y,onSubmit:r?u:e=>{if(u&&u(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null==t?void 0:t.getAttribute("formmethod"))||o;v(t||e.currentTarget,{fetcherKey:i,method:r,navigate:n,replace:s,state:a,relative:c,preventScrollReset:d,unstable_viewTransition:m})}},g))});function z(e){let{getKey:t,storageKey:i}=e;return er({getKey:t,storageKey:i}),null}function Y(e){return e+" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router."}function H(e){let t=h.useContext(c.UNSAFE_DataRouterContext);return t||(0,d.UNSAFE_invariant)(!1,Y(e)),t}function X(e){let t=h.useContext(c.UNSAFE_DataRouterStateContext);return t||(0,d.UNSAFE_invariant)(!1,Y(e)),t}function q(e,t){let{target:i,replace:n,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:o}=void 0===t?{}:t,l=(0,c.useNavigate)(),u=(0,c.useLocation)(),d=(0,c.useResolvedPath)(e,{relative:a});return h.useCallback(t=>{0!==t.button||i&&"_self"!==i||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),l(e,{replace:void 0!==n?n:(0,c.createPath)(u)===(0,c.createPath)(d),state:r,preventScrollReset:s,relative:a,unstable_viewTransition:o}))},[u,l,d,n,r,i,e,s,a,o])}function K(e){(0,d.UNSAFE_warning)("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=h.useRef(v(e)),i=h.useRef(!1),n=(0,c.useLocation)(),r=h.useMemo(()=>{var e,r;let s;return e=n.search,r=i.current?null:t.current,s=v(e),r&&r.forEach((e,t)=>{s.has(t)||r.getAll(t).forEach(e=>{s.append(t,e)})}),s},[n.search]),s=(0,c.useNavigate)(),a=h.useCallback((e,t)=>{let n=v("function"==typeof e?e(r):e);i.current=!0,s("?"+n,t)},[s,r]);return[r,a]}W.displayName="Form",z.displayName="ScrollRestoration",(r=a||(a={})).UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState",(s=o||(o={})).UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration";let $=0,Q=()=>"__"+String(++$)+"__";function J(){let{router:e}=H(a.UseSubmit),{basename:t}=h.useContext(c.UNSAFE_NavigationContext),i=(0,c.UNSAFE_useRouteId)();return h.useCallback(function(n,r){void 0===r&&(r={}),function(){if("undefined"==typeof document)throw Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}();let{action:s,method:a,encType:o,formData:l,body:h}=function(e,t){let i,n,r,s,a;if(g(e)&&"form"===e.tagName.toLowerCase()){let a=e.getAttribute("action");n=a?(0,d.stripBasename)(a,t):null,i=e.getAttribute("method")||"get",r=x(e.getAttribute("enctype"))||m,s=new FormData(e)}else if(g(e)&&"button"===e.tagName.toLowerCase()||g(e)&&"input"===e.tagName.toLowerCase()&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(n=o?(0,d.stripBasename)(o,t):null,i=e.getAttribute("formmethod")||a.getAttribute("method")||"get",r=x(e.getAttribute("formenctype"))||x(a.getAttribute("enctype"))||m,s=new FormData(a,e),!function(){if(null===y)try{new FormData(document.createElement("form"),0),y=!1}catch(e){y=!0}return y}()){let{name:t,type:i,value:n}=e;if("image"===i){let e=t?t+".":"";s.append(e+"x","0"),s.append(e+"y","0")}else t&&s.append(t,n)}}else if(g(e))throw Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else i="get",n=null,r=m,a=e;return s&&"text/plain"===r&&(a=s,s=void 0),{action:n,method:i.toLowerCase(),encType:r,formData:s,body:a}}(n,t);if(!1===r.navigate){let t=r.fetcherKey||Q();e.fetch(t,i,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:h,formMethod:r.method||a,formEncType:r.encType||o,unstable_flushSync:r.unstable_flushSync})}else e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:h,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:i,unstable_flushSync:r.unstable_flushSync,unstable_viewTransition:r.unstable_viewTransition})},[e,t,i])}function Z(e,t){let{relative:i}=void 0===t?{}:t,{basename:n}=h.useContext(c.UNSAFE_NavigationContext),r=h.useContext(c.UNSAFE_RouteContext);r||(0,d.UNSAFE_invariant)(!1,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a=f({},(0,c.useResolvedPath)(e||".",{relative:i})),o=(0,c.useLocation)();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search);e.has("index")&&""===e.get("index")&&(e.delete("index"),a.search=e.toString()?"?"+e.toString():"")}return(!e||"."===e)&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(a.pathname="/"===a.pathname?n:(0,d.joinPaths)([n,a.pathname])),(0,c.createPath)(a)}function ee(e){var t;let{key:i}=void 0===e?{}:e,{router:n}=H(a.UseFetcher),r=X(o.UseFetcher),s=h.useContext(I),l=h.useContext(c.UNSAFE_RouteContext),u=null==(t=l.matches[l.matches.length-1])?void 0:t.route.id;s||(0,d.UNSAFE_invariant)(!1,"useFetcher must be used inside a FetchersContext"),l||(0,d.UNSAFE_invariant)(!1,"useFetcher must be used inside a RouteContext"),null!=u||(0,d.UNSAFE_invariant)(!1,'useFetcher can only be used on routes that contain a unique "id"');let p=O?O():"",[m,g]=h.useState(i||p);i&&i!==m?g(i):m||g(Q()),h.useEffect(()=>(n.getFetcher(m),()=>{n.deleteFetcher(m)}),[n,m]);let v=h.useCallback((e,t)=>{u||(0,d.UNSAFE_invariant)(!1,"No routeId available for fetcher.load()"),n.fetch(m,u,e,t)},[m,u,n]),y=J(),b=h.useCallback((e,t)=>{y(e,f({},t,{navigate:!1,fetcherKey:m}))},[m,y]),x=h.useMemo(()=>{let e=/*#__PURE__*/h.forwardRef((e,t)=>/*#__PURE__*/h.createElement(W,f({},e,{navigate:!1,fetcherKey:m,ref:t})));return e.displayName="fetcher.Form",e},[m]),E=r.fetchers.get(m)||d.IDLE_FETCHER,w=s.get(m);return h.useMemo(()=>f({Form:x,submit:b,load:v},E,{data:w}),[x,b,v,E,w])}function et(){return Array.from(X(o.UseFetchers).fetchers.entries()).map(e=>{let[t,i]=e;return f({},i,{key:t})})}let ei="react-router-scroll-positions",en={};function er(e){let{getKey:t,storageKey:i}=void 0===e?{}:e,{router:n}=H(a.UseScrollRestoration),{restoreScrollPosition:r,preventScrollReset:s}=X(o.UseScrollRestoration),{basename:l}=h.useContext(c.UNSAFE_NavigationContext),u=(0,c.useLocation)(),p=(0,c.useMatches)(),m=(0,c.useNavigation)();h.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),function(e,t){let{capture:i}={};h.useEffect(()=>{let t=null!=i?{capture:i}:void 0;return window.addEventListener("pagehide",e,t),()=>{window.removeEventListener("pagehide",e,t)}},[e,i])}(h.useCallback(()=>{"idle"===m.state&&(en[(t?t(u,p):null)||u.key]=window.scrollY);try{sessionStorage.setItem(i||ei,JSON.stringify(en))}catch(e){(0,d.UNSAFE_warning)(!1,"Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly ("+e+").")}window.history.scrollRestoration="auto"},[i,t,m.state,u,p])),"undefined"!=typeof document&&(h.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(i||ei);e&&(en=JSON.parse(e))}catch(e){}},[i]),h.useLayoutEffect(()=>{let e=t&&"/"!==l?(e,i)=>t(f({},e,{pathname:(0,d.stripBasename)(e.pathname,l)||e.pathname}),i):t,i=null==n?void 0:n.enableScrollRestoration(en,()=>window.scrollY,e);return()=>i&&i()},[n,l,t]),h.useLayoutEffect(()=>{if(!1!==r){if("number"==typeof r){window.scrollTo(0,r);return}if(u.hash){let e=document.getElementById(decodeURIComponent(u.hash.slice(1)));if(e){e.scrollIntoView();return}}!0!==s&&window.scrollTo(0,0)}},[u,r,s]))}function es(e,t){let{capture:i}=t||{};h.useEffect(()=>{let t=null!=i?{capture:i}:void 0;return window.addEventListener("beforeunload",e,t),()=>{window.removeEventListener("beforeunload",e,t)}},[e,i])}function ea(e){let{when:t,message:i}=e,n=(0,c.useBlocker)(t);h.useEffect(()=>{"blocked"===n.state&&(window.confirm(i)?setTimeout(n.proceed,0):n.reset())},[n,i]),h.useEffect(()=>{"blocked"!==n.state||t||n.reset()},[n,t])}function eo(e,t){void 0===t&&(t={});let i=h.useContext(C);null!=i||(0,d.UNSAFE_invariant)(!1,"`unstable_useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=H(a.useViewTransitionState),r=(0,c.useResolvedPath)(e,{relative:t.relative});if(!i.isTransitioning)return!1;let s=(0,d.stripBasename)(i.currentLocation.pathname,n)||i.currentLocation.pathname,o=(0,d.stripBasename)(i.nextLocation.pathname,n)||i.nextLocation.pathname;return null!=(0,d.matchPath)(r.pathname,o)||null!=(0,d.matchPath)(r.pathname,s)}},{react:"imCjC","react-dom":"t2kdj","react-router":"5ruw1","@remix-run/router":"87TLc","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"5ruw1":[function(e,t,i,n){/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r,s,a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(i),o.export(i,"AbortedDeferredError",()=>h.AbortedDeferredError),o.export(i,"NavigationType",()=>h.Action),o.export(i,"createPath",()=>h.createPath),o.export(i,"defer",()=>h.defer),o.export(i,"generatePath",()=>h.generatePath),o.export(i,"isRouteErrorResponse",()=>h.isRouteErrorResponse),o.export(i,"json",()=>h.json),o.export(i,"matchPath",()=>h.matchPath),o.export(i,"matchRoutes",()=>h.matchRoutes),o.export(i,"parsePath",()=>h.parsePath),o.export(i,"redirect",()=>h.redirect),o.export(i,"redirectDocument",()=>h.redirectDocument),o.export(i,"replace",()=>h.replace),o.export(i,"resolvePath",()=>h.resolvePath),o.export(i,"Await",()=>ed),o.export(i,"MemoryRouter",()=>ea),o.export(i,"Navigate",()=>eo),o.export(i,"Outlet",()=>el),o.export(i,"Route",()=>eh),o.export(i,"Router",()=>eu),o.export(i,"RouterProvider",()=>er),o.export(i,"Routes",()=>ec),o.export(i,"UNSAFE_DataRouterContext",()=>c),o.export(i,"UNSAFE_DataRouterStateContext",()=>d),o.export(i,"UNSAFE_LocationContext",()=>m),o.export(i,"UNSAFE_NavigationContext",()=>p),o.export(i,"UNSAFE_RouteContext",()=>g),o.export(i,"UNSAFE_mapRouteProperties",()=>eb),o.export(i,"UNSAFE_useRouteId",()=>W),o.export(i,"UNSAFE_useRoutesImpl",()=>M),o.export(i,"createMemoryRouter",()=>ex),o.export(i,"createRoutesFromChildren",()=>ev),o.export(i,"createRoutesFromElements",()=>ev),o.export(i,"renderMatches",()=>ey),o.export(i,"useActionData",()=>K),o.export(i,"useAsyncError",()=>J),o.export(i,"useAsyncValue",()=>Q),o.export(i,"useBlocker",()=>ee),o.export(i,"useHref",()=>y),o.export(i,"useInRouterContext",()=>b),o.export(i,"useLoaderData",()=>X),o.export(i,"useLocation",()=>x),o.export(i,"useMatch",()=>w),o.export(i,"useMatches",()=>H),o.export(i,"useNavigate",()=>A),o.export(i,"useNavigation",()=>z),o.export(i,"useNavigationType",()=>E),o.export(i,"useOutlet",()=>I),o.export(i,"useOutletContext",()=>C),o.export(i,"useParams",()=>P),o.export(i,"useResolvedPath",()=>R),o.export(i,"useRevalidator",()=>Y),o.export(i,"useRouteError",()=>$),o.export(i,"useRouteLoaderData",()=>q),o.export(i,"useRoutes",()=>O);var l=e("react"),h=e("@remix-run/router");function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let c=/*#__PURE__*/l.createContext(null);c.displayName="DataRouter";let d=/*#__PURE__*/l.createContext(null);d.displayName="DataRouterState";let f=/*#__PURE__*/l.createContext(null);f.displayName="Await";let p=/*#__PURE__*/l.createContext(null);p.displayName="Navigation";let m=/*#__PURE__*/l.createContext(null);m.displayName="Location";let g=/*#__PURE__*/l.createContext({outlet:null,matches:[],isDataRoute:!1});g.displayName="Route";let v=/*#__PURE__*/l.createContext(null);function y(e,t){let{relative:i}=void 0===t?{}:t;b()||(0,h.UNSAFE_invariant)(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=l.useContext(p),{hash:s,pathname:a,search:o}=R(e,{relative:i}),u=a;return"/"!==n&&(u="/"===a?n:(0,h.joinPaths)([n,a])),r.createHref({pathname:u,search:o,hash:s})}function b(){return null!=l.useContext(m)}function x(){return b()||(0,h.UNSAFE_invariant)(!1,"useLocation() may be used only in the context of a <Router> component."),l.useContext(m).location}function E(){return l.useContext(m).navigationType}function w(e){b()||(0,h.UNSAFE_invariant)(!1,"useMatch() may be used only in the context of a <Router> component.");let{pathname:t}=x();return l.useMemo(()=>(0,h.matchPath)(e,(0,h.UNSAFE_decodePath)(t)),[t,e])}v.displayName="RouteError";let S="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T(e){l.useContext(p).static||l.useLayoutEffect(e)}function A(){let{isDataRoute:e}=l.useContext(g);return e?function(){let{router:e}=j(F.UseNavigateStable),t=G(B.UseNavigateStable),i=l.useRef(!1);return T(()=>{i.current=!0}),l.useCallback(function(n,r){void 0===r&&(r={}),(0,h.UNSAFE_warning)(i.current,S),i.current&&("number"==typeof n?e.navigate(n):e.navigate(n,u({fromRouteId:t},r)))},[e,t])}():function(){b()||(0,h.UNSAFE_invariant)(!1,"useNavigate() may be used only in the context of a <Router> component.");let e=l.useContext(c),{basename:t,future:i,navigator:n}=l.useContext(p),{matches:r}=l.useContext(g),{pathname:s}=x(),a=JSON.stringify((0,h.UNSAFE_getResolveToMatches)(r,i.v7_relativeSplatPath)),o=l.useRef(!1);return T(()=>{o.current=!0}),l.useCallback(function(i,r){if(void 0===r&&(r={}),(0,h.UNSAFE_warning)(o.current,S),!o.current)return;if("number"==typeof i){n.go(i);return}let l=(0,h.resolveTo)(i,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:(0,h.joinPaths)([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)},[t,n,a,s,e])}()}let _=/*#__PURE__*/l.createContext(null);function C(){return l.useContext(_)}function I(e){let t=l.useContext(g).outlet;return t?/*#__PURE__*/l.createElement(_.Provider,{value:e},t):t}function P(){let{matches:e}=l.useContext(g),t=e[e.length-1];return t?t.params:{}}function R(e,t){let{relative:i}=void 0===t?{}:t,{future:n}=l.useContext(p),{matches:r}=l.useContext(g),{pathname:s}=x(),a=JSON.stringify((0,h.UNSAFE_getResolveToMatches)(r,n.v7_relativeSplatPath));return l.useMemo(()=>(0,h.resolveTo)(e,JSON.parse(a),s,"path"===i),[e,a,s,i])}function O(e,t){return M(e,t)}function M(e,t,i,n){let r;b()||(0,h.UNSAFE_invariant)(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=l.useContext(p),{matches:a}=l.useContext(g),o=a[a.length-1],c=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",v=o&&o.route;{let e=v&&v.path||"";ei(d,!v||e.endsWith("*"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'+d+'" (under <Route path="'+e+'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="'+e+'"> to <Route path="'+("/"===e?"*":e+"/*")+'">.')}let y=x();if(t){var E;let e="string"==typeof t?(0,h.parsePath)(t):t;"/"===f||(null==(E=e.pathname)?void 0:E.startsWith(f))||(0,h.UNSAFE_invariant)(!1,'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'+f+'" but pathname "'+e.pathname+'" was given in the `location` prop.'),r=e}else r=y;let w=r.pathname||"/",S=w;if("/"!==f){let e=f.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let T=(0,h.matchRoutes)(e,{pathname:S});(0,h.UNSAFE_warning)(v||null!=T,'No routes matched location "'+r.pathname+r.search+r.hash+'" '),(0,h.UNSAFE_warning)(null==T||void 0!==T[T.length-1].route.element||void 0!==T[T.length-1].route.Component||void 0!==T[T.length-1].route.lazy,'Matched leaf route at location "'+r.pathname+r.search+r.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let A=N(T&&T.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:(0,h.joinPaths)([f,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:(0,h.joinPaths)([f,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,i,n);return t&&A?/*#__PURE__*/l.createElement(m.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:h.Action.Pop}},A):A}let L=/*#__PURE__*/l.createElement(function(){let e=$(),t=(0,h.isRouteErrorResponse)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=/*#__PURE__*/l.createElement(l.Fragment,null,/*#__PURE__*/l.createElement("p",null,"\uD83D\uDCBF Hey developer \uD83D\uDC4B"),/*#__PURE__*/l.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",/*#__PURE__*/l.createElement("code",{style:r},"ErrorBoundary")," or"," ",/*#__PURE__*/l.createElement("code",{style:r},"errorElement")," prop on your route.")),/*#__PURE__*/l.createElement(l.Fragment,null,/*#__PURE__*/l.createElement("h2",null,"Unexpected Application Error!"),/*#__PURE__*/l.createElement("h3",{style:{fontStyle:"italic"}},t),i?/*#__PURE__*/l.createElement("pre",{style:{padding:"0.5rem",backgroundColor:n}},i):null,s)},null);class D extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?/*#__PURE__*/l.createElement(g.Provider,{value:this.props.routeContext},/*#__PURE__*/l.createElement(v.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k(e){let{routeContext:t,match:i,children:n}=e,r=l.useContext(c);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),/*#__PURE__*/l.createElement(g.Provider,{value:t},n)}function N(e,t,i,n){var r,s;if(void 0===t&&(t=[]),void 0===i&&(i=null),void 0===n&&(n=null),null==e){if(!i)return null;if(i.errors)e=i.matches;else{if(null==(s=n)||!s.v7_partialHydration||0!==t.length||i.initialized||!(i.matches.length>0))return null;e=i.matches}}let a=e,o=null==(r=i)?void 0:r.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id])!==void 0);e>=0||(0,h.UNSAFE_invariant)(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(o).join(",")),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(i&&n&&n.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:n}=i,r=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,n,r)=>{let s;let h=!1,d=null,f=null;i&&(s=o&&n.route.id?o[n.route.id]:void 0,d=n.route.errorElement||L,u&&(c<0&&0===r?(ei("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):c===r&&(h=!0,f=n.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,r+1)),m=()=>{let t;return t=s?d:h?f:n.route.Component?/*#__PURE__*/l.createElement(n.route.Component,null):n.route.element?n.route.element:e,/*#__PURE__*/l.createElement(k,{match:n,routeContext:{outlet:e,matches:p,isDataRoute:null!=i},children:t})};return i&&(n.route.ErrorBoundary||n.route.errorElement||0===r)?/*#__PURE__*/l.createElement(D,{location:i.location,revalidation:i.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var F=((r=F||{}).UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r),B=((s=B||{}).UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s);function U(e){return e+" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router."}function j(e){let t=l.useContext(c);return t||(0,h.UNSAFE_invariant)(!1,U(e)),t}function V(e){let t=l.useContext(d);return t||(0,h.UNSAFE_invariant)(!1,U(e)),t}function G(e){let t;let i=((t=l.useContext(g))||(0,h.UNSAFE_invariant)(!1,U(e)),t),n=i.matches[i.matches.length-1];return n.route.id||(0,h.UNSAFE_invariant)(!1,e+' can only be used on routes that contain a unique "id"'),n.route.id}function W(){return G(B.UseRouteId)}function z(){return V(B.UseNavigation).navigation}function Y(){let e=j(F.UseRevalidator),t=V(B.UseRevalidator);return l.useMemo(()=>({revalidate:e.router.revalidate,state:t.revalidation}),[e.router.revalidate,t.revalidation])}function H(){let{matches:e,loaderData:t}=V(B.UseMatches);return l.useMemo(()=>e.map(e=>(0,h.UNSAFE_convertRouteMatchToUiMatch)(e,t)),[e,t])}function X(){let e=V(B.UseLoaderData),t=G(B.UseLoaderData);if(e.errors&&null!=e.errors[t]){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function q(e){return V(B.UseRouteLoaderData).loaderData[e]}function K(){let e=V(B.UseActionData),t=G(B.UseLoaderData);return e.actionData?e.actionData[t]:void 0}function $(){var e;let t=l.useContext(v),i=V(B.UseRouteError),n=G(B.UseRouteError);return void 0!==t?t:null==(e=i.errors)?void 0:e[n]}function Q(){let e=l.useContext(f);return null==e?void 0:e._data}function J(){let e=l.useContext(f);return null==e?void 0:e._error}let Z=0;function ee(e){let{router:t,basename:i}=j(F.UseBlocker),n=V(B.UseBlocker),[r,s]=l.useState(""),a=l.useCallback(t=>{if("function"!=typeof e)return!!e;if("/"===i)return e(t);let{currentLocation:n,nextLocation:r,historyAction:s}=t;return e({currentLocation:u({},n,{pathname:(0,h.stripBasename)(n.pathname,i)||n.pathname}),nextLocation:u({},r,{pathname:(0,h.stripBasename)(r.pathname,i)||r.pathname}),historyAction:s})},[i,e]);return l.useEffect(()=>{let e=String(++Z);return s(e),()=>t.deleteBlocker(e)},[t]),l.useEffect(()=>{""!==r&&t.getBlocker(r,a)},[t,r,a]),r&&n.blockers.has(r)?n.blockers.get(r):h.IDLE_BLOCKER}let et={};function ei(e,t,i){t||et[e]||(et[e]=!0,(0,h.UNSAFE_warning)(!1,i))}let en=l.startTransition;function er(e){let{fallbackElement:t,router:i,future:n}=e,[r,s]=l.useState(i.state),{v7_startTransition:a}=n||{},o=l.useCallback(e=>{a&&en?en(()=>s(e)):s(e)},[s,a]);l.useLayoutEffect(()=>i.subscribe(o),[i,o]),l.useEffect(()=>{(0,h.UNSAFE_warning)(null==t||!i.future.v7_partialHydration,"`<RouterProvider fallbackElement>` is deprecated when using `v7_partialHydration`, use a `HydrateFallback` component instead")},[]);let u=l.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:e=>i.navigate(e),push:(e,t,n)=>i.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>i.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}),[i]),f=i.basename||"/",p=l.useMemo(()=>({router:i,navigator:u,static:!1,basename:f}),[i,u,f]);return /*#__PURE__*/l.createElement(l.Fragment,null,/*#__PURE__*/l.createElement(c.Provider,{value:p},/*#__PURE__*/l.createElement(d.Provider,{value:r},/*#__PURE__*/l.createElement(eu,{basename:f,location:r.location,navigationType:r.historyAction,navigator:u,future:{v7_relativeSplatPath:i.future.v7_relativeSplatPath}},r.initialized||i.future.v7_partialHydration?/*#__PURE__*/l.createElement(es,{routes:i.routes,future:i.future,state:r}):t))),null)}function es(e){let{routes:t,future:i,state:n}=e;return M(t,void 0,n,i)}function ea(e){let{basename:t,children:i,initialEntries:n,initialIndex:r,future:s}=e,a=l.useRef();null==a.current&&(a.current=(0,h.createMemoryHistory)({initialEntries:n,initialIndex:r,v5Compat:!0}));let o=a.current,[u,c]=l.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},f=l.useCallback(e=>{d&&en?en(()=>c(e)):c(e)},[c,d]);return l.useLayoutEffect(()=>o.listen(f),[o,f]),/*#__PURE__*/l.createElement(eu,{basename:t,children:i,location:u.location,navigationType:u.action,navigator:o,future:s})}function eo(e){let{to:t,replace:i,state:n,relative:r}=e;b()||(0,h.UNSAFE_invariant)(!1,"<Navigate> may be used only in the context of a <Router> component.");let{future:s,static:a}=l.useContext(p);(0,h.UNSAFE_warning)(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=l.useContext(g),{pathname:u}=x(),c=A(),d=JSON.stringify((0,h.resolveTo)(t,(0,h.UNSAFE_getResolveToMatches)(o,s.v7_relativeSplatPath),u,"path"===r));return l.useEffect(()=>c(JSON.parse(d),{replace:i,state:n,relative:r}),[c,d,r,i,n]),null}function el(e){return I(e.context)}function eh(e){(0,h.UNSAFE_invariant)(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eu(e){let{basename:t="/",children:i=null,location:n,navigationType:r=h.Action.Pop,navigator:s,static:a=!1,future:o}=e;b()&&(0,h.UNSAFE_invariant)(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=l.useMemo(()=>({basename:c,navigator:s,static:a,future:u({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);"string"==typeof n&&(n=(0,h.parsePath)(n));let{pathname:f="/",search:g="",hash:v="",state:y=null,key:x="default"}=n,E=l.useMemo(()=>{let e=(0,h.stripBasename)(f,c);return null==e?null:{location:{pathname:e,search:g,hash:v,state:y,key:x},navigationType:r}},[c,f,g,v,y,x,r]);return((0,h.UNSAFE_warning)(null!=E,'<Router basename="'+c+'"> is not able to match the URL '+('"'+f)+g+v+"\" because it does not start with the basename, so the <Router> won't render anything."),null==E)?null:/*#__PURE__*/l.createElement(p.Provider,{value:d},/*#__PURE__*/l.createElement(m.Provider,{children:i,value:E}))}function ec(e){let{children:t,location:i}=e;return M(ev(t),i)}function ed(e){let{children:t,errorElement:i,resolve:n}=e;return /*#__PURE__*/l.createElement(em,{resolve:n,errorElement:i},/*#__PURE__*/l.createElement(eg,null,t))}var ef=((a=ef||{})[a.pending=0]="pending",a[a.success=1]="success",a[a.error=2]="error",a);let ep=new Promise(()=>{});class em extends l.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:i}=this.props,n=null,r=ef.pending;if(i instanceof Promise){if(this.state.error){r=ef.error;let e=this.state.error;Object.defineProperty(n=Promise.reject().catch(()=>{}),"_tracked",{get:()=>!0}),Object.defineProperty(n,"_error",{get:()=>e})}else i._tracked?r="_error"in(n=i)?ef.error:"_data"in n?ef.success:ef.pending:(r=ef.pending,Object.defineProperty(i,"_tracked",{get:()=>!0}),n=i.then(e=>Object.defineProperty(i,"_data",{get:()=>e}),e=>Object.defineProperty(i,"_error",{get:()=>e})))}else r=ef.success,Object.defineProperty(n=Promise.resolve(),"_tracked",{get:()=>!0}),Object.defineProperty(n,"_data",{get:()=>i});if(r===ef.error&&n._error instanceof h.AbortedDeferredError)throw ep;if(r===ef.error&&!t)throw n._error;if(r===ef.error)return /*#__PURE__*/l.createElement(f.Provider,{value:n,children:t});if(r===ef.success)return /*#__PURE__*/l.createElement(f.Provider,{value:n,children:e});throw n}}function eg(e){let{children:t}=e,i=Q(),n="function"==typeof t?t(i):t;return /*#__PURE__*/l.createElement(l.Fragment,null,n)}function ev(e,t){void 0===t&&(t=[]);let i=[];return l.Children.forEach(e,(e,n)=>{if(!/*#__PURE__*/l.isValidElement(e))return;let r=[...t,n];if(e.type===l.Fragment){i.push.apply(i,ev(e.props.children,r));return}e.type!==eh&&(0,h.UNSAFE_invariant)(!1,"["+("string"==typeof e.type?e.type:e.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),e.props.index&&e.props.children&&(0,h.UNSAFE_invariant)(!1,"An index route cannot have child routes.");let s={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ev(e.props.children,r)),i.push(s)}),i}function ey(e){return N(e)}function eb(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&(e.element&&(0,h.UNSAFE_warning)(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:/*#__PURE__*/l.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&(0,h.UNSAFE_warning)(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:/*#__PURE__*/l.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&(0,h.UNSAFE_warning)(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:/*#__PURE__*/l.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}function ex(e,t){return(0,h.createRouter)({basename:null==t?void 0:t.basename,future:u({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,h.createMemoryHistory)({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:e,mapRouteProperties:eb,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnNavigation:null==t?void 0:t.unstable_patchRoutesOnNavigation}).initialize()}},{react:"imCjC","@remix-run/router":"87TLc","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"87TLc":[function(e,t,i,n){/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r,s,a,o,l=e("@parcel/transformer-js/src/esmodule-helpers.js");function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}l.defineInteropFlag(i),l.export(i,"AbortedDeferredError",()=>Y),l.export(i,"Action",()=>a),l.export(i,"IDLE_BLOCKER",()=>ea),l.export(i,"IDLE_FETCHER",()=>es),l.export(i,"IDLE_NAVIGATION",()=>er),l.export(i,"UNSAFE_DEFERRED_SYMBOL",()=>ec),l.export(i,"UNSAFE_DeferredData",()=>H),l.export(i,"UNSAFE_ErrorResponseImpl",()=>Q),l.export(i,"UNSAFE_convertRouteMatchToUiMatch",()=>A),l.export(i,"UNSAFE_convertRoutesToDataRoutes",()=>w),l.export(i,"UNSAFE_decodePath",()=>R),l.export(i,"UNSAFE_getResolveToMatches",()=>k),l.export(i,"UNSAFE_invariant",()=>p),l.export(i,"UNSAFE_warning",()=>m),l.export(i,"createBrowserHistory",()=>d),l.export(i,"createHashHistory",()=>f),l.export(i,"createMemoryHistory",()=>c),l.export(i,"createPath",()=>y),l.export(i,"createRouter",()=>eu),l.export(i,"createStaticHandler",()=>ed),l.export(i,"defer",()=>X),l.export(i,"generatePath",()=>I),l.export(i,"getStaticContextFromError",()=>ef),l.export(i,"getToPathname",()=>F),l.export(i,"isDataWithResponseInit",()=>eH),l.export(i,"isDeferredData",()=>eX),l.export(i,"isRouteErrorResponse",()=>J),l.export(i,"joinPaths",()=>B),l.export(i,"json",()=>G),l.export(i,"matchPath",()=>P),l.export(i,"matchRoutes",()=>S),l.export(i,"normalizePathname",()=>U),l.export(i,"parsePath",()=>b),l.export(i,"redirect",()=>q),l.export(i,"redirectDocument",()=>K),l.export(i,"replace",()=>$),l.export(i,"resolvePath",()=>M),l.export(i,"resolveTo",()=>N),l.export(i,"stripBasename",()=>O),l.export(i,"unstable_data",()=>z),(r=a||(a={})).Pop="POP",r.Push="PUSH",r.Replace="REPLACE";let u="popstate";function c(e){let t;void 0===e&&(e={});let{initialEntries:i=["/"],initialIndex:n,v5Compat:r=!1}=e;t=i.map((e,t)=>u(e,"string"==typeof e?null:e.state,0===t?"default":void 0));let s=h(null==n?t.length-1:n),o=a.Pop,l=null;function h(e){return Math.min(Math.max(e,0),t.length-1)}function u(e,i,n){void 0===i&&(i=null);let r=v(t?t[s].pathname:"/",e,i,n);return m("/"===r.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),r}function c(e){return"string"==typeof e?e:y(e)}return{get index(){return s},get action(){return o},get location(){return t[s]},createHref:c,createURL:e=>new URL(c(e),"http://localhost"),encodeLocation(e){let t="string"==typeof e?b(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,i){o=a.Push;let n=u(e,i);s+=1,t.splice(s,t.length,n),r&&l&&l({action:o,location:n,delta:1})},replace(e,i){o=a.Replace;let n=u(e,i);t[s]=n,r&&l&&l({action:o,location:n,delta:0})},go(e){o=a.Pop;let i=h(s+e),n=t[i];s=i,l&&l({action:o,location:n,delta:e})},listen:e=>(l=e,()=>{l=null})}}function d(e){return void 0===e&&(e={}),x(function(e,t){let{pathname:i,search:n,hash:r}=e.location;return v("",{pathname:i,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:y(t)},null,e)}function f(e){return void 0===e&&(e={}),x(function(e,t){let{pathname:i="/",search:n="",hash:r=""}=b(e.location.hash.substr(1));return i.startsWith("/")||i.startsWith(".")||(i="/"+i),v("",{pathname:i,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let i=e.document.querySelector("base"),n="";if(i&&i.getAttribute("href")){let t=e.location.href,i=t.indexOf("#");n=-1===i?t:t.slice(0,i)}return n+"#"+("string"==typeof t?t:y(t))},function(e,t){m("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},e)}function p(e,t){if(!1===e||null==e)throw Error(t)}function m(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function g(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t,i,n){return void 0===i&&(i=null),h({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?b(t):t,{state:i,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function y(e){let{pathname:t="/",search:i="",hash:n=""}=e;return i&&"?"!==i&&(t+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function b(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function x(e,t,i,n){void 0===n&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,l=a.Pop,c=null,d=f();function f(){return(o.state||{idx:null}).idx}function m(){l=a.Pop;let e=f(),t=null==e?null:e-d;d=e,c&&c({action:l,location:x.location,delta:t})}function b(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,i="string"==typeof e?e:y(e);return p(t,"No window.location.(origin|href) available to create URL for href: "+(i=i.replace(/ $/,"%20"))),new URL(i,t)}null==d&&(d=0,o.replaceState(h({},o.state,{idx:d}),""));let x={get action(){return l},get location(){return e(r,o)},listen(e){if(c)throw Error("A history only accepts one active listener");return r.addEventListener(u,m),c=e,()=>{r.removeEventListener(u,m),c=null}},createHref:e=>t(r,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let n=v(x.location,e,t);i&&i(n,e);let h=g(n,d=f()+1),u=x.createHref(n);try{o.pushState(h,"",u)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;r.location.assign(u)}s&&c&&c({action:l,location:x.location,delta:1})},replace:function(e,t){l=a.Replace;let n=v(x.location,e,t);i&&i(n,e);let r=g(n,d=f()),h=x.createHref(n);o.replaceState(r,"",h),s&&c&&c({action:l,location:x.location,delta:0})},go:e=>o.go(e)};return x}(s=o||(o={})).data="data",s.deferred="deferred",s.redirect="redirect",s.error="error";let E=new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,i,n){return void 0===i&&(i=[]),void 0===n&&(n={}),e.map((e,r)=>{let s=[...i,String(r)],a="string"==typeof e.id?e.id:s.join("-");if(p(!0!==e.index||!e.children,"Cannot specify children on an index route"),p(!n[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),!0===e.index){let i=h({},e,t(e),{id:a});return n[a]=i,i}{let i=h({},e,t(e),{id:a,children:void 0});return n[a]=i,e.children&&(i.children=w(e.children,t,s,n)),i}})}function S(e,t,i){return void 0===i&&(i="/"),T(e,t,i,!1)}function T(e,t,i,n){let r=O(("string"==typeof t?b(t):t).pathname||"/",i);if(null==r)return null;let s=function e(t,i,n,r){void 0===i&&(i=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(t,s,a)=>{var o;let l,h,u={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};u.relativePath.startsWith("/")&&(p(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(r.length));let c=B([r,u.relativePath]),d=n.concat(u);t.children&&t.children.length>0&&(p(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+c+'".'),e(t.children,i,d,c)),(null!=t.path||t.index)&&i.push({path:c,score:(o=t.index,h=(l=c.split("/")).length,l.some(C)&&(h+=-2),o&&(h+=2),l.filter(e=>!C(e)).reduce((e,t)=>e+(_.test(t)?3:""===t?1:10),h)),routesMeta:d})};return t.forEach((e,t)=>{var i;if(""!==e.path&&null!=(i=e.path)&&i.includes("?"))for(let i of function e(t){let i=t.split("/");if(0===i.length)return[];let[n,...r]=i,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let o=e(r.join("/")),l=[];return l.push(...o.map(e=>""===e?a:[a,e].join("/"))),s&&l.push(...o),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))s(e,t,i);else s(e,t)}),i}(e);!function(e){e.sort((e,t)=>{var i,n;return e.score!==t.score?t.score-e.score:(i=e.routesMeta.map(e=>e.childrenIndex),n=t.routesMeta.map(e=>e.childrenIndex),i.length===n.length&&i.slice(0,-1).every((e,t)=>e===n[t])?i[i.length-1]-n[n.length-1]:0)})}(s);let a=null;for(let e=0;null==a&&e<s.length;++e){let t=R(r);a=function(e,t,i){void 0===i&&(i=!1);let{routesMeta:n}=e,r={},s="/",a=[];for(let e=0;e<n.length;++e){let o=n[e],l=e===n.length-1,h="/"===s?t:t.slice(s.length)||"/",u=P({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},h),c=o.route;if(!u&&l&&i&&!n[n.length-1].route.index&&(u=P({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!u)return null;Object.assign(r,u.params),a.push({params:r,pathname:B([s,u.pathname]),pathnameBase:U(B([s,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(s=B([s,u.pathnameBase]))}return a}(s[e],t,n)}return a}function A(e,t){let{route:i,pathname:n,params:r}=e;return{id:i.id,pathname:n,params:r,data:t[i.id],handle:i.handle}}let _=/^:[\w-]+$/,C=e=>"*"===e;function I(e,t){void 0===t&&(t={});let i=e;i.endsWith("*")&&"*"!==i&&!i.endsWith("/*")&&(m(!1,'Route path "'+i+'" will be treated as if it were "'+i.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+i.replace(/\*$/,"/*")+'".'),i=i.replace(/\*$/,"/*"));let n=i.startsWith("/")?"/":"",r=e=>null==e?"":"string"==typeof e?e:String(e);return n+i.split(/\/+/).map((e,i,n)=>{if(i===n.length-1&&"*"===e)return r(t["*"]);let s=e.match(/^:([\w-]+)(\??)$/);if(s){let[,e,i]=s,n=t[e];return p("?"===i||null!=n,'Missing ":'+e+'" param'),r(n)}return e.replace(/\?$/g,"")}).filter(e=>!!e).join("/")}function P(e,t){var i,n,r;let s,a;"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[o,l]=(i=e.path,n=e.caseSensitive,r=e.end,void 0===n&&(n=!1),void 0===r&&(r=!0),m("*"===i||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were "'+i.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+i.replace(/\*$/,"/*")+'".'),s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,i)=>(s.push({paramName:t,isOptional:null!=i}),i?"/?([^\\/]+)?":"/([^\\/]+)")),i.endsWith("*")?(s.push({paramName:"*"}),a+="*"===i||"/*"===i?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==i&&"/"!==i&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),s]),h=t.match(o);if(!h)return null;let u=h[0],c=u.replace(/(.)\/+$/,"$1"),d=h.slice(1);return{params:l.reduce((e,t,i)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=d[i]||"";c=u.slice(0,u.length-e.length).replace(/(.)\/+$/,"$1")}let s=d[i];return r&&!s?e[n]=void 0:e[n]=(s||"").replace(/%2F/g,"/"),e},{}),pathname:u,pathnameBase:c,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&"/"!==n?null:e.slice(i)||"/"}function M(e,t){let i;void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"==typeof e?b(e):e;return{pathname:n?n.startsWith("/")?n:(i=t.replace(/\/+$/,"").split("/"),n.split("/").forEach(e=>{".."===e?i.length>1&&i.pop():"."!==e&&i.push(e)}),i.length>1?i.join("/"):"/"):t,search:j(r),hash:V(s)}}function L(e,t,i,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function k(e,t){let i=D(e);return t?i.map((e,t)=>t===i.length-1?e.pathname:e.pathnameBase):i.map(e=>e.pathnameBase)}function N(e,t,i,n){let r,s;void 0===n&&(n=!1),"string"==typeof e?r=b(e):(p(!(r=h({},e)).pathname||!r.pathname.includes("?"),L("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),L("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),L("#","search","hash",r)));let a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)s=i;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=M(r,s),u=o&&"/"!==o&&o.endsWith("/"),c=(a||"."===o)&&i.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}function F(e){return""===e||""===e.pathname?"/":"string"==typeof e?b(e).pathname:e.pathname}let B=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",G=function(e,t){void 0===t&&(t={});let i="number"==typeof t?{status:t}:t,n=new Headers(i.headers);return n.has("Content-Type")||n.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),h({},i,{headers:n}))};class W{constructor(e,t){this.type="DataWithResponseInit",this.data=e,this.init=t||null}}function z(e,t){return new W(e,"number"==typeof t?{status:t}:t)}class Y extends Error{}class H{constructor(e,t){let i;this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],p(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise((e,t)=>i=t),this.controller=new AbortController;let n=()=>i(new Y("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",n),this.controller.signal.addEventListener("abort",n),this.data=Object.entries(e).reduce((e,t)=>{let[i,n]=t;return Object.assign(e,{[i]:this.trackPromise(i,n)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let i=Promise.race([t,this.abortPromise]).then(t=>this.onSettle(i,e,void 0,t),t=>this.onSettle(i,e,t));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,n){if(this.controller.signal.aborted&&i instanceof Y)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),void 0===i&&void 0===n){let i=Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)}return void 0===n?(Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>n}),this.emit(!1,t),n)}emit(e,t){this.subscribers.forEach(i=>i(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(t=>{this.subscribe(n=>{e.removeEventListener("abort",i),(n||this.done)&&t(n)})})}return t}get done(){return 0===this.pendingKeysSet.size}get unwrappedData(){return p(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,n]=t;return Object.assign(e,{[i]:function(e){if(!(e instanceof Promise&&!0===e._tracked))return e;if(e._error)throw e._error;return e._data}(n)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}let X=function(e,t){return void 0===t&&(t={}),new H(e,"number"==typeof t?{status:t}:t)},q=function(e,t){void 0===t&&(t=302);let i=t;"number"==typeof i?i={status:i}:void 0===i.status&&(i.status=302);let n=new Headers(i.headers);return n.set("Location",e),new Response(null,h({},i,{headers:n}))},K=(e,t)=>{let i=q(e,t);return i.headers.set("X-Remix-Reload-Document","true"),i},$=(e,t)=>{let i=q(e,t);return i.headers.set("X-Remix-Replace","true"),i};class Q{constructor(e,t,i,n){void 0===n&&(n=!1),this.status=e,this.statusText=t||"",this.internal=n,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function J(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}let Z=["post","put","patch","delete"],ee=new Set(Z),et=new Set(["get",...Z]),ei=new Set([301,302,303,307,308]),en=new Set([307,308]),er={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},es={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ea={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,el=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),eh="remix-router-transitions";function eu(e){let t,i,n,r,s,l;let u=e.window?e.window:"undefined"!=typeof window?window:void 0,c=void 0!==u&&void 0!==u.document&&void 0!==u.document.createElement,d=!c;if(p(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){let i=e.detectErrorBoundary;t=e=>({hasErrorBoundary:i(e)})}else t=el;let f={},g=w(e.routes,t,void 0,f),y=e.basename||"/",b=e.unstable_dataStrategy||eT,x=e.unstable_patchRoutesOnNavigation,E=h({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),_=null,C=new Set,I=new Set,P=null,R=null,M=null,L=null!=e.hydrationData,D=S(g,e.history.location,y),k=null;if(null==D&&!x){let t=eU(404,{pathname:e.history.location.pathname}),{matches:i,route:n}=eB(g);D=i,k={[n.id]:t}}if(D&&!e.hydrationData&&to(D,g,e.history.location.pathname).active&&(D=null),D){if(D.some(e=>e.route.lazy))n=!1;else if(D.some(e=>e.route.loader)){if(E.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,i=e.hydrationData?e.hydrationData.errors:null,r=e=>!e.route.loader||("function"!=typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||i&&void 0!==i[e.route.id]);if(i){let e=D.findIndex(e=>void 0!==i[e.route.id]);n=D.slice(0,e+1).every(r)}else n=D.every(r)}else n=null!=e.hydrationData}else n=!0}else if(n=!1,D=[],E.v7_partialHydration){let t=to(null,g,e.history.location.pathname);t.active&&t.matches&&(D=t.matches)}let N={historyAction:e.history.action,location:e.history.location,matches:D,initialized:n,navigation:er,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},F=a.Pop,B=!1,U=!1,j=new Map,V=null,G=!1,W=!1,z=[],Y=new Set,H=new Map,X=0,q=-1,K=new Map,$=new Set,Q=new Map,Z=new Map,ee=new Set,et=new Map,ei=new Map,eu=new Map;function ec(e,t){void 0===t&&(t={}),N=h({},N,e);let i=[],n=[];E.v7_fetcherPersist&&N.fetchers.forEach((e,t)=>{"idle"===e.state&&(ee.has(t)?n.push(t):i.push(t))}),[...C].forEach(e=>e(N,{deletedFetchers:n,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync})),E.v7_fetcherPersist&&(i.forEach(e=>N.fetchers.delete(e)),n.forEach(e=>eK(e)))}function ed(t,n,r){var s,o;let l,u;let{flushSync:c}=void 0===r?{}:r,d=null!=N.actionData&&null!=N.navigation.formMethod&&e$(N.navigation.formMethod)&&"loading"===N.navigation.state&&(null==(s=t.state)?void 0:s._isRedirect)!==!0;l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?N.actionData:null;let f=n.loaderData?ek(N.loaderData,n.loaderData,n.matches||[],n.errors):N.loaderData,p=N.blockers;p.size>0&&(p=new Map(p)).forEach((e,t)=>p.set(t,ea));let m=!0===B||null!=N.navigation.formMethod&&e$(N.navigation.formMethod)&&(null==(o=t.state)?void 0:o._isRedirect)!==!0;if(i&&(g=i,i=void 0),G||F===a.Pop||(F===a.Push?e.history.push(t,t.state):F===a.Replace&&e.history.replace(t,t.state)),F===a.Pop){let e=j.get(N.location.pathname);e&&e.has(t.pathname)?u={currentLocation:N.location,nextLocation:t}:j.has(t.pathname)&&(u={currentLocation:t,nextLocation:N.location})}else if(U){let e=j.get(N.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),j.set(N.location.pathname,e)),u={currentLocation:N.location,nextLocation:t}}ec(h({},n,{actionData:l,loaderData:f,historyAction:F,location:t,initialized:!0,navigation:er,revalidation:"idle",restoreScrollPosition:ta(t,n.matches||N.matches),preventScrollReset:m,blockers:p}),{viewTransitionOpts:u,flushSync:!0===c}),F=a.Pop,B=!1,U=!1,G=!1,W=!1,z=[]}async function ef(t,i){if("number"==typeof t){e.history.go(t);return}let n=em(N.location,N.matches,y,E.v7_prependBasename,t,E.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:r,submission:s,error:o}=eg(E.v7_normalizeFormMethod,!1,n,i),l=N.location,u=v(N.location,r,i&&i.state);u=h({},u,e.history.encodeLocation(u));let c=i&&null!=i.replace?i.replace:void 0,d=a.Push;!0===c?d=a.Replace:!1===c||null!=s&&e$(s.formMethod)&&s.formAction===N.location.pathname+N.location.search&&(d=a.Replace);let f=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,p=!0===(i&&i.unstable_flushSync),m=tt({currentLocation:l,nextLocation:u,historyAction:d});if(m){te(m,{state:"blocked",location:u,proceed(){te(m,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),ef(t,i)},reset(){let e=new Map(N.blockers);e.set(m,ea),ec({blockers:e})}});return}return await ep(d,u,{submission:s,pendingError:o,preventScrollReset:f,replace:i&&i.replace,enableViewTransition:i&&i.unstable_viewTransition,flushSync:p})}async function ep(t,n,r){var a,l,u;let c;s&&s.abort(),s=null,F=t,G=!0===(r&&r.startUninterruptedRevalidation),a=N.location,l=N.matches,P&&M&&(P[ts(a,l)]=M()),B=!0===(r&&r.preventScrollReset),U=!0===(r&&r.enableViewTransition);let d=i||g,f=r&&r.overrideNavigation,p=S(d,n,y),m=!0===(r&&r.flushSync),v=to(p,d,n.pathname);if(v.active&&v.matches&&(p=v.matches),!p){let{error:e,notFoundMatches:t,route:i}=ti(n.pathname);ed(n,{matches:t,loaderData:{},errors:{[i.id]:e}},{flushSync:m});return}if(N.initialized&&!W&&(u=N.location).pathname===n.pathname&&u.search===n.search&&(""===u.hash?""!==n.hash:u.hash===n.hash||""!==n.hash)&&!(r&&r.submission&&e$(r.submission.formMethod))){ed(n,{matches:p},{flushSync:m});return}s=new AbortController;let b=eR(e.history,n,s.signal,r&&r.submission);if(r&&r.pendingError)c=[eF(p).route.id,{type:o.error,error:r.pendingError}];else if(r&&r.submission&&e$(r.submission.formMethod)){let t=await ev(b,n,r.submission,p,v.active,{replace:r.replace,flushSync:m});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,i]=t.pendingActionResult;if(ez(i)&&J(i.error)&&404===i.error.status){s=null,ed(n,{matches:t.matches,loaderData:{},errors:{[e]:i.error}});return}}p=t.matches||p,c=t.pendingActionResult,f=e3(n,r.submission),m=!1,v.active=!1,b=eR(e.history,b.url,b.signal)}let{shortCircuited:x,matches:E,loaderData:w,errors:T}=await eb(b,n,p,v.active,f,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,m,c);x||(s=null,ed(n,h({matches:E||p},eN(c),{loaderData:w,errors:T})))}async function ev(e,t,i,n,r,s){let l;if(void 0===s&&(s={}),eV(),ec({navigation:{state:"submitting",location:t,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}},{flushSync:!0===s.flushSync}),r){let i=await tl(n,t.pathname,e.signal);if("aborted"===i.type)return{shortCircuited:!0};if("error"===i.type){let{boundaryId:e,error:n}=tn(t.pathname,i);return{matches:i.partialMatches,pendingActionResult:[e,{type:o.error,error:n}]}}if(i.matches)n=i.matches;else{let{notFoundMatches:e,error:i,route:n}=ti(t.pathname);return{matches:e,pendingActionResult:[n.id,{type:o.error,error:i}]}}}let h=e1(n,t);if(h.route.action||h.route.lazy){if(l=(await eM("action",N,e,[h],n,null))[h.route.id],e.signal.aborted)return{shortCircuited:!0}}else l={type:o.error,error:eU(405,{method:e.method,pathname:t.pathname,routeId:h.route.id})};if(eY(l)){let t;return t=s&&null!=s.replace?s.replace:eP(l.response.headers.get("Location"),new URL(e.url),y)===N.location.pathname+N.location.search,await eO(e,l,!0,{submission:i,replace:t}),{shortCircuited:!0}}if(eW(l))throw eU(400,{type:"defer-action"});if(ez(l)){let e=eF(n,h.route.id);return!0!==(s&&s.replace)&&(F=a.Push),{matches:n,pendingActionResult:[e.route.id,l]}}return{matches:n,pendingActionResult:[h.route.id,l]}}async function eb(t,n,r,a,o,l,u,c,d,f,p){let m=o||e3(n,l),v=l||u||e2(m),b=!G&&(!E.v7_partialHydration||!d);if(a){if(b){let e=ex(p);ec(h({navigation:m},void 0!==e?{actionData:e}:{}),{flushSync:f})}let e=await tl(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{boundaryId:t,error:i}=tn(n.pathname,e);return{matches:e.partialMatches,loaderData:{},errors:{[t]:i}}}if(e.matches)r=e.matches;else{let{error:e,notFoundMatches:t,route:i}=ti(n.pathname);return{matches:t,loaderData:{},errors:{[i.id]:e}}}}let x=i||g,[w,S]=ey(e.history,N,r,v,n,E.v7_partialHydration&&!0===d,E.v7_skipActionErrorRevalidation,W,z,Y,ee,Q,$,x,y,p);if(tr(e=>!(r&&r.some(t=>t.route.id===e))||w&&w.some(t=>t.route.id===e)),q=++X,0===w.length&&0===S.length){let e=e6();return ed(n,h({matches:r,loaderData:{},errors:p&&ez(p[1])?{[p[0]]:p[1].error}:null},eN(p),e?{fetchers:new Map(N.fetchers)}:{}),{flushSync:f}),{shortCircuited:!0}}if(b){let e={};if(!a){e.navigation=m;let t=ex(p);void 0!==t&&(e.actionData=t)}S.length>0&&(e.fetchers=(S.forEach(e=>{let t=N.fetchers.get(e.key),i=e4(void 0,t?t.data:void 0);N.fetchers.set(e.key,i)}),new Map(N.fetchers))),ec(e,{flushSync:f})}S.forEach(e=>{H.has(e.key)&&e0(e.key),e.controller&&H.set(e.key,e.controller)});let T=()=>S.forEach(e=>e0(e.key));s&&s.signal.addEventListener("abort",T);let{loaderResults:A,fetcherResults:_}=await eL(N,r,w,S,t);if(t.signal.aborted)return{shortCircuited:!0};s&&s.signal.removeEventListener("abort",T),S.forEach(e=>H.delete(e.key));let C=ej(A);if(C)return await eO(t,C.result,!0,{replace:c}),{shortCircuited:!0};if(C=ej(_))return $.add(C.key),await eO(t,C.result,!0,{replace:c}),{shortCircuited:!0};let{loaderData:I,errors:P}=eD(N,r,w,A,p,S,_,et);et.forEach((e,t)=>{e.subscribe(i=>{(i||e.done)&&et.delete(t)})}),E.v7_partialHydration&&d&&N.errors&&Object.entries(N.errors).filter(e=>{let[t]=e;return!w.some(e=>e.route.id===t)}).forEach(e=>{let[t,i]=e;P=Object.assign(P||{},{[t]:i})});let R=e6(),O=e8(q),M=R||O||S.length>0;return h({matches:r,loaderData:I,errors:P},M?{fetchers:new Map(N.fetchers)}:{})}function ex(e){return e&&!ez(e[1])?{[e[0]]:e[1].data}:N.actionData?0===Object.keys(N.actionData).length?null:N.actionData:void 0}async function eS(t,n,r,a,o,l,h,u){function c(e){if(!e.route.action&&!e.route.lazy){let e=eU(405,{method:u.formMethod,pathname:r,routeId:n});return eX(t,n,e,{flushSync:h}),!0}return!1}if(eV(),Q.delete(t),!l&&c(a))return;let d=N.fetchers.get(t);eH(t,{state:"submitting",formMethod:u.formMethod,formAction:u.formAction,formEncType:u.formEncType,formData:u.formData,json:u.json,text:u.text,data:d?d.data:void 0},{flushSync:h});let f=new AbortController,m=eR(e.history,r,f.signal,u);if(l){let e=await tl(o,r,m.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=tn(r,e);eX(t,n,i,{flushSync:h});return}if(e.matches){if(c(a=e1(o=e.matches,r)))return}else{eX(t,n,eU(404,{pathname:r}),{flushSync:h});return}}H.set(t,f);let v=X,b=(await eM("action",N,m,[a],o,t))[a.route.id];if(m.signal.aborted){H.get(t)===f&&H.delete(t);return}if(E.v7_fetcherPersist&&ee.has(t)){if(eY(b)||ez(b)){eH(t,e5(void 0));return}}else{if(eY(b))return(H.delete(t),q>v)?void eH(t,e5(void 0)):($.add(t),eH(t,e4(u)),eO(m,b,!1,{fetcherSubmission:u}));if(ez(b)){eX(t,n,b.error);return}}if(eW(b))throw eU(400,{type:"defer-action"});let x=N.navigation.location||N.location,w=eR(e.history,x,f.signal),T=i||g,A="idle"!==N.navigation.state?S(T,N.navigation.location,y):N.matches;p(A,"Didn't find any matches after fetcher action");let _=++X;K.set(t,_);let C=e4(u,b.data);N.fetchers.set(t,C);let[I,P]=ey(e.history,N,A,u,x,!1,E.v7_skipActionErrorRevalidation,W,z,Y,ee,Q,$,T,y,[a.route.id,b]);P.filter(e=>e.key!==t).forEach(e=>{let t=e.key,i=N.fetchers.get(t),n=e4(void 0,i?i.data:void 0);N.fetchers.set(t,n),H.has(t)&&e0(t),e.controller&&H.set(t,e.controller)}),ec({fetchers:new Map(N.fetchers)});let R=()=>P.forEach(e=>e0(e.key));f.signal.addEventListener("abort",R);let{loaderResults:O,fetcherResults:M}=await eL(N,A,I,P,w);if(f.signal.aborted)return;f.signal.removeEventListener("abort",R),K.delete(t),H.delete(t),P.forEach(e=>H.delete(e.key));let L=ej(O);if(L)return eO(w,L.result,!1);if(L=ej(M))return $.add(L.key),eO(w,L.result,!1);let{loaderData:D,errors:k}=eD(N,A,I,O,void 0,P,M,et);if(N.fetchers.has(t)){let e=e5(b.data);N.fetchers.set(t,e)}e8(_),"loading"===N.navigation.state&&_>q?(p(F,"Expected pending action"),s&&s.abort(),ed(N.navigation.location,{matches:A,loaderData:D,errors:k,fetchers:new Map(N.fetchers)})):(ec({errors:k,loaderData:ek(N.loaderData,D,A,k),fetchers:new Map(N.fetchers)}),W=!1)}async function e_(t,i,n,r,s,a,o,l){let h=N.fetchers.get(t);eH(t,e4(l,h?h.data:void 0),{flushSync:o});let u=new AbortController,c=eR(e.history,n,u.signal);if(a){let e=await tl(s,n,c.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:r}=tn(n,e);eX(t,i,r,{flushSync:o});return}if(e.matches)r=e1(s=e.matches,n);else{eX(t,i,eU(404,{pathname:n}),{flushSync:o});return}}H.set(t,u);let d=X,f=(await eM("loader",N,c,[r],s,t))[r.route.id];if(eW(f)&&(f=await eZ(f,c.signal,!0)||f),H.get(t)===u&&H.delete(t),!c.signal.aborted){if(ee.has(t)){eH(t,e5(void 0));return}if(eY(f)){if(q>d){eH(t,e5(void 0));return}$.add(t),await eO(c,f,!1);return}if(ez(f)){eX(t,i,f.error);return}p(!eW(f),"Unhandled fetcher deferred data"),eH(t,e5(f.data))}}async function eO(t,i,n,r){let{submission:o,fetcherSubmission:l,replace:d}=void 0===r?{}:r;i.response.headers.has("X-Remix-Revalidate")&&(W=!0);let f=i.response.headers.get("Location");p(f,"Expected a Location header on the redirect Response"),f=eP(f,new URL(t.url),y);let m=v(N.location,f,{_isRedirect:!0});if(c){let t=!1;if(i.response.headers.has("X-Remix-Reload-Document"))t=!0;else if(eo.test(f)){let i=e.history.createURL(f);t=i.origin!==u.location.origin||null==O(i.pathname,y)}if(t){d?u.location.replace(f):u.location.assign(f);return}}s=null;let g=!0===d||i.response.headers.has("X-Remix-Replace")?a.Replace:a.Push,{formMethod:b,formAction:x,formEncType:E}=N.navigation;!o&&!l&&b&&x&&E&&(o=e2(N.navigation));let w=o||l;if(en.has(i.response.status)&&w&&e$(w.formMethod))await ep(g,m,{submission:h({},w,{formAction:f}),preventScrollReset:B,enableViewTransition:n?U:void 0});else{let e=e3(m,o);await ep(g,m,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:B,enableViewTransition:n?U:void 0})}}async function eM(e,i,n,r,s,a){let l;let h={};try{l=await eA(b,e,i,n,r,s,a,f,t)}catch(e){return r.forEach(t=>{h[t.route.id]={type:o.error,error:e}}),h}for(let[e,t]of Object.entries(l))if(eG(t)){let i=t.result;h[e]={type:o.redirect,response:eI(i,n,e,s,y,E.v7_relativeSplatPath)}}else h[e]=await eC(t);return h}async function eL(t,i,n,r,s){let a=t.matches,l=eM("loader",t,s,n,i,null),h=Promise.all(r.map(async i=>{if(!i.matches||!i.match||!i.controller)return Promise.resolve({[i.key]:{type:o.error,error:eU(404,{pathname:i.path})}});{let n=(await eM("loader",t,eR(e.history,i.path,i.controller.signal),[i.match],i.matches,i.key))[i.match.route.id];return{[i.key]:n}}})),u=await l,c=(await h).reduce((e,t)=>Object.assign(e,t),{});return await Promise.all([eQ(i,u,s.signal,a,t.loaderData),eJ(i,c,r)]),{loaderResults:u,fetcherResults:c}}function eV(){W=!0,z.push(...tr()),Q.forEach((e,t)=>{H.has(t)&&(Y.add(t),e0(t))})}function eH(e,t,i){void 0===i&&(i={}),N.fetchers.set(e,t),ec({fetchers:new Map(N.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function eX(e,t,i,n){void 0===n&&(n={});let r=eF(N.matches,t);eK(e),ec({errors:{[r.route.id]:i},fetchers:new Map(N.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function eq(e){return E.v7_fetcherPersist&&(Z.set(e,(Z.get(e)||0)+1),ee.has(e)&&ee.delete(e)),N.fetchers.get(e)||es}function eK(e){let t=N.fetchers.get(e);H.has(e)&&!(t&&"loading"===t.state&&K.has(e))&&e0(e),Q.delete(e),K.delete(e),$.delete(e),ee.delete(e),Y.delete(e),N.fetchers.delete(e)}function e0(e){let t=H.get(e);p(t,"Expected fetch controller: "+e),t.abort(),H.delete(e)}function e9(e){for(let t of e){let e=e5(eq(t).data);N.fetchers.set(t,e)}}function e6(){let e=[],t=!1;for(let i of $){let n=N.fetchers.get(i);p(n,"Expected fetcher: "+i),"loading"===n.state&&($.delete(i),e.push(i),t=!0)}return e9(e),t}function e8(e){let t=[];for(let[i,n]of K)if(n<e){let e=N.fetchers.get(i);p(e,"Expected fetcher: "+i),"loading"===e.state&&(e0(i),K.delete(i),t.push(i))}return e9(t),t.length>0}function e7(e){N.blockers.delete(e),ei.delete(e)}function te(e,t){let i=N.blockers.get(e)||ea;p("unblocked"===i.state&&"blocked"===t.state||"blocked"===i.state&&"blocked"===t.state||"blocked"===i.state&&"proceeding"===t.state||"blocked"===i.state&&"unblocked"===t.state||"proceeding"===i.state&&"unblocked"===t.state,"Invalid blocker state transition: "+i.state+" -> "+t.state);let n=new Map(N.blockers);n.set(e,t),ec({blockers:n})}function tt(e){let{currentLocation:t,nextLocation:i,historyAction:n}=e;if(0===ei.size)return;ei.size>1&&m(!1,"A router only supports one blocker at a time");let r=Array.from(ei.entries()),[s,a]=r[r.length-1],o=N.blockers.get(s);if((!o||"proceeding"!==o.state)&&a({currentLocation:t,nextLocation:i,historyAction:n}))return s}function ti(e){let t=eU(404,{pathname:e}),{matches:n,route:r}=eB(i||g);return tr(),{notFoundMatches:n,route:r,error:t}}function tn(e,t){return{boundaryId:eF(t.partialMatches).route.id,error:eU(400,{type:"route-discovery",pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function tr(e){let t=[];return et.forEach((i,n)=>{(!e||e(n))&&(i.cancel(),t.push(n),et.delete(n))}),t}function ts(e,t){return R&&R(e,t.map(e=>A(e,N.loaderData)))||e.key}function ta(e,t){if(P){let i=P[ts(e,t)];if("number"==typeof i)return i}return null}function to(e,t,i){if(x){if(I.has(i))return{active:!1,matches:e};if(!e)return{active:!0,matches:T(t,i,y,!0)||[]};if(Object.keys(e[0].params).length>0)return{active:!0,matches:T(t,i,y,!0)}}return{active:!1,matches:null}}async function tl(e,n,r){let s=e;for(;;){let e=null==i,a=i||g;try{await eE(x,n,s,a,f,t,eu,r)}catch(e){return{type:"error",error:e,partialMatches:s}}finally{e&&(g=[...g])}if(r.aborted)return{type:"aborted"};let o=S(a,n,y);if(o)return th(n,I),{type:"success",matches:o};let l=T(a,n,y,!0);if(!l||s.length===l.length&&s.every((e,t)=>e.route.id===l[t].route.id))return th(n,I),{type:"success",matches:null};s=l}}function th(e,t){if(t.size>=1e3){let e=t.values().next().value;t.delete(e)}t.add(e)}return r={get basename(){return y},get future(){return E},get state(){return N},get routes(){return g},get window(){return u},initialize:function(){if(_=e.history.listen(t=>{let{action:i,location:n,delta:r}=t;if(l){l(),l=void 0;return}m(0===ei.size||null!=r,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=tt({currentLocation:N.location,nextLocation:n,historyAction:i});if(s&&null!=r){let t=new Promise(e=>{l=e});e.history.go(-1*r),te(s,{state:"blocked",location:n,proceed(){te(s,{state:"proceeding",proceed:void 0,reset:void 0,location:n}),t.then(()=>e.history.go(r))},reset(){let e=new Map(N.blockers);e.set(s,ea),ec({blockers:e})}});return}return ep(i,n)}),c){!function(e,t){try{let i=e.sessionStorage.getItem(eh);if(i){let e=JSON.parse(i);for(let[i,n]of Object.entries(e||{}))n&&Array.isArray(n)&&t.set(i,new Set(n||[]))}}catch(e){}}(u,j);let e=()=>(function(e,t){if(t.size>0){let i={};for(let[e,n]of t)i[e]=[...n];try{e.sessionStorage.setItem(eh,JSON.stringify(i))}catch(e){m(!1,"Failed to save applied view transitions in sessionStorage ("+e+").")}}})(u,j);u.addEventListener("pagehide",e),V=()=>u.removeEventListener("pagehide",e)}return N.initialized||ep(a.Pop,N.location,{initialHydration:!0}),r},subscribe:function(e){return C.add(e),()=>C.delete(e)},enableScrollRestoration:function(e,t,i){if(P=e,M=t,R=i||null,!L&&N.navigation===er){L=!0;let e=ta(N.location,N.matches);null!=e&&ec({restoreScrollPosition:e})}return()=>{P=null,M=null,R=null}},navigate:ef,fetch:function(e,t,n,r){if(d)throw Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(e)&&e0(e);let s=!0===(r&&r.unstable_flushSync),a=i||g,o=em(N.location,N.matches,y,E.v7_prependBasename,n,E.v7_relativeSplatPath,t,null==r?void 0:r.relative),l=S(a,o,y),h=to(l,a,o);if(h.active&&h.matches&&(l=h.matches),!l){eX(e,t,eU(404,{pathname:o}),{flushSync:s});return}let{path:u,submission:c,error:f}=eg(E.v7_normalizeFormMethod,!0,o,r);if(f){eX(e,t,f,{flushSync:s});return}let p=e1(l,u);if(B=!0===(r&&r.preventScrollReset),c&&e$(c.formMethod)){eS(e,t,u,p,l,h.active,s,c);return}Q.set(e,{routeId:t,path:u}),e_(e,t,u,p,l,h.active,s,c)},revalidate:function(){if(eV(),ec({revalidation:"loading"}),"submitting"!==N.navigation.state){if("idle"===N.navigation.state){ep(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}ep(F||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:!0===U})}},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:eq,deleteFetcher:function(e){if(E.v7_fetcherPersist){let t=(Z.get(e)||0)-1;t<=0?(Z.delete(e),ee.add(e)):Z.set(e,t)}else eK(e);ec({fetchers:new Map(N.fetchers)})},dispose:function(){_&&_(),V&&V(),C.clear(),s&&s.abort(),N.fetchers.forEach((e,t)=>eK(t)),N.blockers.forEach((e,t)=>e7(t))},getBlocker:function(e,t){let i=N.blockers.get(e)||ea;return ei.get(e)!==t&&ei.set(e,t),i},deleteBlocker:e7,patchRoutes:function(e,n){let r=null==i;ew(e,n,i||g,f,t),r&&(g=[...g],ec({}))},_internalFetchControllers:H,_internalActiveDeferreds:et,_internalSetRoutes:function(e){i=w(e,t,void 0,f={})}}}let ec=Symbol("deferred");function ed(e,t){let i;p(e.length>0,"You must provide a non-empty routes array to createStaticHandler");let n={},r=(t?t.basename:null)||"/";if(null!=t&&t.mapRouteProperties)i=t.mapRouteProperties;else if(null!=t&&t.detectErrorBoundary){let e=t.detectErrorBoundary;i=t=>({hasErrorBoundary:e(t)})}else i=el;let s=h({v7_relativeSplatPath:!1,v7_throwAbortReason:!1},t?t.future:null),a=w(e,i,void 0,n);async function l(e,t){let{requestContext:i,skipLoaderErrorBubbling:n,unstable_dataStrategy:s}=void 0===t?{}:t,o=new URL(e.url),l=e.method,u=v("",y(o),null,"default"),d=S(a,u,r);if(eK(l)||"HEAD"===l){if(!d){let e=eU(404,{pathname:u.pathname}),{matches:t,route:i}=eB(a);return{basename:r,location:u,matches:t,loaderData:{},actionData:null,errors:{[i.id]:e},statusCode:e.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}}else{let e=eU(405,{method:l}),{matches:t,route:i}=eB(a);return{basename:r,location:u,matches:t,loaderData:{},actionData:null,errors:{[i.id]:e},statusCode:e.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let f=await c(e,u,d,i,s||null,!0===n,null);return eq(f)?f:h({location:u,basename:r},f)}async function u(e,t){let{routeId:i,requestContext:n,unstable_dataStrategy:s}=void 0===t?{}:t,o=new URL(e.url),l=e.method,h=v("",y(o),null,"default"),u=S(a,h,r);if(eK(l)||"HEAD"===l||"OPTIONS"===l){if(!u)throw eU(404,{pathname:h.pathname})}else throw eU(405,{method:l});let d=i?u.find(e=>e.route.id===i):e1(u,h);if(i&&!d)throw eU(403,{pathname:h.pathname,routeId:i});if(!d)throw eU(404,{pathname:h.pathname});let f=await c(e,h,u,n,s||null,!1,d);if(eq(f))return f;let p=f.errors?Object.values(f.errors)[0]:void 0;if(void 0!==p)throw p;if(f.actionData)return Object.values(f.actionData)[0];if(f.loaderData){var m;let e=Object.values(f.loaderData)[0];return null!=(m=f.activeDeferreds)&&m[d.route.id]&&(e[ec]=f.activeDeferreds[d.route.id]),e}}async function c(e,t,i,n,r,s,a){p(e.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(e$(e.method.toLowerCase()))return await d(e,i,a||e1(i,t),n,r,s,null!=a);let o=await f(e,i,n,r,s,a);return eq(o)?o:h({},o,{actionData:null,actionHeaders:{}})}catch(e){if(null!=e&&"object"==typeof e&&"type"in e&&"result"in e&&(e.type===o.data||e.type===o.error)&&eq(e.result)){if(e.type===o.error)throw e.result;return e.result}if(function(e){if(!eq(e))return!1;let t=e.status,i=e.headers.get("Location");return t>=300&&t<=399&&null!=i}(e))return e;throw e}}async function d(e,t,i,n,r,a,l){let u;if(i.route.action||i.route.lazy)u=(await m("action",e,[i],t,l,n,r))[i.route.id],e.signal.aborted&&ep(e,l,s);else{let t=eU(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:i.route.id});if(l)throw t;u={type:o.error,error:t}}if(eY(u))throw new Response(null,{status:u.response.status,headers:{Location:u.response.headers.get("Location")}});if(eW(u)){let e=eU(400,{type:"defer-action"});if(l)throw e;u={type:o.error,error:e}}if(l){if(ez(u))throw u.error;return{matches:[i],loaderData:{},actionData:{[i.route.id]:u.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let c=new Request(e.url,{headers:e.headers,redirect:e.redirect,signal:e.signal});if(ez(u)){let e=a?i:eF(t,i.route.id),s=await f(c,t,n,r,a,null,[e.route.id,u]);return h({},s,{statusCode:J(u.error)?u.error.status:null!=u.statusCode?u.statusCode:500,actionData:null,actionHeaders:h({},u.headers?{[i.route.id]:u.headers}:{})})}let d=await f(c,t,n,r,a,null);return h({},d,{actionData:{[i.route.id]:u.data}},u.statusCode?{statusCode:u.statusCode}:{},{actionHeaders:u.headers?{[i.route.id]:u.headers}:{}})}async function f(e,t,i,n,r,a,o){let l=null!=a;if(l&&!(null!=a&&a.route.loader)&&!(null!=a&&a.route.lazy))throw eU(400,{method:e.method,pathname:new URL(e.url).pathname,routeId:null==a?void 0:a.route.id});let u=(a?[a]:o&&ez(o[1])?ev(t,o[0]):t).filter(e=>e.route.loader||e.route.lazy);if(0===u.length)return{matches:t,loaderData:t.reduce((e,t)=>Object.assign(e,{[t.route.id]:null}),{}),errors:o&&ez(o[1])?{[o[0]]:o[1].error}:null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let c=await m("loader",e,u,t,l,i,n);e.signal.aborted&&ep(e,l,s);let d=new Map,f=eL(t,c,o,d,r),p=new Set(u.map(e=>e.route.id));return t.forEach(e=>{p.has(e.route.id)||(f.loaderData[e.route.id]=null)}),h({},f,{matches:t,activeDeferreds:d.size>0?Object.fromEntries(d.entries()):null})}async function m(e,t,a,o,l,h,u){let c=await eA(u||eT,e,null,t,a,o,null,n,i,h),d={};return await Promise.all(o.map(async e=>{if(!(e.route.id in c))return;let i=c[e.route.id];if(eG(i))throw eI(i.result,t,e.route.id,o,r,s.v7_relativeSplatPath);if(eq(i.result)&&l)throw i;d[e.route.id]=await eC(i)})),d}return{dataRoutes:a,query:l,queryRoute:u}}function ef(e,t,i){return h({},t,{statusCode:J(i)?i.status:500,errors:{[t._deepestRenderedBoundaryId||e[0].id]:i}})}function ep(e,t,i){if(i.v7_throwAbortReason&&void 0!==e.signal.reason)throw e.signal.reason;throw Error((t?"queryRoute":"query")+"() call aborted: "+e.method+" "+e.url)}function em(e,t,i,n,r,s,a,o){let l,h;if(a){for(let e of(l=[],t))if(l.push(e),e.route.id===a){h=e;break}}else l=t,h=t[t.length-1];let u=N(r||".",k(l,s),O(e.pathname,i)||e.pathname,"path"===o);return null==r&&(u.search=e.search,u.hash=e.hash),(null==r||""===r||"."===r)&&h&&h.route.index&&!e0(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&"/"!==i&&(u.pathname="/"===u.pathname?i:B([i,u.pathname])),y(u)}function eg(e,t,i,n){let r,s;if(!n||!(null!=n&&("formData"in n&&null!=n.formData||"body"in n&&void 0!==n.body)))return{path:i};if(n.formMethod&&!eK(n.formMethod))return{path:i,error:eU(405,{method:n.formMethod})};let a=()=>({path:i,error:eU(400,{type:"invalid-body"})}),o=n.formMethod||"get",l=e?o.toUpperCase():o.toLowerCase(),h=eV(i);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!e$(l))return a();let e="string"==typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((e,t)=>{let[i,n]=t;return""+e+i+"="+n+"\n"},""):String(n.body);return{path:i,submission:{formMethod:l,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!e$(l))return a();try{let e="string"==typeof n.body?JSON.parse(n.body):n.body;return{path:i,submission:{formMethod:l,formAction:h,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return a()}}}if(p("function"==typeof FormData,"FormData is not available in this environment"),n.formData)r=eO(n.formData),s=n.formData;else if(n.body instanceof FormData)r=eO(n.body),s=n.body;else if(n.body instanceof URLSearchParams)s=eM(r=n.body);else if(null==n.body)r=new URLSearchParams,s=new FormData;else try{r=new URLSearchParams(n.body),s=eM(r)}catch(e){return a()}let u={formMethod:l,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(e$(u.formMethod))return{path:i,submission:u};let c=b(i);return t&&c.search&&e0(c.search)&&r.append("index",""),c.search="?"+r,{path:y(c),submission:u}}function ev(e,t){let i=e;if(t){let n=e.findIndex(e=>e.route.id===t);n>=0&&(i=e.slice(0,n))}return i}function ey(e,t,i,n,r,s,a,o,l,u,c,d,f,p,m,g){let v=g?ez(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),b=e.createURL(r),x=g&&ez(g[1])?g[0]:void 0,E=x?ev(i,x):i,w=g?g[1].statusCode:void 0,T=a&&w&&w>=400,A=E.filter((e,i)=>{var r,a;let u,c,{route:d}=e;if(d.lazy)return!0;if(null==d.loader)return!1;if(s)return"function"!=typeof d.loader||!!d.loader.hydrate||void 0===t.loaderData[d.id]&&(!t.errors||void 0===t.errors[d.id]);if(r=t.loaderData,u=!(a=t.matches[i])||e.route.id!==a.route.id,c=void 0===r[e.route.id],u||c||l.some(t=>t===e.route.id))return!0;let f=t.matches[i];return ex(e,h({currentUrl:y,currentParams:f.params,nextUrl:b,nextParams:e.params},n,{actionResult:v,actionStatus:w,defaultShouldRevalidate:!T&&(o||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||eb(f,e))}))}),_=[];return d.forEach((e,r)=>{if(s||!i.some(t=>t.route.id===e.routeId)||c.has(r))return;let a=S(p,e.path,m);if(!a){_.push({key:r,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});return}let l=t.fetchers.get(r),d=e1(a,e.path),g=!1;f.has(r)?g=!1:u.has(r)?(u.delete(r),g=!0):g=l&&"idle"!==l.state&&void 0===l.data?o:ex(d,h({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:i[i.length-1].params},n,{actionResult:v,actionStatus:w,defaultShouldRevalidate:!T&&o})),g&&_.push({key:r,routeId:e.routeId,path:e.path,matches:a,match:d,controller:new AbortController})}),[A,_]}function eb(e,t){let i=e.route.path;return e.pathname!==t.pathname||null!=i&&i.endsWith("*")&&e.params["*"]!==t.params["*"]}function ex(e,t){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(t);if("boolean"==typeof i)return i}return t.defaultShouldRevalidate}async function eE(e,t,i,n,r,s,a,o){let l=[t,...i.map(e=>e.route.id)].join("-");try{var h;let u=a.get(l);u||(u=e({path:t,matches:i,patch:(e,t)=>{o.aborted||ew(e,t,n,r,s)}}),a.set(l,u)),u&&(h=u,"object"==typeof h&&null!=h&&"then"in h)&&await u}finally{a.delete(l)}}function ew(e,t,i,n,r){if(e){var s;let i=n[e];p(i,"No route found to patch children into: routeId = "+e);let a=w(t,r,[e,"patch",String((null==(s=i.children)?void 0:s.length)||"0")],n);i.children?i.children.push(...a):i.children=a}else{let e=w(t,r,["patch",String(i.length||"0")],n);i.push(...e)}}async function eS(e,t,i){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let r=i[e.id];p(r,"No route found in manifest");let s={};for(let e in n){let t=void 0!==r[e]&&"hasErrorBoundary"!==e;m(!t,'Route "'+r.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||E.has(e)||(s[e]=n[e])}Object.assign(r,s),Object.assign(r,h({},t(r),{lazy:void 0}))}async function eT(e){let{matches:t}=e,i=t.filter(e=>e.shouldLoad);return(await Promise.all(i.map(e=>e.resolve()))).reduce((e,t,n)=>Object.assign(e,{[i[n].route.id]:t}),{})}async function eA(e,t,i,n,r,s,a,l,u,c){let d=s.map(e=>e.route.lazy?eS(e.route,u,l):void 0),f=s.map((e,i)=>{let s=d[i],a=r.some(t=>t.route.id===e.route.id),l=async i=>(i&&"GET"===n.method&&(e.route.lazy||e.route.loader)&&(a=!0),a?e_(t,n,e,s,i,c):Promise.resolve({type:o.data,result:void 0}));return h({},e,{shouldLoad:a,resolve:l})}),p=await e({matches:f,request:n,params:s[0].params,fetcherKey:a,context:c});try{await Promise.all(d)}catch(e){}return p}async function e_(e,t,i,n,r,s){let a,l;let h=n=>{let a;let o=new Promise((e,t)=>a=t);l=()=>a(),t.signal.addEventListener("abort",l);let h=r=>"function"!=typeof n?Promise.reject(Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+i.route.id+"]")):n({request:t,params:i.params,context:s},...void 0!==r?[r]:[]);return Promise.race([(async()=>{try{let e=await (r?r(e=>h(e)):h());return{type:"data",result:e}}catch(e){return{type:"error",result:e}}})(),o])};try{let r=i.route[e];if(n){if(r){let e;let[t]=await Promise.all([h(r).catch(t=>{e=t}),n]);if(void 0!==e)throw e;a=t}else if(await n,r=i.route[e])a=await h(r);else{if("action"!==e)return{type:o.data,result:void 0};let n=new URL(t.url),r=n.pathname+n.search;throw eU(405,{method:t.method,pathname:r,routeId:i.route.id})}}else if(r)a=await h(r);else{let e=new URL(t.url),i=e.pathname+e.search;throw eU(404,{pathname:i})}p(void 0!==a.result,"You defined "+("action"===e?"an action":"a loader")+" for route "+('"'+i.route.id)+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){return{type:o.error,result:e}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function eC(e){var t,i,n,r,s,a;let{result:l,type:h}=e;if(eq(l)){let e;try{let t=l.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?null==l.body?null:await l.json():await l.text()}catch(e){return{type:o.error,error:e}}return h===o.error?{type:o.error,error:new Q(l.status,l.statusText,e),statusCode:l.status,headers:l.headers}:{type:o.data,data:e,statusCode:l.status,headers:l.headers}}if(h===o.error){if(eH(l)){if(l.data instanceof Error)return{type:o.error,error:l.data,statusCode:null==(i=l.init)?void 0:i.status};l=new Q((null==(t=l.init)?void 0:t.status)||500,void 0,l.data)}return{type:o.error,error:l,statusCode:J(l)?l.status:void 0}}return eX(l)?{type:o.deferred,deferredData:l,statusCode:null==(n=l.init)?void 0:n.status,headers:(null==(r=l.init)?void 0:r.headers)&&new Headers(l.init.headers)}:eH(l)?{type:o.data,data:l.data,statusCode:null==(s=l.init)?void 0:s.status,headers:null!=(a=l.init)&&a.headers?new Headers(l.init.headers):void 0}:{type:o.data,data:l}}function eI(e,t,i,n,r,s){let a=e.headers.get("Location");if(p(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!eo.test(a)){let o=n.slice(0,n.findIndex(e=>e.route.id===i)+1);a=em(new URL(t.url),o,r,!0,a,s),e.headers.set("Location",a)}return e}function eP(e,t,i){if(eo.test(e)){let n=new URL(e.startsWith("//")?t.protocol+e:e),r=null!=O(n.pathname,i);if(n.origin===t.origin&&r)return n.pathname+n.search+n.hash}return e}function eR(e,t,i,n){let r=e.createURL(eV(t)).toString(),s={signal:i};if(n&&e$(n.formMethod)){let{formMethod:e,formEncType:t}=n;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(n.json)):"text/plain"===t?s.body=n.text:"application/x-www-form-urlencoded"===t&&n.formData?s.body=eO(n.formData):s.body=n.formData}return new Request(r,s)}function eO(e){let t=new URLSearchParams;for(let[i,n]of e.entries())t.append(i,"string"==typeof n?n:n.name);return t}function eM(e){let t=new FormData;for(let[i,n]of e.entries())t.append(i,n);return t}function eL(e,t,i,n,r){let s,a={},o=null,l=!1,h={},u=i&&ez(i[1])?i[1].error:void 0;return e.forEach(i=>{if(!(i.route.id in t))return;let c=i.route.id,d=t[c];if(p(!eY(d),"Cannot handle redirect results in processLoaderData"),ez(d)){let t=d.error;if(void 0!==u&&(t=u,u=void 0),o=o||{},r)o[c]=t;else{let i=eF(e,c);null==o[i.route.id]&&(o[i.route.id]=t)}a[c]=void 0,l||(l=!0,s=J(d.error)?d.error.status:500),d.headers&&(h[c]=d.headers)}else eW(d)?(n.set(c,d.deferredData),a[c]=d.deferredData.data,null==d.statusCode||200===d.statusCode||l||(s=d.statusCode)):(a[c]=d.data,d.statusCode&&200!==d.statusCode&&!l&&(s=d.statusCode)),d.headers&&(h[c]=d.headers)}),void 0!==u&&i&&(o={[i[0]]:u},a[i[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:h}}function eD(e,t,i,n,r,s,a,o){let{loaderData:l,errors:u}=eL(t,n,r,o,!1);return s.forEach(t=>{let{key:i,match:n,controller:r}=t,s=a[i];if(p(s,"Did not find corresponding fetcher result"),!r||!r.signal.aborted){if(ez(s)){let t=eF(e.matches,null==n?void 0:n.route.id);u&&u[t.route.id]||(u=h({},u,{[t.route.id]:s.error})),e.fetchers.delete(i)}else if(eY(s))p(!1,"Unhandled fetcher revalidation redirect");else if(eW(s))p(!1,"Unhandled fetcher deferred data");else{let t=e5(s.data);e.fetchers.set(i,t)}}}),{loaderData:l,errors:u}}function ek(e,t,i,n){let r=h({},t);for(let s of i){let i=s.route.id;if(t.hasOwnProperty(i)?void 0!==t[i]&&(r[i]=t[i]):void 0!==e[i]&&s.route.loader&&(r[i]=e[i]),n&&n.hasOwnProperty(i))break}return r}function eN(e){return e?ez(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function eF(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function eB(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function eU(e,t){let{pathname:i,routeId:n,method:r,type:s,message:a}=void 0===t?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(o="Bad Request","route-discovery"===s?l='Unable to match URL "'+i+'" - the `unstable_patchRoutesOnNavigation()` function threw the following error:\n'+a:r&&i&&n?l="You made a "+r+' request to "'+i+'" but did not provide a `loader` for route "'+n+'", so there is no way to handle the request.':"defer-action"===s?l="defer() is not supported in actions":"invalid-body"===s&&(l="Unable to encode submission body")):403===e?(o="Forbidden",l='Route "'+n+'" does not match URL "'+i+'"'):404===e?(o="Not Found",l='No route matches URL "'+i+'"'):405===e&&(o="Method Not Allowed",r&&i&&n?l="You made a "+r.toUpperCase()+' request to "'+i+'" but did not provide an `action` for route "'+n+'", so there is no way to handle the request.':r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new Q(e||500,o,Error(l),!0)}function ej(e){let t=Object.entries(e);for(let e=t.length-1;e>=0;e--){let[i,n]=t[e];if(eY(n))return{key:i,result:n}}}function eV(e){let t="string"==typeof e?b(e):e;return y(h({},t,{hash:""}))}function eG(e){return eq(e.result)&&ei.has(e.result.status)}function eW(e){return e.type===o.deferred}function ez(e){return e.type===o.error}function eY(e){return(e&&e.type)===o.redirect}function eH(e){return"object"==typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function eX(e){return e&&"object"==typeof e&&"object"==typeof e.data&&"function"==typeof e.subscribe&&"function"==typeof e.cancel&&"function"==typeof e.resolveData}function eq(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function eK(e){return et.has(e.toLowerCase())}function e$(e){return ee.has(e.toLowerCase())}async function eQ(e,t,i,n,r){let s=Object.entries(t);for(let a=0;a<s.length;a++){let[o,l]=s[a],h=e.find(e=>(null==e?void 0:e.route.id)===o);if(!h)continue;let u=n.find(e=>e.route.id===h.route.id),c=null!=u&&!eb(u,h)&&(r&&r[h.route.id])!==void 0;eW(l)&&c&&await eZ(l,i,!1).then(e=>{e&&(t[o]=e)})}}async function eJ(e,t,i){for(let n=0;n<i.length;n++){let{key:r,routeId:s,controller:a}=i[n],o=t[r];e.find(e=>(null==e?void 0:e.route.id)===s)&&eW(o)&&(p(a,"Expected an AbortController for revalidating fetcher deferred result"),await eZ(o,a.signal,!0).then(e=>{e&&(t[r]=e)}))}}async function eZ(e,t,i){if(void 0===i&&(i=!1),!await e.deferredData.resolveData(t)){if(i)try{return{type:o.data,data:e.deferredData.unwrappedData}}catch(e){return{type:o.error,error:e}}return{type:o.data,data:e.deferredData.data}}}function e0(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function e1(e,t){let i="string"==typeof t?b(t).search:t.search;if(e[e.length-1].route.index&&e0(i||""))return e[e.length-1];let n=D(e);return n[n.length-1]}function e2(e){let{formMethod:t,formAction:i,formEncType:n,text:r,formData:s,json:a}=e;if(t&&i&&n){if(null!=r)return{formMethod:t,formAction:i,formEncType:n,formData:void 0,json:void 0,text:r};if(null!=s)return{formMethod:t,formAction:i,formEncType:n,formData:s,json:void 0,text:void 0};if(void 0!==a)return{formMethod:t,formAction:i,formEncType:n,formData:void 0,json:a,text:void 0}}}function e3(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function e4(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function e5(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"2SoND":[function(e,t,i,n){i.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},i.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.exportAll=function(e,t){return Object.keys(e).forEach(function(i){"default"===i||"__esModule"===i||Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})}),t},i.export=function(e,t,i){Object.defineProperty(e,t,{enumerable:!0,get:i})}},{}],dLT5s:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"translations",()=>s);let s={en:{nav:[{route:"/login",label:"Login"},{route:"/signup",label:"Create Account"},{route:"/guest",label:"Play as Guest"},{route:"/forgot",label:"Forgot Password"}],disclaimer:["Disclaimer: Reldens is not just a game, is a platform to create games.","This is a demo to show how many features are available on the platform."],guest:{title:"Play as a Guest",usernameLabel:"Username",submit:"Play",loadingAlt:"Loading..."},register:{title:"Create Account",emailLabel:"Email",usernameLabel:"Username",passwordLabel:"Password",rePasswordLabel:"Re-type password",termsLink:"Accept our Terms and Conditions (click here).",submit:"Register",loadingAlt:"Loading..."},login:{title:"Login",usernameLabel:"Username",passwordLabel:"Password",submit:"Submit",loadingAlt:"Loading..."},forgot:{title:"Forgot password",emailLabel:"Email",submit:"Request",loadingAlt:"Loading..."},firebase:{title:"Firebase Registration",usernameLabel:"Username",loadingAlt:"Loading..."},terms:{heading:"Terms and conditions",acceptLabel:"I agree to these Terms and Conditions"},instructions:{heading:"Instructions",steps:["Move with the arrows or using W-A-S-D.","Use left click to follow a path but for now to change to another scene you need to walk through the change point (like the bridge at the top, or the houses doors).","Use right-click or TAB to target near enemies or players.","You must have a target to execute a skill/action.","Use the screen-buttons to activate the different player skills/actions."]},gameOver:["You died!","Just wait...","You will be automatically revived for this demo!"],playerSelection:{selectLabel:"Select Player",selectSubmit:"Start",createTitle:"Create Player",createNameLabel:"Player Name",createSubmit:"Create & Start",loadingAlt:"Loading..."},playerCreation:{loadingAlt:"Loading..."},footer:"by DwDeveloper"},es:{header:{fullScreen:"pantalla completa",tagline:"- tu logo aquí -"},nav:[{route:"/login",label:"Iniciar sesión"},{route:"/signup",label:"Crear cuenta"},{route:"/guest",label:"Invitado"},{route:"/forgot",label:"Recuperar contraseña"}],disclaimer:["Descargo: Reldens no es solo un juego, es una plataforma para crear juegos.","Esta es una demostración para mostrar cuántas funciones están disponibles en la plataforma."],guest:{title:"Jugar como invitado",usernameLabel:"Nombre de usuario",submit:"Jugar",loadingAlt:"Cargando..."},register:{title:"Crear Cuenta",emailLabel:"Email",usernameLabel:"Nombre de Usuario",passwordLabel:"Contraseña",rePasswordLabel:"Reescribe contraseña",termsLink:"Acepta nuestros Términos y Condiciones (haz clic aquí).",submit:"Registrarse",loadingAlt:"Cargando..."},login:{title:"Login",usernameLabel:"Nombre de Usuario",passwordLabel:"Password",submit:"Entrar",loadingAlt:"Cargando..."},forgot:{title:"Olvidé mi contraseña",emailLabel:"Email",submit:"Solicitar",loadingAlt:"Cargando..."},firebase:{title:"Firebase Login",usernameLabel:"Usuario",loadingAlt:"Cargando..."},terms:{heading:"Términos y Condiciones",acceptLabel:"Acepto estos Términos y Condiciones"},instructions:{heading:"Instrucciones",steps:["Muévete con las flechas o usando W-A-S-D.","Utiliza el clic izquierdo para seguir un camino, pero por ahora, para cambiar a otra escena, debes atravesar el punto de cambio (como el puente en la parte superior o las puertas de las casas).","Utiliza clic derecho o TAB para apuntar a enemigos o jugadores cercanos.","Debes tener un objetivo para ejecutar una habilidad/acción.","Utiliza los botones en pantalla para activar las diferentes habilidades/acciones del jugador."]},gameOver:["¡Moriste!","Solo espera...","¡Serás revivido automáticamente para esta demostración!"],playerSelection:{selectLabel:"Seleccionar Personaje",selectSubmit:"Iniciar",createTitle:"Crear Personaje",createNameLabel:"Nombre",createSubmit:"Crear y comenzar",loadingAlt:"Cargando..."},playerCreation:{loadingAlt:"Cargando..."},footer:"by DwDeveloper"},vi:{nav:[{route:"/login",label:"Đăng nhập"},{route:"/signup",label:"Tạo tài khoản"},{route:"/guest",label:"Chơi khách"},{route:"/forgot",label:"Quên mật khẩu"}],disclaimer:["Lưu ý: Reldens không chỉ là một trò chơi, đây là nền tảng để tạo ra các trò chơi.","Bản demo này giúp bạn khám phá số lượng tính năng có sẵn trên nền tảng."],guest:{title:"Chơi với tư cách Khách",usernameLabel:"Tên người chơi",submit:"Bắt đầu",loadingAlt:"Đang tải..."},register:{title:"Tạo tài khoản",emailLabel:"Email",usernameLabel:"Tên người dùng",passwordLabel:"Mật khẩu",rePasswordLabel:"Nhập lại mật khẩu",termsLink:"Đồng ý Điều khoản và Điều kiện (bấm vào đây).",submit:"Đăng ký",loadingAlt:"Đang tải..."},login:{title:"Đăng nhập",usernameLabel:"Tên người dùng",passwordLabel:"Mật khẩu",submit:"Xác nhận",loadingAlt:"Đang tải..."},forgot:{title:"Quên mật khẩu",emailLabel:"Email",submit:"Gửi yêu cầu",loadingAlt:"Đang tải..."},firebase:{title:"Đăng ký qua Firebase",usernameLabel:"Tên người dùng",loadingAlt:"Đang tải..."},terms:{heading:"Điều khoản và Điều kiện",acceptLabel:"Tôi đồng ý với Điều khoản và Điều kiện này"},instructions:{heading:"Hướng dẫn",steps:["Di chuyển bằng các phím mũi tên hoặc W-A-S-D.","Nhấn chuột trái để tự động di chuyển, muốn chuyển cảnh hãy đi qua điểm đổi cảnh (ví dụ cây cầu phía trên hoặc cửa nhà).","Nhấn chuột phải hoặc phím TAB để chọn kẻ địch hoặc người chơi gần bạn.","Bạn cần có mục tiêu để thi triển kỹ năng/hành động.","Sử dụng các nút trên màn hình để kích hoạt kỹ năng/hành động của nhân vật."]},gameOver:["Bạn đã gục ngã!","Hãy chờ một chút...","Bạn sẽ được hồi sinh tự động trong bản demo này!"],playerSelection:{selectLabel:"Chọn nhân vật",selectSubmit:"Bắt đầu",createTitle:"Tạo nhân vật",createNameLabel:"Tên nhân vật",createSubmit:"Tạo và chơi",loadingAlt:"Đang tải..."},playerCreation:{loadingAlt:"Đang tải..."},footer:"by DwDeveloper"}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],fjnMy:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i);var s=e("react/jsx-dev-runtime"),a=e("react");r.interopDefault(a),i.default=({copy:e})=>{let t="text-sm font-semibold text-slate-200 md:w-40",i="required w-full rounded-xl border border-white/15 bg-slate-900/60 px-4 py-3 text-sm text-slate-100 placeholder-slate-400 transition focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/40";return/*#__PURE__*/(0,s.jsxDEV)("div",{className:"row row-1 w-full !max-w-none !bg-transparent !p-0 !shadow-none",children:/*#__PURE__*/(0,s.jsxDEV)("div",{className:"grid w-full gap-6 lg:grid-cols-[1.05fr,_0.95fr]",children:[/*#__PURE__*/(0,s.jsxDEV)("form",{name:"login-form",id:"login-form",className:"login-form space-y-5 rounded-2xl border border-white/10 bg-slate-900/60 p-6 shadow-xl backdrop-blur",action:"#",method:"post",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"form-title text-left text-2xl font-semibold text-white",children:e.login.title},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:18,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box login-username flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"username",className:t,children:e.login.usernameLabel},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:20,columnNumber:25},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"text",name:"username",id:"username",className:i,required:!0,autoComplete:"on"},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:23,columnNumber:25},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:19,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box login-password flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"password",className:t,children:e.login.passwordLabel},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:33,columnNumber:25},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"password",name:"password",id:"password",className:i,required:!0},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:36,columnNumber:25},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:32,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box submit-container login-submit flex items-center justify-end gap-3",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"loading-container hidden",children:/*#__PURE__*/(0,s.jsxDEV)("img",{src:"./assets/web/loading.gif",alt:e.login.loadingAlt},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:40,columnNumber:29},void 0)},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:39,columnNumber:25},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"submit",value:e.login.submit,className:"rounded-full bg-sky-500 px-6 py-2 font-semibold text-white shadow-lg shadow-sky-500/30 transition hover:bg-sky-400"},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:42,columnNumber:25},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:38,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box response-error text-sm text-rose-400"},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:48,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:11,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"row row-2 firebase-row-container hidden !max-w-none !bg-slate-900/60 !p-6 !shadow-xl space-y-4 rounded-2xl border border-white/10 backdrop-blur",children:[/*#__PURE__*/(0,s.jsxDEV)("form",{name:"firebase-login",id:"firebase-login",className:"firebase-login space-y-4",action:"#",method:"post",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"form-title text-xl font-semibold text-white",children:e.firebase.title},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:52,columnNumber:25},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box firebase-username flex flex-col gap-2 text-sm text-slate-200",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"firebase-username",className:"font-semibold",children:e.firebase.usernameLabel},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:54,columnNumber:29},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"text",name:"firebase-username",id:"firebase-username",className:i,required:!0},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:57,columnNumber:29},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:53,columnNumber:25},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box response-error text-sm text-rose-400"},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:65,columnNumber:25},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:51,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"firebase-container flex flex-1 items-center justify-center rounded-xl border border-dashed border-white/20 bg-slate-900/30 p-4",children:/*#__PURE__*/(0,s.jsxDEV)("div",{id:"firebaseui-auth-container",className:"w-full"},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:68,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:67,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:50,columnNumber:17},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:10,columnNumber:13},void 0)},void 0,!1,{fileName:"theme/default/app/pages/LoginPage.jsx",lineNumber:9,columnNumber:9},void 0)}},{"react/jsx-dev-runtime":"9piX2",react:"imCjC","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"2h2jJ":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i);var s=e("react/jsx-dev-runtime"),a=e("react");r.interopDefault(a),i.default=({copy:e})=>{let t="text-sm font-semibold text-slate-200 md:w-44",i="required w-full rounded-xl border border-white/15 bg-slate-900/60 px-4 py-3 text-sm text-slate-100 placeholder-slate-400 transition focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/40";return/*#__PURE__*/(0,s.jsxDEV)("div",{className:"row row-1 w-full !max-w-none !bg-transparent !p-0 !shadow-none",children:/*#__PURE__*/(0,s.jsxDEV)("form",{name:"register-form",id:"register-form",className:"register-form mx-auto w-full max-w-3xl space-y-5 rounded-2xl border border-white/10 bg-slate-900/60 p-6 shadow-xl backdrop-blur",action:"#",method:"post",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"form-title text-left text-2xl font-semibold text-white",children:e.register.title},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:17,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box reg-email flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"reg-email",className:t,children:e.register.emailLabel},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:19,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"email",name:"reg-email",id:"reg-email",className:i,required:!0},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:22,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:18,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box reg-username flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"reg-username",className:t,children:e.register.usernameLabel},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:25,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"text",name:"reg-username",id:"reg-username",className:i,required:!0},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:28,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:24,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box reg-password flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"reg-password",className:t,children:e.register.passwordLabel},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:31,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"password",name:"reg-password",id:"reg-password",className:i,required:!0},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:34,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:30,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box reg-re-password flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"reg-re-password",className:t,children:e.register.rePasswordLabel},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:37,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"password",name:"reg-re-password",id:"reg-re-password",className:i,required:!0},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:40,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:36,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box hidden terms-and-conditions-link-container justify-end",children:/*#__PURE__*/(0,s.jsxDEV)("p",{className:"terms-and-conditions-link cursor-pointer text-sm text-slate-300 underline",children:e.register.termsLink},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:43,columnNumber:21},void 0)},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:42,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box submit-container reg-submit flex items-center justify-end gap-3",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"loading-container hidden",children:/*#__PURE__*/(0,s.jsxDEV)("img",{src:"./assets/web/loading.gif",alt:e.register.loadingAlt},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:49,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:48,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"submit",value:e.register.submit,className:"rounded-full bg-sky-500 px-6 py-2 font-semibold text-white shadow-lg shadow-sky-500/30 transition hover:bg-sky-400"},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:51,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:47,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box response-error text-sm text-rose-400"},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:57,columnNumber:17},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:10,columnNumber:13},void 0)},void 0,!1,{fileName:"theme/default/app/pages/SignupPage.jsx",lineNumber:9,columnNumber:9},void 0)}},{"react/jsx-dev-runtime":"9piX2",react:"imCjC","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"5Jxfu":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i);var s=e("react/jsx-dev-runtime"),a=e("react");r.interopDefault(a),i.default=({copy:e})=>/*#__PURE__*/(0,s.jsxDEV)("div",{className:"row row-0 w-full !max-w-xl !bg-transparent !p-0 !shadow-none",children:/*#__PURE__*/(0,s.jsxDEV)("form",{name:"guest-form",id:"guest-form",className:"guest-form w-full space-y-5 rounded-2xl border border-white/10 bg-slate-900/60 p-6 shadow-xl backdrop-blur",action:"#",method:"post",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"form-title text-center text-2xl font-semibold text-white md:text-left",children:e.guest.title},void 0,!1,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:17,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box guest-username flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"guest-username",className:"text-sm font-semibold text-slate-200 md:w-48",children:e.guest.usernameLabel},void 0,!1,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:19,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"text",name:"guest-username",id:"guest-username",className:"required w-full rounded-xl border border-white/15 bg-slate-900/60 px-4 py-3 text-sm text-slate-100 placeholder-slate-400 transition focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/40",required:!0},void 0,!1,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:22,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:18,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box submit-container guest-submit flex items-center justify-center gap-3 md:justify-end",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"loading-container hidden",children:/*#__PURE__*/(0,s.jsxDEV)("img",{src:"./assets/web/loading.gif",alt:e.guest.loadingAlt},void 0,!1,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:26,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:25,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"submit",value:e.guest.submit,className:"rounded-full bg-sky-500 px-6 py-2 font-semibold text-white shadow-lg shadow-sky-500/30 transition hover:bg-sky-400"},void 0,!1,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:28,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:24,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box response-error text-sm text-rose-400"},void 0,!1,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:34,columnNumber:17},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:10,columnNumber:13},void 0)},void 0,!1,{fileName:"theme/default/app/pages/GuestPage.jsx",lineNumber:9,columnNumber:9},void 0)},{"react/jsx-dev-runtime":"9piX2",react:"imCjC","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"6nRZv":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i);var s=e("react/jsx-dev-runtime"),a=e("react");r.interopDefault(a),i.default=({copy:e})=>/*#__PURE__*/(0,s.jsxDEV)("div",{className:"row row-2 forgot-password-container w-full !max-w-xl !bg-transparent !p-0 !shadow-none",children:/*#__PURE__*/(0,s.jsxDEV)("form",{name:"forgot-form",id:"forgot-form",className:"forgot-form w-full space-y-5 rounded-2xl border border-white/10 bg-slate-900/60 p-6 shadow-xl backdrop-blur",action:"#",method:"post",children:[/*#__PURE__*/(0,s.jsxDEV)("h3",{className:"form-title text-center text-2xl font-semibold text-white md:text-left",children:e.forgot.title},void 0,!1,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:16,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box forgot-email flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[/*#__PURE__*/(0,s.jsxDEV)("label",{htmlFor:"forgot-email",className:"text-sm font-semibold text-slate-200 md:w-44",children:e.forgot.emailLabel},void 0,!1,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:18,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"email",name:"forgot-email",id:"forgot-email",className:"required w-full rounded-xl border border-white/15 bg-slate-900/60 px-4 py-3 text-sm text-slate-100 placeholder-slate-400 transition focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/40",required:!0},void 0,!1,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:21,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:17,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box submit-container forgot-submit flex items-center justify-end gap-3",children:[/*#__PURE__*/(0,s.jsxDEV)("div",{className:"loading-container hidden",children:/*#__PURE__*/(0,s.jsxDEV)("img",{src:"./assets/web/loading.gif",alt:e.forgot.loadingAlt},void 0,!1,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:25,columnNumber:25},void 0)},void 0,!1,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:24,columnNumber:21},void 0),/*#__PURE__*/(0,s.jsxDEV)("input",{type:"submit",value:e.forgot.submit,className:"rounded-full bg-sky-500 px-6 py-2 font-semibold text-white shadow-lg shadow-sky-500/30 transition hover:bg-sky-400"},void 0,!1,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:27,columnNumber:21},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:23,columnNumber:17},void 0),/*#__PURE__*/(0,s.jsxDEV)("div",{className:"input-box response-error text-sm text-rose-400"},void 0,!1,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:33,columnNumber:17},void 0)]},void 0,!0,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:9,columnNumber:13},void 0)},void 0,!1,{fileName:"theme/default/app/pages/ForgotPasswordPage.jsx",lineNumber:8,columnNumber:9},void 0)},{"react/jsx-dev-runtime":"9piX2",react:"imCjC","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"4hjCS":[function(e,t,i,n){let{GameClient:r}=e("55a74e494f90a4c8"),{GameEngine:s}=e("e1659045719735fa"),{RoomEvents:a}=e("7e070495419bfe5"),{ClientStartHandler:o}=e("e83aa34e2b827fc2"),{FeaturesManager:l}=e("322c8efc1623d443"),{FirebaseConnector:h}=e("8f517454d27b0a77"),{ConfigManager:u}=e("ff73fbcc32d6158e"),{TranslationsMapper:c}=e("81f43a8bd60c202e"),d=e("7e64e865feb030ac"),{GameDom:f}=e("4386d0f131680f0c"),{RoomsConst:p}=e("7625764d2a36d26c"),{GameConst:m}=e("cdbc04050856a902"),{ErrorManager:g,EventsManagerSingleton:v,Logger:y,sc:b}=e("aa292ffa814895ee"),x=e("258c9fd5a0d6d180");t.exports.GameManager=class{constructor(){this.gameEngine=!1,this.activeRoomEvents=null,this.events=v,this.gameDom=f,this.config=new u;let e=this.gameDom.getWindow()?.reldensInitialConfig||{};b.deepMergeProperties(this.config,e),this.features=new l({gameManager:this,events:this.events}),this.firebase=new h(this),this.joinedRooms={},this.userData={},this.plugins={},this.services={},this.elements={},this.playerData=!1,this.gameOver=!1,this.forcedDisconnection=!1,this.isChangingScene=!1,this.canInitEngine=!0,this.appServerUrl="",this.gameServerUrl="",this.locale="",c.forConfig(this.config.client,d,m.MESSAGE.DATA_VALUES)}setupCustomClientPlugin(e,t){this.plugins[e]=new t,this.plugins[e].setup({gameManager:this,events:this.events})}clientStart(){this.events.emitSync("reldens.clientStartBefore",this),this.startHandler=new o(this),this.startHandler.clientStart()}async startGame(e,t){return(this.events.emitSync("reldens.startGameBefore",this),await this.joinGame(e,t))?(this.handleLoginSuccess(),!0):(this.handleLoginError(e),!1)}handleLoginSuccess(){let e=this.gameDom.getElement(m.SELECTORS.BODY);e.classList.add(m.CLASSES.GAME_STARTED),e.classList.remove(m.CLASSES.GAME_ERROR),this.gameDom.getElement(m.SELECTORS.FORMS_CONTAINER).remove(),this.events.emitSync("reldens.startGameAfter",this)}handleLoginError(e){let t=this.gameDom.getElement(m.SELECTORS.BODY);t.classList.remove(m.CLASSES.GAME_STARTED),t.classList.add(m.CLASSES.GAME_ERROR),this.submitedForm=!1,this.events.emitSync("reldens.gameRoomError",this),this.firebase&&"firebase-login"===e.formId&&this.firebase.app.auth().signOut()}async joinGame(e,t=!1){return(this.userData={},await this.events.emit("reldens.beforeJoinGame",{gameManager:this,formData:e,isNewUser:t}),this.mapFormDataToUserData(e,t),this.gameRoom=await this.gameClient.joinOrCreate(m.ROOM_GAME,this.userData),this.gameRoom)?(await this.events.emit("reldens.beforeJoinGameRoom",this.gameRoom),this.handleGameRoomMessages(),this.activateResponsiveBehavior(),this.gameRoom):(this.displayFormError("#"+e.formId,this.gameClient.lastErrorMessage),!1)}mapFormDataToUserData(e,t){b.hasOwn(e,"forgot")&&(this.userData.forgot=1,this.userData.email=e.email),this.initializeClient(),this.userData.clientVersion||(this.userData.clientVersion=x&&x.version?x.version:"0.0.0"),e.isGuest&&(this.userData.isGuest=!0,this.userData.isNewUser=!0),t&&(this.userData.isNewUser=!0,this.userData.email=e.email),this.userData.username=e.username,this.userData.password=e.password}handleGameRoomMessages(){this.gameRoom.onMessage("*",async e=>{if(e.error)return y.error("Game Room message error.",e.message),this.displayFormError(m.SELECTORS.PLAYER_CREATE_FORM,e.message),!1;if(m.START_GAME===e.act)return this.initialGameData=e,await this.beforeStartGame();if(m.CREATE_PLAYER_RESULT!==e.act)return!1;this.initialGameData.player=e.player;let t=this.gameDom.getElement(m.SELECTORS.PLAYER_SELECTION);t&&t.classList.add("hidden"),await this.initEngine()})}activateResponsiveBehavior(){this.events.on("reldens.afterSceneDynamicCreate",async()=>{this.config.getWithoutLogs("client/ui/screen/responsive",!0)&&(this.gameEngine.updateGameSize(this),this.gameDom.getWindow().addEventListener("resize",()=>{this.gameEngine.updateGameSize(this)}))})}displayFormError(e,t){let i=this.gameDom.getElement(e+" "+m.SELECTORS.RESPONSE_ERROR);if(!i)return!1;i.innerHTML=t;let n=this.gameDom.getElement(e+" "+m.SELECTORS.LOADING_CONTAINER);return n&&n?.classList.add(m.CLASSES.HIDDEN),!0}initializeClient(){this.appServerUrl=this.getAppServerUrl(),this.gameServerUrl=this.getGameServerUrl(),this.gameClient=new r(this.gameServerUrl,this.config)}async beforeStartGame(){return await this.events.emit("reldens.beforeInitEngineAndStartGame",this.initialGameData,this),b.hasOwn(this.initialGameData,"gameConfig")||g.error("Missing game configuration."),b.deepMergeProperties(this.config,this.initialGameData?.gameConfig||{}),this.userData.clientVersion=this.config.getWithoutLogs("client/gameEngine/version",this.userData.clientVersion),await this.features.loadFeatures(this.initialGameData?.features||{}),await this.events.emit("reldens.beforeCreateEngine",this.initialGameData,this),!!this.canInitEngine&&await this.initEngine()}async initEngine(){if(this.playerData=this.initialGameData?.player||!1,!this.playerData||!this.playerData.state)return this.gameDom.alertReload(this.services?.translator.t("game.errors.missingPlayerData"));this.userData.selectedPlayer=this.playerData.id;let e=this.initialGameData?.selectedScene||"";this.userData.selectedScene=e;let t=this.initialGameData?.gameConfig||{};this.gameEngine=new s({config:t.client.gameEngine,events:this.events}),this.userData.isNewUser=!1,this.userData.isGuest&&(this.initialGameData?.guestPassword&&(this.userData.password=this.initialGameData.guestPassword),this.initialGameData?.userName&&(this.userData.username=this.initialGameData.userName)),await this.joinFeaturesRooms();let i=""!==e&&e!==p.ROOM_LAST_LOCATION_KEY?e:this.playerData.state.scene;this.playerData.state.scene=i;let n=await this.gameClient.joinOrCreate(i,this.userData);if(!n)return this.gameDom.alertReload(this.services?.translator.t("game.errors.joiningRoom",{joinRoomName:i}));this.gameDom.getElement(m.SELECTORS.BODY).classList.add(m.CLASSES.GAME_ENGINE_STARTED),this.gameDom.getElement(m.SELECTORS.GAME_CONTAINER).classList.remove(m.CLASSES.HIDDEN);let r=this.gameDom.getElement(m.SELECTORS.PLAYER_SELECTION);return r&&r.classList.add(m.CLASSES.HIDDEN),delete this.initialGameData.selectedScene,delete this.userData.selectedScene,await this.emitJoinedRoom(n,i),this.activeRoomEvents=this.createRoomEventsInstance(i),await this.events.emit("reldens.createdRoomsEventsInstance",n,this),await this.activeRoomEvents.activateRoom(n),await this.emitActivatedRoom(n,i),await this.events.emit("reldens.afterInitEngineAndStartGame",this.initialGameData,n),n}async joinFeaturesRooms(){let e=Object.keys(this.features.featuresList);if(0===e.length)return;let t=[];for(let i of e){let e=this.features.featuresList[i];if(b.hasOwn(e,"joinRooms"))for(let i of e.joinRooms){let e=await this.gameClient.joinOrCreate(i,this.userData);if(!e)return this.gameDom.alertReload(this.services.translator.t("game.errors.joiningFeatureRoom",{joinRoomName:i}));this.joinedRooms[i]=e,await this.emitJoinedRoom(e,i),t.push(i)}}b.deepMergeProperties(this.config,{client:{rooms:{featuresRoomsNames:t}}})}async reconnectGameClient(e,t){this.isChangingScene=!0;let i=this.createRoomEventsInstance(e.player.state.scene);this.gameClient.joinOrCreate(i.roomName,this.userData).then(async n=>{t.leave(),this.activeRoomEvents=i,this.room=n,await this.emitJoinedRoom(n,e.player.state.scene),await i.activateRoom(n,e.prev),await this.emitActivatedRoom(n,e.player.state.scene)}).catch(i=>{y.error("Reconnect Game Client error.",{error:i,message:e,previousRoom:t}),this.gameDom.alertReload(this.services.translator.t("game.errors.reconnectClient"))})}async emitActivatedRoom(e,t){await this.events.emit("reldens.activatedRoom",e,this),await this.events.emit("reldens.activatedRoom_"+t,e,this)}async emitJoinedRoom(e,t){await this.events.emit("reldens.joinedRoom",e,this),await this.events.emit("reldens.joinedRoom_"+t,e,this)}createRoomEventsInstance(e){return new a(e,this)}getAppServerUrl(){return""===this.appServerUrl&&(this.appServerUrl=this.getUrlFromCurrentReferer()),this.appServerUrl}getGameServerUrl(){return""===this.gameServerUrl&&(this.gameServerUrl=this.getUrlFromCurrentReferer(!0)),this.gameServerUrl}getUrlFromCurrentReferer(e=!1){let t=this.gameDom.getWindow().location,i=t.protocol;return e&&(i=0===i.indexOf("https")?"wss:":"ws:"),i+"//"+t.hostname+(t.port?":"+t.port:"")}getActiveScene(){return this.activeRoomEvents.getActiveScene()}getActiveScenePreloader(){return this.gameEngine.scene.getScene(m.SCENE_PRELOADER+this.getActiveScene().key)}getCurrentPlayer(){let e=this.getActiveScene();return!!e&&e.player}currentPlayerName(){let e=this.getCurrentPlayer();return e?e.player_id+" - "+e.playerName:""}getCurrentPlayerAnimation(){let e=this.getCurrentPlayer();return e.players[e.playerId]}getUiElement(e,t=!0){let i=b.get(this.gameEngine,"uiScene",!1);return i?i.getUiElement(e,t):(t&&y.error("UI Scene not defined."),!1)}getFeature(e){let t=this.features.featuresList;return b.hasOwn(t,e)?t[e]:(y.error("Feature key not defined.",e),!1)}getAnimationByKey(e){return this.getActiveScene().getAnimationByKey(e)}}},{"55a74e494f90a4c8":"eXmaG",e1659045719735fa:"4aQPL","7e070495419bfe5":"6VIhH",e83aa34e2b827fc2:"c3qcp","322c8efc1623d443":"d5e8E","8f517454d27b0a77":"exRYr",ff73fbcc32d6158e:"dRIPl","81f43a8bd60c202e":"hgeoj","7e64e865feb030ac":"eU3NY","4386d0f131680f0c":"4k5m1","7625764d2a36d26c":"encji",cdbc04050856a902:"7Qdd3",aa292ffa814895ee:"3lwy5","258c9fd5a0d6d180":"lsvIm"}],eXmaG:[function(e,t,i,n){let{Client:r}=e("2be262c20fafb9eb"),{RoomsConst:s}=e("9f899cb0243e6afa"),{GameConst:a}=e("ae102ff36b5bc113"),{Logger:o}=e("63836a3e936888c1");t.exports.GameClient=class{constructor(e,t){this.serverUrl=e,this.config=t,this.autoConnectServerGameRoom=this.config.getWithoutLogs("client/rooms/autoConnectServerGameRoom",!0),this.autoConnectServerFeatureRooms=this.config.getWithoutLogs("client/rooms/autoConnectServerFeatureRooms",!0),this.roomsUrls={},this.roomClients={},this.gameRoomsByServer={},this.featuresByServerFlag={},this.featuresRoomsByServer={},this.lastErrorMessage=""}async joinOrCreate(e,t){this.lastErrorMessage="";try{let i=this.roomClient(e);if(!i)return o.error('Client not found for room name "'+e+'".'),!1;let n=this.roomsUrls[e];return await this.connectToGlobalGameRoom(n,i,t),await this.connectToGlobalFeaturesRooms(n,i,t),await i.joinOrCreate(e,t)}catch(i){if(s.ERRORS.CREATING_ROOM_AWAIT===i.message)return await new Promise(e=>setTimeout(e,500)),await this.joinOrCreate(e,t);this.lastErrorMessage=i.message,o.error("Joining room error: "+i.message)}return!1}async connectToGlobalGameRoom(e,t,i){if(this.autoConnectServerGameRoom){if(""===e||this.serverUrl===e){o.debug("Avoid connect to global game room.",this.serverUrl,e);return}this.gameRoomsByServer[e]||(o.debug("Registering GameRoom for server: "+e),this.gameRoomsByServer[e]=await t.joinOrCreate(a.ROOM_GAME,i),this.gameRoomsByServer[e].onMessage("*",()=>{}))}}async connectToGlobalFeaturesRooms(e,t,i){if(!this.autoConnectServerFeatureRooms)return;if(""===e||this.serverUrl===e){o.debug("Avoid connect to features rooms.",this.serverUrl,e);return}if(this.featuresByServerFlag[e])return;o.debug("Registering features rooms for server: "+e),this.featuresByServerFlag[e]=!0;let n=this.config.getWithoutLogs("client/rooms/featuresRoomsNames",[]);if(!(0<n.length))for(let r of(this.featuresRoomsByServer[e]={},n))this.featuresRoomsByServer[e][r]=await t.joinOrCreate(r,i)}roomClient(e){return this.roomClients[e]||(this.roomsUrls[e]=this.config.getWithoutLogs("client/rooms/servers/"+e,this.serverUrl),o.debug('Creating client with URL "'+this.roomsUrls[e]+'" for room "'+e+'".'),this.roomClients[e]=new r(this.roomsUrls[e])),this.roomClients[e]}}},{"2be262c20fafb9eb":"3DIaV","9f899cb0243e6afa":"encji",ae102ff36b5bc113:"7Qdd3","63836a3e936888c1":"3lwy5"}],"3DIaV":[function(e,t,i,n){var r=arguments[3];!function(e){ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return null!==e&&"object"==typeof e&&e.buffer instanceof ArrayBuffer}),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window);var t,i,n,s,a,o,l,h,u,c,d,f,p,m=function(e,t){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function g(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var v=function(){return(v=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function y(e,t,i,n){return new(i||(i=Promise))(function(r,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})}function b(e,t){var i,n,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(i)throw TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function x(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function E(e,t,i,n,r){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i}(i=l||(l={}))[i.CONSENTED=4e3]="CONSENTED",i[i.DEVMODE_RESTART=4010]="DEVMODE_RESTART";var w=function(e){function t(t,i){var n=e.call(this,i)||this;return n.name="ServerError",n.code=t,n}return g(t,e),t}(Error);function S(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(e))this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength);else throw Error("Invalid argument")}S.prototype._array=function(e){for(var t=Array(e),i=0;i<e;i++)t[i]=this._parse();return t},S.prototype._map=function(e){for(var t={},i=0;i<e;i++)t[this._parse()]=this._parse();return t},S.prototype._str=function(e){var t=function(e,t,i){for(var n="",r=0,s=t,a=t+i;s<a;s++){var o=e.getUint8(s);if((128&o)==0){n+=String.fromCharCode(o);continue}if((224&o)==192){n+=String.fromCharCode((31&o)<<6|63&e.getUint8(++s));continue}if((240&o)==224){n+=String.fromCharCode((15&o)<<12|(63&e.getUint8(++s))<<6|(63&e.getUint8(++s))<<0);continue}if((248&o)==240){(r=(7&o)<<18|(63&e.getUint8(++s))<<12|(63&e.getUint8(++s))<<6|(63&e.getUint8(++s))<<0)>=65536?(r-=65536,n+=String.fromCharCode((r>>>10)+55296,(1023&r)+56320)):n+=String.fromCharCode(r);continue}throw Error("Invalid byte "+o.toString(16))}return n}(this._view,this._offset,e);return this._offset+=e,t},S.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},S.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),i=0,n=0,r=0,s=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-((255-t+1)*1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return i=this._view.getUint8(this._offset),this._offset+=1,this._bin(i);case 197:return i=this._view.getUint16(this._offset),this._offset+=2,this._bin(i);case 198:return i=this._view.getUint32(this._offset),this._offset+=4,this._bin(i);case 199:if(i=this._view.getUint8(this._offset),n=this._view.getInt8(this._offset+1),this._offset+=2,-1===n){var a=this._view.getUint32(this._offset);return r=this._view.getInt32(this._offset+4),s=this._view.getUint32(this._offset+8),this._offset+=12,new Date((0x100000000*r+s)*1e3+a/1e6)}return[n,this._bin(i)];case 200:return i=this._view.getUint16(this._offset),n=this._view.getInt8(this._offset+2),this._offset+=3,[n,this._bin(i)];case 201:return i=this._view.getUint32(this._offset),n=this._view.getInt8(this._offset+4),this._offset+=5,[n,this._bin(i)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return r=0x100000000*this._view.getUint32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,r+s;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return r=0x100000000*this._view.getInt32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,r+s;case 212:if(n=this._view.getInt8(this._offset),this._offset+=1,0===n){this._offset+=1;return}return[n,this._bin(1)];case 213:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(2)];case 214:if(n=this._view.getInt8(this._offset),this._offset+=1,-1===n)return e=this._view.getUint32(this._offset),this._offset+=4,new Date(1e3*e);return[n,this._bin(4)];case 215:if(n=this._view.getInt8(this._offset),this._offset+=1,0===n)return r=0x100000000*this._view.getInt32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,new Date(r+s);if(-1===n)return r=this._view.getUint32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,new Date(1e3*((3&r)*0x100000000+s)+(r>>>2)/1e6);return[n,this._bin(8)];case 216:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(16)];case 217:return i=this._view.getUint8(this._offset),this._offset+=1,this._str(i);case 218:return i=this._view.getUint16(this._offset),this._offset+=2,this._str(i);case 219:return i=this._view.getUint32(this._offset),this._offset+=4,this._str(i);case 220:return i=this._view.getUint16(this._offset),this._offset+=2,this._array(i);case 221:return i=this._view.getUint32(this._offset),this._offset+=4,this._array(i);case 222:return i=this._view.getUint16(this._offset),this._offset+=2,this._map(i);case 223:return i=this._view.getUint32(this._offset),this._offset+=4,this._map(i)}throw Error("Could not parse")};var T=globalThis.WebSocket||function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},A=function(){function e(e){this.events=e}return e.prototype.send=function(e){e instanceof ArrayBuffer?this.ws.send(e):Array.isArray(e)&&this.ws.send(new Uint8Array(e).buffer)},e.prototype.connect=function(e){this.ws=new T(e,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror},e.prototype.close=function(e,t){this.ws.close(e,t)},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.ws.readyState===T.OPEN},enumerable:!1,configurable:!0}),e}(),_=function(){function e(){this.events={},this.transport=new A(this.events)}return e.prototype.send=function(e){this.transport.send(e)},e.prototype.connect=function(e){this.transport.connect(e)},e.prototype.close=function(e,t){this.transport.close(e,t)},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.transport.isOpen},enumerable:!1,configurable:!0}),e}();function C(e,t){for(var i=e[t++],n="",r=0,s=t,a=t+i;s<a;s++){var o=e[s];if((128&o)==0){n+=String.fromCharCode(o);continue}if((224&o)==192){n+=String.fromCharCode((31&o)<<6|63&e[++s]);continue}if((240&o)==224){n+=String.fromCharCode((15&o)<<12|(63&e[++s])<<6|(63&e[++s])<<0);continue}if((248&o)==240){(r=(7&o)<<18|(63&e[++s])<<12|(63&e[++s])<<6|(63&e[++s])<<0)>=65536?(r-=65536,n+=String.fromCharCode((r>>>10)+55296,(1023&r)+56320)):n+=String.fromCharCode(r);continue}throw Error("Invalid byte "+o.toString(16))}return n}function I(e){void 0===e&&(e="");for(var t=0,i=0,n=0,r=e.length;n<r;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i+1}e.Protocol=void 0,(n=e.Protocol||(e.Protocol={}))[n.HANDSHAKE=9]="HANDSHAKE",n[n.JOIN_ROOM=10]="JOIN_ROOM",n[n.ERROR=11]="ERROR",n[n.LEAVE_ROOM=12]="LEAVE_ROOM",n[n.ROOM_DATA=13]="ROOM_DATA",n[n.ROOM_STATE=14]="ROOM_STATE",n[n.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",n[n.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",n[n.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES",e.ErrorCode=void 0,(s=e.ErrorCode||(e.ErrorCode={}))[s.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",s[s.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",s[s.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",s[s.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",s[s.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",s[s.AUTH_FAILED=4215]="AUTH_FAILED",s[s.APPLICATION_ERROR=4216]="APPLICATION_ERROR";var P={};function R(e){var t=P[e];if(!t)throw Error("missing serializer: "+e);return t}var O=function(){return{emit:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=this.events[e]||[],r=0,s=n.length;r<s;r++)n[r].apply(n,t)},events:{},on:function(e,t){var i,n=this;return(null===(i=this.events[e])||void 0===i?void 0:i.push(t))||(this.events[e]=[t]),function(){var i;n.events[e]=null===(i=n.events[e])||void 0===i?void 0:i.filter(function(e){return t!==e})}}}},M=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.handlers.forEach(function(i){return i.apply(e,t)})},e.prototype.invokeAsync=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return Promise.all(this.handlers.map(function(i){return i.apply(e,t)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();function L(){var e=new M;function t(t){return e.register(t,this===null)}return t.once=function(t){var i=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.apply(this,n),e.remove(i)};e.register(i)},t.remove=function(t){return e.remove(t)},t.invoke=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.invoke.apply(e,t)},t.invokeAsync=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.invokeAsync.apply(e,t)},t.clear=function(){return e.clear()},t}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r||"undefined"!=typeof self&&self;var D=(t=a={exports:{}},function(e){var t,i,n,r,s,a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function l(e,t,i,n){var r,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,i,a):r(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}function h(e,t,i){if(i||2==arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}e.OPERATION=void 0,(t=e.OPERATION||(e.OPERATION={}))[t.ADD=128]="ADD",t[t.REPLACE=0]="REPLACE",t[t.DELETE=64]="DELETE",t[t.DELETE_AND_ADD=192]="DELETE_AND_ADD",t[t.TOUCH=1]="TOUCH",t[t.CLEAR=10]="CLEAR";var u=function(){function t(e,t,i){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,i)}return t.prototype.setParent=function(e,t,i){var n=this;if(this.indexes||(this.indexes=this.ref instanceof el?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=i,t){if(this.root=t,this.ref instanceof el){var r=this.ref._definition;for(var s in r.schema){var a=this.ref[s];if(a&&a.$changes){var o=r.indexes[s];a.$changes.setParent(this.ref,t,o)}}}else"object"==typeof this.ref&&this.ref.forEach(function(e,t){if(e instanceof el){var i=e.$changes,r=n.ref.$changes.indexes[t];i.setParent(n.ref,n.root,r)}})}},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,i){void 0===i&&(i=e.OPERATION.ADD);var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t);var r=this.changes.get(n);r&&r.op!==e.OPERATION.DELETE&&r.op!==e.OPERATION.TOUCH||this.changes.set(n,{op:r&&r.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:i,index:n}),this.allChanges.add(n),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var i="number"==typeof t?t:this.indexes[t];this.assertValidIndex(i,t),this.changes.has(i)||this.changes.set(i,{op:e.OPERATION.TOUCH,index:i}),this.allChanges.add(i),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition){var t=this.ref._definition;return t.schema[t.fieldsByIndex[e]]}var t=this.parent._definition;return Object.values(t.schema[t.fieldsByIndex[this.parentIndex]])[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var i="number"==typeof t?t:this.indexes[t];if(void 0===i){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(t," (").concat(i,")"));return}var n=this.getValue(i);this.changes.set(i,{op:e.OPERATION.DELETE,index:i}),this.allChanges.delete(i),delete this.caches[i],n&&n.$changes&&(n.$changes.parent=void 0),this.changed=!0,this.touchParents()},t.prototype.discard=function(t,i){var n=this;void 0===t&&(t=!1),void 0===i&&(i=!1),this.ref instanceof el||this.changes.forEach(function(t){if(t.op===e.OPERATION.DELETE){var i=n.ref.getIndex(t.index);delete n.indexes[i]}}),this.changes.clear(),this.changed=t,i&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach(function(t){var i=e.getValue(t.index);i&&i.$changes&&i.$changes.discardAll()}),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw Error('ChangeTree: missing index for field "'.concat(t,'"'))},t}();function c(e,t,i,n){return e[t]||(e[t]=[]),e[t].push(i),null==n||n.forEach(function(e,t){return i(e,t)}),function(){return f(e[t],e[t].indexOf(i))}}function d(t){var i=this,n="string"!=typeof this.$changes.getType();this.$items.forEach(function(r,s){t.push({refId:i.$changes.refId,op:e.OPERATION.DELETE,field:s,value:void 0,previousValue:r}),n&&i.$changes.root.removeRef(r.$changes.refId)})}function f(e,t){if(-1===t||t>=e.length)return!1;for(var i=e.length-1,n=t;n<i;n++)e[n]=e[n+1];return e.length=i,!0}var p=function(e,t){var i=e.toString(),n=t.toString();return i<n?-1:i>n?1:0},m=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new u(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return i.forEach(function(i){e=t.$refId++,t.setAt(e,i)}),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.setAt=function(t,i){void 0!==i.$changes&&i.$changes.setParent(this,this.$changes.root,t);var n,r,s=null!==(r=null===(n=this.$changes.indexes[t])||void 0===n?void 0:n.op)&&void 0!==r?r:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,i),this.$changes.change(t,s)},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return new(t.bind.apply(t,h([void 0],(e=Array.from(this.$items.values())).concat.apply(e,i),!1)))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(i,n){e.setAt(t[n],i)}),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()).shift();if(void 0!==e){var t=this.$items.get(e);return this.$deleteAt(e),t}},t.prototype.slice=function(e,i){var n=new t;return n.push.apply(n,Array.from(this.$items.values()).slice(e,i)),n},t.prototype.sort=function(e){var t=this;void 0===e&&(e=p);var i=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(e).forEach(function(e,n){t.setAt(i[n],e)}),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var i=Array.from(this.$items.keys()),n=[],r=e;r<e+t;r++)n.push(this.$items.get(i[r])),this.$deleteAt(i[r]);return n},t.prototype.unshift=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=this.length,r=t.length,s=Array.from(this.$items.values());return t.forEach(function(t,i){e.setAt(i,t)}),s.forEach(function(t,i){e.setAt(r+i,t)}),n+r},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},t.prototype.reduceRight=function(e,t){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,i){throw Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,i){throw Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw Error("ArraySchema#flat() is not supported.")},t.prototype.findLast=function(){var e=Array.from(this.$items.values());return e.findLast.apply(e,arguments)},t.prototype.findLastIndex=function(){var e=Array.from(this.$items.values());return e.findLastIndex.apply(e,arguments)},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map(function(e){return"function"==typeof e.toJSON?e.toJSON():e})},t.prototype.clone=function(e){return e?new(t.bind.apply(t,h([void 0],Array.from(this.$items.values()),!1))):new(t.bind.apply(t,h([void 0],this.map(function(e){return e.$changes?e.clone():e}),!1)))},t}(),g=function(){function t(e){var i=this;if(this.$changes=new u(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e){if(e instanceof Map||e instanceof t)e.forEach(function(e,t){return i.set(t,e)});else for(var n in e)this.set(n,e[n])}}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),t.prototype.set=function(t,i){if(null==i)throw Error("MapSchema#set('".concat(t,"', ").concat(i,"): trying to set ").concat(i," value on '").concat(t,"'."));var n=void 0!==this.$changes.indexes[t],r=n?this.$changes.indexes[t]:this.$refId++,s=n?e.OPERATION.REPLACE:e.OPERATION.ADD,a=void 0!==i.$changes;return a&&i.$changes.setParent(this,this.$changes.root,r),n?a&&this.$items.get(t)!==i&&(s=e.OPERATION.ADD):(this.$changes.indexes[t]=r,this.$indexes.set(r,t)),this.$items.set(t,i),this.$changes.change(t,s),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach(function(t,i){e[i]="function"==typeof t.toJSON?t.toJSON():t}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e,t){e.$changes?i.set(t,e.clone()):i.set(t,e)})),i},t}(),v={},y=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var i=new e;return i.schema=Object.assign({},t&&t.schema||{}),i.indexes=Object.assign({},t&&t.indexes||{}),i.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),i.descriptors=Object.assign({},t&&t.descriptors||{}),i.deprecated=Object.assign({},t&&t.deprecated||{}),i},e.prototype.addField=function(e,t){var i=this.getNextFieldIndex();this.fieldsByIndex[i]=e,this.indexes[e]=i,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.hasField=function(e){return void 0!==this.indexes[e]},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var i=this.indexes[e];if(v[Object.keys(this.schema[e])[0]])return this.childFilters||(this.childFilters={}),this.childFilters[i]=t,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}(),b=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=y.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t={}),function(i){return t.context||(t.context=new e),E(i,t)}},e}(),x=new b;function E(e,t){return void 0===t&&(t={}),function(i,n){var r=t.context||x,s=i.constructor;if(s._context=r,!e)throw Error("".concat(s.name,': @type() reference provided for "').concat(n,"\" is undefined. Make sure you don't have any circular dependencies."));r.has(s)||r.add(s);var a=s._definition;if(a.addField(n,e),a.descriptors[n]){if(a.deprecated[n])return;try{throw Error("@colyseus/schema: Duplicate '".concat(n,"' definition on '").concat(s.name,"'.\nCheck @type() annotation"))}catch(e){var o=e.stack.split("\n")[4].trim();throw Error("".concat(e.message," ").concat(o))}}var l=m.is(e),u=!l&&g.is(e);if("string"!=typeof e&&!el.is(e)){var c=Object.values(e)[0];"string"==typeof c||r.has(c)||r.add(c)}if(t.manual){a.descriptors[n]={enumerable:!0,configurable:!0,writable:!0};return}var d="_".concat(n);a.descriptors[d]={enumerable:!1,configurable:!1,writable:!0},a.descriptors[n]={get:function(){return this[d]},set:function(e){if(e!==this[d]){if(null!=e){if(!l||e instanceof m||(e=new(m.bind.apply(m,h([void 0],e,!1)))),!u||e instanceof g||(e=new g(e)),void 0===e.$proxy){var t,i;u?((t=e).$proxy=!0,e=t=new Proxy(t,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,i){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,i):e[t]=i,!0},deleteProperty:function(e,t){return e.delete(t),!0}})):l&&((i=e).$proxy=!0,e=i=new Proxy(i,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,i){if("symbol"==typeof t||isNaN(t))e[t]=i;else{var n=parseInt(Array.from(e.$items.keys())[t]||t);null==i?e.deleteAt(n):e.setAt(n,i)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0}}))}this.$changes.change(n),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[n])}else this[d]&&this.$changes.delete(n);this[d]=e}},enumerable:!0,configurable:!0}}}function w(e,t,i){for(var n=0,r=0,s=i.length;r<s;r++)(n=i.charCodeAt(r))<128?e[t++]=n:(n<2048?e[t++]=192|n>>6:(n<55296||n>=57344?e[t++]=224|n>>12:(r++,n=65536+((1023&n)<<10|1023&i.charCodeAt(r)),e[t++]=240|n>>18,e[t++]=128|n>>12&63),e[t++]=128|n>>6&63),e[t++]=128|63&n)}function S(e,t){e.push(255&t)}function T(e,t){e.push(255&t)}function A(e,t){e.push(255&t),e.push(t>>8&255)}function _(e,t){e.push(255&t),e.push(t>>8&255)}function C(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function I(e,t){e.push(255&t),e.push(255&t>>8),e.push(255&t>>16),e.push(255&t>>24)}function P(e,t){var i=Math.floor(t/0x100000000);I(e,t>>>0),I(e,i)}function R(e,t){I(e,t>>>0),I(e,t/0x100000000>>0)}var O=new Int32Array(2),M=new Float32Array(O.buffer),L=new Float64Array(O.buffer);function D(e,t){M[0]=t,C(e,O[0])}function k(e,t){L[0]=t,C(e,O[0]),C(e,O[1])}function N(e,t){t||(t="");var i=function(e){for(var t=0,i=0,n=0,r=e.length;n<r;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}(t),n=0;if(i<32)e.push(160|i),n=1;else if(i<256)e.push(217),T(e,i),n=2;else if(i<65536)e.push(218),_(e,i),n=3;else if(i<0x100000000)e.push(219),I(e,i),n=5;else throw Error("String too long");return w(e,e.length,t),n+i}function F(e,t){return isNaN(t)?F(e,0):isFinite(t)?t!==(0|t)?(e.push(203),k(e,t),9):t>=0?t<128?(T(e,t),1):t<256?(e.push(204),T(e,t),2):t<65536?(e.push(205),_(e,t),3):t<0x100000000?(e.push(206),I(e,t),5):(e.push(207),R(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),S(e,t),2):t>=-32768?(e.push(209),A(e,t),3):t>=-0x80000000?(e.push(210),C(e,t),5):(e.push(211),P(e,t),9):F(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var B=/*#__PURE__*/Object.freeze({__proto__:null,utf8Write:w,int8:S,uint8:T,int16:A,uint16:_,int32:C,uint32:I,int64:P,uint64:R,float32:function(e,t){D(e,t)},float64:function(e,t){k(e,t)},writeFloat32:D,writeFloat64:k,boolean:function(e,t){return T(e,t?1:0)},string:N,number:F});function U(e,t){return j(e,t)<<24>>24}function j(e,t){return e[t.offset++]}function V(e,t){return G(e,t)<<16>>16}function G(e,t){return e[t.offset++]|e[t.offset++]<<8}function W(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function z(e,t){return W(e,t)>>>0}function Y(e,t){var i=z(e,t);return 0x100000000*W(e,t)+i}function H(e,t){var i=z(e,t);return 0x100000000*z(e,t)+i}var X=new Int32Array(2),q=new Float32Array(X.buffer),K=new Float64Array(X.buffer);function $(e,t){return X[0]=W(e,t),q[0]}function Q(e,t){return X[0]=W(e,t),X[1]=W(e,t),K[0]}function J(e,t){var i,n=e[t.offset++];n<192?i=31&n:217===n?i=j(e,t):218===n?i=G(e,t):219===n&&(i=z(e,t));var r=function(e,t,i){for(var n="",r=0,s=t,a=t+i;s<a;s++){var o=e[s];if((128&o)==0){n+=String.fromCharCode(o);continue}if((224&o)==192){n+=String.fromCharCode((31&o)<<6|63&e[++s]);continue}if((240&o)==224){n+=String.fromCharCode((15&o)<<12|(63&e[++s])<<6|(63&e[++s])<<0);continue}if((248&o)==240){(r=(7&o)<<18|(63&e[++s])<<12|(63&e[++s])<<6|(63&e[++s])<<0)>=65536?(r-=65536,n+=String.fromCharCode((r>>>10)+55296,(1023&r)+56320)):n+=String.fromCharCode(r);continue}console.error("Invalid byte "+o.toString(16))}return n}(e,t.offset,i);return t.offset+=i,r}function Z(e,t){var i=e[t.offset++];if(i<128)return i;if(202===i)return $(e,t);if(203===i)return Q(e,t);if(204===i)return j(e,t);if(205===i)return G(e,t);if(206===i)return z(e,t);if(207===i)return H(e,t);else if(208===i)return U(e,t);else if(209===i)return V(e,t);else if(210===i)return W(e,t);else if(211===i)return Y(e,t);else if(i>223)return-((255-i+1)*1)}function ee(e,t){return 255===e[t.offset-1]&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var et=/*#__PURE__*/Object.freeze({__proto__:null,int8:U,uint8:j,int16:V,uint16:G,int32:W,uint32:z,float32:function(e,t){return $(e,t)},float64:function(e,t){return Q(e,t)},int64:Y,uint64:H,readFloat32:$,readFloat64:Q,boolean:function(e,t){return j(e,t)>0},string:J,stringCheck:function(e,t){var i=e[t.offset];return i<192&&i>160||217===i||218===i||219===i},number:Z,numberCheck:function(e,t){var i=e[t.offset];return i<128||i>=202&&i<=211},arrayCheck:function(e,t){return e[t.offset]<160},switchStructureCheck:ee}),ei=function(){function t(e){var t=this;this.$changes=new u(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++;return void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,i,n=this.$items.entries();(i=n.next())&&!i.done;)if(e===i.value[1]){t=i.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some(function(t){return t===e})},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(i,n,r){return e(i,n,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,i){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e){e.$changes?i.add(e.clone()):i.add(e)})),i},t}(),en=function(){function t(e){var t=this;this.$changes=new u(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){if(this.has(t))return!1;var i,n,r=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,r);var s=null!==(n=null===(i=this.$changes.indexes[r])||void 0===i?void 0:i.op)&&void 0!==n?n:e.OPERATION.ADD;return this.$changes.indexes[r]=r,this.$indexes.set(r,r),this.$items.set(r,t),this.$changes.change(r,s),r},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,i,n=this.$items.entries();(i=n.next())&&!i.done;)if(e===i.value[1]){t=i.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,i=this.$items.values(),n=!1;(t=i.next())&&!t.done;)if(e===t.value){n=!0;break}return n},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(i,n,r){return e(i,n,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,i){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e){e.$changes?i.add(e.clone()):i.add(e)})),i},t}(),er=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),es=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,i){void 0===i&&(i=!0),this.refs.set(e,t),i&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){this.refCounts[e]=this.refCounts[e]-1,this.deletedRefs.add(e)},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach(function(t){if(!(e.refCounts[t]>0)){var i=e.refs.get(t);if(i instanceof el)for(var n in i._definition.schema)"string"!=typeof i._definition.schema[n]&&i[n]&&i[n].$changes&&e.removeRef(i[n].$changes.refId);else{var r=i.$changes.parent._definition;"function"==typeof Object.values(r.schema[r.fieldsByIndex[i.$changes.parentIndex]])[0]&&Array.from(i.values()).forEach(function(t){return e.removeRef(t.$changes.refId)})}e.refs.delete(t),delete e.refCounts[t]}}),this.deletedRefs.clear()},e}(),ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error);function eo(e,t,i,n){if(!(e instanceof t))throw new ea("a '".concat(t.name,"' was expected, but '").concat(e.constructor.name,"' was provided in ").concat(i.constructor.name,"#").concat(n))}var el=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new u(this,void 0,new es),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var i=this._definition.descriptors;i&&Object.defineProperties(this,i),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.setDirty=function(e,t){this.$changes.change(e,t)},t.prototype.listen=function(e,t,i){var n=this;return void 0===i&&(i=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[e]||(this.$callbacks[e]=[]),this.$callbacks[e].push(t),i&&void 0!==this[e]&&t(this[e],void 0),function(){return f(n.$callbacks[e],n.$callbacks[e].indexOf(t))}},t.prototype.decode=function(i,n,r){void 0===n&&(n={offset:0}),void 0===r&&(r=this);var s,a=[],o=this.$changes.root,l=i.length,h=0;for(o.refs.set(h,this);n.offset<l;){var u,c=i[n.offset++];if(255==c){h=Z(i,n);var d=o.refs.get(h);if(!d)throw Error('"refId" not found: '.concat(h));r=d;continue}var f=r.$changes,p=void 0!==r._definition,y=p?c>>6<<6:c;if(y===e.OPERATION.CLEAR){r.clear(a);continue}var b=p?c%(y||255):Z(i,n),x=p?r._definition.fieldsByIndex[b]:"",E=f.getType(b),w=void 0,S=void 0,T=void 0;if(p?S=r["_".concat(x)]:(S=r.getByIndex(b),(y&e.OPERATION.ADD)===e.OPERATION.ADD?(T=r instanceof g?J(i,n):b,r.setIndex(b,T)):T=r.getIndex(b)),(y&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(y!==e.OPERATION.DELETE_AND_ADD&&r.deleteByIndex(b),S&&S.$changes&&o.removeRef(S.$changes.refId),w=null),void 0===x){console.warn("@colyseus/schema: definition mismatch");for(var A={offset:n.offset};n.offset<l&&!(ee(i,n)&&(A.offset=n.offset+1,o.refs.has(Z(i,A))));)n.offset++;continue}if(y===e.OPERATION.DELETE);else if(t.is(E)){var _=Z(i,n);if(w=o.refs.get(_),y!==e.OPERATION.REPLACE){var C=this.getSchemaType(i,n,E);!w&&((w=this.createTypeInstance(C)).$changes.refId=_,S&&(w.$callbacks=S.$callbacks,S.$changes.refId&&_!==S.$changes.refId&&o.removeRef(S.$changes.refId))),o.addRef(_,w,w!==S)}}else if("string"==typeof E)u=n,w=et[E](i,u);else{var I=v[Object.keys(E)[0]],P=Z(i,n),R=o.refs.has(P)?S||o.refs.get(P):new I.constructor;if((w=R.clone(!0)).$changes.refId=P,S&&(w.$callbacks=S.$callbacks,S.$changes.refId&&P!==S.$changes.refId)){o.removeRef(S.$changes.refId);for(var O=S.entries(),M=void 0;(M=O.next())&&!M.done;){var L=(s=M.value)[0],D=s[1];a.push({refId:P,op:e.OPERATION.DELETE,field:L,value:void 0,previousValue:D})}}o.addRef(P,w,R!==S)}if(null!=w){if(w.$changes&&w.$changes.setParent(f.ref,f.root,b),r instanceof t)r[x]=w;else if(r instanceof g){var L=T;r.$items.set(L,w),r.$changes.allChanges.add(b)}else if(r instanceof m)r.setAt(b,w);else if(r instanceof ei){var k=r.add(w);r.setIndex(b,k)}else if(r instanceof en){var k=r.add(w);!1!==k&&r.setIndex(b,k)}}S!==w&&a.push({refId:h,op:y,field:x,dynamicIndex:T,value:w,previousValue:S})}return this._triggerChanges(a),o.garbageCollectDeletedRefs(),a},t.prototype.encode=function(i,n,r){void 0===i&&(i=!1),void 0===n&&(n=[]),void 0===r&&(r=!1);for(var s=this.$changes,a=new WeakSet,o=[s],l=1,h=0;h<l;h++){var u=o[h],c=u.ref,d=c instanceof t;u.ensureRefId(),a.add(u),u!==s&&(u.changed||i)&&(T(n,255),F(n,u.refId));for(var f=i?Array.from(u.allChanges):Array.from(u.changes.values()),p=0,m=f.length;p<m;p++){var y=i?{op:e.OPERATION.ADD,index:f[p]}:f[p],b=y.index,x=d?c._definition.fieldsByIndex&&c._definition.fieldsByIndex[b]:b,E=n.length;if(y.op!==e.OPERATION.TOUCH){if(d)T(n,b|y.op);else{if(T(n,y.op),y.op===e.OPERATION.CLEAR)continue;F(n,b)}}if(!d&&(y.op&e.OPERATION.ADD)==e.OPERATION.ADD&&c instanceof g&&N(n,u.ref.$indexes.get(b)),y.op!==e.OPERATION.DELETE){var w=u.getType(b),S=u.getValue(b);if(S&&S.$changes&&!a.has(S.$changes)&&(o.push(S.$changes),S.$changes.ensureRefId(),l++),y.op!==e.OPERATION.TOUCH){if(t.is(w))eo(S,w,c,x),F(n,S.$changes.refId),(y.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(n,w,S.constructor);else if("string"==typeof w)!function(e,t,i,n,r){!function(e,t,i,n){var r,s=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":r="number",isNaN(e)&&console.log('trying to encode "NaN" in '.concat(i.constructor.name,"#").concat(n));break;case"string":r="string",s=!0;break;case"boolean":return}if(typeof e!==r&&(!s||s&&null!==e)){var a="'".concat(JSON.stringify(e),"'").concat(e&&e.constructor&&" (".concat(e.constructor.name,")")||"");throw new ea("a '".concat(r,"' was expected, but ").concat(a," was provided in ").concat(i.constructor.name,"#").concat(n))}}(i,e,n,r);var s=B[e];if(s)s(t,i);else throw new ea("a '".concat(e,"' was expected, but ").concat(i," was provided in ").concat(n.constructor.name,"#").concat(r))}(w,n,S,c,x);else{var A=v[Object.keys(w)[0]];eo(c["_".concat(x)],A.constructor,c,x),F(n,S.$changes.refId)}r&&u.cache(b,n.slice(E))}}}i||r||u.discard()}return n},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(i,n){void 0===n&&(n=!1);for(var r,s,a=this,o=new Set,l=er.get(i),h=[this.$changes],u=1,c=[],d=0;d<u;d++)!function(d){var f=h[d];if(!o.has(f.refId)){var p=f.ref,m=p instanceof t;T(c,255),F(c,f.refId);var v=l.refIds.has(f),y=n||!v;l.addRefId(f);var b=l.containerIndexes.get(f),x=y?Array.from(f.allChanges):Array.from(f.changes.values());!n&&m&&p._definition.indexesWithFilters&&p._definition.indexesWithFilters.forEach(function(t){!b.has(t)&&f.allChanges.has(t)&&(y?x.push(t):x.push({op:e.OPERATION.ADD,index:t}))});for(var E=0,w=x.length;E<w;E++){var S=y?{op:e.OPERATION.ADD,index:x[E]}:x[E];if(S.op===e.OPERATION.CLEAR){T(c,S.op);continue}var A=S.index;if(S.op===e.OPERATION.DELETE){m?T(c,S.op|A):(T(c,S.op),F(c,A));continue}var _=f.getValue(A),C=f.getType(A);if(m){var I=p._definition.filters&&p._definition.filters[A];if(I&&!I.call(p,i,_,a)){_&&_.$changes&&o.add(_.$changes.refId);continue}}else{var P=f.parent,I=f.getChildrenFilter();if(I&&!I.call(P,i,p.$indexes.get(A),_,a)){_&&_.$changes&&o.add(_.$changes.refId);continue}}if(_.$changes&&(h.push(_.$changes),u++),S.op!==e.OPERATION.TOUCH){if(S.op===e.OPERATION.ADD||m)c.push.apply(c,null!==(r=f.caches[A])&&void 0!==r?r:[]),b.add(A);else if(b.has(A))c.push.apply(c,null!==(s=f.caches[A])&&void 0!==s?s:[]);else{if(b.add(A),T(c,e.OPERATION.ADD),F(c,A),p instanceof g){var R=f.ref.$indexes.get(A);N(c,R)}_.$changes?F(c,_.$changes.refId):B[C](c,_)}}else if(_.$changes&&!m){if(T(c,e.OPERATION.ADD),F(c,A),p instanceof g){var R=f.ref.$indexes.get(A);N(c,R)}F(c,_.$changes.refId)}}}}(d);return c},t.prototype.clone=function(){var e,t=new this.constructor,i=this._definition.schema;for(var n in i)"object"==typeof this[n]&&"function"==typeof(null===(e=this[n])||void 0===e?void 0:e.clone)?t[n]=this[n].clone():t[n]=this[n];return t},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,i={};for(var n in e)t[n]||null===this[n]||void 0===this[n]||(i[n]="function"==typeof this[n].toJSON?this[n].toJSON():this["_".concat(n)]);return i},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,i){t._typeid!==i._typeid&&(T(e,213),F(e,i._typeid))},t.prototype.getSchemaType=function(e,t,i){var n;return 213===e[t.offset]&&(t.offset++,n=this.constructor._context.get(Z(e,t))),n||i},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerChanges=function(i){for(var n,r,s,a,o,l,h,u,c,d=new Set,f=this.$changes.root.refs,p=0;p<i.length;p++)!function(p){var m=i[p],g=m.refId,v=f.get(g),y=v.$callbacks;if((m.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&m.previousValue instanceof t&&(null===(r=null===(n=m.previousValue.$callbacks)||void 0===n?void 0:n[e.OPERATION.DELETE])||void 0===r||r.forEach(function(e){return e()})),y){if(v instanceof t){if(!d.has(g))try{null===(s=null==y?void 0:y[e.OPERATION.REPLACE])||void 0===s||s.forEach(function(e){return e(i)})}catch(e){t.onError(e)}try{y.hasOwnProperty(m.field)&&(null===(a=y[m.field])||void 0===a||a.forEach(function(e){return e(m.value,m.previousValue)}))}catch(e){t.onError(e)}}else m.op===e.OPERATION.ADD&&void 0===m.previousValue?null===(o=y[e.OPERATION.ADD])||void 0===o||o.forEach(function(e){var t;return e(m.value,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)}):m.op===e.OPERATION.DELETE?void 0!==m.previousValue&&(null===(l=y[e.OPERATION.DELETE])||void 0===l||l.forEach(function(e){var t;return e(m.previousValue,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)})):m.op===e.OPERATION.DELETE_AND_ADD&&(void 0!==m.previousValue&&(null===(h=y[e.OPERATION.DELETE])||void 0===h||h.forEach(function(e){var t;return e(m.previousValue,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)})),null===(u=y[e.OPERATION.ADD])||void 0===u||u.forEach(function(e){var t;return e(m.value,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)})),m.value!==m.previousValue&&(null===(c=y[e.OPERATION.REPLACE])||void 0===c||c.forEach(function(e){var t;return e(m.value,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)}));d.add(g)}}(p)},t._definition=y.create(),t}(),eh={context:new b},eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),l([E("string",eh)],t.prototype,"name",void 0),l([E("string",eh)],t.prototype,"type",void 0),l([E("number",eh)],t.prototype,"referencedType",void 0),t}(el),ec=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new m,t}return o(t,e),l([E("number",eh)],t.prototype,"id",void 0),l([E([eu],eh)],t.prototype,"fields",void 0),t}(el),ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new m,t}return o(t,e),t.encode=function(e){var i=e.constructor,n=new t;n.rootType=i._typeid;var r=i._context.types;for(var s in r){var a=new ec;a.id=Number(s),function(e,t){for(var i in t){var r=new eu;r.name=i;var s=void 0;if("string"==typeof t[i])s=t[i];else{var a=t[i],o=void 0;el.is(a)?(s="ref",o=t[i]):(s=Object.keys(a)[0],"string"==typeof a[s]?s+=":"+a[s]:o=a[s]),r.referencedType=o?o._typeid:-1}r.type=s,e.fields.push(r)}n.types.push(e)}(a,r[s]._definition.schema)}return n.encodeAll()},t.decode=function(e,i){var n=new b,r=new t;r.decode(e,i);var s=r.types.reduce(function(e,t){var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(el),r=t.id;return e[r]=i,n.add(i,r),e},{});r.types.forEach(function(e){var t=s[e.id];e.fields.forEach(function(e){var i;if(void 0!==e.referencedType){var r=e.type,a=s[e.referencedType];if(!a){var o=e.type.split(":");r=o[0],a=o[1]}"ref"===r?E(a,{context:n})(t.prototype,e.name):E(((i={})[r]=a,i),{context:n})(t.prototype,e.name)}else E(e.type,{context:n})(t.prototype,e.name)})});var a=s[r.rootType],l=new a;for(var h in a._definition.schema){var u=a._definition.schema[h];"string"!=typeof u&&(l[h]="function"==typeof u?new u:new v[Object.keys(u)[0]].constructor)}return l},l([E([ec],eh)],t.prototype,"types",void 0),l([E("number",eh)],t.prototype,"rootType",void 0),t}(el);i={constructor:g},v.map=i,n={constructor:m},v.array=n,r={constructor:en},v.set=r,s={constructor:ei},v.collection=s,e.ArraySchema=m,e.CollectionSchema=ei,e.Context=b,e.MapSchema=g,e.Reflection=ed,e.ReflectionField=eu,e.ReflectionType=ec,e.Schema=el,e.SchemaDefinition=y,e.SetSchema=en,e.decode=et,e.defineTypes=function(e,t,i){for(var n in void 0===i&&(i={}),i.context||(i.context=e._context||i.context||x),t)E(t[n],i)(e.prototype,n);return e},e.deprecated=function(e){return void 0===e&&(e=!0),function(t,i){var n=t.constructor._definition;n.deprecated[i]=!0,e&&(n.descriptors[i]={get:function(){throw Error("".concat(i," is deprecated."))},set:function(e){},enumerable:!1,configurable:!0})}},e.dumpChanges=function(e){for(var t=[e.$changes],i={},n=0;n<1;n++)!function(e){var n=t[e];n.changes.forEach(function(e){var t=n.ref,r=e.index;i[t._definition?t._definition.fieldsByIndex[r]:t.$indexes.get(r)]=n.getValue(r)})}(n);return i},e.encode=B,e.filter=function(e){return function(t,i){var n=t.constructor;n._definition.addFilter(i,e)&&(n._context.useFilters=!0)}},e.filterChildren=function(e){return function(t,i){var n=t.constructor;n._definition.addChildrenFilter(i,e)&&(n._context.useFilters=!0)}},e.hasFilter=function(e){return e._context&&e._context.useFilters},e.registerType=function(e,t){v[e]=t},e.type=E,Object.defineProperty(e,"__esModule",{value:!0})}(a.exports),a.exports),k=function(){function t(e,t){var i=this;this.onStateChange=L(),this.onError=L(),this.onLeave=L(),this.onJoin=L(),this.hasJoined=!1,this.onMessageHandlers=O(),this.roomId=null,this.name=e,t&&(this.serializer=new(R("schema")),this.rootSchema=t,this.serializer.state=new t),this.onError(function(e,t){var i;return null===(i=console.warn)||void 0===i?void 0:i.call(console,"colyseus.js - onError => (".concat(e,") ").concat(t))}),this.onLeave(function(){return i.removeAllListeners()})}return Object.defineProperty(t.prototype,"id",{get:function(){return this.roomId},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,i,n){void 0===n&&(n=this);var r=new _;n.connection=r,r.events.onmessage=t.prototype.onMessageCallback.bind(n),r.events.onclose=function(e){var t;if(!n.hasJoined){null===(t=console.warn)||void 0===t||t.call(console,"Room connection was closed unexpectedly (".concat(e.code,"): ").concat(e.reason)),n.onError.invoke(e.code,e.reason);return}e.code===l.DEVMODE_RESTART&&i?i():(n.onLeave.invoke(e.code),n.destroy())},r.events.onerror=function(e){var t;null===(t=console.warn)||void 0===t||t.call(console,"Room, onError (".concat(e.code,"): ").concat(e.reason)),n.onError.invoke(e.code,e.reason)},r.connect(e)},t.prototype.leave=function(t){var i=this;return void 0===t&&(t=!0),new Promise(function(n){i.onLeave(function(e){return n(e)}),i.connection?t?i.connection.send([e.Protocol.LEAVE_ROOM]):i.connection.close():i.onLeave.invoke(l.CONSENTED)})},t.prototype.onMessage=function(e,t){return this.onMessageHandlers.on(this.getMessageHandlerKey(e),t)},t.prototype.send=function(t,i){var n,r=[e.Protocol.ROOM_DATA];if("string"==typeof t?D.encode.string(r,t):D.encode.number(r,t),void 0!==i){var s=function(e){var t=[],i=[],n=new ArrayBuffer(function e(t,i,n){var r=typeof n,s=0,a=0,o=0,l=0,h=0,u=0;if("string"===r){if((h=function(e){for(var t=0,i=0,n=0,r=e.length;n<r;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}(n))<32)t.push(160|h),u=1;else if(h<256)t.push(217,h),u=2;else if(h<65536)t.push(218,h>>8,h),u=3;else if(h<0x100000000)t.push(219,h>>24,h>>16,h>>8,h),u=5;else throw Error("String too long");return i.push({_str:n,_length:h,_offset:t.length}),u+h}if("number"===r)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(t.push(n),1):n<256?(t.push(204,n),2):n<65536?(t.push(205,n>>8,n),3):n<0x100000000?(t.push(206,n>>24,n>>16,n>>8,n),5):(o=n/0x100000000>>0,l=n>>>0,t.push(207,o>>24,o>>16,o>>8,o,l>>24,l>>16,l>>8,l),9):n>=-32?(t.push(n),1):n>=-128?(t.push(208,n),2):n>=-32768?(t.push(209,n>>8,n),3):n>=-0x80000000?(t.push(210,n>>24,n>>16,n>>8,n),5):(o=Math.floor(n/0x100000000),l=n>>>0,t.push(211,o>>24,o>>16,o>>8,o,l>>24,l>>16,l>>8,l),9):(t.push(203),i.push({_float:n,_length:8,_offset:t.length}),9);if("object"===r){if(null===n)return t.push(192),1;if(Array.isArray(n)){if((h=n.length)<16)t.push(144|h),u=1;else if(h<65536)t.push(220,h>>8,h),u=3;else if(h<0x100000000)t.push(221,h>>24,h>>16,h>>8,h),u=5;else throw Error("Array too large");for(s=0;s<h;s++)u+=e(t,i,n[s]);return u}if(n instanceof Date){var c=n.getTime(),d=Math.floor(c/1e3),f=(c-1e3*d)*1e6;return d>=0&&f>=0&&d<=0x3ffffffff?0===f&&d<=0xffffffff?(t.push(214,255,d>>24,d>>16,d>>8,d),6):(o=d/0x100000000,l=0xffffffff&d,t.push(215,255,f>>22,f>>14,f>>6,o,l>>24,l>>16,l>>8,l),10):(o=Math.floor(d/0x100000000),l=d>>>0,t.push(199,12,255,f>>24,f>>16,f>>8,f,o>>24,o>>16,o>>8,o,l>>24,l>>16,l>>8,l),15)}if(n instanceof ArrayBuffer){if((h=n.byteLength)<256)t.push(196,h),u=2;else if(h<65536)t.push(197,h>>8,h),u=3;else if(h<0x100000000)t.push(198,h>>24,h>>16,h>>8,h),u=5;else throw Error("Buffer too large");return i.push({_bin:n,_length:h,_offset:t.length}),u+h}if("function"==typeof n.toJSON)return e(t,i,n.toJSON());var p=[],m="",g=Object.keys(n);for(s=0,a=g.length;s<a;s++)void 0!==n[m=g[s]]&&"function"!=typeof n[m]&&p.push(m);if((h=p.length)<16)t.push(128|h),u=1;else if(h<65536)t.push(222,h>>8,h),u=3;else if(h<0x100000000)t.push(223,h>>24,h>>16,h>>8,h),u=5;else throw Error("Object too large");for(s=0;s<h;s++)u+=e(t,i,m=p[s]),u+=e(t,i,n[m]);return u}if("boolean"===r)return t.push(n?195:194),1;if("undefined"===r)return t.push(192),1;if("function"==typeof n.toJSON)return e(t,i,n.toJSON());throw Error("Could not encode")}(t,i,e)),r=new DataView(n),s=0,a=0,o=-1;i.length>0&&(o=i[0]._offset);for(var l,h=0,u=0,c=0,d=t.length;c<d;c++)if(r.setUint8(a+c,t[c]),c+1===o){if(h=(l=i[s])._length,u=a+o,l._bin)for(var f=new Uint8Array(l._bin),p=0;p<h;p++)r.setUint8(u+p,f[p]);else l._str?function(e,t,i){for(var n=0,r=0,s=i.length;r<s;r++)(n=i.charCodeAt(r))<128?e.setUint8(t++,n):(n<2048?e.setUint8(t++,192|n>>6):(n<55296||n>=57344?e.setUint8(t++,224|n>>12):(r++,n=65536+((1023&n)<<10|1023&i.charCodeAt(r)),e.setUint8(t++,240|n>>18),e.setUint8(t++,128|n>>12&63)),e.setUint8(t++,128|n>>6&63)),e.setUint8(t++,128|63&n))}(r,u,l._str):void 0!==l._float&&r.setFloat64(u,l._float);s++,a+=h,i[s]&&(o=i[s]._offset)}return n}(i);(n=new Uint8Array(r.length+s.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(s),r.length)}else n=new Uint8Array(r);this.connection.send(n.buffer)},t.prototype.sendBytes=function(t,i){var n,r=[e.Protocol.ROOM_DATA_BYTES];"string"==typeof t?D.encode.string(r,t):D.encode.number(r,t),(n=new Uint8Array(r.length+(i.byteLength||i.length))).set(new Uint8Array(r),0),n.set(new Uint8Array(i),r.length),this.connection.send(n.buffer)},Object.defineProperty(t.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),t.prototype.removeAllListeners=function(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}},t.prototype.onMessageCallback=function(t){var i=Array.from(new Uint8Array(t.data)),n=i[0];if(n===e.Protocol.JOIN_ROOM){var r=1,s=C(i,1);if(r+=I(s),this.serializerId=C(i,r),r+=I(this.serializerId),!this.serializer){var a=R(this.serializerId);this.serializer=new a}i.length>r&&this.serializer.handshake&&this.serializer.handshake(i,{offset:r}),this.reconnectionToken="".concat(this.roomId,":").concat(s),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([e.Protocol.JOIN_ROOM])}else if(n===e.Protocol.ERROR){var o={offset:1},l=D.decode.number(i,o),h=D.decode.string(i,o);this.onError.invoke(l,h)}else if(n===e.Protocol.LEAVE_ROOM)this.leave();else if(n===e.Protocol.ROOM_DATA_SCHEMA){var u={offset:1},c=this.serializer.getState().constructor._context.get(D.decode.number(i,u)),h=new c;h.decode(i,u),this.dispatchMessage(c,h)}else if(n===e.Protocol.ROOM_STATE)i.shift(),this.setState(i);else if(n===e.Protocol.ROOM_STATE_PATCH)i.shift(),this.patch(i);else if(n===e.Protocol.ROOM_DATA){var d={offset:1},c=D.decode.stringCheck(i,d)?D.decode.string(i,d):D.decode.number(i,d),h=i.length>d.offset?function(e,t){void 0===t&&(t=0);var i=new S(e,t),n=i._parse();if(i._offset!==e.byteLength)throw Error(e.byteLength-i._offset+" trailing bytes");return n}(t.data,d.offset):void 0;this.dispatchMessage(c,h)}else if(n===e.Protocol.ROOM_DATA_BYTES){var f={offset:1},c=D.decode.stringCheck(i,f)?D.decode.string(i,f):D.decode.number(i,f);this.dispatchMessage(c,new Uint8Array(i.slice(f.offset)))}},t.prototype.setState=function(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())},t.prototype.patch=function(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())},t.prototype.dispatchMessage=function(e,t){var i,n=this.getMessageHandlerKey(e);this.onMessageHandlers.events[n]?this.onMessageHandlers.emit(n,t):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",e,t):null===(i=console.warn)||void 0===i||i.call(console,"colyseus.js: onMessage() not registered for type '".concat(e,"'."))},t.prototype.destroy=function(){this.serializer&&this.serializer.teardown()},t.prototype.getMessageHandlerKey=function(e){switch(typeof e){case"function":return"$".concat(e._typeid);case"string":return e;case"number":return"i".concat(e);default:throw Error("invalid message type.")}},t}();function N(e,t){t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.body}function F(e,t,i){var n,r,s=(i=i||{}).body;return i.method=e,i.headers=i.headers||{},s instanceof FormData||s&&"object"==typeof s&&(i.headers["content-type"]="application/json",i.body=JSON.stringify(s)),i.withCredentials&&(i.credentials="include"),i.timeout&&(r=new AbortController,i.signal=r.signal,n=setTimeout(r.abort,i.timeout)),new Promise((e,a)=>{fetch(t,i).then((t,r)=>{clearTimeout(n),N(t,t),r=t.status>=400?a:e,(s=t.headers.get("content-type"))&&~s.indexOf("application/json")?t.text().then(e=>{try{t.data=JSON.parse(e,i.reviver),r(t)}catch(e){e.headers=t.headers,N(t,e),a(e)}}):r(t)}).catch(e=>{e.timeout=r&&r.signal.aborted,a(e)})})}var B=/*#__PURE__*/F.bind(F,"GET"),U=/*#__PURE__*/F.bind(F,"POST"),j=/*#__PURE__*/F.bind(F,"PATCH"),V=/*#__PURE__*/F.bind(F,"DELETE"),G=/*#__PURE__*/F.bind(F,"PUT"),W={del:V,get:B,patch:j,post:U,put:G,send:F},z=(o={__proto__:null,default:W,del:V,get:B,patch:j,post:U,put:G,send:F},[W].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(t){if("default"!==t&&!(t in o)){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}})}),Object.freeze(o)),Y=function(){function e(e){this.client=e}return e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("get",e,t)},e.prototype.post=function(e,t){return void 0===t&&(t={}),this.request("post",e,t)},e.prototype.del=function(e,t){return void 0===t&&(t={}),this.request("del",e,t)},e.prototype.put=function(e,t){return void 0===t&&(t={}),this.request("put",e,t)},e.prototype.request=function(e,t,i){return void 0===i&&(i={}),z[e](this.client.getHttpEndpoint(t),this.getOptions(i)).catch(function(e){var t,i=e.statusCode,n=(null===(t=e.data)||void 0===t?void 0:t.error)||e.statusMessage||e.message;if(!i&&!n)throw e;throw new w(i,n)})},e.prototype.getOptions=function(e){return this.authToken&&(e.headers||(e.headers={}),e.headers.Authorization="Bearer ".concat(this.authToken)),"undefined"!=typeof cc&&cc.sys&&cc.sys.isNative||(e.withCredentials=!0),e},e}();function H(){if(!h)try{h="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch(e){}return h||(h={cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),h}var X=function(){function e(e){var t,i,n,r=this;this.http=e,this.settings={path:"/auth",key:"colyseus-auth-token"},u.set(this,!1),c.set(this,void 0),d.set(this,void 0),f.set(this,O()),t=this.settings.key,i=function(e){return r.token=e},n=H().getItem(t),"undefined"!=typeof Promise&&n instanceof Promise?n.then(function(e){return i(e)}):i(n)}return Object.defineProperty(e.prototype,"token",{get:function(){return this.http.authToken},set:function(e){this.http.authToken=e},enumerable:!1,configurable:!0}),e.prototype.onChange=function(e){var t=this,i=x(this,f,"f").on("change",e);return x(this,u,"f")||E(this,c,new Promise(function(e,i){t.getUserData().then(function(e){t.emitChange(v(v({},e),{token:t.token}))}).catch(function(e){t.emitChange({user:null,token:void 0})}).finally(function(){e()})}),"f"),E(this,u,!0,"f"),i},e.prototype.getUserData=function(){return y(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:if(!this.token)return[3,2];return[4,this.http.get("".concat(this.settings.path,"/userdata"))];case 1:return[2,e.sent().data];case 2:throw Error("missing auth.token")}})})},e.prototype.registerWithEmailAndPassword=function(e,t,i){return y(this,void 0,void 0,function(){var n;return b(this,function(r){switch(r.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/register"),{body:{email:e,password:t,options:i}})];case 1:return n=r.sent().data,this.emitChange(n),[2,n]}})})},e.prototype.signInWithEmailAndPassword=function(e,t){return y(this,void 0,void 0,function(){var i;return b(this,function(n){switch(n.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/login"),{body:{email:e,password:t}})];case 1:return i=n.sent().data,this.emitChange(i),[2,i]}})})},e.prototype.signInAnonymously=function(e){return y(this,void 0,void 0,function(){var t;return b(this,function(i){switch(i.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/anonymous"),{body:{options:e}})];case 1:return t=i.sent().data,this.emitChange(t),[2,t]}})})},e.prototype.sendPasswordResetEmail=function(e){return y(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/forgot-password"),{body:{email:e}})];case 1:return[2,t.sent().data]}})})},e.prototype.signInWithProvider=function(e,t){return void 0===t&&(t={}),y(this,void 0,void 0,function(){var i=this;return b(this,function(n){return[2,new Promise(function(n,r){var s=t.width||480,a=t.height||768,o=i.token?"?token=".concat(i.token):"",l="Login with ".concat(e[0].toUpperCase()+e.substring(1)),h=i.http.client.getHttpEndpoint("".concat(t.prefix||"".concat(i.settings.path,"/provider"),"/").concat(e).concat(o)),u=screen.width/2-s/2,c=screen.height/2-a/2;E(i,d,window.open(h,l,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+s+", height="+a+", top="+c+", left="+u),"f");var f=function(e){(void 0!==e.data.user||void 0!==e.data.token)&&(clearInterval(p),x(i,d,"f").close(),E(i,d,void 0,"f"),window.removeEventListener("message",f),void 0!==e.data.error?r(e.data.error):(n(e.data),i.emitChange(e.data)))},p=setInterval(function(){(!x(i,d,"f")||x(i,d,"f").closed)&&(E(i,d,void 0,"f"),r("cancelled"),window.removeEventListener("message",f))},200);window.addEventListener("message",f)})]})})},e.prototype.signOut=function(){return y(this,void 0,void 0,function(){return b(this,function(e){return this.emitChange({user:null,token:null}),[2]})})},e.prototype.emitChange=function(e){if(void 0!==e.token){var t,i,n;(this.token=e.token,null===e.token)?(t=this.settings.key,H().removeItem(t)):(i=this.settings.key,n=e.token,H().setItem(i,n))}x(this,f,"f").emit("change",e)},e}();function q(e){var t,i=(null===(t=null==window?void 0:window.location)||void 0===t?void 0:t.hostname)||"localhost",n=e.hostname.split("."),r=e.hostname.includes("trycloudflare.com")||e.hostname.includes("discordsays.com")||!(n.length>2)?"":"/".concat(n[0]);return e.pathname.startsWith("/.proxy")?"".concat(e.protocol,"//").concat(i).concat(r).concat(e.pathname).concat(e.search):"".concat(e.protocol,"//").concat(i,"/.proxy/colyseus").concat(r).concat(e.pathname).concat(e.search)}u=new WeakMap,c=new WeakMap,d=new WeakMap,f=new WeakMap;var K=function(e){function t(i,n){var r=e.call(this,i)||this;return r.code=n,Object.setPrototypeOf(r,t.prototype),r}return g(t,e),t}(Error),$="undefined"!=typeof window&&void 0!==(null===(p=null==window?void 0:window.location)||void 0===p?void 0:p.hostname)?"".concat(window.location.protocol.replace("http","ws"),"//").concat(window.location.hostname).concat(window.location.port&&":".concat(window.location.port)):"ws://127.0.0.1:2567",Q=function(){function e(e,t){if(void 0===e&&(e=$),"string"==typeof e){var i,n,r=e.startsWith("/")?new URL(e,$):new URL(e),s="https:"===r.protocol||"wss:"===r.protocol,a=Number(r.port||(s?443:80));this.settings={hostname:r.hostname,pathname:r.pathname,port:a,secure:s}}else void 0===e.port&&(e.port=e.secure?443:80),void 0===e.pathname&&(e.pathname=""),this.settings=e;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new Y(this),this.auth=new X(this.http),this.urlBuilder=t,!this.urlBuilder&&"undefined"!=typeof window&&(null===(n=null===(i=null==window?void 0:window.location)||void 0===i?void 0:i.hostname)||void 0===n?void 0:n.includes("discordsays.com"))&&(this.urlBuilder=q,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}return e.prototype.joinOrCreate=function(e,t,i){return void 0===t&&(t={}),y(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",e,t,i)];case 1:return[2,n.sent()]}})})},e.prototype.create=function(e,t,i){return void 0===t&&(t={}),y(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("create",e,t,i)];case 1:return[2,n.sent()]}})})},e.prototype.join=function(e,t,i){return void 0===t&&(t={}),y(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("join",e,t,i)];case 1:return[2,n.sent()]}})})},e.prototype.joinById=function(e,t,i){return void 0===t&&(t={}),y(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,t,i)];case 1:return[2,n.sent()]}})})},e.prototype.reconnect=function(e,t){return y(this,void 0,void 0,function(){var i,n,r;return b(this,function(s){switch(s.label){case 0:if("string"==typeof e&&"string"==typeof t)throw Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");if(n=(i=e.split(":"))[0],r=i[1],!n||!r)throw Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");return[4,this.createMatchMakeRequest("reconnect",n,{reconnectionToken:r},t)];case 1:return[2,s.sent()]}})})},e.prototype.getAvailableRooms=function(e){return void 0===e&&(e=""),y(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,this.http.get("matchmake/".concat(e),{headers:{Accept:"application/json"}})];case 1:return[2,t.sent().data]}})})},e.prototype.consumeSeatReservation=function(e,t,i){return y(this,void 0,void 0,function(){var n,r,s,a=this;return b(this,function(o){return(n=this.createRoom(e.room.name,t)).roomId=e.room.roomId,n.sessionId=e.sessionId,r={sessionId:n.sessionId},e.reconnectionToken&&(r.reconnectionToken=e.reconnectionToken),s=i||n,n.connect(this.buildEndpoint(e.room,r),e.devMode&&function(){return y(a,void 0,void 0,function(){var i,r,a=this;return b(this,function(o){return console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(128260)," Re-establishing connection with room id '").concat(n.roomId,"'...")),i=0,setTimeout(r=function(){return y(a,void 0,void 0,function(){return b(this,function(a){switch(a.label){case 0:i++,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.consumeSeatReservation(e,t,s)];case 2:return a.sent(),console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(9989)," Successfully re-established connection with room '").concat(n.roomId,"'")),[3,4];case 3:return a.sent(),i<8?(console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(128260)," retrying... (").concat(i," out of ").concat(8,")")),setTimeout(r,2e3)):console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(10060)," Failed to reconnect. Is your server running? Please check server logs.")),[3,4];case 4:return[2]}})})},2e3),[2]})})},s),[2,new Promise(function(e,t){var i=function(e,i){return t(new w(e,i))};s.onError.once(i),s.onJoin.once(function(){s.onError.remove(i),e(s)})})]})})},e.prototype.createMatchMakeRequest=function(e,t,i,n,r){return void 0===i&&(i={}),y(this,void 0,void 0,function(){var s;return b(this,function(a){switch(a.label){case 0:return[4,this.http.post("matchmake/".concat(e,"/").concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)})];case 1:if((s=a.sent().data).error)throw new K(s.error,s.code);return"reconnect"===e&&(s.reconnectionToken=i.reconnectionToken),[4,this.consumeSeatReservation(s,n,r)];case 2:return[2,a.sent()]}})})},e.prototype.createRoom=function(e,t){return new k(e,t)},e.prototype.buildEndpoint=function(e,t){void 0===t&&(t={});var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push("".concat(n,"=").concat(t[n]));var r=this.settings.secure?"wss://":"ws://";e.publicAddress?r+="".concat(e.publicAddress):r+="".concat(this.settings.hostname).concat(this.getEndpointPort()).concat(this.settings.pathname);var s="".concat(r,"/").concat(e.processId,"/").concat(e.roomId,"?").concat(i.join("&"));return this.urlBuilder?this.urlBuilder(new URL(s)):s},e.prototype.getHttpEndpoint=function(e){void 0===e&&(e="");var t=e.startsWith("/")?e:"/".concat(e),i="".concat(this.settings.secure?"https":"http","://").concat(this.settings.hostname).concat(this.getEndpointPort()).concat(this.settings.pathname).concat(t);return this.urlBuilder?this.urlBuilder(new URL(i)):i},e.prototype.getEndpointPort=function(){return 80!==this.settings.port&&443!==this.settings.port?":".concat(this.settings.port):""},e}(),J=function(){function e(){}return e.prototype.setState=function(e){return this.state.decode(e)},e.prototype.getState=function(){return this.state},e.prototype.patch=function(e){return this.state.decode(e)},e.prototype.teardown=function(){var e,t;null===(t=null===(e=this.state)||void 0===e?void 0:e.$changes)||void 0===t||t.root.clearRefs()},e.prototype.handshake=function(e,t){this.state?new D.Reflection().decode(e,t):this.state=D.Reflection.decode(e,t)},e}(),Z=function(){function e(){}return e.prototype.setState=function(e){},e.prototype.getState=function(){return null},e.prototype.patch=function(e){},e.prototype.teardown=function(){},e.prototype.handshake=function(e){},e}();P.schema=J,P.none=Z,e.Auth=X,e.Client=Q,e.Room=k,e.SchemaSerializer=J,e.registerSerializer=function(e,t){P[e]=t},Object.defineProperty(e,"__esModule",{value:!0})}(i)},{}],encji:[function(e,t,i,n){t.exports.RoomsConst={ROOM_TYPE_SCENE:"scene",ROOM_TYPE_LOGIN:"login",ROOM_TYPE_GAME:"game",TILE_INDEX:"i",NEXT_SCENE:"n",MAPS_BUCKET:"/assets/maps",ROOM_LAST_LOCATION_KEY:"@lastLocation",RETURN_POINT_KEYS:{DIRECTION:"d",X:"x",Y:"y",DEFAULT:"de",PREVIOUS:"p"},ERRORS:{CREATING_ROOM_AWAIT:"CREATING-ROOM-AWAIT"}}},{}],"7Qdd3":[function(e,t,i,n){t.exports.GameConst={START_GAME:"s",ACTION_KEY:"act",CREATE_PLAYER:"cp",CREATE_PLAYER_RESULT:"cps",CHANGING_SCENE:"cgs",CHANGED_SCENE:"cs",RECONNECT:"r",ROOM_GAME:"room_game",ROOM_NAME_MAP:"Map",SCENE_PRELOADER:"ScenePreloader",PLAYER_STATS:"ps",ICON_STATS:"player-stats",CLIENT_JOINED:"cj",UI:"ui",CLOSE_UI_ACTION:"closeUi",TYPE_PLAYER:"pj",GAME_OVER:"go",REVIVED:"rv",BUTTON_OPTION:"btn-opt",UI_BOX:"box",UI_CLOSE:"-close",UI_OPEN:"-open",UP:"up",LEFT:"left",DOWN:"down",RIGHT:"right",STOP:"stop",POINTER:"mp",ARROW_DOWN:"ard",IMAGE_PLAYER:"player",ACTIONS:{LOGIN_UPDATE_ERROR:"luer"},STATUS:{ACTIVE:1,DISABLED:2,DEATH:3,AVOID_INTERPOLATION:4},STRUCTURE:{DEFAULT:"default",ASSETS:"assets",CSS:"css",DIST:"dist",THEME:"theme",LIB:"lib",SERVER:"server",CLIENT:"client",PLUGINS:"plugins",INDEX:"index.html",SCSS_FILE:"styles.scss",CSS_FILE:"styles.css",ADMIN:"admin",TEMPLATES:"templates",ADMIN_JS_FILE:"reldens-admin-client.js",ADMIN_SCSS_FILE:"reldens-admin-client.scss",ADMIN_CSS_FILE:"reldens-admin-client.css",INSTALLER_FOLDER:"install",INSTALL_LOCK:"install.lock"},ROUTE_PATHS:{DISCONNECT_USER:"/reldens-disconnect-user",TERMS_AND_CONDITIONS:"/terms-and-conditions",MAILER:"/reldens-mailer-enabled",FIREBASE:"/reldens-firebase"},SELECTORS:{BODY:"body",CANVAS:"CANVAS",INPUT:"input",FORMS_CONTAINER:".forms-container",REGISTER_FORM:"#register-form",GUEST_FORM:"#guest-form",LOGIN_FORM:"#login-form",FORGOT_PASSWORD_FORM:"#forgot-form",PLAYER_CREATE_FORM:".player-create-form",PLAYER_SELECTION:"#player-selection",PLAYER_SELECTION_FORM:"#player-selector-form",PLAYER_SELECT_ELEMENT:"#player-select-element",PLAYER_SELECTION_ADDITIONAL_INFO:".player-selection-additional-info",FULL_SCREEN_BUTTON:".full-screen-btn",RESPONSE_ERROR:".response-error",LOADING_CONTAINER:".loading-container",REGISTRATION:{PASSWORD:"#reg-password",RE_PASSWORD:"#reg-re-password",EMAIL:"#reg-email",USERNAME:"#reg-username"},GUEST:{USERNAME:"#guest-username"},LOGIN:{USERNAME:"#username",PASSWORD:"#password"},FORGOT_PASSWORD:{EMAIL:"#forgot-email",CONTAINER:".forgot-password-container"},TERMS:{BOX:"#terms-and-conditions",CONTAINER:".terms-and-conditions-container",LINK_CONTAINER:".terms-and-conditions-link-container",LINK:".terms-and-conditions-link",ACCEPT:"#accept-terms-and-conditions",ACCEPT_LABEL:".accept-terms-and-conditions-label",HEADING:".terms-heading",BODY:".terms-body",CLOSE:"#terms-and-conditions-close"},GAME_CONTAINER:".game-container",BUTTONS_CLOSE:".box-close"},CLASSES:{HIDDEN:"hidden",GAME_STARTED:"game-started",GAME_ERROR:"game-error",GAME_ENGINE_STARTED:"game-engine-started",FULL_SCREEN_ON:"full-screen-on"},MESSAGE:{DATA_VALUES:{NAMESPACE:"game"}},LABELS:{YES:"Yes",NO:"No"},ANIMATIONS_TYPE:{SPRITESHEET:"spritesheet"},FILES:{EXTENSIONS:{PNG:".png"}},GRAPHICS:{FRAME_WIDTH:32,FRAME_HEIGHT:32},SHOW_PLAYER_TIME:{NONE:-1,ONLY_OWN_PLAYER:0,ALL_PLAYERS:2}}},{}],"3lwy5":[function(e,t,i,n){let r=e("a4ab2983c9d35fd8");t.exports={EventsManager:r,EventsManagerSingleton:new r,ErrorManager:e("1695e46110f15942"),InteractionArea:e("8fd16851c34338c4"),SchemaValidator:e("adcc322a4503ef19"),Logger:e("a5fec30b90d89350"),sc:e("859c680ee2b5bef8")}},{a4ab2983c9d35fd8:"faFOz","1695e46110f15942":"ijj7O","8fd16851c34338c4":"hLS4d",adcc322a4503ef19:"5l910",a5fec30b90d89350:"lJWkj","859c680ee2b5bef8":"2vvao"}],faFOz:[function(e,t,i,n){let r=e("7cdb1283b540f52c").default,s=e("53a92d7fd4d1ab5e"),a=e("fb3dac7fa90fc435");t.exports=class extends r{constructor(){super(),this.eventsByRemoveKeys={},this.debug=!1}onWithKey(e,t,i,n){if(a.hasOwn(this.eventsByRemoveKeys,i)||n&&a.hasOwn(this.eventsByRemoveKeys,n)&&a.hasOwn(this.eventsByRemoveKeys[n],i))return s.debug('Event "'+e+'" exists with key "'+i+'" and masterKey "'+n+'".'),!1;this.on(e,t);let r=this.listeners(e),o=r.indexOf(t),l=r[o];return n?(a.hasOwn(this.eventsByRemoveKeys,n)||(this.eventsByRemoveKeys[n]={}),this.eventsByRemoveKeys[n][i]={eventName:e,callback:t}):this.eventsByRemoveKeys[i]={eventName:e,callback:t},l}offWithKey(e,t){if(t&&!a.hasOwn(this.eventsByRemoveKeys,t))return s.debug('Event not found by masterKey "'+t+'".'),!1;if(!t&&!a.hasOwn(this.eventsByRemoveKeys,e))return s.debug('Event not found by removeKey "'+e+'".'),!1;let i=t?this.eventsByRemoveKeys[t][e]:this.eventsByRemoveKeys[e],n=this.listeners(i.eventName).indexOf(i.callback);return(this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName],t)?(delete this.eventsByRemoveKeys[t][e],s.debug('Deleted event by removeKey "'+e+'" and masterKey "'+t+'".')):(delete this.eventsByRemoveKeys[e],s.debug('Deleted event by removeKey "'+e+'".')),!0}offByMasterKey(e){if(!a.hasOwn(this.eventsByRemoveKeys,e))return s.debug('Events not found by masterKey "'+e+'".'),!1;for(let t of(s.debug("Removing events by masterKey: "+e,Object.keys(this.eventsByRemoveKeys[e])),Object.keys(this.eventsByRemoveKeys[e]))){let i=this.eventsByRemoveKeys[e][t],n=this.listeners(i.eventName).indexOf(i.callback);this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName]}delete this.eventsByRemoveKeys[e]}on(e,t){!1!==this.debug&&this.logDebugEvent(e,"Listen"),super.on(e,t)}async emit(e,...t){!1!==this.debug&&this.logDebugEvent(e,"Fire"),await super.emit(e,...t)}logDebugEvent(e,t){(-1!==this.debug.indexOf("all")||-1!==this.debug.indexOf(e)||-1!==e.indexOf(this.debug))&&s.debug(t+" Event:",e)}}},{"7cdb1283b540f52c":"46bZC","53a92d7fd4d1ab5e":"lJWkj",fb3dac7fa90fc435:"2vvao"}],"46bZC":[function(e,t,i,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);let r=e("e8bdbc586c5c4645"),s="function"==typeof Symbol?Symbol.for("--[[await-event-emitter]]--"):"--[[await-event-emitter]]--";function a(e){if("string"!=typeof e&&"symbol"!=typeof e)throw TypeError("type is not type of string or symbol!")}function o(e){if("function"!=typeof e)throw TypeError("fn is not type of Function!")}function l(e){return{[s]:"always",fn:e}}function h(e){return{[s]:"once",fn:e}}i.default=class{constructor(){this._events={}}addListener(e,t){return this.on(e,t)}on(e,t){return a(e),o(t),this._events[e]=this._events[e]||[],this._events[e].push(l(t)),this}prependListener(e,t){return this.prepend(e,t)}prepend(e,t){return a(e),o(t),this._events[e]=this._events[e]||[],this._events[e].unshift(l(t)),this}prependOnceListener(e,t){return this.prependOnce(e,t)}prependOnce(e,t){return a(e),o(t),this._events[e]=this._events[e]||[],this._events[e].unshift(h(t)),this}listeners(e){return(this._events[e]||[]).map(e=>e.fn)}once(e,t){return a(e),o(t),this._events[e]=this._events[e]||[],this._events[e].push(h(t)),this}removeAllListeners(){this._events={}}off(e,t){return this.removeListener(e,t)}removeListener(e,t){a(e);let i=this.listeners(e);if("function"!=typeof t)return delete this._events[e];{let n=-1,r=!1;for(;(n=i.indexOf(t))>=0;)i.splice(n,1),this._events[e].splice(n,1),r=!0;return r}}emit(e,...t){var i,n,o,l;return i=this,n=void 0,o=void 0,l=function*(){a(e);let i=this.listeners(e),n=[];if(i&&i.length){for(let a=0;a<i.length;a++){let o=i[a],l=o.apply(this,t);r(l)&&(yield l),this._events[e]&&this._events[e][a]&&"once"===this._events[e][a][s]&&n.push(o)}return n.forEach(t=>this.removeListener(e,t)),!0}return!1},new(o||(o=Promise))(function(e,t){function r(e){try{a(l.next(e))}catch(e){t(e)}}function s(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){var i;t.done?e(t.value):((i=t.value)instanceof o?i:new o(function(e){e(i)})).then(r,s)}a((l=l.apply(i,n||[])).next())})}emitSync(e,...t){a(e);let i=this.listeners(e),n=[];if(i&&i.length){for(let r=0;r<i.length;r++){let a=i[r];a.apply(this,t),this._events[e]&&this._events[e][r]&&"once"===this._events[e][r][s]&&n.push(a)}return n.forEach(t=>this.removeListener(e,t)),!0}return!1}}},{e8bdbc586c5c4645:"kaCjt","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],kaCjt:[function(e,t,i,n){function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}t.exports=r,t.exports.default=r},{}],lJWkj:[function(e,t,i,n){t.exports=new class{logLevels={none:0,emergency:1,alert:2,critical:3,error:4,warning:5,notice:6,info:7,debug:8};constructor(){let e=this.context();this.enableTraceBack="",this.logLevelBack=3,this.forcedDisabled=!!e.RELDENS_FORCED_DISABLED_LOGS,this.addTimeStamp=(e.RELDENS_INCLUDE_LOGS_TIMESTAMP,!0)}context(){return"undefined"!=typeof window?window:{}}enableTraceAll(){return this.enableTraceBack=this.context().RELDENS_ENABLE_TRACE_FOR,this.context().RELDENS_ENABLE_TRACE_FOR="all",this}restoreTraceFor(){return this.context().RELDENS_ENABLE_TRACE_FOR=this.enableTraceBack,this}setLogLevel(e){return this.logLevelBack=this.context().RELDENS_LOG_LEVEL,this.context().RELDENS_LOG_LEVEL=e,this}restoreLogLevel(){return this.context().RELDENS_LOG_LEVEL=this.logLevelBack,this}setForcedDisabled(e){return this.forcedDisabled=e,this}setAddTimeStamp(e){return this.addTimeStamp=e,this}logLevel(){return this.context().RELDENS_LOG_LEVEL||0}enableTraceFor(){return(this.context().RELDENS_ENABLE_TRACE_FOR||"").split(",")}log(e,...t){if(console.log((this.addTimeStamp?new Date().toISOString().slice(0,19).replace("T"," ")+" - ":"")+e.toUpperCase()+" -",...t),-1!==this.enableTraceFor().indexOf("all")||-1!==this.enableTraceFor().indexOf(e)){if("function"!=typeof Error?.captureStackTrace)return console.log("Error.captureStackTrace is not available.",typeof Error?.captureStackTrace),this;let t={};Error.captureStackTrace(t,e),console.log(t.stack)}return this}debug(...e){return this.forcedDisabled||8>this.logLevel()?this:this.log("debug",...e)}info(...e){return this.forcedDisabled||7>this.logLevel()?this:this.log("info",...e)}notice(...e){return this.forcedDisabled||6>this.logLevel()?this:this.log("notice",...e)}warning(...e){return this.forcedDisabled||5>this.logLevel()?this:this.log("warning",...e)}error(...e){return this.forcedDisabled||4>this.logLevel()?this:this.log("error",...e)}critical(...e){return this.forcedDisabled||3>this.logLevel()?this:this.log("critical",...e)}alert(...e){return this.forcedDisabled||2>this.logLevel()?this:this.log("alert",...e)}emergency(...e){return this.forcedDisabled||1>this.logLevel()?this:this.log("emergency",...e)}}},{}],"2vvao":[function(e,t,i,n){t.exports=new class{hasOwn(e,t){if(this.isArray(t)&&0<t.length){for(let i of t)if(!(e&&({}).hasOwnProperty.call(e,i)))return!1;return!0}return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]}isTrue(e,t,i){return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]&&(i?!0===e[t]:e[t])}isObject(e){return e&&"object"==typeof e&&!this.isArray(e)}isArray(e){return Array.isArray(e)}inArray(e,t){return!!this.isArray(t)&&-1!==t.indexOf(e)}isFunction(e){return e&&"function"==typeof e}isObjectFunction(e,t){return this.isObject(e)&&t&&"function"==typeof e[t]}isString(e){return"string"==typeof e}isNumber(e){return"number"==typeof e}isInt(e){return!!this.isNumber(e)&&Number.isInteger(e)}isFloat(e){return!!this.isNumber(e)&&Number(e)===e&&0!=e%1}isBoolean(e){return"boolean"==typeof e}deepMergeProperties(e,t){if(!this.isObject(e)||!this.isObject(t))return!1;for(let i of Object.keys(t)){if(this.isObject(t[i])){if(!this.hasOwn(e,i)){e[i]=t[i];continue}this.deepMergeProperties(e[i],t[i]);continue}e[i]=t[i]}return e}length(e){return e?Object.keys(e).length:0}convertObjectsArrayToObjectByKeys(e,t){if(!this.isArray(e)||0===e.length)return{};let i={};for(let n of e)i[n[t]]=n;return i}sortObjectKeysBy(e,t){return Object.keys(e).sort((i,n)=>e[i][t]>e[n][t]?1:-1)}arraySort(e,t,i="asc"){if(!e||!t)return e;let n="act"===i?1:-1,r="act"===i?-1:1;return e.sort((e,i)=>e[t]>i[t]?n:r)}propsAssign(e,t,i){if(!this.isArray(i))return t;for(let n of i)t[n]=e[n];return t}toJson(e,t=!1){return this.parseJson(e)||t}parseJson(e){try{return JSON.parse(e)}catch(e){return!1}}deepJsonClone(e){return JSON.parse(JSON.stringify(e))}get(e,t,i){return this.hasOwn(e,t)?e[t]:i}getByPath(e,t,i){if(!this.isObject(e)||!this.isArray(t))return i;let n=t.shift();return 0===t.length?this.get(e,n,i):this.getByPath(e[n],t,i)}getByPriority(e,t){if(!this.isArray(t))return!1;for(let i of t)if(this.hasOwn(e,i))return e[i];return!1}fetchByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return!1;for(let n of e)if(n[t]===i)return n;return!1}fetchAllByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return[];let n=[];for(let r of e)r[t]===i&&n.push(r);return n}fetchByPropertyOnObject(e,t,i){if(!e)return!1;let n=Object.keys(e);if(0===n.length)return!1;for(let r of n){let n=e[r];if(n[t]===i)return n}return!1}fetchAllByPropertyOnObject(e,t,i){if(!e)return[];let n=Object.keys(e);if(0===n.length)return[];let r=[];for(let s of n){let n=e[s];n[t]===i&&r.push(n)}return r}serializeFormData(e){if(0===e.length)return{};let t={};for(let[i,n]of e)void 0!==t[i]?(Array.isArray(t[i])||(t[i]=[t[i]]),t[i].push(n)):t[i]=n;return t}removeFromArray(e,t){return e.filter(e=>-1===t.indexOf(e))}getCurrentDate(){return new Date().toISOString().slice(0,19).replace("T"," ")}getDateForFileName(){return new Date().toISOString().slice(0,19).replace("T","-").replace(/:/g,"-")}formatDate(e,t="Y-m-d H:i:s"){if(!(e instanceof Date))return e;let i={Y:e.getFullYear(),m:(e.getMonth()+1).toString().padStart(2,"0"),d:e.getDate().toString().padStart(2,"0"),H:e.getHours().toString().padStart(2,"0"),i:e.getMinutes().toString().padStart(2,"0"),s:e.getSeconds().toString().padStart(2,"0")};return t.replace(/Y|m|d|H|i|s/g,e=>i[e])}getTime(){return new Date().getTime()}roundToPrecision(e,t=4){return Number(Number(e).toFixed(t))}randomValueFromArray(e){return this.isArray(e)&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null}randomInteger(e,t){return Math.floor(Math.random()*(t-e+1))+e}randomChars(e){return 0>=e?"":this.randomString(e,!1)}randomCharsWithSymbols(e){return 0>=e?"":this.randomString(e,!0)}randomString(e,t=!1){let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t&&(n+="!@#$%&*()_-=+[]{}:;<>,./?");let r=n.length;for(let t=0;t<e;t++)i+=n.charAt(Math.floor(Math.random()*r));return i}cleanMessage(e,t){if(!e)return"";let i=e.toString().replace(/\\/g,"");return 0<t?i.substring(0,t):i}slugify(e){return(e||"").replace(/&/g," and ").replace(/[^a-zA-Z0-9]/g," ").trim().replace(/\s+/g,"-").toLowerCase()}isValidIsoCode(e){return/^[a-zA-Z]{2}$/.test(e)}}},{}],ijj7O:[function(e,t,i,n){t.exports=new class{constructor(){this.enableTrace=!1}error(e){throw this.enableTrace&&console.trace(),Error(e)}}},{}],hLS4d:[function(e,t,i,n){t.exports=class{constructor(){this.x=!1,this.y=!1,this.interactionArea=!1,this.interactionLimits={}}setupInteractionArea(e=!1,t=!1,i=!1){e&&(this.interactionArea=e),this.interactionArea&&(t&&(this.x=t),i&&(this.y=i),this.interactionLimits.left=this.x-this.interactionArea,this.interactionLimits.right=this.x+this.interactionArea,this.interactionLimits.up=this.y-this.interactionArea,this.interactionLimits.down=this.y+this.interactionArea)}isValidInteraction(e,t){return e>this.interactionLimits.left&&e<this.interactionLimits.right&&t>this.interactionLimits.up&&t<this.interactionLimits.down}getPosition(){return{x:this.x,y:this.y}}}},{}],"5l910":[function(e,t,i,n){let r=e("323fb244d0666aec"),s=e("67ee8372a6acd243");t.exports=class{constructor(e){this.schema=e}validate(e,t=!1){if(t||(t=this.schema),!r.isObject(t))return s.debug("No schema provided."),!1;for(let i of Object.keys(t)){let n=t[i];if(!this.isValidSchema(e[i],n,i)||n.nested&&!this.validate(e[i],n.nested))return!1}return!0}isValidSchema(e,t,i){if(!t||!t.type)return s.debug("No schema type provided.",t,e,i),!1;switch(t.type){case"string":if(!r.isString(e))return s.debug("Object is not a string.",i,e,t),!1;break;case"number":if(!r.isInt(e)&&!r.isFloat(e))return s.debug("Object is not a number.",i,e,t),!1;break;case"int":if(!r.isInt(e))return s.debug("Object is not an integer.",i,e,t),!1;break;case"float":if(!r.isFloat(e))return s.debug("Object is not a float.",i,e,t),!1;break;case"boolean":if(!r.isBoolean(e))return s.debug("Object is not a boolean.",i,e,t),!1;break;case"object":if(!r.isObject(e))return s.debug("Object is not an object.",i,e,t),!1;break;case"array":if(!r.isArray(e))return s.debug("Object is not an array.",i,e,t),!1;if(t.valuesType){for(let n of e)if(!this.isValidSchema(n,{type:t.valuesType},i))return s.debug("Invalid array value.",n,t),!1}break;default:return s.debug("Invalid schema type provided.",t.type),!1}return!0}}},{"323fb244d0666aec":"2vvao","67ee8372a6acd243":"lJWkj"}],"4aQPL":[function(e,t,i,n){let r=e("406accd1d723903a"),{Game:s,Input:a}=e("99076ac36cb74ece"),{FPSCounter:o}=e("4ae19ba325f82162"),{GameConst:l}=e("70f28ffbc8fc65ca"),{ObjectsConst:h}=e("5d4105d801ec7f71"),{Logger:u,sc:c}=e("7d2d4851ffb4e4ae");t.exports.GameEngine=class extends s{constructor(e){super(e.config),u.debug("Game Engine configuration.",e.config),this.uiScene=!1,this.TemplateEngine=r,this.eventsManager=e.events,this.eventsManager.on("reldens.beforeReconnectGameClient",()=>{this.clearTarget()}),this.eventsManager.on("reldens.beforeSceneDynamicCreate",e=>{this.setupTabTarget(e)})}parseTemplate(e,t,i,n){return this.TemplateEngine.render(e,t,i,n)}updateGameSize(e){let{newWidth:t,newHeight:i}=this.getCurrentScreenSize(e);setTimeout(()=>{for(let e of(this.eventsManager.emit("reldens.updateGameSizeBefore",this,t,i),this.scale.setGameSize(t,i),Object.keys(this.uiScene.elementsUi))){let n=this.uiScene.elementsUi[e],r=c.get(this.uiScene.userInterfaces[e],"uiPositionKey",e),{uiX:s,uiY:a}=this.uiScene.getUiConfig(r,t,i);n.x=s,n.y=a}this.eventsManager.emit("reldens.updateGameSizeAfter",this,t,i)},e.config.getWithoutLogs("client/general/gameEngine/updateGameSizeTimeOut",500))}getCurrentScreenSize(e){let t=e.gameDom.getElement(l.SELECTORS.GAME_CONTAINER),i=t.offsetWidth,n=t.offsetHeight,r=i,s=n,a=e.getActiveScene();return a&&a.map&&(r=Math.min(i,a.map.width*a.map.tileWidth),s=Math.min(n,a.map.height*a.map.tileHeight)),{newWidth:r=Math.min(r,Number(e.config.get("client/ui/maximum/x"))),newHeight:s=Math.min(s,Number(e.config.get("client/ui/maximum/y")))}}showTarget(e,t,i){c.hasOwn(this.uiScene,"uiTarget")&&(this.uiScene.uiTarget.getChildByID("box-target").style.display="block",this.uiScene.uiTarget.getChildByID("target-container").innerHTML=this.targetDisplay(e,t)),this.eventsManager.emit("reldens.gameEngineShowTarget",this,t,i,e)}targetDisplay(e,t){let i=e;return l.TYPE_PLAYER===t.type&&(i+=this.generateTargetPlayedTime(t)),i}generateTargetPlayedTime(e){let t="",i=this.uiScene.gameManager.config.getWithoutLogs("client/players/playedTime/show",l.SHOW_PLAYER_TIME.ONLY_OWN_PLAYER);if(l.SHOW_PLAYER_TIME.NONE===i)return t;let n=this.uiScene.gameManager.getCurrentPlayer();if(l.SHOW_PLAYER_TIME.ALL_PLAYERS===i||n.playerId===e.id){let i=this.obtainPlayedTime(e,n);t+=this.createPlayedTimeLabel(i)}return t}createPlayedTimeLabel(e){let t=this.uiScene.gameManager.gameDom.createElement("p");return t.innerHTML=this.uiScene.gameManager.config.get("client/players/playedTime/label").replace("%playedTimeInHs",e),t.outerHTML}obtainPlayedTime(e,t){return(t.players[e.id].playedTime/60/60).toFixed(1)}clearTarget(){let e=this.uiScene.gameManager.activeRoomEvents.getActiveScene(),t=Object.assign({},e.player.currentTarget);c.hasOwn(this.uiScene,"uiTarget")&&(e.player.currentTarget=!1,this.uiScene.uiTarget.getChildByID("box-target").style.display="none",this.uiScene.uiTarget.getChildByID("target-container").innerHTML=""),this.eventsManager.emit("reldens.gameEngineClearTarget",this,t)}setupTabTarget(e){e.keyTab=e.input.keyboard.addKey(a.Keyboard.KeyCodes.TAB),e.input.keyboard.addCapture(a.Keyboard.KeyCodes.TAB),e.input.keyboard.on("keydown",e=>{9===e.keyCode&&this.tabTarget()})}tabTarget(){let e=this.uiScene.gameManager.getCurrentPlayer(),t=this.uiScene.gameManager.getActiveScene().objectsAnimations,i=e.players,n=!1,r="",s=!!e.currentTarget&&Object.assign({},e.currentTarget);for(let i of Object.keys(t)){if(!t[i].targetName)continue;let s=Math.hypot(t[i].x-e.state.x,t[i].y-e.state.y);e.currentTarget.id!==t[i].key&&(!n||n.dist>s)&&(n={id:t[i].key,type:h.TYPE_OBJECT,dist:s},r=t[i].targetName)}for(let t of Object.keys(i)){if(e.playerName===i[t].playerName)continue;let s=Math.hypot(i[t].x-e.state.x,i[t].y-e.state.y);e.currentTarget.id!==i[t].id&&(!n||n.dist>s)&&(n={id:t,type:l.TYPE_PLAYER,dist:s},r=i[t].playerName)}e.currentTarget=n,this.showTarget(r,n,s),this.eventsManager.emit("reldens.gameEngineTabTarget",this,n,s)}showFPS(){this.fpsCounter=new o(this.uiScene.gameManager.gameDom),this.fpsCounter.start()}}},{"406accd1d723903a":"kOY07","99076ac36cb74ece":"8S6DV","4ae19ba325f82162":"jXmP1","70f28ffbc8fc65ca":"7Qdd3","5d4105d801ec7f71":"8k4Rg","7d2d4851ffb4e4ae":"3lwy5"}],kOY07:[function(e,t,i,n){var r;r=function(){/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(e){return"function"==typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"==typeof e&&t in e}var s=RegExp.prototype.test,a=/\S/,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,h=/\s+/,u=/\s*=/,c=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function p(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function m(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},f.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case -1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var t=this.cache;if(t.hasOwnProperty(e))a=t[e];else{for(var n,s,a,o,l,h,u=this,c=!1;u;){if(e.indexOf(".")>0)for(o=u.view,l=e.split("."),h=0;null!=o&&h<l.length;)h===l.length-1&&(c=r(o,l[h])||(n=o,s=l[h],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(s))),o=o[l[h++]];else o=u.view[e],c=r(u.view,e);if(c){a=o;break}u=u.parent}t[e]=a}return i(a)&&(a=a.call(this.view)),a},m.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},m.prototype.parse=function(e,i){var r=this.templateCache,o=e+":"+(i||g.tags).join(":"),p=void 0!==r,m=p?r.get(o):void 0;return void 0==m&&(m=function(e,i){if(!e)return[];var r,o,p,m,v,y,b,x,E,w=!1,S=[],T=[],A=[],_=!1,C=!1,I="",P=0;function R(){if(_&&!C)for(;A.length;)delete T[A.pop()];else A=[];_=!1,C=!1}function O(e){if("string"==typeof e&&(e=e.split(h,2)),!t(e)||2!==e.length)throw Error("Invalid tags: "+e);r=RegExp(n(e[0])+"\\s*"),o=RegExp("\\s*"+n(e[1])),p=RegExp("\\s*"+n("}"+e[1]))}O(i||g.tags);for(var M=new f(e);!M.eos();){if(m=M.pos,y=M.scanUntil(r))for(var L,D=0,k=y.length;D<k;++D){(L=b=y.charAt(D),s.call(a,L))?(C=!0,w=!0,I+=" "):(A.push(T.length),I+=b),T.push(["text",b,m,m+1]),m+=1,"\n"===b&&(R(),I="",P=0,w=!1)}if(!M.scan(r))break;if(_=!0,v=M.scan(d)||"name",M.scan(l),"="===v?(y=M.scanUntil(u),M.scan(u),M.scanUntil(o)):"{"===v?(y=M.scanUntil(p),M.scan(c),M.scanUntil(o),v="&"):y=M.scanUntil(o),!M.scan(o))throw Error("Unclosed tag at "+M.pos);if(x=">"==v?[v,y,m,M.pos,I,P,w]:[v,y,m,M.pos],P++,T.push(x),"#"===v||"^"===v)S.push(x);else if("/"===v){if(!(E=S.pop()))throw Error('Unopened section "'+y+'" at '+m);if(E[1]!==y)throw Error('Unclosed section "'+E[1]+'" at '+m)}else"name"===v||"{"===v||"&"===v?C=!0:"="===v&&O(y)}if(R(),E=S.pop())throw Error('Unclosed section "'+E[1]+'" at '+M.pos);return function(e){for(var t,i=[],n=i,r=[],s=0,a=e.length;s<a;++s)switch((t=e[s])[0]){case"#":case"^":n.push(t),r.push(t),n=t[4]=[];break;case"/":r.pop()[5]=t[2],n=r.length>0?r[r.length-1][4]:i;break;default:n.push(t)}return i}(function(e){for(var t,i,n=[],r=0,s=e.length;r<s;++r)(t=e[r])&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(n.push(t),i=t));return n}(T))}(e,i),p&&r.set(o,m)),m},m.prototype.render=function(e,t,i,n){var r=this.getConfigTags(n),s=this.parse(e,r),a=t instanceof p?t:new p(t,void 0);return this.renderTokens(s,a,i,e,n)},m.prototype.renderTokens=function(e,t,i,n,r){for(var s,a,o,l="",h=0,u=e.length;h<u;++h)o=void 0,"#"===(a=(s=e[h])[0])?o=this.renderSection(s,t,i,n,r):"^"===a?o=this.renderInverted(s,t,i,n,r):">"===a?o=this.renderPartial(s,t,i,r):"&"===a?o=this.unescapedValue(s,t):"name"===a?o=this.escapedValue(s,t,r):"text"===a&&(o=this.rawValue(s)),void 0!==o&&(l+=o);return l},m.prototype.renderSection=function(e,n,r,s,a){var o=this,l="",h=n.lookup(e[1]);if(h){if(t(h))for(var u=0,c=h.length;u<c;++u)l+=this.renderTokens(e[4],n.push(h[u]),r,s,a);else if("object"==typeof h||"string"==typeof h||"number"==typeof h)l+=this.renderTokens(e[4],n.push(h),r,s,a);else if(i(h)){if("string"!=typeof s)throw Error("Cannot use higher-order sections without the original template");null!=(h=h.call(n.view,s.slice(e[3],e[5]),function(e){return o.render(e,n,r,a)}))&&(l+=h)}else l+=this.renderTokens(e[4],n,r,s,a);return l}},m.prototype.renderInverted=function(e,i,n,r,s){var a=i.lookup(e[1]);if(!a||t(a)&&0===a.length)return this.renderTokens(e[4],i,n,r,s)},m.prototype.indentPartial=function(e,t,i){for(var n=t.replace(/[^ \t]/g,""),r=e.split("\n"),s=0;s<r.length;s++)r[s].length&&(s>0||!i)&&(r[s]=n+r[s]);return r.join("\n")},m.prototype.renderPartial=function(e,t,n,r){if(n){var s=this.getConfigTags(r),a=i(n)?n(e[1]):n[e[1]];if(null!=a){var o=e[6],l=e[5],h=e[4],u=a;0==l&&h&&(u=this.indentPartial(a,h,o));var c=this.parse(u,s);return this.renderTokens(c,t,n,u,r)}}},m.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i},m.prototype.escapedValue=function(e,t,i){var n=this.getConfigEscape(i)||g.escape,r=t.lookup(e[1]);if(null!=r)return"number"==typeof r&&n===g.escape?String(r):n(r)},m.prototype.rawValue=function(e){return e[1]},m.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},m.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var g={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(cache){v.templateCache=cache},get templateCache(){return v.templateCache}},v=new m;return g.clearCache=function(){return v.clearCache()},g.parse=function(e,t){return v.parse(e,t)},g.render=function(e,i,n,r){if("string"!=typeof e)throw TypeError('Invalid template! Template should be a "string" but "'+(t(e)?"array":typeof e)+'" was given as the first argument for mustache#render(template, view, partials)');return v.render(e,i,n,r)},g.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return o[e]})},g.Scanner=f,g.Context=p,g.Writer=m,g},t.exports=r()},{}],"8S6DV":[function(e,t,i,n){var r,s=e("57a99fe9b8471a10");r=()=>(()=>{var e={50792:e=>{var t=Object.prototype.hasOwnProperty,i="~";function n(){}function r(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new r(n,s||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1)),o.prototype.eventNames=function(){var e,n,r=[];if(0===this._eventsCount)return r;for(n in e=this._events)t.call(e,n)&&r.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,a=Array(s);r<s;r++)a[r]=n[r].fn;return a},o.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,r,s,a){var o=i?i+e:e;if(!this._events[o])return!1;var l,h,u=this._events[o],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,s),!0;case 6:return u.fn.call(u.context,t,n,r,s,a),!0}for(h=1,l=Array(c-1);h<c;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var d,f=u.length;for(h=0;h<f;h++)switch(u[h].once&&this.removeListener(e,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,t);break;case 3:u[h].fn.call(u[h].context,t,n);break;case 4:u[h].fn.call(u[h].context,t,n,r);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];u[h].fn.apply(u[h].context,l)}}return!0},o.prototype.on=function(e,t,i){return s(this,e,t,i,!1)},o.prototype.once=function(e,t,i){return s(this,e,t,i,!0)},o.prototype.removeListener=function(e,t,n,r){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||a(this,s);else{for(var l=0,h=[],u=o.length;l<u;l++)(o[l].fn!==t||r&&!o[l].once||n&&o[l].context!==n)&&h.push(o[l]);h.length?this._events[s]=1===h.length?h[0]:h:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,e.exports=o},11517:(e,t,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(38829);e.exports=function(e,t,i,r){for(var s=e[0],a=1;a<e.length;a++){var o=e[a];n(o,s,t,i,r),s=o}return e}},80318:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"angle",t,i,r,s)}},60757:e=>{e.exports=function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n];t.call(i,r)}return e}},69927:e=>{e.exports=function(e,t,i){void 0===i&&(i=0);for(var n=i;n<e.length;n++){var r=e[n],s=!0;for(var a in t)r[a]!==t[a]&&(s=!1);if(s)return r}return null}},32265:e=>{e.exports=function(e,t,i){void 0===i&&(i=0);for(var n=e.length-1;n>=i;n--){var r=e[n],s=!0;for(var a in t)r[a]!==t[a]&&(s=!1);if(s)return r}return null}},94420:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(11879),r=i(60461),s=i(95540),a=i(29747),o=new(i(41481))({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0);e.exports=function(e,t){void 0===t&&(t={});var i=t.hasOwnProperty("width"),a=t.hasOwnProperty("height"),l=s(t,"width",-1),h=s(t,"height",-1),u=s(t,"cellWidth",1),c=s(t,"cellHeight",u),d=s(t,"position",r.TOP_LEFT),f=s(t,"x",0),p=s(t,"y",0),m=0,g=0,v=l*u,y=h*c;o.setPosition(f,p),o.setSize(u,c);for(var b=0;b<e.length;b++)if(n(e[b],o,d),i&&-1===l)o.x+=u;else if(a&&-1===h)o.y+=c;else if(a&&!i){if(g+=c,o.y+=c,g===y&&(g=0,m+=u,o.y=p,o.x+=u,m===v))break}else if(m+=u,o.x+=u,m===v&&(m=0,g+=c,o.x=f,o.y+=c,g===y))break;return e}},41721:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"alpha",t,i,r,s)}},67285:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"x",t,i,r,s)}},9074:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"x",t,r,a,o),n(e,"y",i,s,a,o)}},75222:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"y",t,i,r,s)}},22983:e=>{e.exports=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=6.28);for(var r=i,s=(n-i)/e.length,a=t.x,o=t.y,l=t.radius,h=0;h<e.length;h++)e[h].x=a+l*Math.cos(r),e[h].y=o+l*Math.sin(r),r+=s;return e}},95253:e=>{e.exports=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=6.28);for(var r=i,s=(n-i)/e.length,a=t.width/2,o=t.height/2,l=0;l<e.length;l++)e[l].x=t.x+a*Math.cos(r),e[l].y=t.y+o*Math.sin(r),r+=s;return e}},88505:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15258),r=i(26708);e.exports=function(e,t,i){var s;s=i?r(t,i,e.length):n(t,e.length);for(var a=0;a<e.length;a++){var o=e[a],l=s[a];o.x=l.x,o.y=l.y}return e}},41346:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(14649),r=i(86003),s=i(49498);e.exports=function(e,t,i){void 0===i&&(i=0);var a=n(t,!1,e.length);i>0?r(a,i):i<0&&s(a,Math.abs(i));for(var o=0;o<e.length;o++)e[o].x=a[o].x,e[o].y=a[o].y;return e}},11575:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(84993);e.exports=function(e,t,i){var r=n({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},i),s=n({x1:t.x2,y1:t.y2,x2:t.x3,y2:t.y3},i),a=n({x1:t.x3,y1:t.y3,x2:t.x1,y2:t.y1},i);r.pop(),s.pop(),a.pop();for(var o=(r=r.concat(s,a)).length/e.length,l=0,h=0;h<e.length;h++){var u=e[h],c=r[Math.floor(l)];u.x=c.x,u.y=c.y,l+=o}return e}},29953:e=>{e.exports=function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n];r.anims&&r.anims.play(t,i)}return e}},66979:e=>{e.exports=function(e,t,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=1);var a,o=0,l=e.length;if(1===s)for(a=r;a<l;a++)e[a][t]+=i+o*n,o++;else for(a=r;a>=0;a--)e[a][t]+=i+o*n,o++;return e}},43967:e=>{e.exports=function(e,t,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=1);var a,o=0,l=e.length;if(1===s)for(a=r;a<l;a++)e[a][t]=i+o*n,o++;else for(a=r;a>=0;a--)e[a][t]=i+o*n,o++;return e}},88926:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28176);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},33286:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(24820);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},96e3:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65822);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},28789:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26597);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},97154:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(90260);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},20510:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"rotation",t,i,r,s)}},91051:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(1163),r=i(20339);e.exports=function(e,t,i){for(var s=t.x,a=t.y,o=0;o<e.length;o++){var l=e[o];n(l,s,a,i,Math.max(1,r(l.x,l.y,s,a)))}return e}},76332:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(1163);e.exports=function(e,t,i,r){var s=t.x,a=t.y;if(0===r)return e;for(var o=0;o<e.length;o++)n(e[o],s,a,i,r);return e}},61619:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"scaleX",t,i,r,s)}},94868:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"scaleX",t,r,a,o),n(e,"scaleY",i,s,a,o)}},95532:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"scaleY",t,i,r,s)}},8689:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"alpha",t,i,r,s)}},2645:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r){return n(e,"blendMode",t,0,i,r)}},32372:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"depth",t,i,r,s)}},85373:e=>{e.exports=function(e,t,i){for(var n=0;n<e.length;n++)e[n].setInteractive(t,i);return e}},81583:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"originX",t,r,a,o),n(e,"originY",i,s,a,o),e.forEach(function(e){e.updateDisplayOrigin()}),e}},79939:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"rotation",t,i,r,s)}},2699:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"scaleX",t,r,a,o),n(e,"scaleY",i,s,a,o)}},98739:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"scaleX",t,i,r,s)}},98476:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"scaleY",t,i,r,s)}},6207:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"scrollFactorX",t,r,a,o),n(e,"scrollFactorY",i,s,a,o)}},6607:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"scrollFactorX",t,i,r,s)}},72248:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"scrollFactorY",t,i,r,s)}},14036:e=>{e.exports=function(e,t,i,n,r){for(var s=0;s<e.length;s++)e[s].setTint(t,i,n,r);return e}},50159:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r){return n(e,"visible",t,0,i,r)}},77597:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"x",t,i,r,s)}},83194:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"x",t,r,a,o),n(e,"y",i,s,a,o)}},67678:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"y",t,i,r,s)}},35850:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s){void 0===r&&(r=0),void 0===s&&(s=new n);var a,o,l=e.length;if(1===l)a=e[0].x,o=e[0].y,e[0].x=t,e[0].y=i;else{var h=1,u=0;0===r&&(u=l-1,h=l-2),a=e[u].x,o=e[u].y,e[u].x=t,e[u].y=i;for(var c=0;c<l;c++)if(!(h>=l)&&-1!==h){var d=e[h],f=d.x,p=d.y;d.x=a,d.y=o,a=f,o=p,0===r?h--:h++}}return s.x=a,s.y=o,s}},8628:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33680);e.exports=function(e){return n(e)}},21837:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7602);e.exports=function(e,t,i,r,s){void 0===s&&(s=!1);var a,o=Math.abs(r-i)/e.length;if(s)for(a=0;a<e.length;a++)e[a][t]+=n(a*o,i,r);else for(a=0;a<e.length;a++)e[a][t]=n(a*o,i,r);return e}},21910:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54261);e.exports=function(e,t,i,r,s){void 0===s&&(s=!1);var a,o=Math.abs(r-i)/e.length;if(s)for(a=0;a<e.length;a++)e[a][t]+=n(a*o,i,r);else for(a=0;a<e.length;a++)e[a][t]=n(a*o,i,r);return e}},62054:e=>{e.exports=function(e,t,i,n,r){if(void 0===r&&(r=!1),0===e.length)return e;if(1===e.length)return r?e[0][t]+=(n+i)/2:e[0][t]=(n+i)/2,e;var s,a=Math.abs(n-i)/(e.length-1);if(r)for(s=0;s<e.length;s++)e[s][t]+=s*a+i;else for(s=0;s<e.length;s++)e[s][t]=s*a+i;return e}},79815:e=>{e.exports=function(e){for(var t=0;t<e.length;t++)e[t].visible=!e[t].visible;return e}},39665:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15994);e.exports=function(e,t,i){void 0===i&&(i=0);for(var r=0;r<e.length;r++){var s=e[r];s.x=n(s.x,t.left-i,t.right+i),s.y=n(s.y,t.top-i,t.bottom+i)}return e}},61061:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(74943),a=i(81957),o=i(41138),l=i(35154),h=i(90126),u=new r({initialize:function(e,t,i){this.manager=e,this.key=t,this.type="frame",this.frames=this.getFrames(e.textureManager,l(i,"frames",[]),l(i,"defaultTextureKey",null),l(i,"sortFrames",!0)),this.frameRate=l(i,"frameRate",null),this.duration=l(i,"duration",null),this.msPerFrame,this.skipMissedFrames=l(i,"skipMissedFrames",!0),this.delay=l(i,"delay",0),this.repeat=l(i,"repeat",0),this.repeatDelay=l(i,"repeatDelay",0),this.yoyo=l(i,"yoyo",!1),this.showBeforeDelay=l(i,"showBeforeDelay",!1),this.showOnStart=l(i,"showOnStart",!1),this.hideOnComplete=l(i,"hideOnComplete",!1),this.randomFrame=l(i,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(e,t,i,n){null===i&&null===n?(e.frameRate=24,e.duration=24/t*1e3):i&&null===n?(e.duration=i,e.frameRate=t/(i/1e3)):(e.frameRate=n,e.duration=t/n*1e3),e.msPerFrame=1e3/e.frameRate},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,t){var i=this.getFrames(this.manager.textureManager,t);if(i.length>0){if(0===e)this.frames=i.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(i);else{var n=this.frames.slice(0,e),r=this.frames.slice(e);this.frames=n.concat(i,r)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},getFirstTick:function(e){e.accumulator=0,e.nextTick=e.currentFrame.duration?e.currentFrame.duration:e.msPerFrame},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,t,i,n){void 0===n&&(n=!0);var r,s,a,u,c=[],d=1;if("string"==typeof t){if(u=t,!e.exists(u))return console.warn('Texture "%s" not found',u),c;var f=e.get(u).getFrameNames();n&&h(f),t=[],f.forEach(function(e){t.push({key:u,frame:e})})}if(!Array.isArray(t)||0===t.length)return c;for(a=0;a<t.length;a++){var p=t[a],m=l(p,"key",i);if(m){var g=l(p,"frame",0),v=e.getFrame(m,g);if(!v){console.warn('Texture "%s" not found',m);continue}(s=new o(m,g,d,v)).duration=l(p,"duration",0),s.isFirst=!r,r&&(r.nextFrame=s,s.prevFrame=r),c.push(s),r=s,d++}}if(c.length>0){s.isLast=!0,s.nextFrame=c[0],c[0].prevFrame=s;var y=1/(c.length-1);for(a=0;a<c.length;a++)c[a].progress=a*y}return c},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.currentFrame.duration?e.currentFrame.duration:e.msPerFrame},getFrameByProgress:function(e){return a(e=n(e,0,1),this.frames,"progress")},nextFrame:function(e){var t=e.currentFrame;t.isLast?e.yoyo?this.handleYoyoFrame(e,!1):e.repeatCounter>0?e.inReverse&&e.forward?e.forward=!1:this.repeatAnimation(e):e.complete():this.updateAndGetNextTick(e,t.nextFrame)},handleYoyoFrame:function(e,t){if(t||(t=!1),!t===e.inReverse&&e.repeatCounter>0){(0===e.repeatDelay||e.pendingRepeat)&&(e.forward=t),this.repeatAnimation(e);return}if(e.inReverse!==t&&0===e.repeatCounter){e.complete();return}e.forward=t;var i=t?e.currentFrame.nextFrame:e.currentFrame.prevFrame;this.updateAndGetNextTick(e,i)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(e){var t=e.currentFrame;t.isFirst?e.yoyo?this.handleYoyoFrame(e,!0):e.repeatCounter>0?(e.inReverse&&!e.forward||(e.forward=!0),this.repeatAnimation(e)):e.complete():this.updateAndGetNextTick(e,t.prevFrame)},updateAndGetNextTick:function(e,t){e.setCurrentFrame(t),this.getNextTick(e)},removeFrame:function(e){var t=this.frames.indexOf(e);return -1!==t&&this.removeFrameAt(t),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(2===e._pendingStop){if(0===e._pendingStopValue)return e.stop();e._pendingStopValue--}e.repeatDelay>0&&!e.pendingRepeat?(e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e.repeatDelay):(e.repeatCounter--,e.forward?e.setCurrentFrame(e.currentFrame.nextFrame):e.setCurrentFrame(e.currentFrame.prevFrame),e.isPlaying&&(this.getNextTick(e),e.handleRepeat()))},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(t){e.frames.push(t.toJSON())}),e},updateFrameSequence:function(){for(var e,t=this.frames.length,i=1/(t-1),n=0;n<t;n++)(e=this.frames[n]).index=n+1,e.isFirst=!1,e.isLast=!1,e.progress=n*i,0===n?(e.isFirst=!0,1===t?(e.isLast=!0,e.nextFrame=e,e.prevFrame=e):(e.isLast=!1,e.prevFrame=this.frames[t-1],e.nextFrame=this.frames[n+1])):n===t-1&&t>1?(e.isLast=!0,e.prevFrame=this.frames[t-2],e.nextFrame=this.frames[0]):t>1&&(e.prevFrame=this.frames[n-1],e.nextFrame=this.frames[n+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}});e.exports=u},41138:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n,r){void 0===r&&(r=!1),this.textureKey=e,this.textureFrame=t,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=r},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});e.exports=n},60848:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42099),r=i(83419),s=i(90330),a=i(50792),o=i(74943),l=i(8443),h=i(95540),u=i(35154),c=i(36383),d=i(20283),f=i(41836),p=new r({Extends:a,initialize:function(e){a.call(this),this.game=e,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",e.events.once(l.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(l.DESTROY,this.destroy,this)},addMix:function(e,t,i){var n=this.anims,r=this.mixes,s="string"==typeof e?e:e.key,a="string"==typeof t?t:t.key;if(n.has(s)&&n.has(a)){var o=r.get(s);o||(o={}),o[a]=i,r.set(s,o)}return this},removeMix:function(e,t){var i=this.mixes,n="string"==typeof e?e:e.key,r=i.get(n);if(r){if(t){var s="string"==typeof t?t:t.key;r.hasOwnProperty(s)&&delete r[s]}else t||i.delete(n)}return this},getMix:function(e,t){var i=this.mixes,n="string"==typeof e?e:e.key,r="string"==typeof t?t:t.key,s=i.get(n);return s&&s.hasOwnProperty(r)?s[r]:0},add:function(e,t){return this.anims.has(e)?console.warn("Animation key exists: "+e):(t.key=e,this.anims.set(e,t),this.emit(o.ADD_ANIMATION,e,t)),this},exists:function(e){return this.anims.has(e)},createFromAseprite:function(e,t,i){var n=[],r=this.game.cache.json.get(e);if(!r)return console.warn("No Aseprite data found for: "+e),n;var s=this,a=u(r,"meta",null),o=u(r,"frames",null);return a&&o&&u(a,"frameTags",[]).forEach(function(r){var a=[],l=h(r,"name",null),u=h(r,"from",0),d=h(r,"to",0),f=h(r,"direction","forward");if(l&&(!t||t&&t.indexOf(l)>-1)){for(var p,m=0,g=u;g<=d;g++){var v=g.toString(),y=o[v];if(y){var b=h(y,"duration",c.MAX_SAFE_INTEGER);a.push({key:e,frame:v,duration:b}),m+=b}}"reverse"===f&&(a=a.reverse());var x={key:l,frames:a,duration:m,yoyo:"pingpong"===f};i?i.anims&&(p=i.anims.create(x)):p=s.create(x),p&&n.push(p)}}),n},create:function(e){var t=e.key,i=!1;return t&&((i=this.get(t))?console.warn("AnimationManager key already exists: "+t):(i=new n(this,t,e),this.anims.set(t,i),this.emit(o.ADD_ANIMATION,t,i))),i},fromJSON:function(e,t){void 0===t&&(t=!1),t&&this.anims.clear(),"string"==typeof e&&(e=JSON.parse(e));var i=[];if(e.hasOwnProperty("anims")&&Array.isArray(e.anims)){for(var n=0;n<e.anims.length;n++)i.push(this.create(e.anims[n]));e.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=e.globalTimeScale)}else e.hasOwnProperty("key")&&"frame"===e.type&&i.push(this.create(e));return i},generateFrameNames:function(e,t){var i,n=u(t,"prefix",""),r=u(t,"start",0),s=u(t,"end",0),a=u(t,"suffix",""),o=u(t,"zeroPad",0),l=u(t,"outputArray",[]),h=u(t,"frames",!1);if(!this.textureManager.exists(e))return console.warn('Texture "%s" not found',e),l;var c=this.textureManager.get(e);if(!c)return l;if(t)for(h||(h=d(r,s)),i=0;i<h.length;i++){var p=n+f(h[i],o,"0",1)+a;c.has(p)?l.push({key:e,frame:p}):console.warn('Frame "%s" not found in texture "%s"',p,e)}else for(i=0,h=c.getFrameNames();i<h.length;i++)l.push({key:e,frame:h[i]});return l},generateFrameNumbers:function(e,t){var i=u(t,"start",0),n=u(t,"end",-1),r=u(t,"first",!1),s=u(t,"outputArray",[]),a=u(t,"frames",!1);if(!this.textureManager.exists(e))return console.warn('Texture "%s" not found',e),s;var o=this.textureManager.get(e);if(!o)return s;r&&o.has(r)&&s.push({key:e,frame:r}),a||(-1===n&&(n=o.frameTotal-2),a=d(i,n));for(var l=0;l<a.length;l++){var h=a[l];o.has(h)?s.push({key:e,frame:h}):console.warn('Frame "%s" not found in texture "%s"',h,e)}return s},get:function(e){return this.anims.get(e)},getAnimsFromTexture:function(e){for(var t=this.textureManager.get(e).key,i=this.anims.getArray(),n=[],r=0;r<i.length;r++)for(var s=i[r],a=s.frames,o=0;o<a.length;o++)if(a[o].textureKey===t){n.push(s.key);break}return n},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(e,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)t[i].anims.play(e);return this},staggerPlay:function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=!0),Array.isArray(t)||(t=[t]);var r=t.length;!n&&r--;for(var s=0;s<t.length;s++){var a=i<0?Math.abs(i)*(r-s):i*s;t[s].anims.playAfterDelay(e,a)}return this},remove:function(e){var t=this.get(e);return t&&(this.emit(o.REMOVE_ANIMATION,e,t),this.anims.delete(e),this.removeMix(e)),t},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(e){var t={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==e&&""!==e?t.anims.push(this.anims.get(e).toJSON()):this.anims.each(function(e,i){t.anims.push(i.toJSON())}),t},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});e.exports=p},9674:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42099),r=i(30976),s=i(83419),a=i(90330),o=i(74943),l=i(95540),h=new s({initialize:function(e){this.parent=e,this.animationManager=e.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(e){var t=this.parent;if(void 0===e)return this.nextAnimsQueue.length=0,this.nextAnim=null,t;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];this.nextAnim?this.nextAnimsQueue.push(n):this.nextAnim=n}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(e){this.isPlaying&&this.stop();var t=this.animationManager,i="string"==typeof e?e:l(e,"key",null),n=this.exists(i)?this.get(i):t.get(i);if(n){this.currentAnim=n;var s=n.getTotalFrames(),a=l(e,"frameRate",n.frameRate),o=l(e,"duration",n.duration);n.calculateDuration(this,s,o,a),this.delay=l(e,"delay",n.delay),this.repeat=l(e,"repeat",n.repeat),this.repeatDelay=l(e,"repeatDelay",n.repeatDelay),this.yoyo=l(e,"yoyo",n.yoyo),this.showBeforeDelay=l(e,"showBeforeDelay",n.showBeforeDelay),this.showOnStart=l(e,"showOnStart",n.showOnStart),this.hideOnComplete=l(e,"hideOnComplete",n.hideOnComplete),this.skipMissedFrames=l(e,"skipMissedFrames",n.skipMissedFrames),this.randomFrame=l(e,"randomFrame",n.randomFrame),this.timeScale=l(e,"timeScale",this.timeScale);var h=l(e,"startFrame",0);h>s&&(h=0),this.randomFrame&&(h=r(0,s-1));var u=n.frames[h];0!==h||this.forward||(u=n.getLastFrame()),this.currentFrame=u}else console.warn("Missing animation: "+i);return this.parent},pause:function(e){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==e&&this.setCurrentFrame(e),this.parent},resume:function(e){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==e&&this.setCurrentFrame(e),this.parent},playAfterDelay:function(e,t){if(this.isPlaying){var i=this.nextAnim,n=this.nextAnimsQueue;i&&n.unshift(i),this.nextAnim=e,this._pendingStop=1,this._pendingStopValue=t}else this.delayCounter=t,this.play(e,!0);return this.parent},playAfterRepeat:function(e,t){if(void 0===t&&(t=1),this.isPlaying){var i=this.nextAnim,n=this.nextAnimsQueue;i&&n.unshift(i),-1!==this.repeatCounter&&t>this.repeatCounter&&(t=this.repeatCounter),this.nextAnim=e,this._pendingStop=2,this._pendingStopValue=t}else this.play(e);return this.parent},play:function(e,t){void 0===t&&(t=!1);var i=this.currentAnim,n=this.parent,r="string"==typeof e?e:e.key;if(t&&this.isPlaying&&i.key===r)return n;if(i&&this.isPlaying){var s=this.animationManager.getMix(i.key,e);if(s>0)return this.playAfterDelay(e,s)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(e)},playReverse:function(e,t){void 0===t&&(t=!1);var i="string"==typeof e?e:e.key;return t&&this.isPlaying&&this.currentAnim.key===i?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(e))},startAnimation:function(e){this.load(e);var t=this.currentAnim,i=this.parent;return t&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,t.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),i},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(e,t){var i=this.currentAnim;if(i){var n=this.currentFrame,r=this.parent,s=n.textureFrame;r.emit(e,i,n,r,s),t&&r.emit(t+i.key,i,n,r,s)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var e=this.currentFrame;if(!e)return 0;var t=e.progress;return this.inReverse&&(t*=-1),t},setProgress:function(e){return this.forward||(e=1-e),this.setCurrentFrame(this.currentAnim.getFrameByProgress(e)),this.parent},setRepeat:function(e){return this.repeatCounter=-1===e?Number.MAX_VALUE:e,this.parent},globalRemove:function(e,t){void 0===t&&(t=this.currentAnim),this.isPlaying&&t.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=this.currentAnim,n=this.parent;return i?(t&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),i.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!e,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(i.frames[0]),this.parent):n},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var e=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(e)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var e=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(e)}return this.parent},stopAfterDelay:function(e){return this._pendingStop=1,this._pendingStopValue=e,this.parent},stopAfterRepeat:function(e){return void 0===e&&(e=1),-1!==this.repeatCounter&&e>this.repeatCounter&&(e=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=e,this.parent},stopOnFrame:function(e){return this._pendingStop=3,this._pendingStopValue=e,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(e,t){var i=this.currentAnim;if(this.isPlaying&&i&&!i.paused){if(this.accumulator+=t*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=t,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?i.nextFrame(this):i.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var n=0;do this.forward?i.nextFrame(this):i.previousFrame(this),n++;while(this.isPlaying&&this.accumulator>this.nextTick&&n<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(e){var t=this.parent;return this.currentFrame=e,t.texture=e.frame.texture,t.frame=e.frame,t.isCropped&&t.frame.updateCropUVs(t._crop,t.flipX,t.flipY),e.setAlpha&&(t.alpha=e.alpha),t.setSizeToFrame(),t._originComponent&&(e.frame.customPivot?t.setOrigin(e.frame.pivotX,e.frame.pivotY):t.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===e&&this.stop()),t},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(e){return this.anims?this.anims.get(e):null},exists:function(e){return!!this.anims&&this.anims.has(e)},create:function(e){var t=e.key,i=!1;return t&&((i=this.get(t))?console.warn("Animation key already exists: "+t):(i=new n(this,t,e),this.anims||(this.anims=new a),this.anims.set(t,i))),i},createFromAseprite:function(e,t){return this.animationManager.createFromAseprite(e,t,this.parent)},generateFrameNames:function(e,t){return this.animationManager.generateFrameNames(e,t)},generateFrameNumbers:function(e,t){return this.animationManager.generateFrameNumbers(e,t)},remove:function(e){var t=this.get(e);return t&&(this.currentAnim===t&&this.stop(),this.anims.delete(e)),t},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});e.exports=h},57090:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="add"},25312:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationcomplete"},89580:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationcomplete-"},52860:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationrepeat"},63850:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationrestart"},99085:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationstart"},28087:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationstop"},1794:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationupdate"},52562:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pauseall"},57953:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="remove"},68339:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resumeall"},74943:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(90330),s=i(50792),a=i(24736),o=new n({initialize:function(){this.entries=new r,this.events=new s},add:function(e,t){return this.entries.set(e,t),this.events.emit(a.ADD,this,e,t),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var t=this.get(e);return t&&(this.entries.delete(e),this.events.emit(a.REMOVE,this,e,t.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});e.exports=o},24047:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2161),r=i(83419),s=i(8443),a=new r({initialize:function(e){this.game=e,this.binary=new n,this.bitmapFont=new n,this.json=new n,this.physics=new n,this.shader=new n,this.audio=new n,this.video=new n,this.text=new n,this.html=new n,this.obj=new n,this.tilemap=new n,this.xml=new n,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(e){return this.custom.hasOwnProperty(e)||(this.custom[e]=new n),this.custom[e]},destroy:function(){for(var e=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],t=0;t<e.length;t++)this[e[t]].destroy(),this[e[t]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});e.exports=a},51464:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="add"},59261:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="remove"},24736:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(39506),a=i(50792),o=i(19715),l=i(87841),h=i(61340),u=i(80333),c=i(26099),d=new n({Extends:a,Mixins:[r.AlphaSingle,r.Visible],initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new l,this.dirty=!0,this._x=e,this._y=t,this._width=i,this._height=n,this._bounds=new l,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new h,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new c(i/2,n/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(e){this.renderList.push(e)},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this.originX=e,this.originY=t,this},getScroll:function(e,t,i){void 0===i&&(i=new c);var n=.5*this.width,r=.5*this.height;return i.x=e-n,i.y=t-r,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOnX:function(e){var t=.5*this.width;return this.midPoint.x=e,this.scrollX=e-t,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(e){var t=.5*this.height;return this.midPoint.y=e,this.scrollY=e-t,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(e,t){return this.centerOnX(e),this.centerOnY(t),this},centerToBounds:function(){if(this.useBounds){var e=this._bounds,t=.5*this.width,i=.5*this.height;this.midPoint.set(e.centerX,e.centerY),this.scrollX=e.centerX-t,this.scrollY=e.centerY-i}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(e){if(this.disableCull)return e;var t=this.matrix.matrix,i=t[0],n=t[1],r=t[2],s=t[3],a=i*s-n*r;if(!a)return e;var o=t[4],l=t[5],h=this.scrollX,u=this.scrollY,c=this.width,d=this.height,f=this.y,p=f+d,m=this.x,g=m+c,v=this.culledObjects,y=e.length;a=1/a,v.length=0;for(var b=0;b<y;++b){var x=e[b];if(!x.hasOwnProperty("width")||x.parentContainer){v.push(x);continue}var E=x.width,w=x.height,S=x.x-h*x.scrollFactorX-E*x.originX,T=x.y-u*x.scrollFactorY-w*x.originY,A=S*i+T*r+o,_=S*n+T*s+l,C=(S+E)*i+(T+w)*r+o,I=(S+E)*n+(T+w)*s+l;C>m&&A<g&&I>f&&_<p&&v.push(x)}return v},getWorldPoint:function(e,t,i){void 0===i&&(i=new c);var n=this.matrix.matrix,r=n[0],s=n[1],a=n[2],o=n[3],l=n[4],h=n[5],u=r*o-s*a;if(!u)return i.x=e,i.y=t,i;var d=o*(u=1/u),f=-s*u,p=-a*u,m=r*u,g=(a*h-o*l)*u,v=(s*l-r*h)*u,y=Math.cos(this.rotation),b=Math.sin(this.rotation),x=this.zoomX,E=this.zoomY,w=this.scrollX,S=this.scrollY,T=e+(w*y-S*b)*x,A=t+(w*b+S*y)*E;return i.x=T*d+A*p+g,i.y=T*f+A*m+v,i},ignore:function(e){var t=this.id;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];Array.isArray(n)?this.ignore(n):n.isParent?this.ignore(n.getChildren()):n.cameraFilter|=t}return this},clampX:function(e){var t=this._bounds,i=this.displayWidth,n=t.x+(i-this.width)/2,r=Math.max(n,n+t.width-i);return e<n?e=n:e>r&&(e=r),e},clampY:function(e){var t=this._bounds,i=this.displayHeight,n=t.y+(i-this.height)/2,r=Math.max(n,n+t.height-i);return e<n?e=n:e>r&&(e=r),e},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(e){return void 0===e&&(e=0),this.rotation=s(e),this},setBackgroundColor:function(e){return void 0===e&&(e="rgba(0,0,0,0)"),this.backgroundColor=u(e),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(e,t,i,n,r){return void 0===r&&(r=!1),this._bounds.setTo(e,t,i,n),this.dirty=!0,this.useBounds=!0,r?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(e){void 0===e&&(e=new l);var t=this._bounds;return e.setTo(t.x,t.y,t.width,t.height),e},setName:function(e){return void 0===e&&(e=""),this.name=e,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setRotation:function(e){return void 0===e&&(e=0),this.rotation=e,this},setRoundPixels:function(e){return this.roundPixels=e,this},setScene:function(e,t){void 0===t&&(t=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=e,this.isSceneCamera=t;var i=e.sys;return this.sceneManager=i.game.scene,this.scaleManager=i.scale,this.cameraManager=i.cameras,this.updateSystem(),this},setScroll:function(e,t){return void 0===t&&(t=e),this.scrollX=e,this.scrollY=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},setViewport:function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},setZoom:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),0===e&&(e=.001),0===t&&(t=.001),this.zoomX=e,this.zoomY=t,this},setMask:function(e,t){return void 0===t&&(t=!0),this.mask=e,this._maskCamera=t?this.cameraManager.default:this,this},clearMask:function(e){return void 0===e&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var e={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(e.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),e},update:function(){},setIsSceneCamera:function(e){return this.isSceneCamera=e,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var e=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,t=this.sceneManager;e&&!this._customViewport?t.customViewports++:!e&&this._customViewport&&t.customViewports--,this.dirty=!0,this._customViewport=e}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(e){this._x=e,this.updateSystem()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.updateSystem()}},width:{get:function(){return this._width},set:function(e){this._width=e,this.updateSystem()}},height:{get:function(){return this._height},set:function(e){this._height=e,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(e){e!==this._scrollX&&(this._scrollX=e,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(e){e!==this._scrollY&&(this._scrollY=e,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(e){this._zoomX=e,this._zoomY=e,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(e){this._zoomX=e,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(e){this._zoomY=e,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});e.exports=d},38058:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71911),r=i(67502),s=i(45319),a=i(83419),o=i(31401),l=i(20052),h=i(19715),u=i(28915),c=i(87841),d=i(26099),f=new a({Extends:n,Mixins:[o.PostPipeline],initialize:function(e,t,i,r){n.call(this,e,t,i,r),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new l.Fade(this),this.flashEffect=new l.Flash(this),this.shakeEffect=new l.Shake(this),this.panEffect=new l.Pan(this),this.rotateToEffect=new l.RotateTo(this),this.zoomEffect=new l.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(e,t){if(void 0===e)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=e,this.deadzone.height=t):this.deadzone=new c(0,0,e,t),this._follow){var i=this.width/2,n=this.height/2,s=this._follow.x-this.followOffset.x,a=this._follow.y-this.followOffset.y;this.midPoint.set(s,a),this.scrollX=s-i,this.scrollY=a-n}r(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(e,t,i,n,r,s){return this.fadeEffect.start(!1,e,t,i,n,!0,r,s)},fadeOut:function(e,t,i,n,r,s){return this.fadeEffect.start(!0,e,t,i,n,!0,r,s)},fadeFrom:function(e,t,i,n,r,s,a){return this.fadeEffect.start(!1,e,t,i,n,r,s,a)},fade:function(e,t,i,n,r,s,a){return this.fadeEffect.start(!0,e,t,i,n,r,s,a)},flash:function(e,t,i,n,r,s,a){return this.flashEffect.start(e,t,i,n,r,s,a)},shake:function(e,t,i,n,r){return this.shakeEffect.start(e,t,i,n,r)},pan:function(e,t,i,n,r,s,a){return this.panEffect.start(e,t,i,n,r,s,a)},rotateTo:function(e,t,i,n,r,s,a){return this.rotateToEffect.start(e,t,i,n,r,s,a)},zoomTo:function(e,t,i,n,r,s){return this.zoomEffect.start(e,t,i,n,r,s)},preRender:function(){this.renderList.length=0;var e=this.width,t=this.height,i=this.zoomX,n=this.zoomY,s=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(i)&&Number.isInteger(n);var a=e*this.originX,o=t*this.originY,l=this._follow,c=this.deadzone,d=this.scrollX,f=this.scrollY;c&&r(c,this.midPoint.x,this.midPoint.y);var p=!1;if(l&&!this.panEffect.isRunning){var m=this.lerp,g=l.x-this.followOffset.x,v=l.y-this.followOffset.y;c?(g<c.x?d=u(d,d-(c.x-g),m.x):g>c.right&&(d=u(d,d+(g-c.right),m.x)),v<c.y?f=u(f,f-(c.y-v),m.y):v>c.bottom&&(f=u(f,f+(v-c.bottom),m.y))):(d=u(d,g-a,m.x),f=u(f,v-o,m.y)),p=!0}this.roundPixels&&(d=Math.floor(d),f=Math.floor(f)),this.useBounds&&(d=this.clampX(d),f=this.clampY(f)),this.scrollX=d,this.scrollY=f;var y=d+.5*e,b=f+.5*t;this.midPoint.set(y,b);var x=Math.floor(e/i+.5),E=Math.floor(t/n+.5),w=Math.floor(y-x/2+.5),S=Math.floor(b-E/2+.5);this.worldView.setTo(w,S,x,E),s.applyITRS(Math.floor(this.x+a+.5),Math.floor(this.y+o+.5),this.rotation,i,n),s.translate(-a,-o),this.shakeEffect.preRender(),p&&this.emit(h.FOLLOW_UPDATE,this,l)},setLerp:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.lerp.set(e,t),this},setFollowOffset:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.followOffset.set(e,t),this},startFollow:function(e,t,i,n,r,a){void 0===t&&(t=!1),void 0===i&&(i=1),void 0===n&&(n=i),void 0===r&&(r=0),void 0===a&&(a=r),this._follow=e,this.roundPixels=t,i=s(i,0,1),n=s(n,0,1),this.lerp.set(i,n),this.followOffset.set(r,a);var o=this.width/2,l=this.height/2,h=e.x-r,u=e.y-a;return this.midPoint.set(h,u),this.scrollX=h-o,this.scrollY=u-l,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(e,t){this.visible&&(this.rotateToEffect.update(e,t),this.panEffect.update(e,t),this.zoomEffect.update(e,t),this.shakeEffect.update(e,t),this.flashEffect.update(e,t),this.fadeEffect.update(e,t))},destroy:function(){this.resetFX(),n.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});e.exports=f},32743:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(38058),r=i(83419),s=i(95540),a=i(37277),o=i(37303),l=i(97480),h=i(44594),u=new r({initialize:function(e){this.scene=e,this.systems=e.sys,this.roundPixels=e.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,e.sys.events.once(h.BOOT,this.boot,this),e.sys.events.on(h.START,this.start,this)},boot:function(){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new n(0,0,e.scale.width,e.scale.height).setScene(this.scene),e.game.scale.on(l.RESIZE,this.onResize,this),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){if(!this.main){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0]}var t=this.systems.events;t.on(h.UPDATE,this.update,this),t.once(h.SHUTDOWN,this.shutdown,this)},add:function(e,t,i,r,s,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===r&&(r=this.scene.sys.scale.height),void 0===s&&(s=!1),void 0===a&&(a="");var o=new n(e,t,i,r);return o.setName(a),o.setScene(this.scene),o.setRoundPixels(this.roundPixels),o.id=this.getNextID(),this.cameras.push(o),s&&(this.main=o),o},addExisting:function(e,t){return(void 0===t&&(t=!1),-1===this.cameras.indexOf(e))?(e.id=this.getNextID(),e.setRoundPixels(this.roundPixels),this.cameras.push(e),t&&(this.main=e),e):null},getNextID:function(){for(var e=this.cameras,t=1,i=0;i<32;i++){for(var n=!1,r=0;r<e.length;r++){var s=e[r];if(s&&s.id===t){n=!0;continue}}if(!n)return t;t<<=1}return 0},getTotal:function(e){void 0===e&&(e=!1);for(var t=0,i=this.cameras,n=0;n<i.length;n++){var r=i[n];(!e||e&&r.visible)&&t++}return t},fromJSON:function(e){Array.isArray(e)||(e=[e]);for(var t=this.scene.sys.scale.width,i=this.scene.sys.scale.height,n=0;n<e.length;n++){var r=e[n],a=s(r,"x",0),o=s(r,"y",0),l=s(r,"width",t),h=s(r,"height",i),u=this.add(a,o,l,h);u.name=s(r,"name",""),u.zoom=s(r,"zoom",1),u.rotation=s(r,"rotation",0),u.scrollX=s(r,"scrollX",0),u.scrollY=s(r,"scrollY",0),u.roundPixels=s(r,"roundPixels",!1),u.visible=s(r,"visible",!0);var c=s(r,"backgroundColor",!1);c&&u.setBackgroundColor(c);var d=s(r,"bounds",null);if(d){var f=s(d,"x",0),p=s(d,"y",0),m=s(d,"width",t),g=s(d,"height",i);u.setBounds(f,p,m,g)}}return this},getCamera:function(e){for(var t=this.cameras,i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null},getCamerasBelowPointer:function(e){for(var t=this.cameras,i=e.x,n=e.y,r=[],s=0;s<t.length;s++){var a=t[s];a.visible&&a.inputEnabled&&o(a,i,n)&&r.unshift(a)}return r},remove:function(e,t){void 0===t&&(t=!0),Array.isArray(e)||(e=[e]);for(var i=0,n=this.cameras,r=0;r<e.length;r++){var s=n.indexOf(e[r]);-1!==s&&(t?n[s].destroy():n[s].renderList=[],n.splice(s,1),i++)}return!this.main&&n[0]&&(this.main=n[0]),i},render:function(e,t){for(var i=this.scene,n=this.cameras,r=0;r<n.length;r++){var s=n[r];if(s.visible&&s.alpha>0){s.preRender();var a=this.getVisibleChildren(t.getChildren(),s);e.render(i,a,s)}}},getVisibleChildren:function(e,t){return e.filter(function(e){return e.willRender(t)})},resetAll:function(){for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(e,t){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(e,t)},onResize:function(e,t,i,n,r){for(var s=0;s<this.cameras.length;s++){var a=this.cameras[s];0===a._x&&0===a._y&&a._width===n&&a._height===r&&a.setSize(t.width,t.height)}},resize:function(e,t){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(e,t)},shutdown:function(){this.main=void 0;for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();this.cameras=[];var t=this.systems.events;t.off(h.UPDATE,this.update,this),t.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(h.START,this.start,this),this.systems.events.off(h.DESTROY,this.destroy,this),this.systems.game.scale.off(l.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",u,"cameras"),e.exports=u},5020:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(19715),a=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r,a,o,l){if(void 0===e&&(e=!0),void 0===t&&(t=1e3),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=!1),void 0===o&&(o=null),void 0===l&&(l=this.camera.scene),!a&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=t,this.direction=e,this.progress=0,this.red=i,this.green=n,this.blue=r,this.alpha=e?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=l;var h=e?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(h,this.camera,this,t,i,n,r),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(e){if(!this.isRunning&&!this.isComplete)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(e,t){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,n=this.red/255,r=this.green/255,s=this.blue/255;return e.drawFillRect(i.x,i.y,i.width,i.height,t(s,r,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var e=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(e,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=a},10662:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(19715),a=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r,a,o){return void 0===e&&(e=250),void 0===t&&(t=255),void 0===i&&(i=255),void 0===n&&(n=255),void 0===r&&(r=!1),void 0===a&&(a=null),void 0===o&&(o=this.camera.scene),!r&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.red=t,this.green=i,this.blue=n,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=o,this.camera.emit(s.FLASH_START,this.camera,this,e,t,i,n)),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(e){if(!this.isRunning)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(e,t){if(!this.isRunning)return!1;var i=this.camera,n=this.red/255,r=this.green/255,s=this.blue/255;return e.drawFillRect(i.x,i.y,i.width,i.height,t(s,r,n,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=a},20359:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(62640),a=i(19715),o=i(26099),l=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r,o,l){void 0===i&&(i=1e3),void 0===n&&(n=s.Linear),void 0===r&&(r=!1),void 0===o&&(o=null),void 0===l&&(l=this.camera.scene);var h=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(h.scrollX,h.scrollY),this.destination.set(e,t),h.getScroll(e,t,this.current),"string"==typeof n&&s.hasOwnProperty(n)?this.ease=s[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=l,this.camera.emit(a.PAN_START,this.camera,this,i,e,t)),h},update:function(e,t){if(this.isRunning){this._elapsed+=t;var i=n(this._elapsed/this.duration,0,1);this.progress=i;var r=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);r.getScroll(this.destination.x,this.destination.y,this.current);var a=this.source.x+(this.current.x-this.source.x)*s,o=this.source.y+(this.current.y-this.source.y)*s;r.setScroll(a,o),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,a,o)}else r.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,r.scrollX,r.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=l},34208:(e,t,i)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var n=i(45319),r=i(83419),s=i(19715),a=i(62640),o=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,t,i,n,r,o,l){void 0===i&&(i=1e3),void 0===n&&(n=a.Linear),void 0===r&&(r=!1),void 0===o&&(o=null),void 0===l&&(l=this.camera.scene),void 0===t&&(t=!1),this.shortestPath=t;var h=e;e<0?(h=-1*e,this.clockwise=!1):this.clockwise=!0;var u=360*Math.PI/180;h-=Math.floor(h/u)*u;var c=this.camera;if(!r&&this.isRunning)return c;if(this.isRunning=!0,this.duration=i,this.progress=0,this.source=c.rotation,this.destination=h,"string"==typeof n&&a.hasOwnProperty(n)?this.ease=a[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=l,this.shortestPath){var d=0,f=0;(d=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+u)-this.source)<(f=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+u)-this.destination)?this.clockwise=!0:d>f&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,i,h),c},update:function(e,t){if(this.isRunning){this._elapsed+=t;var i=n(this._elapsed/this.duration,0,1);this.progress=i;var r=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);this.current=r.rotation;var a=0,o=360*Math.PI/180,l=this.destination,h=this.current;!1===this.clockwise&&(l=this.current,h=this.destination),a=l>=h?Math.abs(l-h):Math.abs(l+o)-h;var u=0;u=this.clockwise?r.rotation+a*s:r.rotation-a*s,r.rotation=u,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,u)}else r.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=o},30330:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(19715),a=i(26099),o=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r){return void 0===e&&(e=100),void 0===t&&(t=.05),void 0===i&&(i=!1),void 0===n&&(n=null),void 0===r&&(r=this.camera.scene),!i&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,"number"==typeof t?this.intensity.set(t):this.intensity.set(t.x,t.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=r,this.camera.emit(s.SHAKE_START,this.camera,this,e,t)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,t){if(this.isRunning){if(this._elapsed+=t,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,r=this.camera.width,s=this.camera.height,a=this.camera.zoom;this._offsetX=(Math.random()*i.x*r*2-i.x*r)*a,this._offsetY=(Math.random()*i.y*s*2-i.y*s)*a,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()}},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});e.exports=o},45641:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(62640),a=i(19715),o=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r,o){void 0===t&&(t=1e3),void 0===i&&(i=s.Linear),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=this.camera.scene);var l=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.source=l.zoom,this.destination=e,"string"==typeof i&&s.hasOwnProperty(i)?this.ease=s[i]:"function"==typeof i&&(this.ease=i),this._elapsed=0,this._onUpdate=r,this._onUpdateScope=o,this.camera.emit(a.ZOOM_START,this.camera,this,t,e)),l},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=n(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=o},20052:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="cameradestroy"},32726:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerafadeincomplete"},87807:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerafadeinstart"},45917:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerafadeoutcomplete"},95666:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerafadeoutstart"},47056:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="cameraflashcomplete"},91261:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="cameraflashstart"},45047:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="followupdate"},81927:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerapancomplete"},74264:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerapanstart"},54419:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postrender"},79330:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prerender"},93183:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerarotatecomplete"},80112:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerarotatestart"},62252:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerashakecomplete"},86017:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerashakestart"},539:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerazoomcomplete"},51892:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerazoomstart"},19715:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(35154),s=new n({initialize:function(e){this.camera=r(e,"camera",null),this.left=r(e,"left",null),this.right=r(e,"right",null),this.up=r(e,"up",null),this.down=r(e,"down",null),this.zoomIn=r(e,"zoomIn",null),this.zoomOut=r(e,"zoomOut",null),this.zoomSpeed=r(e,"zoomSpeed",.01),this.minZoom=r(e,"minZoom",.001),this.maxZoom=r(e,"maxZoom",1e3),this.speedX=0,this.speedY=0;var t=r(e,"speed",null);"number"==typeof t?(this.speedX=t,this.speedY=t):(this.speedX=r(e,"speed.x",0),this.speedY=r(e,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var t=this.camera;this.up&&this.up.isDown?t.scrollY-=this.speedY*e|0:this.down&&this.down.isDown&&(t.scrollY+=this.speedY*e|0),this.left&&this.left.isDown?t.scrollX-=this.speedX*e|0:this.right&&this.right.isDown&&(t.scrollX+=this.speedX*e|0),this.zoomIn&&this.zoomIn.isDown?(t.zoom-=this.zoomSpeed,t.zoom<this.minZoom&&(t.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(t.zoom+=this.zoomSpeed,t.zoom>this.maxZoom&&(t.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=s},58818:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(35154),s=new n({initialize:function(e){this.camera=r(e,"camera",null),this.left=r(e,"left",null),this.right=r(e,"right",null),this.up=r(e,"up",null),this.down=r(e,"down",null),this.zoomIn=r(e,"zoomIn",null),this.zoomOut=r(e,"zoomOut",null),this.zoomSpeed=r(e,"zoomSpeed",.01),this.minZoom=r(e,"minZoom",.001),this.maxZoom=r(e,"maxZoom",1e3),this.accelX=0,this.accelY=0;var t=r(e,"acceleration",null);"number"==typeof t?(this.accelX=t,this.accelY=t):(this.accelX=r(e,"acceleration.x",0),this.accelY=r(e,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=r(e,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=r(e,"drag.x",0),this.dragY=r(e,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var n=r(e,"maxSpeed",null);"number"==typeof n?(this.maxSpeedX=n,this.maxSpeedY=n):(this.maxSpeedX=r(e,"maxSpeed.x",0),this.maxSpeedY=r(e,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var t=this.camera;this._speedX>0?(this._speedX-=this.dragX*e,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*e,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*e,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*e,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(t.scrollX-=this._speedX*e|0),0!==this._speedY&&(t.scrollY-=this._speedY*e|0),0!==this._zoom&&(t.zoom+=this._zoom,t.zoom<this.minZoom?t.zoom=this.minZoom:t.zoom>this.maxZoom&&(t.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=s},38865:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};e.exports=n},69547:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(8054),s=i(42363),a=i(82264),o=i(95540),l=i(35154),h=i(41212),u=i(29747),c=i(75508),d=i(36060),f=i(80333),p=new n({initialize:function(e){void 0===e&&(e={});var t=l(e,"scale",null);this.width=l(t,"width",1024,e),this.height=l(t,"height",768,e),this.zoom=l(t,"zoom",1,e),this.parent=l(t,"parent",void 0,e),this.scaleMode=l(t,t?"mode":"scaleMode",0,e),this.expandParent=l(t,"expandParent",!0,e),this.autoRound=l(t,"autoRound",!1,e),this.autoCenter=l(t,"autoCenter",0,e),this.resizeInterval=l(t,"resizeInterval",500,e),this.fullscreenTarget=l(t,"fullscreenTarget",null,e),this.minWidth=l(t,"min.width",0,e),this.maxWidth=l(t,"max.width",0,e),this.minHeight=l(t,"min.height",0,e),this.maxHeight=l(t,"max.height",0,e),this.snapWidth=l(t,"snap.width",0,e),this.snapHeight=l(t,"snap.height",0,e),this.renderType=l(e,"type",r.AUTO),this.canvas=l(e,"canvas",null),this.context=l(e,"context",null),this.canvasStyle=l(e,"canvasStyle",null),this.customEnvironment=l(e,"customEnvironment",!1),this.sceneConfig=l(e,"scene",null),this.seed=l(e,"seed",[(Date.now()*Math.random()).toString()]),c.RND=new c.RandomDataGenerator(this.seed),this.gameTitle=l(e,"title",""),this.gameURL=l(e,"url","https://phaser.io/"+r.LOG_VERSION),this.gameVersion=l(e,"version",""),this.autoFocus=l(e,"autoFocus",!0),this.stableSort=l(e,"stableSort",-1),-1===this.stableSort&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=l(e,"dom.createContainer",!1),this.domPointerEvents=l(e,"dom.pointerEvents","none"),this.inputKeyboard=l(e,"input.keyboard",!0),this.inputKeyboardEventTarget=l(e,"input.keyboard.target",window),this.inputKeyboardCapture=l(e,"input.keyboard.capture",[]),this.inputMouse=l(e,"input.mouse",!0),this.inputMouseEventTarget=l(e,"input.mouse.target",null),this.inputMousePreventDefaultDown=l(e,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=l(e,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=l(e,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=l(e,"input.mouse.preventDefaultWheel",!0),this.inputTouch=l(e,"input.touch",a.input.touch),this.inputTouchEventTarget=l(e,"input.touch.target",null),this.inputTouchCapture=l(e,"input.touch.capture",!0),this.inputActivePointers=l(e,"input.activePointers",1),this.inputSmoothFactor=l(e,"input.smoothFactor",0),this.inputWindowEvents=l(e,"input.windowEvents",!0),this.inputGamepad=l(e,"input.gamepad",!1),this.inputGamepadEventTarget=l(e,"input.gamepad.target",window),this.disableContextMenu=l(e,"disableContextMenu",!1),this.audio=l(e,"audio",{}),this.hideBanner=!1===l(e,"banner",null),this.hidePhaser=l(e,"banner.hidePhaser",!1),this.bannerTextColor=l(e,"banner.text","#ffffff"),this.bannerBackgroundColor=l(e,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=l(e,"fps",null),this.disablePreFX=l(e,"disablePreFX",!1),this.disablePostFX=l(e,"disablePostFX",!1);var i=l(e,"render",null);this.pipeline=l(i,"pipeline",null,e),this.autoMobilePipeline=l(i,"autoMobilePipeline",!0,e),this.defaultPipeline=l(i,"defaultPipeline",d.MULTI_PIPELINE,e),this.antialias=l(i,"antialias",!0,e),this.antialiasGL=l(i,"antialiasGL",!0,e),this.mipmapFilter=l(i,"mipmapFilter","",e),this.desynchronized=l(i,"desynchronized",!1,e),this.roundPixels=l(i,"roundPixels",!1,e),this.pixelArt=l(i,"pixelArt",1!==this.zoom,e),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=l(i,"transparent",!1,e),this.clearBeforeRender=l(i,"clearBeforeRender",!0,e),this.preserveDrawingBuffer=l(i,"preserveDrawingBuffer",!1,e),this.premultipliedAlpha=l(i,"premultipliedAlpha",!0,e),this.failIfMajorPerformanceCaveat=l(i,"failIfMajorPerformanceCaveat",!1,e),this.powerPreference=l(i,"powerPreference","default",e),this.batchSize=l(i,"batchSize",4096,e),this.maxTextures=l(i,"maxTextures",-1,e),this.maxLights=l(i,"maxLights",10,e);var n=l(e,"backgroundColor",0);this.backgroundColor=f(n),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=l(e,"callbacks.preBoot",u),this.postBoot=l(e,"callbacks.postBoot",u),this.physics=l(e,"physics",{}),this.defaultPhysicsSystem=l(this.physics,"default",!1),this.loaderBaseURL=l(e,"loader.baseURL",""),this.loaderPath=l(e,"loader.path",""),this.loaderMaxParallelDownloads=l(e,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=l(e,"loader.crossOrigin",void 0),this.loaderResponseType=l(e,"loader.responseType",""),this.loaderAsync=l(e,"loader.async",!0),this.loaderUser=l(e,"loader.user",""),this.loaderPassword=l(e,"loader.password",""),this.loaderTimeout=l(e,"loader.timeout",0),this.loaderMaxRetries=l(e,"loader.maxRetries",2),this.loaderWithCredentials=l(e,"loader.withCredentials",!1),this.loaderImageLoadType=l(e,"loader.imageLoadType","XHR"),this.loaderLocalScheme=l(e,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=l(e,"fx.glow.quality",.1),this.glowFXDistance=l(e,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var p=l(e,"plugins",null),m=s.DefaultScene;p&&(Array.isArray(p)?this.defaultPlugins=p:h(p)&&(this.installGlobalPlugins=o(p,"global",[]),this.installScenePlugins=o(p,"scene",[]),Array.isArray(p.default)?m=p.default:Array.isArray(p.defaultMerge)&&(m=m.concat(p.defaultMerge)))),this.defaultPlugins=m;var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=l(e,"images.default",g+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=l(e,"images.missing",g+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=l(e,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=r.WEBGL:window.FORCE_CANVAS&&(this.renderType=r.CANVAS))}});e.exports=p},86054:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20623),r=i(27919),s=i(8054),a=i(89357);e.exports=function(e){var t,o,l=e.config;if((l.customEnvironment||l.canvas)&&l.renderType===s.AUTO)throw Error("Must set explicit renderType in custom environment");if(!l.customEnvironment&&!l.canvas&&l.renderType!==s.HEADLESS){if(l.renderType===s.AUTO&&(l.renderType=a.webGL?s.WEBGL:s.CANVAS),l.renderType===s.WEBGL){if(!a.webGL)throw Error("Cannot create WebGL context, aborting.")}else if(l.renderType===s.CANVAS){if(!a.canvas)throw Error("Cannot create Canvas context, aborting.")}else throw Error("Unknown value for renderer type: "+l.renderType)}l.antialias||r.disableSmoothing();var h=e.scale.baseSize,u=h.width,c=h.height;l.canvas?(e.canvas=l.canvas,e.canvas.width=u,e.canvas.height=c):e.canvas=r.create(e,u,c,l.renderType),l.canvasStyle&&(e.canvas.style=l.canvasStyle),l.antialias||n.setCrisp(e.canvas),l.renderType!==s.HEADLESS&&(t=i(68627),o=i(74797),l.renderType===s.WEBGL?e.renderer=new o(e):(e.renderer=new t(e),e.context=e.renderer.gameContext))}},96391:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8054);e.exports=function(e){var t=e.config;if(!t.hideBanner){var i="WebGL";t.renderType===n.CANVAS?i="Canvas":t.renderType===n.HEADLESS&&(i="Headless");var r=t.audio,s=e.device.audio;if(a=s.webAudio&&!r.disableWebAudio?"Web Audio":!r.noAudio&&(s.webAudio||s.audioData)?"HTML5 Audio":"No Audio",e.device.browser.ie)window.console&&console.log("Phaser v"+n.VERSION+" / https://phaser.io");else{var a,o,l="",h=[l];Array.isArray(t.bannerBackgroundColor)?(t.bannerBackgroundColor.forEach(function(e){l=l.concat("%c "),h.push("background: "+e),o=e}),h[h.length-1]="color: "+t.bannerTextColor+"; background: "+o):(l=l.concat("%c "),h.push("color: "+t.bannerTextColor+"; background: "+t.bannerBackgroundColor)),h.push("background: transparent"),t.gameTitle&&(l=l.concat(t.gameTitle),t.gameVersion&&(l=l.concat(" v"+t.gameVersion)),t.hidePhaser||(l=l.concat(" / "))),t.hidePhaser||(l=l.concat("Phaser v"+n.VERSION+" ("+i+" | "+a+")")),l=l.concat(" %c "+t.gameURL),h[0]=l,console.log.apply(console,h)}}}},50127:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40366),r=i(60848),s=i(24047),a=i(27919),o=i(83419),l=i(69547),h=i(83719),u=i(86054),c=i(45893),d=i(96391),f=i(82264),p=i(57264),m=i(50792),g=i(8443),v=i(7003),y=i(37277),b=i(77332),x=i(76531),E=i(60903),w=i(69442),S=i(17130),T=i(65898),A=i(51085),_=i(14747),C=new o({initialize:function(e){this.config=new l(e),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new r(this),this.textures=new S(this),this.cache=new s(this),this.registry=new c(this,new m),this.input=new v(this,this.config),this.scene=new E(this,this.config.sceneConfig),this.device=f,this.scale=new x(this,this.config),this.sound=null,this.sound=_.create(this),this.loop=new T(this,this.config.fps),this.plugins=new b(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,p(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),h(this),d(this),n(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(g.BOOT)},texturesReady:function(){this.events.emit(g.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var e=this.events;e.on(g.HIDDEN,this.onHidden,this),e.on(g.VISIBLE,this.onVisible,this),e.on(g.BLUR,this.onBlur,this),e.on(g.FOCUS,this.onFocus,this)},step:function(e,t){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var i=this.events;i.emit(g.PRE_STEP,e,t),i.emit(g.STEP,e,t),this.scene.update(e,t),i.emit(g.POST_STEP,e,t);var n=this.renderer;n.preRender(),i.emit(g.PRE_RENDER,n,e,t),this.scene.render(n),n.postRender(),i.emit(g.POST_RENDER,n,e,t)}},headlessStep:function(e,t){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var i=this.events;i.emit(g.PRE_STEP,e,t),i.emit(g.STEP,e,t),this.scene.update(e,t),i.emit(g.POST_STEP,e,t),this.scene.isProcessing=!1,i.emit(g.PRE_RENDER,null,e,t),i.emit(g.POST_RENDER,null,e,t)}},onHidden:function(){this.loop.pause(),this.events.emit(g.PAUSE)},pause:function(){var e=this.isPaused;this.isPaused=!0,e||this.events.emit(g.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(g.RESUME,this.loop.pauseDuration)},resume:function(){var e=this.isPaused;this.isPaused=!1,e&&this.events.emit(g.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(e,t){void 0===t&&(t=!1),this.pendingDestroy=!0,this.removeCanvas=e,this.noReturn=t},runDestroy:function(){this.scene.destroy(),this.events.emit(g.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});e.exports=C},65898:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(35154),s=i(29747),a=i(43092),o=new n({initialize:function(e,t){this.game=e,this.raf=new a,this.started=!1,this.running=!1,this.minFps=r(t,"min",5),this.targetFps=r(t,"target",60),this.fpsLimit=r(t,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=r(t,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=r(t,"deltaHistory",10),this.panicMax=r(t,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=r(t,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=Math.min(this._target,this.deltaHistory[t]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var i=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(i,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var t=this.deltaIndex,i=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=Math.min(e=i[t],this._min)),i[t]=e,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var r=0,s=0;s<n;s++)r+=i[s];return r/n},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var t=Math.max(0,e-this.lastTime);this.rawDelta=t,this.time+=this.rawDelta,this.smoothStep&&(t=this.smoothDelta(t)),this.delta+=t,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var t=Math.max(0,e-this.lastTime);this.rawDelta=t,this.time+=this.rawDelta,this.smoothStep&&(t=this.smoothDelta(t)),this.delta=t,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,t),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){void 0===e&&(e=!1);var t=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+t));var i=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(i,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});e.exports=o},51085:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8443);e.exports=function(e){var t,i=e.events;void 0!==document.hidden?t="visibilitychange":["webkit","moz","ms"].forEach(function(e){void 0!==document[e+"Hidden"]&&(document.hidden=function(){return document[e+"Hidden"]},t=e+"visibilitychange")}),t&&document.addEventListener(t,function(e){document.hidden||"pause"===e.type?i.emit(n.HIDDEN):i.emit(n.VISIBLE)},!1),window.onblur=function(){i.emit(n.BLUR)},window.onfocus=function(){i.emit(n.FOCUS)},window.focus&&e.config.autoFocus&&window.focus()}},97217:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="blur"},47548:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="boot"},19814:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="contextlost"},68446:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},41700:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="focus"},25432:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="hidden"},65942:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},59211:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postrender"},47789:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="poststep"},39066:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prerender"},460:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prestep"},16175:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="ready"},42331:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},11966:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="step"},32969:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="systemready"},94830:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="visible"},8443:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(5290),r=i(27919),s=i(35154);e.exports=function(e){var t=s(e,"data",[]),i=s(e,"canvas",null),a=s(e,"palette",n),o=s(e,"pixelWidth",1),l=s(e,"pixelHeight",o),h=s(e,"resizeCanvas",!0),u=s(e,"clearCanvas",!0),c=s(e,"preRender",null),d=s(e,"postRender",null),f=Math.floor(Math.abs(t[0].length*o)),p=Math.floor(Math.abs(t.length*l));i||(i=r.create2D(this,f,p),h=!1,u=!1),h&&(i.width=f,i.height=p);var m=i.getContext("2d",{willReadFrequently:!0});u&&m.clearRect(0,0,f,p),c&&c(i,m);for(var g=0;g<t.length;g++)for(var v=t[g],y=0;y<v.length;y++){var b=v[y];"."!==b&&" "!==b&&(m.fillStyle=a[b],m.fillRect(y*o,g*l,o,l))}return d&&d(i,m),i}},15822:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(36316),s=i(80021),a=i(26099),o=new n({Extends:s,initialize:function(e,t,i,n){s.call(this,"CubicBezierCurve"),Array.isArray(e)&&(n=new a(e[6],e[7]),i=new a(e[4],e[5]),t=new a(e[2],e[3]),e=new a(e[0],e[1])),this.p0=e,this.p1=t,this.p2=i,this.p3=n},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){void 0===t&&(t=new a);var i=this.p0,n=this.p1,s=this.p2,o=this.p3;return t.set(r(e,i.x,n.x,s.x,o.x),r(e,i.y,n.y,s.y,o.y))},draw:function(e,t){void 0===t&&(t=32);var i=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<i.length;n++)e.lineTo(i[n].x,i[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(e){var t=e.points;return new o(new a(t[0],t[1]),new a(t[2],t[3]),new a(t[4],t[5]),new a(t[6],t[7]))},e.exports=o},80021:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(19217),s=i(87841),a=i(26099),o=new n({initialize:function(e){this.type=e,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(e,t){return void 0===t&&(t=32),e.strokePoints(this.getPoints(t))},getBounds:function(e,t){e||(e=new s),void 0===t&&(t=16);var i=this.getLength();t>i&&(t=i/2);var n=Math.max(1,Math.round(i/t));return r(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var t=Math.max(1,this.getLength()/e);return this.getSpacedPoints(t)},getEndPoint:function(e){return void 0===e&&(e=new a),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i=[],n=this.getPoint(0,this._tmpVec2A),r=0;i.push(0);for(var s=1;s<=e;s++)i.push(r+=(t=this.getPoint(s/e,this._tmpVec2B)).distance(n)),n.copy(t);return this.cacheArcLengths=i,i},getPointAt:function(e,t){var i=this.getUtoTmapping(e);return this.getPoint(i,t)},getPoints:function(e,t,i){void 0===i&&(i=[]),e||(e=t?this.getLength()/t:this.defaultDivisions);for(var n=0;n<=e;n++)i.push(this.getPoint(n/e));return i},getRandomPoint:function(e){return void 0===e&&(e=new a),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,t,i){void 0===i&&(i=[]),e||(e=t?this.getLength()/t:this.defaultDivisions);for(var n=0;n<=e;n++){var r=this.getUtoTmapping(n/e,null,e);i.push(this.getPoint(r))}return i},getStartPoint:function(e){return void 0===e&&(e=new a),this.getPointAt(0,e)},getTangent:function(e,t){void 0===t&&(t=new a);var i=e-1e-4,n=e+1e-4;return i<0&&(i=0),n>1&&(n=1),this.getPoint(i,this._tmpVec2A),this.getPoint(n,t),t.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,t){var i=this.getUtoTmapping(e);return this.getTangent(i,t)},getTFromDistance:function(e,t){return e<=0?0:this.getUtoTmapping(0,e,t)},getUtoTmapping:function(e,t,i){var n,r,s=this.getLengths(i),a=0,o=s.length;n=t?Math.min(t,s[o-1]):e*s[o-1];for(var l=0,h=o-1;l<=h;)if((r=s[a=Math.floor(l+(h-l)/2)]-n)<0)l=a+1;else if(r>0)h=a-1;else{h=a;break}if(s[a=h]===n)return a/(o-1);var u=s[a],c=s[a+1];return(a+(n-u)/(c-u))/(o-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});e.exports=o},73825:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(80021),s=i(39506),a=i(35154),o=i(43396),l=i(26099),h=new n({Extends:r,initialize:function(e,t,i,n,o,h,u,c){if("object"==typeof e){var d=e;e=a(d,"x",0),t=a(d,"y",0),i=a(d,"xRadius",0),n=a(d,"yRadius",i),o=a(d,"startAngle",0),h=a(d,"endAngle",360),u=a(d,"clockwise",!1),c=a(d,"rotation",0)}else void 0===n&&(n=i),void 0===o&&(o=0),void 0===h&&(h=360),void 0===u&&(u=!1),void 0===c&&(c=0);r.call(this,"EllipseCurve"),this.p0=new l(e,t),this._xRadius=i,this._yRadius=n,this._startAngle=s(o),this._endAngle=s(h),this._clockwise=u,this._rotation=s(c)},getStartPoint:function(e){return void 0===e&&(e=new l),this.getPoint(0,e)},getResolution:function(e){return 2*e},getPoint:function(e,t){void 0===t&&(t=new l);for(var i=2*Math.PI,n=this._endAngle-this._startAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=i;for(;n>i;)n-=i;n<Number.EPSILON&&(n=r?0:i),this._clockwise&&!r&&(n===i?n=-i:n-=i);var s=this._startAngle+e*n,a=this.p0.x+this._xRadius*Math.cos(s),o=this.p0.y+this._yRadius*Math.sin(s);if(0!==this._rotation){var h=Math.cos(this._rotation),u=Math.sin(this._rotation),c=a-this.p0.x,d=o-this.p0.y;a=c*h-d*u+this.p0.x,o=c*u+d*h+this.p0.y}return t.set(a,o)},setXRadius:function(e){return this.xRadius=e,this},setYRadius:function(e){return this.yRadius=e,this},setWidth:function(e){return this.xRadius=e/2,this},setHeight:function(e){return this.yRadius=e/2,this},setStartAngle:function(e){return this.startAngle=e,this},setEndAngle:function(e){return this.endAngle=e,this},setClockwise:function(e){return this.clockwise=e,this},setRotation:function(e){return this.rotation=e,this},x:{get:function(){return this.p0.x},set:function(e){this.p0.x=e}},y:{get:function(){return this.p0.y},set:function(e){this.p0.y=e}},xRadius:{get:function(){return this._xRadius},set:function(e){this._xRadius=e}},yRadius:{get:function(){return this._yRadius},set:function(e){this._yRadius=e}},startAngle:{get:function(){return o(this._startAngle)},set:function(e){this._startAngle=s(e)}},endAngle:{get:function(){return o(this._endAngle)},set:function(e){this._endAngle=s(e)}},clockwise:{get:function(){return this._clockwise},set:function(e){this._clockwise=e}},angle:{get:function(){return o(this._rotation)},set:function(e){this._rotation=s(e)}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});h.fromJSON=function(e){return new h(e)},e.exports=h},33951:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(80021),s=i(19217),a=i(87841),o=i(26099),l=new n({Extends:r,initialize:function(e,t){r.call(this,"LineCurve"),Array.isArray(e)&&(t=new o(e[2],e[3]),e=new o(e[0],e[1])),this.p0=e,this.p1=t,this.arcLengthDivisions=1},getBounds:function(e){return void 0===e&&(e=new a),s([this.p0,this.p1],e)},getStartPoint:function(e){return void 0===e&&(e=new o),e.copy(this.p0)},getResolution:function(e){return void 0===e&&(e=1),e},getPoint:function(e,t){return(void 0===t&&(t=new o),1===e)?t.copy(this.p1):(t.copy(this.p1).subtract(this.p0).scale(e).add(this.p0),t)},getPointAt:function(e,t){return this.getPoint(e,t)},getTangent:function(e,t){return void 0===t&&(t=new o),t.copy(this.p1).subtract(this.p0).normalize(),t},getUtoTmapping:function(e,t,i){var n;if(t){var r=this.getLengths(i),s=r[r.length-1];n=Math.min(t,s)/s}else n=e;return n},draw:function(e){return e.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});l.fromJSON=function(e){var t=e.points;return new l(new o(t[0],t[1]),new o(t[2],t[3]))},e.exports=l},14744:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(80021),s=i(32112),a=i(26099),o=new n({Extends:r,initialize:function(e,t,i){r.call(this,"QuadraticBezierCurve"),Array.isArray(e)&&(i=new a(e[4],e[5]),t=new a(e[2],e[3]),e=new a(e[0],e[1])),this.p0=e,this.p1=t,this.p2=i},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){void 0===t&&(t=new a);var i=this.p0,n=this.p1,r=this.p2;return t.set(s(e,i.x,n.x,r.x),s(e,i.y,n.y,r.y))},draw:function(e,t){void 0===t&&(t=32);var i=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<i.length;n++)e.lineTo(i[n].x,i[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(e){var t=e.points;return new o(new a(t[0],t[1]),new a(t[2],t[3]),new a(t[4],t[5]))},e.exports=o},42534:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87842),r=i(83419),s=i(80021),a=i(26099),o=new r({Extends:s,initialize:function(e){void 0===e&&(e=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(e)},addPoints:function(e){for(var t=0;t<e.length;t++){var i=new a;"number"==typeof e[t]?(i.x=e[t],i.y=e[t+1],t++):Array.isArray(e[t])?(i.x=e[t][0],i.y=e[t][1]):(i.x=e[t].x,i.y=e[t].y),this.points.push(i)}return this},addPoint:function(e,t){var i=new a(e,t);return this.points.push(i),i},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,t){void 0===t&&(t=new a);var i=this.points,r=(i.length-1)*e,s=Math.floor(r),o=r-s,l=i[0===s?s:s-1],h=i[s],u=i[s>i.length-2?i.length-1:s+1],c=i[s>i.length-3?i.length-1:s+2];return t.set(n(o,l.x,h.x,u.x,c.x),n(o,l.y,h.y,u.y,c.y))},toJSON:function(){for(var e=[],t=0;t<this.points.length;t++)e.push(this.points[t].x),e.push(this.points[t].y);return{type:this.type,points:e}}});o.fromJSON=function(e){return new o(e.points)},e.exports=o},25410:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(26099),s=new n({initialize:function(e,t){this.active=!1,this.p0=new r(e,t)},getPoint:function(e,t){return void 0===t&&(t=new r),t.copy(this.p0)},getPointAt:function(e,t){return this.getPoint(e,t)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});e.exports=s},46669:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(46728),s=i(73825),a=i(39429),o=i(33951),l=i(68618),h=i(14744),u=i(87841),c=i(42534),d=i(26099),f=i(36383),p=new n({initialize:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,"object"==typeof e?this.fromJSON(e):this.startPoint.set(e,t)},add:function(e){return this.curves.push(e),this},circleTo:function(e,t,i){return void 0===t&&(t=!1),this.ellipseTo(e,e,0,360,t,i)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);return e.equals(t)||this.curves.push(new o(t,e)),this},cubicBezierTo:function(e,t,i,n,s,a){var o,l,h,u=this.getEndPoint();return e instanceof d?(o=e,l=t,h=i):(o=new d(i,n),l=new d(s,a),h=new d(e,t)),this.add(new r(u,o,l,h))},quadraticBezierTo:function(e,t,i,n){var r,s,a=this.getEndPoint();return e instanceof d?(r=e,s=t):(r=new d(i,n),s=new d(e,t)),this.add(new h(a,r,s))},draw:function(e,t){for(var i=0;i<this.curves.length;i++){var n=this.curves[i];n.active&&n.draw(e,t)}return e},ellipseTo:function(e,t,i,n,r,a){var o=new s(0,0,e,t,i,n,r,a),l=this.getEndPoint(this._tmpVec2A),h=o.getStartPoint(this._tmpVec2B);return l.subtract(h),o.x=l.x,o.y=l.y,this.add(o)},fromJSON:function(e){this.curves=[],this.cacheLengths=[],this.startPoint.set(e.x,e.y),this.autoClose=e.autoClose;for(var t=0;t<e.curves.length;t++){var i=e.curves[t];switch(i.type){case"LineCurve":this.add(o.fromJSON(i));break;case"EllipseCurve":this.add(s.fromJSON(i));break;case"SplineCurve":this.add(c.fromJSON(i));break;case"CubicBezierCurve":this.add(r.fromJSON(i));break;case"QuadraticBezierCurve":this.add(h.fromJSON(i))}}return this},getBounds:function(e,t){void 0===e&&(e=new u),void 0===t&&(t=16),e.x=Number.MAX_VALUE,e.y=Number.MAX_VALUE;for(var i=new u,n=f.MIN_SAFE_INTEGER,r=f.MIN_SAFE_INTEGER,s=0;s<this.curves.length;s++){var a=this.curves[s];a.active&&(a.getBounds(i,t),e.x=Math.min(e.x,i.x),e.y=Math.min(e.y,i.y),n=Math.max(n,i.right),r=Math.max(r,i.bottom))}return e.right=n,e.bottom=r,e},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0;i<this.curves.length;i++)e.push(t+=this.curves[i].getLength());return this.cacheLengths=e,e},getCurveAt:function(e){for(var t=e*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=t)return this.curves[n];n++}return null},getEndPoint:function(e){return void 0===e&&(e=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,e):e.copy(this.startPoint),e},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},getPoint:function(e,t){void 0===t&&(t=new d);for(var i=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=i){var s=n[r]-i,a=this.curves[r],o=a.getLength(),l=0===o?0:1-s/o;return a.getPointAt(l,t)}r++}return null},getPoints:function(e,t){e||t||(e=this.defaultDivisions);for(var i,n=[],r=0;r<this.curves.length;r++){var s=this.curves[r];if(s.active)for(var a=s.getResolution(e),o=s.getPoints(a,t),l=0;l<o.length;l++){var h=o[l];i&&i.equals(h)||(n.push(h),i=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},getRandomPoint:function(e){return void 0===e&&(e=new d),this.getPoint(Math.random(),e)},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getStartPoint:function(e){return void 0===e&&(e=new d),e.copy(this.startPoint)},getTangent:function(e,t){void 0===t&&(t=new d);for(var i=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=i){var s=n[r]-i,a=this.curves[r],o=a.getLength(),l=0===o?0:1-s/o;return a.getTangentAt(l,t)}r++}return null},lineTo:function(e,t){e instanceof d?this._tmpVec2B.copy(e):"object"==typeof e?this._tmpVec2B.setFromObject(e):this._tmpVec2B.set(e,t);var i=this.getEndPoint(this._tmpVec2A);return this.add(new o([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(e){return e.unshift(this.getEndPoint()),this.add(new c(e))},moveTo:function(e,t){return e instanceof d?this.add(new l(e.x,e.y)):this.add(new l(e,t))},toJSON:function(){for(var e=[],t=0;t<this.curves.length;t++)e.push(this.curves[t].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:e}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(e,t){return new p(e,t)}),e.exports=p},45893:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(24882),s=new n({initialize:function(e,t){this.parent=e,this.events=t,t||(this.events=e.events?e.events:e),this.list={},this.values={},this._frozen=!1,!e.hasOwnProperty("sys")&&this.events&&this.events.once(r.DESTROY,this.destroy,this)},get:function(e){var t=this.list;if(!Array.isArray(e))return t[e];for(var i=[],n=0;n<e.length;n++)i.push(t[e[n]]);return i},getAll:function(){var e={};for(var t in this.list)this.list.hasOwnProperty(t)&&(e[t]=this.list[t]);return e},query:function(e){var t={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(e)&&(t[i]=this.list[i]);return t},set:function(e,t){if(this._frozen)return this;if("string"==typeof e)return this.setValue(e,t);for(var i in e)this.setValue(i,e[i]);return this},inc:function(e,t){if(this._frozen)return this;void 0===t&&(t=1);var i=this.get(e);return void 0===i&&(i=0),this.set(e,i+t),this},toggle:function(e){return this._frozen||this.set(e,!this.get(e)),this},setValue:function(e,t){if(this._frozen)return this;if(this.has(e))this.values[e]=t;else{var i=this,n=this.list,s=this.events,a=this.parent;Object.defineProperty(this.values,e,{enumerable:!0,configurable:!0,get:function(){return n[e]},set:function(t){if(!i._frozen){var o=n[e];n[e]=t,s.emit(r.CHANGE_DATA,a,e,t,o),s.emit(r.CHANGE_DATA_KEY+e,a,t,o)}}}),n[e]=t,s.emit(r.SET_DATA,a,e,t)}return this},each:function(e,t){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[1]=r,i[2]=this.list[r],e.apply(t,i);return this},merge:function(e,t){for(var i in void 0===t&&(t=!0),e)e.hasOwnProperty(i)&&(t||!t&&!this.has(i))&&this.setValue(i,e[i]);return this},remove:function(e){if(this._frozen)return this;if(!Array.isArray(e))return this.removeValue(e);for(var t=0;t<e.length;t++)this.removeValue(e[t]);return this},removeValue:function(e){if(this.has(e)){var t=this.list[e];delete this.list[e],delete this.values[e],this.events.emit(r.REMOVE_DATA,this.parent,e,t)}return this},pop:function(e){var t=void 0;return!this._frozen&&this.has(e)&&(t=this.list[e],delete this.list[e],delete this.values[e],this.events.emit(r.REMOVE_DATA,this.parent,e,t)),t},has:function(e){return this.list.hasOwnProperty(e)},setFreeze:function(e){return this._frozen=e,this},reset:function(){for(var e in this.list)delete this.list[e],delete this.values[e];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(r.CHANGE_DATA),this.events.off(r.SET_DATA),this.events.off(r.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(e){this._frozen=!!e}},count:{get:function(){var e=0;for(var t in this.list)void 0!==this.list[t]&&e++;return e}}});e.exports=s},63646:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(45893),s=i(37277),a=i(44594),o=new n({Extends:r,initialize:function(e){r.call(this,e,e.sys.events),this.scene=e,this.systems=e.sys,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){r.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",o,"data"),e.exports=o},10700:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="changedata"},93608:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="changedata-"},60883:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},69780:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removedata"},22166:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="setdata"},24882:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(84148),r={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};e.exports=function(){if("function"==typeof importScripts)return r;r.audioData=!!window.Audio,r.webAudio=!!(window.AudioContext||window.webkitAudioContext);var e=document.createElement("audio"),t=!!e.canPlayType;try{if(t){var i=function(t,i){var n=e.canPlayType("audio/"+t).replace(/^no$/,"");return i?!!(n||e.canPlayType("audio/"+i).replace(/^no$/,"")):!!n};if(r.ogg=i('ogg; codecs="vorbis"'),r.opus=i('ogg; codecs="opus"',"opus"),r.mp3=i("mpeg"),r.wav=i("wav"),r.m4a=i("x-m4a"),r.aac=i("aac"),r.flac=i("flac","x-flac"),r.webm=i('webm; codecs="vorbis"'),""!==e.canPlayType('audio/mp4; codecs="ec-3"')){if(n.edge)r.dolby=!0;else if(n.safari&&n.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),a=parseInt(RegExp.$2,10);(10===s&&a>=11||s>10)&&(r.dolby=!0)}}}}catch(e){}return r}()},84148:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n,r=i(25892),s={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};e.exports=(n=navigator.userAgent,/Edg\/\d+/.test(n)?(s.edge=!0,s.es2019=!0):/OPR/.test(n)?(s.opera=!0,s.es2019=!0):/Chrome\/(\d+)/.test(n)&&!r.windowsPhone?(s.chrome=!0,s.chromeVersion=parseInt(RegExp.$1,10),s.es2019=s.chromeVersion>69):/Firefox\D+(\d+)/.test(n)?(s.firefox=!0,s.firefoxVersion=parseInt(RegExp.$1,10),s.es2019=s.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(n)&&r.iOS?(s.mobileSafari=!0,s.es2019=!0):/MSIE (\d+\.\d+);/.test(n)?(s.ie=!0,s.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(n)&&!r.windowsPhone?(s.safari=!0,s.safariVersion=parseInt(RegExp.$1,10),s.es2019=s.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(n)&&(s.ie=!0,s.trident=!0,s.tridentVersion=parseInt(RegExp.$1,10),s.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(n)&&(s.silk=!0),s)},89289:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r={supportInverseAlpha:!1,supportNewBlendModes:!1};e.exports=function(){if("function"!=typeof importScripts&&void 0!==document){var e,t,i;r.supportNewBlendModes=(e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",(i=new Image).onload=function(){var s=new Image;s.onload=function(){var e=n.create2D(s,6).getContext("2d",{willReadFrequently:!0});if(e.globalCompositeOperation="multiply",e.drawImage(i,0,0),e.drawImage(s,2,0),!e.getImageData(2,0,1,1))return!1;var t=e.getImageData(2,0,1,1).data;n.remove(s),r.supportNewBlendModes=255===t[0]&&0===t[1]&&0===t[2]},s.src=e+"/wCKxvRF"+t},i.src=e+"AP804Oa6"+t,!1),r.supportInverseAlpha=function(){var e=n.create2D(this,2).getContext("2d",{willReadFrequently:!0});e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var t=e.getImageData(0,0,1,1);if(null===t)return!1;e.putImageData(t,1,0);var i=e.getImageData(1,0,1,1),r=i.data[0]===t.data[0]&&i.data[1]===t.data[1]&&i.data[2]===t.data[2]&&i.data[3]===t.data[3];return n.remove(this),r}()}return r}()},89357:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25892),r=i(84148),s=i(27919),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};e.exports=function(){if("function"==typeof importScripts)return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch(e){a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var e,t,i,o=!1;return a.webGL=function(){if(window.WebGLRenderingContext)try{var e=s.createWebGL(this),t=e.getContext("webgl")||e.getContext("experimental-webgl"),i=s.create2D(this);return o=i.getContext("2d",{willReadFrequently:!0}).createImageData(1,1).data instanceof Uint8ClampedArray,s.remove(e),s.remove(i),!!t}catch(e){}return!1}(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,r.firefox&&r.firefoxVersion<21&&(a.getUserMedia=!1),!n.iOS&&(r.ie||r.firefox||r.chrome)&&(a.canvasBitBltShift=!0),(r.safari||r.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(a.littleEndian=(t=new Uint8Array(e=new ArrayBuffer(4)),i=new Uint32Array(e),t[0]=161,t[1]=178,t[2]=195,t[3]=212,0xd4c3b2a1===i[0]||0xa1b2c3d4!==i[0]&&null)),a.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==a.littleEndian&&o,a}()},91639:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};e.exports=function(){if("function"==typeof importScripts)return t;var e,i="Fullscreen",n="FullScreen",r=["request"+i,"request"+n,"webkitRequest"+i,"webkitRequest"+n,"msRequest"+i,"msRequest"+n,"mozRequest"+n,"mozRequest"+i];for(e=0;e<r.length;e++)if(document.documentElement[r[e]]){t.available=!0,t.request=r[e];break}var s=["cancel"+n,"exit"+i,"webkitCancel"+n,"webkitExit"+i,"msCancel"+n,"msExit"+i,"mozCancel"+n,"mozExit"+i];if(t.available){for(e=0;e<s.length;e++)if(document[s[e]]){t.cancel=s[e];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}()},31784:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(84148),r={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};e.exports=("function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(r.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(r.mspointer=!0),navigator.getGamepads&&(r.gamepads=!0),"onwheel"in window||n.ie&&"WheelEvent"in window?r.wheelEvent="wheel":"onmousewheel"in window?r.wheelEvent="mousewheel":n.firefox&&"MouseScrollEvent"in window&&(r.wheelEvent="DOMMouseScroll")),r)},25892:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};e.exports=function(){if("function"==typeof importScripts)return t;var e=navigator.userAgent;/Windows/.test(e)?t.windows=!0:/Mac OS/.test(e)&&!/like Mac OS/.test(e)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(t.iOS=!0,t.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),t.iOSVersion=parseInt(RegExp.$1,10)):t.macOS=!0:/Android/.test(e)?t.android=!0:/Linux/.test(e)?t.linux=!0:/iP[ao]d|iPhone/i.test(e)?(t.iOS=!0,navigator.appVersion.match(/OS (\d+)/),t.iOSVersion=parseInt(RegExp.$1,10),t.iPhone=-1!==e.toLowerCase().indexOf("iphone"),t.iPad=-1!==e.toLowerCase().indexOf("ipad")):/Kindle/.test(e)||/\bKF[A-Z][A-Z]+/.test(e)||/Silk.*Mobile Safari/.test(e)?t.kindle=!0:/CrOS/.test(e)&&(t.chromeOS=!0),(/Windows Phone/i.test(e)||/IEMobile/i.test(e))&&(t.android=!1,t.iOS=!1,t.macOS=!1,t.windows=!0,t.windowsPhone=!0);var i=/Silk/.test(e);return(t.windows||t.macOS||t.linux&&!i||t.chromeOS)&&(t.desktop=!0),(t.windowsPhone||/Windows NT/i.test(e)&&/Touch/i.test(e))&&(t.desktop=!1),navigator.standalone&&(t.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(t.cordova=!0),void 0!==window.ejecta&&(t.ejecta=!0)),void 0!==s&&s.versions&&s.versions.node&&(t.node=!0),t.node&&"object"==typeof s.versions&&(t.nodeWebkit=!!s.versions["node-webkit"],t.electron=!!s.versions.electron),/Crosswalk/.test(e)&&(t.crosswalk=!0),t.pixelRatio=window.devicePixelRatio||1,t}()},43267:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540),r={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};e.exports=function(){if("function"==typeof importScripts)return r;var e=document.createElement("video"),t=!!e.canPlayType,i=/^no$/;try{t&&(e.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(r.ogg=!0),e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(r.h264=!0,r.mp4=!0),e.canPlayType("video/x-m4v").replace(i,"")&&(r.m4v=!0),e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(r.webm=!0),e.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(r.vp9=!0),e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(r.hls=!0))}catch(e){}return e.parentNode&&e.parentNode.removeChild(e),r.getVideoURL=function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i,s=n(e[t],"url",e[t]);if(0===s.indexOf("blob:"))return{url:s,type:""};if(i=0===s.indexOf("data:")?s.split(",")[0].match(/\/(.*?);/):s.match(/\.([a-zA-Z0-9]+)($|\?)/),r[i=n(e[t],"type",i?i[1]:"").toLowerCase()])return{url:s,type:i}}return null},r}()},82264:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=new Float32Array(20),s=new n({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(e){return this._matrix.set(e),this._dirty=!0,this},reset:function(){var e=this._matrix;return e.fill(0),e[0]=1,e[6]=1,e[12]=1,e[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var e=this._data;return this._dirty&&(e.set(this._matrix),e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,this._dirty=!1),e},brightness:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var i=e;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],t)},saturate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var i=2*e/3+1,n=-((i-1)*.5);return this.multiply([i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0],t)},desaturate:function(e){return void 0===e&&(e=!1),this.saturate(-1,e)},hue:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var i=Math.cos(e=e/180*Math.PI),n=Math.sin(e);return this.multiply([.213+.787*i+-(.213*n),.715+-(.715*i)+-(.715*n),.072+-(.072*i)+.928*n,0,0,.213+-(.213*i)+.143*n,.715+.28500000000000003*i+.14*n,.072+-(.072*i)+-.283*n,0,0,.213+-(.213*i)+-(.787*n),.715+-(.715*i)+.715*n,.072+.928*i+.072*n,0,0,0,0,0,1,0],t)},grayscale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!1),this.saturate(-e,t)},blackWhite:function(e){return void 0===e&&(e=!1),this.multiply(s.BLACK_WHITE,e)},contrast:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var i=e+1,n=-.5*(i-1);return this.multiply([i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0],t)},negative:function(e){return void 0===e&&(e=!1),this.multiply(s.NEGATIVE,e)},desaturateLuminance:function(e){return void 0===e&&(e=!1),this.multiply(s.DESATURATE_LUMINANCE,e)},sepia:function(e){return void 0===e&&(e=!1),this.multiply(s.SEPIA,e)},night:function(e,t){return void 0===e&&(e=.1),void 0===t&&(t=!1),this.multiply([-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)},lsd:function(e){return void 0===e&&(e=!1),this.multiply(s.LSD,e)},brown:function(e){return void 0===e&&(e=!1),this.multiply(s.BROWN,e)},vintagePinhole:function(e){return void 0===e&&(e=!1),this.multiply(s.VINTAGE,e)},kodachrome:function(e){return void 0===e&&(e=!1),this.multiply(s.KODACHROME,e)},technicolor:function(e){return void 0===e&&(e=!1),this.multiply(s.TECHNICOLOR,e)},polaroid:function(e){return void 0===e&&(e=!1),this.multiply(s.POLAROID,e)},shiftToBGR:function(e){return void 0===e&&(e=!1),this.multiply(s.SHIFT_BGR,e)},multiply:function(e,t){void 0===t&&(t=!1),t||this.reset();var i=this._matrix;return r.set(i),i.set([r[0]*e[0]+r[1]*e[5]+r[2]*e[10]+r[3]*e[15],r[0]*e[1]+r[1]*e[6]+r[2]*e[11]+r[3]*e[16],r[0]*e[2]+r[1]*e[7]+r[2]*e[12]+r[3]*e[17],r[0]*e[3]+r[1]*e[8]+r[2]*e[13]+r[3]*e[18],r[0]*e[4]+r[1]*e[9]+r[2]*e[14]+r[3]*e[19]+r[4],r[5]*e[0]+r[6]*e[5]+r[7]*e[10]+r[8]*e[15],r[5]*e[1]+r[6]*e[6]+r[7]*e[11]+r[8]*e[16],r[5]*e[2]+r[6]*e[7]+r[7]*e[12]+r[8]*e[17],r[5]*e[3]+r[6]*e[8]+r[7]*e[13]+r[8]*e[18],r[5]*e[4]+r[6]*e[9]+r[7]*e[14]+r[8]*e[19]+r[9],r[10]*e[0]+r[11]*e[5]+r[12]*e[10]+r[13]*e[15],r[10]*e[1]+r[11]*e[6]+r[12]*e[11]+r[13]*e[16],r[10]*e[2]+r[11]*e[7]+r[12]*e[12]+r[13]*e[17],r[10]*e[3]+r[11]*e[8]+r[12]*e[13]+r[13]*e[18],r[10]*e[4]+r[11]*e[9]+r[12]*e[14]+r[13]*e[19]+r[14],r[15]*e[0]+r[16]*e[5]+r[17]*e[10]+r[18]*e[15],r[15]*e[1]+r[16]*e[6]+r[17]*e[11]+r[18]*e[16],r[15]*e[2]+r[16]*e[7]+r[17]*e[12]+r[18]*e[17],r[15]*e[3]+r[16]*e[8]+r[17]*e[13]+r[18]*e[18],r[15]*e[4]+r[16]*e[9]+r[17]*e[14]+r[18]*e[19]+r[19]]),this._dirty=!0,this}});s.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],s.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e.exports=s},51767:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(29747),s=new n({initialize:function(e,t,i){this._rgb=[0,0,0],this.onChangeCallback=r,this.dirty=!1,this.set(e,t,i)},set:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this._rgb=[e,t,i],this.onChange(),this},equals:function(e,t,i){var n=this._rgb;return n[0]===e&&n[1]===t&&n[2]===i},onChange:function(){this.dirty=!0;var e=this._rgb;this.onChangeCallback.call(this,e[0],e[1],e[2])},r:{get:function(){return this._rgb[0]},set:function(e){this._rgb[0]=e,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(e){this._rgb[1]=e,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(e){this._rgb[2]=e,this.onChange()}},destroy:function(){this.onChangeCallback=null}});e.exports=s},60461:e=>{e.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(35893),s=i(86327),a=i(88417);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},46768:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(26541),s=i(86327),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)-i),s(e,n(t)+o),e}},35827:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(54380),s=i(86327),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},46871:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66786),r=i(35893),s=i(7702);e.exports=function(e,t,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),n(e,r(t)+i,s(t)+a),e}},5198:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7702),r=i(26541),s=i(20786),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)-i),s(e,n(t)+o),e}},11879:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60461),r=[];r[n.BOTTOM_CENTER]=i(54312),r[n.BOTTOM_LEFT]=i(46768),r[n.BOTTOM_RIGHT]=i(35827),r[n.CENTER]=i(46871),r[n.LEFT_CENTER]=i(5198),r[n.RIGHT_CENTER]=i(80503),r[n.TOP_CENTER]=i(89698),r[n.TOP_LEFT]=i(922),r[n.TOP_RIGHT]=i(21373),r[n.LEFT_BOTTOM]=r[n.BOTTOM_LEFT],r[n.LEFT_TOP]=r[n.TOP_LEFT],r[n.RIGHT_BOTTOM]=r[n.BOTTOM_RIGHT],r[n.RIGHT_TOP]=r[n.TOP_RIGHT],e.exports=function(e,t,i,n,s){return r[i](e,t,n,s)}},80503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7702),r=i(54380),s=i(20786),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},89698:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35893),r=i(17717),s=i(88417),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)+i),a(e,r(t)-o),e}},922:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26541),r=i(17717),s=i(385),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)-i),a(e,r(t)-o),e}},21373:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54380),r=i(17717),s=i(40136),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)+i),a(e,r(t)-o),e}},91660:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60461),r=i(79291),s={In:i(91660),To:i(16694)};s=r(!1,s,n),e.exports=s},21578:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(35893),s=i(88417),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,r(t)+i),a(e,n(t)+o),e}},10210:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(26541),s=i(385),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,r(t)-i),a(e,n(t)+o),e}},82341:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(54380),s=i(40136),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,r(t)+i),a(e,n(t)+o),e}},87958:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(26541),s=i(86327),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)-i),s(e,n(t)+o),e}},40080:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7702),r=i(26541),s=i(20786),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)-i),s(e,n(t)+o),e}},88466:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26541),r=i(17717),s=i(40136),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)-i),a(e,r(t)-o),e}},38829:(e,t,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60461),r=[];r[n.BOTTOM_CENTER]=i(21578),r[n.BOTTOM_LEFT]=i(10210),r[n.BOTTOM_RIGHT]=i(82341),r[n.LEFT_BOTTOM]=i(87958),r[n.LEFT_CENTER]=i(40080),r[n.LEFT_TOP]=i(88466),r[n.RIGHT_BOTTOM]=i(19211),r[n.RIGHT_CENTER]=i(34609),r[n.RIGHT_TOP]=i(48741),r[n.TOP_CENTER]=i(49440),r[n.TOP_LEFT]=i(81288),r[n.TOP_RIGHT]=i(61323),e.exports=function(e,t,i,n,s){return r[i](e,t,n,s)}},19211:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(54380),s=i(86327),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},34609:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7702),r=i(54380),s=i(20786),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},48741:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54380),r=i(17717),s=i(385),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)+i),a(e,r(t)-o),e}},49440:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35893),r=i(17717),s=i(86327),a=i(88417);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)+i),s(e,r(t)-o),e}},81288:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26541),r=i(17717),s=i(86327),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)-i),s(e,r(t)-o),e}},61323:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54380),r=i(17717),s=i(86327),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)+i),s(e,r(t)-o),e}},16694:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(88417),r=i(20786);e.exports=function(e,t,i){return n(e,t),r(e,i)}},62235:e=>{e.exports=function(e){return e.y+e.height-e.height*e.originY}},72873:(e,t,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(26541),s=i(54380),a=i(17717),o=i(87841);e.exports=function(e,t){void 0===t&&(t=new o);var i=r(e),l=a(e);return t.x=i,t.y=l,t.width=s(e)-i,t.height=n(e)-l,t}},35893:e=>{e.exports=function(e){return e.x-e.width*e.originX+.5*e.width}},7702:e=>{e.exports=function(e){return e.y-e.height*e.originY+.5*e.height}},26541:e=>{e.exports=function(e){return e.x-e.width*e.originX}},87431:e=>{e.exports=function(e){return e.width*e.originX}},46928:e=>{e.exports=function(e){return e.height*e.originY}},54380:e=>{e.exports=function(e){return e.x+e.width-e.width*e.originX}},17717:e=>{e.exports=function(e){return e.y-e.height*e.originY}},86327:e=>{e.exports=function(e,t){return e.y=t-e.height+e.height*e.originY,e}},88417:e=>{e.exports=function(e,t){var i=e.width*e.originX;return e.x=t+i-.5*e.width,e}},20786:e=>{e.exports=function(e,t){var i=e.height*e.originY;return e.y=t+i-.5*e.height,e}},385:e=>{e.exports=function(e,t){return e.x=t+e.width*e.originX,e}},40136:e=>{e.exports=function(e,t){return e.x=t-e.width+e.width*e.originX,e}},66737:e=>{e.exports=function(e,t){return e.y=t+e.height*e.originY,e}},58724:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:e=>{e.exports={setCrisp:function(e){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(t){e.style["image-rendering"]=t}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}}},27919:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n,r,s,a=i(8054),o=i(68703),l=[],h=!1;e.exports=(n=function(e,t,i,n,s){void 0===t&&(t=1),void 0===i&&(i=1),void 0===n&&(n=a.CANVAS),void 0===s&&(s=!1);var u,c=r(n);return null===c?(c={parent:e,canvas:document.createElement("canvas"),type:n},n===a.CANVAS&&l.push(c)):c.parent=e,u=c.canvas,s&&(c.parent=u),u.width=t,u.height=i,h&&n===a.CANVAS&&o.disable(u.getContext("2d",{willReadFrequently:!1})),u},r=function(e){if(void 0===e&&(e=a.CANVAS),e===a.WEBGL)return null;for(var t=0;t<l.length;t++){var i=l[t];if(!i.parent&&i.type===e)return i}return null},s=function(){var e=0;return l.forEach(function(t){t.parent&&e++}),e},{create2D:function(e,t,i){return n(e,t,i,a.CANVAS)},create:n,createWebGL:function(e,t,i){return n(e,t,i,a.WEBGL)},disableSmoothing:function(){h=!0},enableSmoothing:function(){h=!1},first:r,free:function(){return l.length-s()},pool:l,remove:function(e){var t=e instanceof HTMLCanvasElement;l.forEach(function(i){(t&&i.canvas===e||!t&&i.parent===e)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)})},total:s})},68703:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,i="";e.exports={disable:function(e){return""===i&&(i=t(e)),i&&(e[i]=!1),e},enable:function(e){return""===i&&(i=t(e)),i&&(e[i]=!0),e},getPrefix:t=function(e){for(var t=["i","webkitI","msI","mozI","oI"],i=0;i<t.length;i++){var n=t[i]+"mageSmoothingEnabled";if(n in e)return n}return null},isEnabled:function(e){return null!==i?e[i]:null}}},65208:e=>{e.exports=function(e,t){return void 0===t&&(t="none"),e.style.msTouchAction=t,e.style["ms-touch-action"]=t,e.style["touch-action"]=t,e}},91610:e=>{e.exports=function(e,t){return void 0===t&&(t="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(i){e.style[i+"user-select"]=t}),e.style["-webkit-touch-callout"]=t,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e}},26253:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37589),s=i(1e3),a=i(7537),o=i(87837),l=new n({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(e,t,i,n)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(e,t,i,n,r){return void 0===n&&(n=255),void 0===r&&(r=!0),this._locked=!0,this.red=e,this.green=t,this.blue=i,this.alpha=n,this._locked=!1,this.update(r)},setGLTo:function(e,t,i,n){return void 0===n&&(n=1),this._locked=!0,this.redGL=e,this.greenGL=t,this.blueGL=i,this.alphaGL=n,this._locked=!1,this.update(!0)},setFromRGB:function(e){return this._locked=!0,this.red=e.r,this.green=e.g,this.blue=e.b,e.hasOwnProperty("a")&&(this.alpha=e.a),this._locked=!1,this.update(!0)},setFromHSV:function(e,t,i){return a(e,t,i,this)},update:function(e){if(void 0===e&&(e=!1),this._locked)return this;var t=this.r,i=this.g,n=this.b,a=this.a;return this._color=r(t,i,n),this._color32=s(t,i,n,a),this._rgba="rgba("+t+","+i+","+n+","+a/255+")",e&&o(t,i,n,this),this},updateHSV:function(){return o(this.r,this.g,this.b,this),this},clone:function(){return new l(this.r,this.g,this.b,this.a)},gray:function(e){return this.setTo(e,e,e)},random:function(e,t){void 0===e&&(e=0),void 0===t&&(t=255);var i=Math.floor(e+Math.random()*(t-e)),n=Math.floor(e+Math.random()*(t-e)),r=Math.floor(e+Math.random()*(t-e));return this.setTo(i,n,r)},randomGray:function(e,t){void 0===e&&(e=0),void 0===t&&(t=255);var i=Math.floor(e+Math.random()*(t-e));return this.setTo(i,i,i)},saturate:function(e){return this.s+=e/100,this},desaturate:function(e){return this.s-=e/100,this},lighten:function(e){return this.v+=e/100,this},darken:function(e){return this.v-=e/100,this},brighten:function(e){var t=this.r,i=this.g,n=this.b;return t=Math.max(0,Math.min(255,t-Math.round(-(e/100*255)))),i=Math.max(0,Math.min(255,i-Math.round(-(e/100*255)))),n=Math.max(0,Math.min(255,n-Math.round(-(e/100*255)))),this.setTo(t,i,n)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(e){this.gl[0]=Math.min(Math.abs(e),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(e){this.gl[1]=Math.min(Math.abs(e),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(e){this.gl[2]=Math.min(Math.abs(e),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(e){this.gl[3]=Math.min(Math.abs(e),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(e){e=Math.floor(Math.abs(e)),this.r=Math.min(e,255),this.gl[0]=e/255,this.update(!0)}},green:{get:function(){return this.g},set:function(e){e=Math.floor(Math.abs(e)),this.g=Math.min(e,255),this.gl[1]=e/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(e){e=Math.floor(Math.abs(e)),this.b=Math.min(e,255),this.gl[2]=e/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(e){e=Math.floor(Math.abs(e)),this.a=Math.min(e,255),this.gl[3]=e/255,this.update()}},h:{get:function(){return this._h},set:function(e){this._h=e,a(e,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(e){this._s=e,a(this._h,e,this._v,this)}},v:{get:function(){return this._v},set:function(e){this._v=e,a(this._h,this._s,e,this)}}});e.exports=l},92728:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37589);e.exports=function(e){void 0===e&&(e=1024);var t,i=[],r=255,s=0,a=0;for(t=0;t<=255;t++)i.push({r:r,g:t,b:a,color:n(r,t,a)});for(t=255,s=255;t>=0;t--)i.push({r:t,g:s,b:a,color:n(t,s,a)});for(t=0,r=0;t<=255;t++,s--)i.push({r:r,g:s,b:t,color:n(r,s,t)});for(t=0,s=0,a=255;t<=255;t++,a--,r++)i.push({r:r,g:s,b:a,color:n(r,s,a)});if(1024===e)return i;var o=[],l=0,h=1024/e;for(t=0;t<e;t++)o.push(i[Math.floor(l)]),l+=h;return o}},91588:e=>{e.exports=function(e){var t={r:e>>16&255,g:e>>8&255,b:255&e,a:255};return e>0xffffff&&(t.a=e>>>24),t}},62957:e=>{e.exports=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}},37589:e=>{e.exports=function(e,t,i){return e<<16|t<<8|i}},1e3:e=>{e.exports=function(e,t,i,n){return n<<24|e<<16|t<<8|i}},62183:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987),r=i(89528);e.exports=function(e,t,i){var s=i,a=i,o=i;if(0!==t){var l=i<.5?i*(1+t):i+t-i*t,h=2*i-l;s=r(h,l,e+1/3),a=r(h,l,e),o=r(h,l,e-1/3)}return new n().setGLTo(s,a,o,1)}},27939:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7537);e.exports=function(e,t){void 0===e&&(e=1),void 0===t&&(t=1);for(var i=[],r=0;r<=359;r++)i.push(n(r/359,e,t));return i}},7537:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37589);function r(e,t,i,n){var r=(e+6*t)%6;return Math.round(255*(n-n*i*Math.max(0,Math.min(r,4-r,1))))}e.exports=function(e,t,i,s){void 0===t&&(t=1),void 0===i&&(i=1);var a=r(5,e,t,i),o=r(3,e,t,i),l=r(1,e,t,i);return s?s.setTo?s.setTo(a,o,l,s.alpha,!0):(s.r=a,s.g=o,s.b=l,s.color=n(a,o,l),s):{r:a,g:o,b:l,color:n(a,o,l)}}},70238:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987);e.exports=function(e){var t=new n;e=e.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(i){var r=parseInt(i[1],16),s=parseInt(i[2],16),a=parseInt(i[3],16);t.setTo(r,s,a)}return t}},89528:e=>{e.exports=function(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}},30100:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987),r=i(90664);e.exports=function(e){var t=r(e);return new n(t.r,t.g,t.b,t.a)}},90664:e=>{e.exports=function(e){return e>0xffffff?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:255&e}:{a:255,r:e>>16&255,g:e>>8&255,b:255&e}}},13699:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28915),r=function(e,t,i,r,s,a,o,l){void 0===o&&(o=100),void 0===l&&(l=0);var h=l/o;return{r:n(e,r,h),g:n(t,s,h),b:n(i,a,h)}};e.exports={RGBWithRGB:r,ColorWithRGB:function(e,t,i,n,s,a){return void 0===s&&(s=100),void 0===a&&(a=0),r(e.r,e.g,e.b,t,i,n,s,a)},ColorWithColor:function(e,t,i,n){return void 0===i&&(i=100),void 0===n&&(n=0),r(e.r,e.g,e.b,t.r,t.g,t.b,i,n)}}},68957:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987);e.exports=function(e){return new n(e.r,e.g,e.b,e.a)}},87388:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987);e.exports=function(e){var t=new n,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(e.toLowerCase());if(i){var r=parseInt(i[1],10),s=parseInt(i[2],10),a=parseInt(i[3],10),o=void 0!==i[4]?parseFloat(i[4]):1;t.setTo(r,s,a,255*o)}return t}},87837:e=>{e.exports=function(e,t,i,n){void 0===n&&(n={h:0,s:0,v:0});var r=Math.min(e/=255,t/=255,i/=255),s=Math.max(e,t,i),a=s-r,o=0,l=0===s?0:a/s;return s!==r&&(s===e?o=(t-i)/a+(t<i?6:0):s===t?o=(i-e)/a+2:s===i&&(o=(e-t)/a+4),o/=6),n.hasOwnProperty("_h")?(n._h=o,n._s=l,n._v=s):(n.h=o,n.s=l,n.v=s),n}},75723:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62957);e.exports=function(e,t,i,r,s){return(void 0===r&&(r=255),void 0===s&&(s="#"),"#"===s)?"#"+(0x1000000+(e<<16)+(t<<8)+i).toString(16).slice(1,7):"0x"+n(r)+n(e)+n(t)+n(i)}},85386:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30976),r=i(40987);e.exports=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=255),new r(n(e,t),n(e,t),n(e,t))}},80333:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70238),r=i(30100),s=i(68957),a=i(87388);e.exports=function(e){switch(typeof e){case"string":if("rgb"===e.substr(0,3).toLowerCase())return a(e);return n(e);case"number":return r(e);case"object":return s(e)}}},3956:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987);n.ColorSpectrum=i(92728),n.ColorToRGBA=i(91588),n.ComponentToHex=i(62957),n.GetColor=i(37589),n.GetColor32=i(1e3),n.HexStringToColor=i(70238),n.HSLToColor=i(62183),n.HSVColorWheel=i(27939),n.HSVToRGB=i(7537),n.HueToComponent=i(89528),n.IntegerToColor=i(30100),n.IntegerToRGB=i(90664),n.Interpolate=i(13699),n.ObjectToColor=i(68957),n.RandomRGB=i(85386),n.RGBStringToColor=i(87388),n.RGBToHSV=i(87837),n.RGBToString=i(75723),n.ValueToColor=i(80333),e.exports=n},27460:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(39429),s=new n({initialize:function(e,t,i,n,r,s){t||(t=e.sys.make.image({x:i,y:n,key:r,frame:s,add:!1})),this.bitmapMask=t,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(e){this.bitmapMask=e},preRenderWebGL:function(e,t,i){e.pipelines.BITMAPMASK_PIPELINE.beginMask(this,t,i)},postRenderWebGL:function(e,t,i){e.pipelines.BITMAPMASK_PIPELINE.endMask(this,t,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});r.register("bitmapMask",function(e,t,i,n,r){return new s(this.scene,e,t,i,n,r)}),e.exports=s},80661:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t){this.geometryMask=t,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(e){return this.geometryMask=e,this},setInvertAlpha:function(e){return void 0===e&&(e=!0),this.invertAlpha=e,this},preRenderWebGL:function(e,t,i){var n=e.gl;e.flush(),0===e.maskStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),e.maskCount=0),e.currentCameraMask.mask!==this&&(e.currentMask.mask=this),e.maskStack.push({mask:this,camera:i}),this.applyStencil(e,i,!0),e.maskCount++},applyStencil:function(e,t,i){var n=e.gl,r=this.geometryMask,s=e.maskCount;n.colorMask(!1,!1,!1,!1),i?(n.stencilFunc(n.EQUAL,s,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR),s++):(n.stencilFunc(n.EQUAL,s+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=s,r.renderWebGL(e,r,t),e.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,s,255):n.stencilFunc(n.EQUAL,s,255)},postRenderWebGL:function(e){var t=e.gl;e.maskStack.pop(),e.maskCount--,e.flush();var i=e.currentMask;if(0===e.maskStack.length)i.mask=null,t.disable(t.STENCIL_TEST);else{var n=e.maskStack[e.maskStack.length-1];n.mask.applyStencil(e,n.camera,!1),e.currentCameraMask.mask!==n.mask?(i.mask=n.mask,i.camera=n.camera):i.mask=null}},preRenderCanvas:function(e,t,i){var n=this.geometryMask;e.currentContext.save(),n.renderCanvas(e,n,i,null,null,!0),e.currentContext.clip()},postRenderCanvas:function(e){e.currentContext.restore()},destroy:function(){this.geometryMask=null}});e.exports=n},69781:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n){t&&""!==t||(t="precision mediump float;\nuniform vec2 resolution;\nvarying vec2 fragCoord;\nvoid main () {\n    vec2 uv = fragCoord / resolution.xy;\n    gl_FragColor = vec4(uv.xyx, 1.0);\n}"),i&&""!==i||(i="precision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nvarying vec2 fragCoord;\nvarying vec2 outTexCoord;\nvoid main () {\n   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);\n   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);\n   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);\n}"),void 0===n&&(n=null),this.key=e,this.fragmentSrc=t,this.vertexSrc=i,this.uniforms=n}});e.exports=n},40366:e=>{e.exports=function(e,t){var i;if(t)"string"==typeof t?i=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(i=t);else if(e.parentElement||null===t)return e;return i||(i=document.body),i.appendChild(e),e}},83719:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40366);e.exports=function(e){var t=e.config;if(t.parent&&t.domCreateContainer){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+e.scale.width+"px;","height: "+e.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+t.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),e.domContainer=i,n(i,t.parent)}}},57264:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25892);e.exports=function(e){if("complete"===document.readyState||"interactive"===document.readyState){e();return}var t=function(){document.removeEventListener("deviceready",t,!0),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0),e()};document.body?n.cordova?document.addEventListener("deviceready",t,!1):(document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)):window.setTimeout(t,20)}},57811:e=>{e.exports=function(e){if(!e)return window.innerHeight;var t=Math.abs(window.orientation),i={w:0,h:0},n=document.createElement("div");return(n.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(n),i.w=90===t?n.offsetHeight:window.innerWidth,i.h=90===t?window.innerWidth:n.offsetHeight,document.documentElement.removeChild(n),n=null,90!==Math.abs(window.orientation))?i.h:i.w}},45818:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13560);e.exports=function(e,t){var i=window.screen,r=!!i&&(i.orientation||i.mozOrientation||i.msOrientation);return r&&"string"==typeof r.type?r.type:"string"==typeof r?r:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?n.ORIENTATION.PORTRAIT:n.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?n.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?n.ORIENTATION.LANDSCAPE:void 0:t>e?n.ORIENTATION.PORTRAIT:n.ORIENTATION.LANDSCAPE}},74403:e=>{e.exports=function(e){var t;return""!==e&&("string"==typeof e?t=document.getElementById(e):e&&1===e.nodeType&&(t=e)),t||(t=document.body),t}},56836:e=>{e.exports=function(e){var t="";try{window.DOMParser?t=new DOMParser().parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e)}catch(e){t=null}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length?t:null}},35846:e=>{e.exports=function(e){e.parentNode&&e.parentNode.removeChild(e)}},43092:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(29747),s=new n({initialize:function(){this.isRunning=!1,this.callback=r,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var e=this;this.step=function t(i){e.callback(i),e.isRunning&&(e.timeOutID=window.requestAnimationFrame(t))},this.stepTimeout=function t(){e.isRunning&&(e.timeOutID=window.setTimeout(t,e.delay)),e.callback(window.performance.now())}},start:function(e,t,i){this.isRunning||(this.callback=e,this.isSetTimeOut=t,this.delay=i,this.isRunning=!0,this.timeOutID=t?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=r}});e.exports=s},84902:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};e.exports=n},47565:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(37277),a=new n({Extends:r,initialize:function(){r.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",a,"events"),e.exports=a},93055:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={EventEmitter:i(47565)}},20122:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t){void 0===t&&(t=1),r.call(this,s.BARREL,e),this.amount=t}});e.exports=a},32251:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,l){void 0===i&&(i=1),void 0===n&&(n=1),void 0===a&&(a=1),void 0===o&&(o=1),void 0===l&&(l=4),r.call(this,s.BLOOM,e),this.steps=l,this.offsetX=i,this.offsetY=n,this.blurStrength=a,this.strength=o,this.glcolor=[1,1,1],null!=t&&(this.color=t)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}}});e.exports=a},9047:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,l){void 0===t&&(t=0),void 0===i&&(i=2),void 0===n&&(n=2),void 0===a&&(a=1),void 0===l&&(l=4),r.call(this,s.BLUR,e),this.quality=t,this.x=i,this.y=n,this.steps=l,this.strength=a,this.glcolor=[1,1,1],null!=o&&(this.color=o)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}}});e.exports=a},27885:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,l,h){void 0===t&&(t=.5),void 0===i&&(i=1),void 0===n&&(n=.2),void 0===a&&(a=!1),void 0===o&&(o=1),void 0===l&&(l=1),void 0===h&&(h=1),r.call(this,s.BOKEH,e),this.radius=t,this.amount=i,this.contrast=n,this.isTiltShift=a,this.strength=h,this.blurX=o,this.blurY=l}});e.exports=a},12578:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o){void 0===t&&(t=8),void 0===a&&(a=1),void 0===o&&(o=.005),r.call(this,s.CIRCLE,e),this.scale=a,this.feather=o,this.thickness=t,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=i&&(this.color=i),null!=n&&(this.backgroundColor=n)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}},backgroundColor:{get:function(){var e=this.glcolor2;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor2;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(e){this.glcolor2[3]=e}}});e.exports=a},15802:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89422),s=i(14811),a=new n({Extends:r,initialize:function(e){r.call(this),this.type=s.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});e.exports=a},72898:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t){this.type=e,this.gameObject=t,this.active=!0},setActive:function(e){return this.active=e,this},destroy:function(){this.gameObject=null,this.active=!1}});e.exports=n},44553:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n){void 0===t&&(t="__WHITE"),void 0===i&&(i=.005),void 0===n&&(n=.005),r.call(this,s.DISPLACEMENT,e),this.x=i,this.y=n,this.glTexture,this.setTexture(t)},setTexture:function(e){var t=this.gameObject.scene.sys.textures.getFrame(e);return t&&(this.glTexture=t.glTexture),this}});e.exports=a},68531:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a){void 0===i&&(i=4),void 0===n&&(n=0),void 0===a&&(a=!1),r.call(this,s.GLOW,e),this.outerStrength=i,this.innerStrength=n,this.knockout=a,this.glcolor=[1,1,1,1],void 0!==t&&(this.color=t)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}}});e.exports=a},37102:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,l,h,u){void 0===n&&(n=.2),void 0===a&&(a=0),void 0===o&&(o=0),void 0===l&&(l=0),void 0===h&&(h=1),void 0===u&&(u=0),r.call(this,s.GRADIENT,e),this.alpha=n,this.size=u,this.fromX=a,this.fromY=o,this.toX=l,this.toY=h,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=t&&(this.color1=t),null!=i&&(this.color2=i)},color1:{get:function(){var e=this.glcolor1;return(e[0]<<16)+(e[1]<<8)+(0|e[2])},set:function(e){var t=this.glcolor1;t[0]=e>>16&255,t[1]=e>>8&255,t[2]=255&e}},color2:{get:function(){var e=this.glcolor2;return(e[0]<<16)+(e[1]<<8)+(0|e[2])},set:function(e){var t=this.glcolor2;t[0]=e>>16&255,t[1]=e>>8&255,t[2]=255&e}}});e.exports=a},86886:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t){void 0===t&&(t=1),r.call(this,s.PIXELATE,e),this.amount=t}});e.exports=a},92322:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,l,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=.1),void 0===a&&(a=1),void 0===l&&(l=6),void 0===h&&(h=1),r.call(this,s.SHADOW,e),this.x=t,this.y=i,this.decay=n,this.power=a,this.glcolor=[0,0,0,1],this.samples=l,this.intensity=h,void 0!==o&&(this.color=o)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}}});e.exports=a},39563:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a){void 0===t&&(t=.5),void 0===i&&(i=.5),void 0===n&&(n=3),void 0===a&&(a=!1),r.call(this,s.SHINE,e),this.speed=t,this.lineWidth=i,this.gradient=n,this.reveal=a}});e.exports=a},56448:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a){void 0===t&&(t=.5),void 0===i&&(i=.5),void 0===n&&(n=.5),void 0===a&&(a=.5),r.call(this,s.VIGNETTE,e),this.x=t,this.y=i,this.radius=n,this.strength=a}});e.exports=a},38433:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a){void 0===t&&(t=.1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=!1),r.call(this,s.WIPE,e),this.progress=0,this.wipeWidth=t,this.direction=i,this.axis=n,this.reveal=a}});e.exports=a},14811:e=>{e.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(14811),s={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};s=n(!1,s,r),e.exports=s},25305:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(23568);e.exports=function(e,t,i){t.x=r(i,"x",0),t.y=r(i,"y",0),t.depth=r(i,"depth",0),t.flipX=r(i,"flipX",!1),t.flipY=r(i,"flipY",!1);var s=r(i,"scale",null);"number"==typeof s?t.setScale(s):null!==s&&(t.scaleX=r(s,"x",1),t.scaleY=r(s,"y",1));var a=r(i,"scrollFactor",null);"number"==typeof a?t.setScrollFactor(a):null!==a&&(t.scrollFactorX=r(a,"x",1),t.scrollFactorY=r(a,"y",1)),t.rotation=r(i,"rotation",0);var o=r(i,"angle",null);null!==o&&(t.angle=o),t.alpha=r(i,"alpha",1);var l=r(i,"origin",null);if("number"==typeof l)t.setOrigin(l);else if(null!==l){var h=r(l,"x",.5),u=r(l,"y",.5);t.setOrigin(h,u)}return t.blendMode=r(i,"blendMode",n.NORMAL),t.visible=r(i,"visible",!0),r(i,"add",!0)&&e.sys.displayList.add(t),t.preUpdate&&e.sys.updateList.add(t),t}},13059:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23568);e.exports=function(e,t){var i=n(t,"anims",null);if(null===i)return e;if("string"==typeof i)e.anims.play(i);else if("object"==typeof i){var r=e.anims,s=n(i,"key",void 0);if(s){var a=n(i,"startFrame",void 0),o=n(i,"delay",0),l=n(i,"repeat",0),h=n(i,"repeatDelay",0),u=n(i,"yoyo",!1),c=n(i,"play",!1),d=n(i,"delayedPlay",0),f={key:s,delay:o,repeat:l,repeatDelay:h,yoyo:u,startFrame:a};c?r.play(f):d>0?r.playAfterDelay(f,d):r.load(f)}}return e}},8050:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(73162),s=i(37277),a=i(51708),o=i(44594),l=i(19186),h=new n({Extends:r,initialize:function(e){r.call(this,e),this.sortChildrenFlag=!1,this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(e){e.displayList&&e.displayList!==this&&e.removeFromDisplayList(),e.parentContainer&&e.parentContainer.remove(e),e.displayList||(this.queueDepthSort(),e.displayList=this,e.emit(a.ADDED_TO_SCENE,e,this.scene),this.events.emit(o.ADDED_TO_SCENE,e,this.scene))},removeChildCallback:function(e){this.queueDepthSort(),e.displayList=null,e.emit(a.REMOVED_FROM_SCENE,e,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,e,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(l(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,t){return e._depth-t._depth},getChildren:function(){return this.list},shutdown:function(){for(var e=this.list;e.length;)e[0].destroy(!0);this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",h,"displayList"),e.exports=h},95643:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(53774),s=i(45893),a=i(50792),o=i(51708),l=i(44594),h=new n({Extends:a,initialize:function(e,t){a.call(this),this.scene=e,this.displayList=null,this.type=t,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),e.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(e,t){return this.data||(this.data=new s(this)),this.data.set(e,t),this},incData:function(e,t){return this.data||(this.data=new s(this)),this.data.inc(e,t),this},toggleData:function(e){return this.data||(this.data=new s(this)),this.data.toggle(e),this},getData:function(e){return this.data||(this.data=new s(this)),this.data.get(e)},setInteractive:function(e,t,i){return this.scene.sys.input.enable(this,e,t,i),this},disableInteractive:function(e){return void 0===e&&(e=!1),this.scene.sys.input.disable(this,e),this},removeInteractive:function(e){return void 0===e&&(e=!1),this.scene.sys.input.clear(this),e&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(e){return!(!(!this.displayList||!this.displayList.active||this.displayList.willRender(e))||h.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,t=this.parentContainer,i=[];t;)if(i.unshift(t.getIndex(e)),e=t,t.parentContainer)t=t.parentContainer;else break;return this.displayList?i.unshift(this.displayList.getIndex(e)):i.unshift(this.scene.sys.displayList.getIndex(e)),i},addToDisplayList:function(e){return void 0===e&&(e=this.scene.sys.displayList),this.displayList&&this.displayList!==e&&this.removeFromDisplayList(),e.exists(this)||(this.displayList=e,e.add(this,!0),e.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),e.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var e=this.displayList||this.scene.sys.displayList;return e&&e.exists(this)&&(e.remove(this,!0),e.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),e.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var e=null;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e},destroy:function(e){this.scene&&!this.ignoreDestroy&&(void 0===e&&(e=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,e),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});h.RENDER_MASK=15,e.exports=h},44603:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37277),s=i(44594),a=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(e,t){a.prototype.hasOwnProperty(e)||(a.prototype[e]=t)},a.remove=function(e){a.prototype.hasOwnProperty(e)&&delete a.prototype[e]},r.register("GameObjectCreator",a,"make"),e.exports=a},39429:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37277),s=i(44594),a=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(e){return(e.renderCanvas||e.renderWebGL)&&this.displayList.add(e),e.preUpdate&&this.updateList.add(e),e},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(e,t){a.prototype.hasOwnProperty(e)||(a.prototype[e]=t)},a.remove=function(e){a.prototype.hasOwnProperty(e)&&delete a.prototype[e]},r.register("GameObjectFactory",a,"add"),e.exports=a},91296:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61340),r=new n,s=new n,a=new n,o={camera:r,sprite:s,calc:a};e.exports=function(e,t,i){return s.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),r.copyFrom(t.matrix),i?(r.multiplyWithOffset(i,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),s.e=e.x,s.f=e.y):(s.e-=t.scrollX*e.scrollFactorX,s.f-=t.scrollY*e.scrollFactorY),r.multiply(s,a),o}},45027:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(25774),s=i(37277),a=i(44594),o=new n({Extends:r,initialize:function(e){r.call(this),this.checkQueue=!0,this.scene=e,this.systems=e.sys,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(a.PRE_UPDATE,this.update,this),e.on(a.UPDATE,this.sceneUpdate,this),e.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,t){for(var i=this._active,n=i.length,r=0;r<n;r++){var s=i[r];s.active&&s.preUpdate.call(s,e,t)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var t=this.systems.events;t.off(a.PRE_UPDATE,this.update,this),t.off(a.UPDATE,this.sceneUpdate,this),t.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",o,"updateList"),e.exports=o},3217:e=>{e.exports=function(e,t,i,n,r,s,a,o,l,h,u,c,d,f,p){var m=i.x-t.displayOriginX+r,g=i.y-t.displayOriginY+s,v=m+i.w,y=g+i.h,b=a.a,x=a.b,E=a.c,w=a.d,S=a.e,T=a.f,A=m*b+g*E+S,_=m*x+g*w+T,C=m*b+y*E+S,I=m*x+y*w+T,P=v*b+y*E+S,R=v*x+y*w+T,O=v*b+g*E+S,M=v*x+g*w+T;o&&(A=Math.round(A),_=Math.round(_),C=Math.round(C),I=Math.round(I),P=Math.round(P),R=Math.round(R),O=Math.round(O),M=Math.round(M)),e.batchQuad(t,A,_,C,I,P,R,O,M,n.u0,n.v0,n.u1,n.v1,l,h,u,c,d,f,p)}},53048:e=>{e.exports=function(e,t,i,n){if(void 0===i&&(i=!1),void 0===n)return n={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var r,s,a,o=e.text,l=o.length,h=e.maxWidth,u=e.wordWrapCharCode,c=Number.MAX_VALUE,d=Number.MAX_VALUE,f=0,p=0,m=e.fontData.chars,g=e.fontData.lineHeight,v=e.letterSpacing,y=e.lineSpacing,b=0,x=0,E=0,w=null,S=e._align,T=0,A=0,_=e.fontSize/e.fontData.size,C=_*e.scaleX,I=_*e.scaleY,P=null,R=0,O=[],M=Number.MAX_VALUE,L=0,D=0,k=0,N=[],F=[],B=null;if(h>0){a=o.split("\n");var U=[];for(r=0;r<a.length;r++){var j=a[r],V="",G="",W="",z="";for(s=0;s<j.length;s++)E=j.charCodeAt(s),V+=j[s],(E===u||s===j.length-1)&&(function(e,t){for(var i=0,n=0;n<e.length;n++){var r=e.charCodeAt(n),s=t.chars[r];s&&(i+=s.xAdvance)}return i*C}(z=W+V,e.fontData)<=h?W=z:(G=G.slice(0,-1),G+=(G?"\n":"")+W,W=V),V="");G=G.slice(0,-1),G+=(G?"\n":"")+W,U.push(G)}o=U.join("\n"),n.wrappedText=o,l=o.length}var Y=0;for(r=0;r<l;r++){if(10===(E=o.charCodeAt(r))){null!==B&&(N.push({word:B.word,i:B.i,x:B.x*C,y:B.y*I,w:B.w*C,h:B.h*I}),B=null),P=null,O[D]=k,k>L&&(L=k),k<M&&(M=k),k=0,b=0,x=(g+y)*++D;continue}if(w=m[E]){if(T=b,A=x,null!==P){var H=w.kerning[R];T+=void 0!==H?H:0}c>T&&(c=T),d>A&&(d=A);var X=T+w.xAdvance,q=A+g;f<X&&(f=X),p<q&&(p=q);var K=w.xOffset+w.xAdvance+(void 0!==H?H:0);E===u?null!==B&&(N.push({word:B.word,i:B.i,x:B.x*C,y:B.y*I,w:B.w*C,h:B.h*I}),B=null):(null===B&&(B={word:"",i:Y,x:b,y:x,w:0,h:g}),B.word=B.word.concat(o[r]),B.w+=K),F.push({i:Y,idx:r,char:o[r],code:E,x:(w.xOffset+T)*_,y:(w.yOffset+x)*_,w:w.width*_,h:w.height*_,t:x*_,r:X*_,b:g*_,line:D,glyph:w}),b+=w.xAdvance+v+(void 0!==H?H:0),P=w,R=E,k=X*_,Y++}}if(null!==B&&N.push({word:B.word,i:B.i,x:B.x*C,y:B.y*I,w:B.w*C,h:B.h*I}),O[D]=k,k>L&&(L=k),k<M&&(M=k),S>0)for(var $=0;$<F.length;$++){var Q=F[$];if(1===S){var J=(L-O[Q.line])/2;Q.x+=J,Q.r+=J}else if(2===S){var Z=L-O[Q.line];Q.x+=Z,Q.r+=Z}}var ee=n.local,et=n.global;return a=n.lines,ee.x=c*_,ee.y=d*_,ee.width=f*_,ee.height=p*_,et.x=e.x-e._displayOriginX+c*C,et.y=e.y-e._displayOriginY+d*I,et.width=f*C,et.height=p*I,a.shortest=M,a.longest=L,a.lengths=O,t&&(ee.x=Math.ceil(ee.x),ee.y=Math.ceil(ee.y),ee.width=Math.ceil(ee.width),ee.height=Math.ceil(ee.height),et.x=Math.ceil(et.x),et.y=Math.ceil(et.y),et.width=Math.ceil(et.width),et.height=Math.ceil(et.height),a.shortest=Math.ceil(M),a.longest=Math.ceil(L)),i&&(e._displayOriginX=e.originX*ee.width,e._displayOriginY=e.originY*ee.height,et.x=e.x-e._displayOriginX*e.scaleX,et.y=e.y-e._displayOriginY*e.scaleY,t&&(et.x=Math.ceil(et.x),et.y=Math.ceil(et.y))),n.words=N,n.characters=F,n.lines.height=g,n.scale=_,n.scaleX=e.scaleX,n.scaleY=e.scaleY,n}},61327:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(21859);e.exports=function(e,t,i,r,s,a,o){var l=e.sys.textures.get(i),h=l.get(r),u=e.sys.cache.xml.get(s);if(!h||!u)return!1;var c=n(u,h,a,o,l);return e.sys.cache.bitmapFont.add(t,{data:c,texture:i,frame:r,fromAtlas:!0}),!0}},6925:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154);e.exports=function(e,t){var i=t.width,r=t.height,s=Math.floor(i/2),a=Math.floor(r/2),o=n(t,"chars","");if(""!==o){var l=n(t,"image",""),h=e.sys.textures.getFrame(l),u=h.cutX,c=h.cutY,d=h.source.width,f=h.source.height,p=n(t,"offset.x",0),m=n(t,"offset.y",0),g=n(t,"spacing.x",0),v=n(t,"spacing.y",0),y=n(t,"lineSpacing",0),b=n(t,"charsPerRow",null);null===b&&(b=d/i)>o.length&&(b=o.length);for(var x=p,E=m,w={retroFont:!0,font:l,size:i,lineHeight:r+y,chars:{}},S=0,T=0;T<o.length;T++){var A=o.charCodeAt(T),_=(u+x)/d,C=(c+E)/f,I=(u+x+i)/d,P=(c+E+r)/f;w.chars[A]={x:x,y:E,width:i,height:r,centerX:s,centerY:a,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{},u0:_,v0:C,u1:I,v1:P},++S===b?(S=0,x=p,E+=r+v):x+=i+g}return{data:w,frame:null,texture:l}}}},21859:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e,t){return parseInt(e.getAttribute(t),10)}e.exports=function(e,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0);var a=i.cutX,o=i.cutY,l=i.source.width,h=i.source.height,u=i.sourceIndex,c={},d=e.getElementsByTagName("info")[0],f=e.getElementsByTagName("common")[0];c.font=d.getAttribute("face"),c.size=t(d,"size"),c.lineHeight=t(f,"lineHeight")+r,c.chars={};var p=e.getElementsByTagName("char"),m=void 0!==i&&i.trimmed;if(m)var g=i.height,v=i.width;for(var y=0;y<p.length;y++){var b=p[y],x=t(b,"id"),E=String.fromCharCode(x),w=t(b,"x"),S=t(b,"y"),T=t(b,"width"),A=t(b,"height");m&&(w<v&&(v=w),S<g&&(g=S)),m&&0!==g&&0!==v&&(w-=i.x,S-=i.y);var _=(a+w)/l,C=(o+S)/h,I=(a+w+T)/l,P=(o+S+A)/h;if(c.chars[x]={x:w,y:S,width:T,height:A,centerX:Math.floor(T/2),centerY:Math.floor(A/2),xOffset:t(b,"xoffset"),yOffset:t(b,"yoffset"),xAdvance:t(b,"xadvance")+n,data:{},kerning:{},u0:_,v0:C,u1:I,v1:P},s&&0!==T&&0!==A){var R=s.add(E,u,w,S,T,A);R&&R.setUVs(T,A,_,C,I,P)}}var O=e.getElementsByTagName("kerning");for(y=0;y<O.length;y++){var M=O[y],L=t(M,"first"),D=t(M,"second"),k=t(M,"amount");c.chars[D].kerning[L]=k}return c}},196:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87662),r=i(79291),s={Parse:i(6925)};s=r(!1,s,n),e.exports=s},87662:e=>{e.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},2638:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22186),r=new(i(83419))({Extends:n,Mixins:[i(12310)],initialize:function(e,t,i,r,s,a,o){n.call(this,e,t,i,r,s,a,o),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(e,t){return this.cropWidth=e,this.cropHeight=t,this},setDisplayCallback:function(e){return this.displayCallback=e,this},setScrollX:function(e){return this.scrollX=e,this},setScrollY:function(e){return this.scrollY=e,this}});e.exports=r},86741:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20926);e.exports=function(e,t,i,r){var s=t._text,a=s.length,o=e.currentContext;if(0!==a&&n(e,o,t,i,r)){i.addToRenderList(t);var l=t.fromAtlas?t.frame:t.texture.frames.__BASE,h=t.displayCallback,u=t.callbackData,c=t.fontData.chars,d=t.fontData.lineHeight,f=t._letterSpacing,p=0,m=0,g=0,v=null,y=0,b=0,x=0,E=0,w=0,S=0,T=null,A=0,_=t.frame.source.image,C=l.cutX,I=l.cutY,P=0,R=0,O=t._fontSize/t.fontData.size,M=t._align,L=0,D=0;t.getTextBounds(!1);var k=t._bounds.lines;1===M?D=(k.longest-k.lengths[0])/2:2===M&&(D=k.longest-k.lengths[0]),o.translate(-t.displayOriginX,-t.displayOriginY);var N=i.roundPixels;t.cropWidth>0&&t.cropHeight>0&&(o.beginPath(),o.rect(0,0,t.cropWidth,t.cropHeight),o.clip());for(var F=0;F<a;F++){if(R=O,P=0,10===(g=s.charCodeAt(F))){L++,1===M?D=(k.longest-k.lengths[L])/2:2===M&&(D=k.longest-k.lengths[L]),p=0,m+=d,T=null;continue}if(v=c[g]){if(y=C+v.x,b=I+v.y,x=v.width,E=v.height,w=v.xOffset+p-t.scrollX,S=v.yOffset+m-t.scrollY,null!==T){var B=v.kerning[A];w+=void 0!==B?B:0}if(h){u.index=F,u.charCode=g,u.x=w,u.y=S,u.scale=R,u.rotation=P,u.data=v.data;var U=h(u);w=U.x,S=U.y,R=U.scale,P=U.rotation}w*=R,S*=R,w+=D,p+=v.xAdvance+f+(void 0!==B?B:0),T=v,A=g,0!==x&&0!==E&&32!==g&&(N&&(w=Math.round(w),S=Math.round(S)),o.save(),o.translate(w,S),o.rotate(P),o.scale(R,R),o.drawImage(_,y,b,x,E,0,0,x,E),o.restore())}}o.restore()}}},11164:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2638),r=i(25305),s=i(44603),a=i(23568);s.register("dynamicBitmapText",function(e,t){void 0===e&&(e={});var i=a(e,"font",""),s=a(e,"text",""),o=a(e,"size",!1),l=new n(this.scene,0,0,i,s,o);return void 0!==t&&(e.add=t),r(this.scene,l,e),l})},72566:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2638);i(39429).register("dynamicBitmapText",function(e,t,i,r,s){return this.displayList.add(new n(this.scene,e,t,i,r,s))})},12310:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(73482),s=i(86741),e.exports={renderWebGL:r,renderCanvas:s}},73482:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(61340),s=i(70554),a=new r;e.exports=function(e,t,i,r){var o,l,h=t.text,u=h.length;if(0!==u){i.addToRenderList(t);var c=e.pipelines.set(t.pipeline,t),d=n(t,i,r);e.pipelines.preBatch(t);var f=d.sprite,p=d.calc,m=t.cropWidth>0||t.cropHeight>0;m&&(c.flush(),e.pushScissor(p.tx,p.ty,t.cropWidth*p.scaleX,t.cropHeight*p.scaleY));var g=t.frame.glTexture,v=t.tintFill,y=s.getTintAppendFloatAlpha(t.tintTopLeft,i.alpha*t._alphaTL),b=s.getTintAppendFloatAlpha(t.tintTopRight,i.alpha*t._alphaTR),x=s.getTintAppendFloatAlpha(t.tintBottomLeft,i.alpha*t._alphaBL),E=s.getTintAppendFloatAlpha(t.tintBottomRight,i.alpha*t._alphaBR),w=c.setGameObject(t),S=0,T=0,A=0,_=0,C=t.letterSpacing,I=0,P=0,R=t.scrollX,O=t.scrollY,M=t.fontData,L=M.chars,D=M.lineHeight,k=t.fontSize/M.size,N=0,F=t._align,B=0,U=0,j=t.getTextBounds(!1);t.maxWidth>0&&(u=(h=j.wrappedText).length);var V=t._bounds.lines;1===F?U=(V.longest-V.lengths[0])/2:2===F&&(U=V.longest-V.lengths[0]);for(var G=i.roundPixels,W=t.displayCallback,z=t.callbackData,Y=0;Y<u;Y++){if(10===(A=h.charCodeAt(Y))){B++,1===F?U=(V.longest-V.lengths[B])/2:2===F&&(U=V.longest-V.lengths[B]),S=0,T+=D,l=null;continue}if(o=L[A]){I=o.width,P=o.height;var H=o.xOffset+S-R,X=o.yOffset+T-O;if(null!==l){var q=o.kerning[_]||0;H+=q,S+=q}if(S+=o.xAdvance+C,l=o,_=A,0!==I&&0!==P&&32!==A){if(k=t.fontSize/t.fontData.size,N=0,W){z.color=0,z.tint.topLeft=y,z.tint.topRight=b,z.tint.bottomLeft=x,z.tint.bottomRight=E,z.index=Y,z.charCode=A,z.x=H,z.y=X,z.scale=k,z.rotation=N,z.data=o.data;var K=W(z);H=K.x,X=K.y,k=K.scale,N=K.rotation,K.color?(y=K.color,b=K.color,x=K.color,E=K.color):(y=K.tint.topLeft,b=K.tint.topRight,x=K.tint.bottomLeft,E=K.tint.bottomRight),y=s.getTintAppendFloatAlpha(y,i.alpha*t._alphaTL),b=s.getTintAppendFloatAlpha(b,i.alpha*t._alphaTR),x=s.getTintAppendFloatAlpha(x,i.alpha*t._alphaBL),E=s.getTintAppendFloatAlpha(E,i.alpha*t._alphaBR)}H*=k,X*=k,H-=t.displayOriginX,X-=t.displayOriginY,H+=U,a.applyITRS(H,X,N,k,k),p.multiply(a,f);var $=o.u0,Q=o.v0,J=o.u1,Z=o.v1,ee=I,et=P,ei=f.e,en=f.f,er=et*f.c+f.e,es=et*f.d+f.f,ea=ee*f.a+et*f.c+f.e,eo=ee*f.b+et*f.d+f.f,el=ee*f.a+f.e,eh=ee*f.b+f.f;G&&(ei=Math.round(ei),en=Math.round(en),er=Math.round(er),es=Math.round(es),ea=Math.round(ea),eo=Math.round(eo),el=Math.round(el),eh=Math.round(eh)),c.shouldFlush(6)&&(c.flush(),w=c.setGameObject(t)),c.batchQuad(t,ei,en,er,es,ea,eo,el,eh,$,Q,J,Z,y,b,x,E,v,g,w)}}}m&&(c.flush(),e.popScissor()),e.pipelines.postBatch(t)}}},22186:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(45319),s=i(31401),a=i(95643),o=i(53048),l=i(61327),h=i(21859),u=i(87841),c=i(18658),d=new n({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,c],initialize:function(e,t,i,n,r,s,l){void 0===r&&(r=""),void 0===l&&(l=0),a.call(this,e,"BitmapText"),this.font=n;var h=this.scene.sys.cache.bitmapFont.get(n);if(!h)throw Error("Invalid BitmapText key: "+n);this.fontData=h.data,this._text="",this._fontSize=s||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=l,this._bounds=o(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=h.fromAtlas,this.setTexture(h.texture,h.frame),this.setPosition(t,i),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(r)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(e){return this._fontSize=e,this._dirty=!0,this},setLetterSpacing:function(e){return void 0===e&&(e=0),this._letterSpacing=e,this._dirty=!0,this},setLineSpacing:function(e){return void 0===e&&(e=0),this.lineSpacing=e,this},setText:function(e){return e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e!==this.text&&(this._text=e.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=.5),this.dropShadowX=e,this.dropShadowY=t,this.dropShadowColor=i,this.dropShadowAlpha=n,this},setCharacterTint:function(e,t,i,n,s,a,o){void 0===e&&(e=0),void 0===t&&(t=1),void 0===i&&(i=!1),void 0===n&&(n=-1),void 0===s&&(s=n,a=n,o=n);var l=this.text.length;-1===t&&(t=l),e<0&&(e=l+e),e=r(e,0,l-1);for(var h=r(e+t,e,l),u=this.charColors,c=e;c<h;c++){var d=u[c];if(-1===n)u[c]=null;else{var f=i?1:0;d?(d.tintEffect=f,d.tintTL=n,d.tintTR=s,d.tintBL=a,d.tintBR=o):u[c]={tintEffect:f,tintTL:n,tintTR:s,tintBL:a,tintBR:o}}}return this},setWordTint:function(e,t,i,n,r,s,a){void 0===t&&(t=1);for(var o=this.getTextBounds().words,l="number"==typeof e,h=0,u=0;u<o.length;u++){var c=o[u];if((l&&u===e||!l&&c.word===e)&&(this.setCharacterTint(c.i,c.word.length,i,n,r,s,a),++h===t))break}return this},getTextBounds:function(e){var t=this._bounds;return(this._dirty||e||this.scaleX!==t.scaleX||this.scaleY!==t.scaleY)&&(o(this,e,!0,t),this._dirty=!1),t},getCharacterAt:function(e,t,i){for(var n=this.getLocalPoint(e,t,null,i),r=this.getTextBounds().characters,s=new u,a=0;a<r.length;a++){var o=r[a];if(s.setTo(o.x,o.t,o.r-o.x,o.b),s.contains(n.x,n.y))return o}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(e,t,i){void 0===t&&(t=this._fontSize),void 0===i&&(i=this._align);var n=this.scene.sys.cache.bitmapFont.get(e);return n&&(this.font=e,this.fontData=n.data,this._fontSize=t,this._align=i,this.fromAtlas=!0===n.fromAtlas,this.setTexture(n.texture,n.frame),o(this,!1,!0,this._bounds)),this},setMaxWidth:function(e,t){return this._maxWidth=e,this._dirty=!0,void 0!==t&&(this.wordWrapCharCode=t),this},align:{set:function(e){this._align=e,this._dirty=!0},get:function(){return this._align}},text:{set:function(e){this.setText(e)},get:function(){return this._text}},fontSize:{set:function(e){this._fontSize=e,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(e){this._letterSpacing=e,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(e){this._lineSpacing=e,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(e){this._maxWidth=e,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var e=s.ToJSON(this),t={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return e.data=t,e},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=l,d.ParseXMLBitmapFont=h,e.exports=d},37289:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20926);e.exports=function(e,t,i,r){var s=t._text,a=s.length,o=e.currentContext;if(0!==a&&n(e,o,t,i,r)){i.addToRenderList(t);var l=t.fromAtlas?t.frame:t.texture.frames.__BASE,h=t.fontData.chars,u=t.fontData.lineHeight,c=t._letterSpacing,d=t._lineSpacing,f=0,p=0,m=0,g=null,v=0,y=0,b=0,x=0,E=0,w=0,S=null,T=0,A=l.source.image,_=l.cutX,C=l.cutY,I=t._fontSize/t.fontData.size,P=t._align,R=0,O=0,M=t.getTextBounds(!1);t.maxWidth>0&&(a=(s=M.wrappedText).length);var L=t._bounds.lines;1===P?O=(L.longest-L.lengths[0])/2:2===P&&(O=L.longest-L.lengths[0]),o.translate(-t.displayOriginX,-t.displayOriginY);for(var D=i.roundPixels,k=0;k<a;k++){if(10===(m=s.charCodeAt(k))){R++,1===P?O=(L.longest-L.lengths[R])/2:2===P&&(O=L.longest-L.lengths[R]),f=0,p+=u+d,S=null;continue}if(g=h[m]){if(v=_+g.x,y=C+g.y,b=g.width,x=g.height,E=g.xOffset+f,w=g.yOffset+p,null!==S){var N=g.kerning[T];E+=void 0!==N?N:0}E*=I,w*=I,E+=O,f+=g.xAdvance+c+(void 0!==N?N:0),S=g,T=m,0!==b&&0!==x&&32!==m&&(D&&(E=Math.round(E),w=Math.round(w)),o.save(),o.translate(E,w),o.scale(I,I),o.drawImage(A,v,y,b,x,0,0,b,x),o.restore())}}o.restore()}}},57336:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22186),r=i(25305),s=i(44603),a=i(23568),o=i(35154);s.register("bitmapText",function(e,t){void 0===e&&(e={});var i=o(e,"font",""),s=a(e,"text",""),l=a(e,"size",!1),h=o(e,"align",0),u=new n(this.scene,0,0,i,s,l,h);return void 0!==t&&(e.add=t),r(this.scene,u,e),u})},34914:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22186);i(39429).register("bitmapText",function(e,t,i,r,s,a){return this.displayList.add(new n(this.scene,e,t,i,r,s,a))})},18658:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(33590),s=i(37289),e.exports={renderWebGL:r,renderCanvas:s}},33590:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(3217),r=i(91296),s=i(70554);e.exports=function(e,t,i,a){var o,l,h;if(0!==t._text.length){i.addToRenderList(t);var u=e.pipelines.set(t.pipeline,t),c=r(t,i,a).calc;e.pipelines.preBatch(t);var d=i.roundPixels,f=i.alpha,p=t.charColors,m=t.tintFill,g=s.getTintAppendFloatAlpha,v=g(t.tintTopLeft,f*t._alphaTL),y=g(t.tintTopRight,f*t._alphaTR),b=g(t.tintBottomLeft,f*t._alphaBL),x=g(t.tintBottomRight,f*t._alphaBR),E=t.frame.glTexture,w=u.setGameObject(t),S=t.getTextBounds(!1).characters,T=t.dropShadowX,A=t.dropShadowY;if(0!==T||0!==A){var _=t.dropShadowColor,C=t.dropShadowAlpha,I=g(_,f*C*t._alphaTL),P=g(_,f*C*t._alphaTR),R=g(_,f*C*t._alphaBL),O=g(_,f*C*t._alphaBR);for(o=0;o<S.length;o++)h=(l=S[o]).glyph,32!==l.code&&0!==h.width&&0!==h.height&&n(u,t,l,h,T,A,c,d,I,P,R,O,1,E,w)}for(o=0;o<S.length;o++)if(h=(l=S[o]).glyph,32!==l.code&&0!==h.width&&0!==h.height){if(u.shouldFlush(6)&&(u.flush(),w=u.setGameObject(t)),p[l.i]){var M=p[l.i],L=M.tintEffect,D=g(M.tintTL,f*t._alphaTL),k=g(M.tintTR,f*t._alphaTR),N=g(M.tintBL,f*t._alphaBL),F=g(M.tintBR,f*t._alphaBR);n(u,t,l,h,0,0,c,d,D,k,N,F,L,E,w)}else n(u,t,l,h,0,0,c,d,v,y,b,x,m,E,w)}e.pipelines.postBatch(t)}}},6107:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(48011),r=i(46590),s=i(83419),a=i(31401),o=i(4327),l=i(95643),h=i(73162),u=new s({Extends:l,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,n],initialize:function(e,t,i,n,r){l.call(this,e,"Blitter"),this.setTexture(n,r),this.setPosition(t,i),this.initPipeline(),this.initPostPipeline(),this.children=new h,this.renderList=[],this.dirty=!1},create:function(e,t,i,n,s){void 0===n&&(n=!0),void 0===s&&(s=this.children.length),void 0===i?i=this.frame:i instanceof o||(i=this.texture.get(i));var a=new r(this,e,t,i,n);return this.children.addAt(a,s,!1),this.dirty=!0,a},createFromCallback:function(e,t,i,n){for(var r=this.createMultiple(t,i,n),s=0;s<r.length;s++){var a=r[s];e.call(this,a,s)}return r},createMultiple:function(e,t,i){void 0===t&&(t=this.frame.name),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]);var n=[],r=this;return t.forEach(function(t){for(var s=0;s<e;s++)n.push(r.create(0,0,t,i))}),n},childCanRender:function(e){return e.visible&&e.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});e.exports=u},72396:e=>{e.exports=function(e,t,i,n){var r=t.getRenderList();if(0!==r.length){var s=e.currentContext,a=i.alpha*t.alpha;if(0!==a){i.addToRenderList(t),s.globalCompositeOperation=e.blendModes[t.blendMode],s.imageSmoothingEnabled=!t.frame.source.scaleMode;var o=t.x-i.scrollX*t.scrollFactorX,l=t.y-i.scrollY*t.scrollFactorY;s.save(),n&&n.copyToContext(s);for(var h=i.roundPixels,u=0;u<r.length;u++){var c=r[u],d=c.flipX||c.flipY,f=c.frame,p=f.canvasData,m=f.x,g=f.y,v=1,y=1,b=c.alpha*a;0!==b&&(s.globalAlpha=b,d?(c.flipX&&(v=-1,m-=p.width),c.flipY&&(y=-1,g-=p.height),p.width>0&&p.height>0&&(s.save(),s.translate(c.x+o,c.y+l),s.scale(v,y),s.drawImage(f.source.image,p.x,p.y,p.width,p.height,m,g,p.width,p.height),s.restore())):(h&&(m=Math.round(m),g=Math.round(g)),p.width>0&&p.height>0&&s.drawImage(f.source.image,p.x,p.y,p.width,p.height,m+c.x+o,g+c.y+l,p.width,p.height)))}s.restore()}}}},9403:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6107),r=i(25305),s=i(44603),a=i(23568);s.register("blitter",function(e,t){void 0===e&&(e={});var i=a(e,"key",null),s=a(e,"frame",null),o=new n(this.scene,0,0,i,s);return void 0!==t&&(e.add=t),r(this.scene,o,e),o})},12709:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6107);i(39429).register("blitter",function(e,t,i,r){return this.displayList.add(new n(this.scene,e,t,i,r))})},48011:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(99485),s=i(72396),e.exports={renderWebGL:r,renderCanvas:s}},99485:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61340),r=i(70554),s=new n;e.exports=function(e,t,i,n){var a=t.getRenderList(),o=i.alpha*t.alpha;if(0!==a.length&&0!==o){i.addToRenderList(t);var l=e.pipelines.set(this.pipeline,t),h=i.scrollX*t.scrollFactorX,u=i.scrollY*t.scrollFactorY,c=s.copyFrom(i.matrix);n&&(c.multiplyWithOffset(n,-h,-u),h=0,u=0);var d=t.x-h,f=t.y-u,p=-1,m=i.roundPixels;e.pipelines.preBatch(t);for(var g=0;g<a.length;g++){var v=a[g],y=v.frame,b=v.alpha*o;if(0!==b){var x=y.width,E=y.height,w=d+v.x+y.x,S=f+v.y+y.y;v.flipX&&(x*=-1,w+=y.width),v.flipY&&(E*=-1,S+=y.height);var T=c.setQuad(w,S,w+x,S+E,m),A=r.getTintAppendFloatAlpha(v.tint,b);if(y.sourceIndex!==p){var _=l.setGameObject(t,y);p=y.sourceIndex}l.batchQuad(t,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],y.u0,y.v0,y.u1,y.v1,A,A,A,A,!1,y.glTexture,_)&&(p=-1)}}e.pipelines.postBatch(t)}}},46590:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(4327),s=new n({initialize:function(e,t,i,n,r){this.parent=e,this.x=t,this.y=i,this.frame=n,this.data={},this.tint=0xffffff,this._visible=r,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(e){return void 0===e?this.frame=this.parent.frame:e instanceof r&&e.texture===this.parent.texture?this.frame=e:this.frame=this.parent.texture.get(e),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(e,t,i){return this.x=e,this.y=t,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(e,t){return this.x=e,this.y=t,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},setVisible:function(e){return this.visible=e,this},setAlpha:function(e){return this.alpha=e,this},setTint:function(e){return this.tint=e,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(e){this.parent.dirty|=this._visible!==e,this._visible=e}},alpha:{get:function(){return this._alpha},set:function(e){this.parent.dirty|=this._alpha>0!=e>0,this._alpha=e}}});e.exports=s},16005:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319);e.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e,t,i,r){return void 0===e&&(e=1),void 0===t?this.alpha=e:(this._alphaTL=n(e,0,1),this._alphaTR=n(t,0,1),this._alphaBL=n(i,0,1),this._alphaBR=n(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(e){var t=n(e,0,1);this._alpha=t,this._alphaTL=t,this._alphaTR=t,this._alphaBL=t,this._alphaBR=t,0===t?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(e){var t=n(e,0,1);this._alphaTL=t,0!==t&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(e){var t=n(e,0,1);this._alphaTR=t,0!==t&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(e){var t=n(e,0,1);this._alphaBL=t,0!==t&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(e){var t=n(e,0,1);this._alphaBR=t,0!==t&&(this.renderFlags|=2)}}}},88509:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319);e.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e){return void 0===e&&(e=1),this.alpha=e,this},alpha:{get:function(){return this._alpha},set:function(e){var t=n(e,0,1);this._alpha=t,0===t?this.renderFlags&=-3:this.renderFlags|=2}}}},90065:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r={_blendMode:n.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(e){"string"==typeof e&&(e=n[e]),(e|=0)>=-1&&(this._blendMode=e)}},setBlendMode:function(e){return this.blendMode=e,this}};e.exports=r},94215:e=>{e.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}}},61683:e=>{e.exports={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,i,n){return void 0===e?this.isCropped=!1:this.frame&&("number"==typeof e?this.frame.setCropUVs(this._crop,e,t,i,n,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,e.x,e.y,e.width,e.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37105);e.exports={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return void 0===e&&(e=0),this.depth=e,this},setToTop:function(){var e=this.getDisplayList();return e&&n.BringToTop(e,this),this},setToBack:function(){var e=this.getDisplayList();return e&&n.SendToBack(e,this),this},setAbove:function(e){var t=this.getDisplayList();return t&&e&&n.MoveAbove(t,this,e),this},setBelow:function(e){var t=this.getDisplayList();return t&&e&&n.MoveBelow(t,this,e),this}}},47059:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(66064),s=i(19133),a=new n({initialize:function(e,t){this.gameObject=e,this.isPost=t,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(e){return void 0===e&&(e=0),this.padding=e,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(e){if(!this.isPost){var t=this.gameObject.scene.sys.renderer;t&&t.pipelines?(this.gameObject.pipeline=t.pipelines.FX_PIPELINE,void 0!==e&&(this.padding=e),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var e=this.list,t=0;t<e.length;t++)e[t].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(e){var t;if(this.isPost){var i=this.gameObject.getPostPipeline(String(e.type));for(Array.isArray(i)||(i=[i]),t=0;t<i.length;t++){var n=i[t];if(n.controller===e){this.gameObject.removePostPipeline(n),e.destroy();break}}}else{var r=this.list;for(t=0;t<r.length;t++)r[t]===e&&(s(r,t),e.destroy())}return this.gameObject},disable:function(e){return void 0===e&&(e=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,e&&this.clear(),this.gameObject},add:function(e,t){if(!this.isPost)return this.enabled||this.enable(),this.list.push(e),e;var i=String(e.type);this.gameObject.setPostPipeline(i,t);var n=this.gameObject.getPostPipeline(i);if(n)return Array.isArray(n)&&(n=n.pop()),n&&(n.controller=e),e},addGlow:function(e,t,i,n,s,a){return this.add(new r.Glow(this.gameObject,e,t,i,n),{quality:s,distance:a})},addShadow:function(e,t,i,n,s,a,o){return this.add(new r.Shadow(this.gameObject,e,t,i,n,s,a,o))},addPixelate:function(e){return this.add(new r.Pixelate(this.gameObject,e))},addVignette:function(e,t,i,n){return this.add(new r.Vignette(this.gameObject,e,t,i,n))},addShine:function(e,t,i,n){return this.add(new r.Shine(this.gameObject,e,t,i,n))},addBlur:function(e,t,i,n,s,a){return this.add(new r.Blur(this.gameObject,e,t,i,n,s,a))},addGradient:function(e,t,i,n,s,a,o,l){return this.add(new r.Gradient(this.gameObject,e,t,i,n,s,a,o,l))},addBloom:function(e,t,i,n,s,a){return this.add(new r.Bloom(this.gameObject,e,t,i,n,s,a))},addColorMatrix:function(){return this.add(new r.ColorMatrix(this.gameObject))},addCircle:function(e,t,i,n,s){return this.add(new r.Circle(this.gameObject,e,t,i,n,s))},addBarrel:function(e){return this.add(new r.Barrel(this.gameObject,e))},addDisplacement:function(e,t,i){return this.add(new r.Displacement(this.gameObject,e,t,i))},addWipe:function(e,t,i){return this.add(new r.Wipe(this.gameObject,e,t,i))},addReveal:function(e,t,i){return this.add(new r.Wipe(this.gameObject,e,t,i,!0))},addBokeh:function(e,t,i){return this.add(new r.Bokeh(this.gameObject,e,t,i))},addTiltShift:function(e,t,i,n,s,a){return this.add(new r.Bokeh(this.gameObject,e,t,i,!0,n,s,a))},destroy:function(){this.clear(),this.gameObject=null}});e.exports=a},54434:e=>{e.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(11520),s=i(26099);e.exports={prepareBoundsOutput:function(e,t){return void 0===t&&(t=!1),0!==this.rotation&&r(e,this.x,this.y,this.rotation),t&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(e.x,e.y,e),e},getCenter:function(e,t){return void 0===e&&(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getTopLeft:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopCenter:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopRight:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getLeftCenter:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getRightCenter:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getBottomLeft:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomCenter:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomRight:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBounds:function(e){if(void 0===e&&(e=new n),this.parentContainer){var t,i,r,s,a,o,l,h,u=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(e),u.transformPoint(e.x,e.y,e),t=e.x,i=e.y,this.getTopRight(e),u.transformPoint(e.x,e.y,e),r=e.x,s=e.y,this.getBottomLeft(e),u.transformPoint(e.x,e.y,e),a=e.x,o=e.y,this.getBottomRight(e),u.transformPoint(e.x,e.y,e),l=e.x,h=e.y}else this.getTopLeft(e),t=e.x,i=e.y,this.getTopRight(e),r=e.x,s=e.y,this.getBottomLeft(e),a=e.x,o=e.y,this.getBottomRight(e),l=e.x,h=e.y;return e.x=Math.min(t,r,a,l),e.y=Math.min(i,s,o,h),e.width=Math.max(t,r,a,l)-e.x,e.height=Math.max(i,s,o,h)-e.y,e}}},8573:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6858),r=i(80661);e.exports={mask:null,setMask:function(e){return this.mask=e,this},clearMask:function(e){return void 0===e&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(e,t,i,r,s){return void 0===e&&(this.texture||this.shader||this.geom)&&(e=this),new n(this.scene,e,t,i,r,s)},createGeometryMask:function(e){return void 0===e&&("Graphics"===this.type||this.geom)&&(e=this),new r(this.scene,e)}}},27387:e=>{e.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this.originX=e,this.originY=t,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.displayOriginX=e,this.displayOriginY=t,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39506),r=i(57355),s=i(35154),a=i(86353),o=i(26099),l={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(e,t){void 0===t&&(t=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=e,t&&this.startFollow(t),this},setRotateToPath:function(e,t){return void 0===t&&(t=0),this.rotateToPath=e,this.pathRotationOffset=t,this},isFollowing:function(){var e=this.pathTween;return e&&e.isPlaying()},startFollow:function(e,t){void 0===e&&(e={}),void 0===t&&(t=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),"number"==typeof e&&(e={duration:e}),e.from=s(e,"from",0),e.to=s(e,"to",1);var l=r(e,"positionOnPath",!1);this.rotateToPath=r(e,"rotateToPath",!1),this.pathRotationOffset=s(e,"rotationOffset",0);var h=s(e,"startAt",t);if(h&&(e.onStart=function(e){var t=e.data[0];t.progress=h,t.elapsed=t.duration*h;var i=t.ease(t.progress);t.current=t.start+(t.end-t.start)*i,t.setTargetValue()}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),e.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(e),this.path.getStartPoint(this.pathOffset),l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+n(this.pathRotationOffset)}return this.pathConfig=e,this},pauseFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.pause(),this},resumeFollow:function(){var e=this.pathTween;return e&&e.isPaused()&&e.resume(),this},stopFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.stop(),this},pathUpdate:function(){var e=this.pathTween;if(e&&e.data){var t=e.data[0],i=this.pathDelta,r=this.pathVector;if(i.copy(r).negate(),t.state===a.COMPLETE){this.path.getPoint(t.end,r),i.add(r),r.add(this.pathOffset),this.setPosition(r.x,r.y);return}if(t.state!==a.PLAYING_FORWARD&&t.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(e.getValue(),r),i.add(r),r.add(this.pathOffset);var s=this.x,o=this.y;this.setPosition(r.x,r.y);var l=this.x-s,h=this.y-o;if(0===l&&0===h)return;if(t.state!==this._prevDirection){this._prevDirection=t.state;return}this.rotateToPath&&(this.rotation=Math.atan2(h,l)+n(this.pathRotationOffset))}}};e.exports=l},72699:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62644);e.exports={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(e){this.pipelineData={};var t=this.scene.sys.renderer;if(!t)return!1;var i=t.pipelines;if(i){void 0===e&&(e=i.default);var n=i.get(e);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(e,t,i){var r=this.scene.sys.renderer;if(!r)return this;var s=r.pipelines;if(s){var a=s.get(e);a&&(this.pipeline=a),t&&(this.pipelineData=i?n(t):t)}return this},setPipelineData:function(e,t){var i=this.pipelineData;return void 0===t?delete i[e]:i[e]=t,this},resetPipeline:function(e){return void 0===e&&(e=!1),this.pipeline=this.defaultPipeline,e&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return null===this.pipeline?null:this.pipeline.name}}},17581:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62644),r=i(47059),s=i(19133);e.exports={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(e){this.postPipelines=[],this.postPipelineData={},this.postFX=new r(this,!0),e&&(this.preFX=new r(this,!1))},setPostPipeline:function(e,t,i){var r=this.scene.sys.renderer;if(!r)return this;var s=r.pipelines;if(s){Array.isArray(e)||(e=[e]);for(var a=0;a<e.length;a++){var o=s.getPostPipeline(e[a],this,t);o&&this.postPipelines.push(o)}t&&(this.postPipelineData=i?n(t):t)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(e,t){var i=this.postPipelineData;return void 0===t?delete i[e]:i[e]=t,this},getPostPipeline:function(e){for(var t="string"==typeof e,i=this.postPipelines,n=[],r=0;r<i.length;r++){var s=i[r];(t&&s.name===e||!t&&s instanceof e)&&n.push(s)}return 1===n.length?n[0]:n},resetPostPipeline:function(e){void 0===e&&(e=!1);for(var t=this.postPipelines,i=0;i<t.length;i++)t[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,e&&(this.postPipelineData={})},removePostPipeline:function(e){for(var t="string"==typeof e,i=this.postPipelines,n=i.length-1;n>=0;n--){var r=i[n];(t&&r.name===e||!t&&r===e)&&(r.destroy(),s(i,n))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}}},80227:e=>{e.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,t){return void 0===t&&(t=e),this.scrollFactorX=e,this.scrollFactorY=t,this}}},16736:e=>{e.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var t=this.input;return t&&!t.customHitArea&&(t.hitArea.width=this.width,t.hitArea.height=this.height),this},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}}},37726:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4327);e.exports={texture:null,frame:null,isCropped:!1,setTexture:function(e,t,i,n){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t,i,n)},setFrame:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),e instanceof n?(this.texture=this.scene.sys.textures.get(e.texture.key),this.frame=e):this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},79812:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4327);e.exports={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,i,n){return void 0===e?this.isCropped=!1:this.frame&&("number"==typeof e?this.frame.setCropUVs(this._crop,e,t,i,n,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,e.x,e.y,e.width,e.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),e instanceof n?(this.texture=this.scene.sys.textures.get(e.texture.key),this.frame=e):this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},27472:e=>{e.exports={tintTopLeft:0xffffff,tintTopRight:0xffffff,tintBottomLeft:0xffffff,tintBottomRight:0xffffff,tintFill:!1,clearTint:function(){return this.setTint(0xffffff),this},setTint:function(e,t,i,n){return void 0===e&&(e=0xffffff),void 0===t&&(t=e,i=e,n=e),this.tintTopLeft=e,this.tintTopRight=t,this.tintBottomLeft=i,this.tintBottomRight=n,this.tintFill=!1,this},setTintFill:function(e,t,i,n){return this.setTint(e,t,i,n),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){return this.tintFill||0xffffff!==this.tintTopLeft||0xffffff!==this.tintTopRight||0xffffff!==this.tintBottomLeft||0xffffff!==this.tintBottomRight}}}},53774:e=>{e.exports=function(e){var t={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(t.textureKey=e.texture.key,t.frameKey=e.frame.name),t}},16901:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(61340),s=i(85955),a=i(86554),o=i(30954),l=i(26099);e.exports={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(e){this._scaleX=e,this._scaleY=e,0===e?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,0===e?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,0===e?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return o(this._rotation*n.RAD_TO_DEG)},set:function(e){this.rotation=o(e)*n.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=a(e)}},setPosition:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=i,this.w=n,this},copyPosition:function(e){return void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.z&&(this.z=e.z),void 0!==e.w&&(this.w=e.w),this},setRandomPosition:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),this.x=e+Math.random()*i,this.y=t+Math.random()*n,this},setRotation:function(e){return void 0===e&&(e=0),this.rotation=e,this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,this},setScale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.scaleX=e,this.scaleY=t,this},setX:function(e){return void 0===e&&(e=0),this.x=e,this},setY:function(e){return void 0===e&&(e=0),this.y=e,this},setZ:function(e){return void 0===e&&(e=0),this.z=e,this},setW:function(e){return void 0===e&&(e=0),this.w=e,this},getLocalTransformMatrix:function(e){return void 0===e&&(e=new r),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(e,t){void 0===e&&(e=new r);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(e);for(t||(t=new r),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)t.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),t.multiply(e,e),i=i.parentContainer;return e},getLocalPoint:function(e,t,i,n){i||(i=new l),n||(n=this.scene.sys.cameras.main);var r=n.scrollX,a=n.scrollY,o=e+r*this.scrollFactorX-r,h=t+a*this.scrollFactorY-a;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(o,h,i):s(o,h,this.x,this.y,this.rotation,this.scaleX,this.scaleY,i),this._originComponent&&(i.x+=this._displayOriginX,i.y+=this._displayOriginY),i},getParentRotation:function(){for(var e=0,t=this.parentContainer;t;)e+=t.rotation,t=t.parentContainer;return e}}},61340:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(36383),s=i(26099),a=new n({initialize:function(e,t,i,n,r,s){void 0===e&&(e=1),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),this.matrix=new Float32Array([e,t,i,n,r,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(e){this.matrix[0]=e}},b:{get:function(){return this.matrix[1]},set:function(e){this.matrix[1]=e}},c:{get:function(){return this.matrix[2]},set:function(e){this.matrix[2]=e}},d:{get:function(){return this.matrix[3]},set:function(e){this.matrix[3]=e}},e:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},f:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},tx:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},ty:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(0>Math.atan(-this.c/this.a)?-1:1)}},rotationNormalized:{get:function(){var e=this.matrix,t=e[0],i=e[1],n=e[2],s=e[3];return t||i?i>0?Math.acos(t/this.scaleX):-Math.acos(t/this.scaleX):n||s?r.TAU-(s>0?Math.acos(-n/this.scaleY):-Math.acos(n/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var e=this.matrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},translate:function(e,t){var i=this.matrix;return i[4]=i[0]*e+i[2]*t+i[4],i[5]=i[1]*e+i[3]*t+i[5],this},scale:function(e,t){var i=this.matrix;return i[0]*=e,i[1]*=e,i[2]*=t,i[3]*=t,this},rotate:function(e){var t=Math.sin(e),i=Math.cos(e),n=this.matrix,r=n[0],s=n[1],a=n[2],o=n[3];return n[0]=r*i+a*t,n[1]=s*i+o*t,n[2]=-(r*t)+a*i,n[3]=-(s*t)+o*i,this},multiply:function(e,t){var i=this.matrix,n=e.matrix,r=i[0],s=i[1],a=i[2],o=i[3],l=i[4],h=i[5],u=n[0],c=n[1],d=n[2],f=n[3],p=n[4],m=n[5],g=void 0===t?i:t.matrix;return g[0]=u*r+c*a,g[1]=u*s+c*o,g[2]=d*r+f*a,g[3]=d*s+f*o,g[4]=p*r+m*a+l,g[5]=p*s+m*o+h,g},multiplyWithOffset:function(e,t,i){var n=this.matrix,r=e.matrix,s=n[0],a=n[1],o=n[2],l=n[3],h=n[4],u=n[5],c=r[0],d=r[1],f=r[2],p=r[3],m=r[4],g=r[5];return n[0]=c*s+d*o,n[1]=c*a+d*l,n[2]=f*s+p*o,n[3]=f*a+p*l,n[4]=m*s+g*o+(t*s+i*o+h),n[5]=m*a+g*l+(t*a+i*l+u),this},transform:function(e,t,i,n,r,s){var a=this.matrix,o=a[0],l=a[1],h=a[2],u=a[3],c=a[4],d=a[5];return a[0]=e*o+t*h,a[1]=e*l+t*u,a[2]=i*o+n*h,a[3]=i*l+n*u,a[4]=r*o+s*h+c,a[5]=r*l+s*u+d,this},transformPoint:function(e,t,i){void 0===i&&(i={x:0,y:0});var n=this.matrix,r=n[0],s=n[1],a=n[2],o=n[3],l=n[4],h=n[5];return i.x=e*r+t*a+l,i.y=e*s+t*o+h,i},invert:function(){var e=this.matrix,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=t*r-i*n;return e[0]=r/o,e[1]=-i/o,e[2]=-n/o,e[3]=t/o,e[4]=(n*a-r*s)/o,e[5]=-(t*a-i*s)/o,this},copyFrom:function(e){var t=this.matrix;return t[0]=e.a,t[1]=e.b,t[2]=e.c,t[3]=e.d,t[4]=e.e,t[5]=e.f,this},copyFromArray:function(e){var t=this.matrix;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},copyToContext:function(e){var t=this.matrix;return e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e},setToContext:function(e){return e.setTransform(this),e},copyToArray:function(e){var t=this.matrix;return void 0===e?e=[t[0],t[1],t[2],t[3],t[4],t[5]]:(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]),e},setTransform:function(e,t,i,n,r,s){var a=this.matrix;return a[0]=e,a[1]=t,a[2]=i,a[3]=n,a[4]=r,a[5]=s,this},decomposeMatrix:function(){var e=this.decomposedMatrix,t=this.matrix,i=t[0],n=t[1],r=t[2],s=t[3],a=i*s-n*r;if(e.translateX=t[4],e.translateY=t[5],i||n){var o=Math.sqrt(i*i+n*n);e.rotation=n>0?Math.acos(i/o):-Math.acos(i/o),e.scaleX=o,e.scaleY=a/o}else if(r||s){var l=Math.sqrt(r*r+s*s);e.rotation=.5*Math.PI-(s>0?Math.acos(-r/l):-Math.acos(r/l)),e.scaleX=a/l,e.scaleY=l}else e.rotation=0,e.scaleX=0,e.scaleY=0;return e},applyITRS:function(e,t,i,n,r){var s=this.matrix,a=Math.sin(i),o=Math.cos(i);return s[4]=e,s[5]=t,s[0]=o*n,s[1]=a*n,s[2]=-a*r,s[3]=o*r,this},applyInverse:function(e,t,i){void 0===i&&(i=new s);var n=this.matrix,r=n[0],a=n[1],o=n[2],l=n[3],h=n[4],u=n[5],c=1/(r*l+-(o*a));return i.x=l*c*e+-o*c*t+(u*o-h*l)*c,i.y=r*c*t+-a*c*e+(-u*r+h*a)*c,i},setQuad:function(e,t,i,n,r,s){void 0===r&&(r=!1),void 0===s&&(s=this.quad);var a=this.matrix,o=a[0],l=a[1],h=a[2],u=a[3],c=a[4],d=a[5],f=e*o+t*h+c,p=e*l+t*u+d,m=e*o+n*h+c,g=e*l+n*u+d,v=i*o+n*h+c,y=i*l+n*u+d,b=i*o+t*h+c,x=i*l+t*u+d;if(r){var E=Math.floor(f+.5),w=Math.floor(p+.5),S=E-f,T=w-p;s[0]=E,s[1]=w,s[2]=m+S,s[3]=g+T,s[4]=v+S,s[5]=y+T,s[6]=b+S,s[7]=x+T}else s[0]=f,s[1]=p,s[2]=m,s[3]=g,s[4]=v,s[5]=y,s[6]=b,s[7]=x;return s},getX:function(e,t){return e*this.a+t*this.c+this.e},getY:function(e,t){return e*this.b+t*this.d+this.f},getXRound:function(e,t,i){var n=this.getX(e,t);return i&&(n=Math.floor(n+.5)),n},getYRound:function(e,t,i){var n=this.getY(e,t);return i&&(n=Math.floor(n+.5)),n},getCSSMatrix:function(){var e=this.matrix;return"matrix("+e[0]+","+e[1]+","+e[2]+","+e[3]+","+e[4]+","+e[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});e.exports=a},59715:e=>{e.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(e){e?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(e){return this.visible=e,this}}},31401:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37105),r=i(10312),s=i(83419),a=i(31401),o=i(51708),l=i(95643),h=i(87841),u=i(29959),c=i(36899),d=i(26099),f=new a.TransformMatrix,p=new s({Extends:l,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,u],initialize:function(e,t,i,n){l.call(this,e,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this._sortKey="",this._sysEvents=e.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(t,i),this.setBlendMode(r.SKIP_CHECK),n&&this.add(n)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return .5*this.width}},displayOriginY:{get:function(){return .5*this.height}},setExclusive:function(e){return void 0===e&&(e=!0),this.exclusive=e,this},getBounds:function(e){if(void 0===e&&(e=new h),e.setTo(this.x,this.y,0,0),this.parentContainer){var t=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);e.setTo(t.x,t.y,0,0)}if(this.list.length>0){var i=this.list,n=new h,r=!1;e.setEmpty();for(var s=0;s<i.length;s++){var a=i[s];a.getBounds&&(a.getBounds(n),r?c(n,e,e):(e.setTo(n.x,n.y,n.width,n.height),r=!0))}}return e},addHandler:function(e){e.once(o.DESTROY,this.onChildDestroyed,this),this.exclusive&&(e.parentContainer&&e.parentContainer.remove(e),e.parentContainer=this,e.removeFromDisplayList(),e.addedToScene())},removeHandler:function(e){e.off(o.DESTROY,this.remove,this),this.exclusive&&(e.parentContainer=null,e.removedFromScene(),e.addToDisplayList())},pointToContainer:function(e,t){return void 0===t&&(t=new d),this.parentContainer?this.parentContainer.pointToContainer(e,t):(t.x=e.x,t.y=e.y),f.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),f.invert(),f.transformPoint(e.x,e.y,t),t},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(e){return n.Add(this.list,e,this.maxSize,this.addHandler,this),this},addAt:function(e,t){return n.AddAt(this.list,e,t,this.maxSize,this.addHandler,this),this},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e&&(void 0===t&&(t=function(t,i){return t[e]-i[e]}),n.StableSort(this.list,t)),this},getByName:function(e){return n.GetFirst(this.list,"name",e)},getRandom:function(e,t){return n.GetRandom(this.list,e,t)},getFirst:function(e,t,i,r){return n.GetFirst(this.list,e,t,i,r)},getAll:function(e,t,i,r){return n.GetAll(this.list,e,t,i,r)},count:function(e,t,i,r){return n.CountAllMatching(this.list,e,t,i,r)},swap:function(e,t){return n.Swap(this.list,e,t),this},moveTo:function(e,t){return n.MoveTo(this.list,e,t),this},moveAbove:function(e,t){return n.MoveAbove(this.list,e,t),this},moveBelow:function(e,t){return n.MoveBelow(this.list,e,t),this},remove:function(e,t){var i=n.Remove(this.list,e,this.removeHandler,this);if(t&&i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++)i[r].destroy()}return this},removeAt:function(e,t){var i=n.RemoveAt(this.list,e,this.removeHandler,this);return t&&i&&i.destroy(),this},removeBetween:function(e,t,i){var r=n.RemoveBetween(this.list,e,t,this.removeHandler,this);if(i)for(var s=0;s<r.length;s++)r[s].destroy();return this},removeAll:function(e){var t=this.list;if(e){for(var i=0;i<t.length;i++)t[i]&&t[i].scene&&(t[i].off(o.DESTROY,this.onChildDestroyed,this),t[i].destroy());this.list=[]}else n.RemoveBetween(t,0,t.length,this.removeHandler,this);return this},bringToTop:function(e){return n.BringToTop(this.list,e),this},sendToBack:function(e){return n.SendToBack(this.list,e),this},moveUp:function(e){return n.MoveUp(this.list,e),this},moveDown:function(e){return n.MoveDown(this.list,e),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(e,t,i){return n.Replace(this.list,e,t)&&(this.addHandler(t),this.removeHandler(e),i&&e.destroy()),this},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,i,r){return n.SetAll(this.list,e,t,i,r),this},each:function(e,t){var i,n=[null],r=this.list.slice(),s=r.length;for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<s;i++)n[0]=r[i],e.apply(t,n);return this},iterate:function(e,t){var i,n=[null];for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<this.list.length;i++)n[0]=this.list[i],e.apply(t,n);return this},setScrollFactor:function(e,t,i){return void 0===t&&(t=e),void 0===i&&(i=!1),this.scrollFactorX=e,this.scrollFactorY=t,i&&(n.SetAll(this.list,"scrollFactorX",e),n.SetAll(this.list,"scrollFactorY",t)),this},length:{get:function(){return this.list.length}},first:{get:function(){return(this.position=0,this.list.length>0)?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(e){n.Remove(this.list,e),this.exclusive&&(e.parentContainer=null,e.removedFromScene())}});e.exports=p},53584:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t);var r=t.list;if(0!==r.length){var s=t.localTransform;n?(s.loadIdentity(),s.multiply(n),s.translate(t.x,t.y),s.rotate(t.rotation),s.scale(t.scaleX,t.scaleY)):s.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var a=-1!==t.blendMode;a||e.setBlendMode(0);var o=t._alpha,l=t.scrollFactorX,h=t.scrollFactorY;t.mask&&t.mask.preRenderCanvas(e,null,i);for(var u=0;u<r.length;u++){var c=r[u];if(c.willRender(i)){var d=c.alpha,f=c.scrollFactorX,p=c.scrollFactorY;a||c.blendMode===e.currentBlendMode||e.setBlendMode(c.blendMode),c.setScrollFactor(f*l,p*h),c.setAlpha(d*o),c.renderCanvas(e,c,i,s),c.setAlpha(d),c.setScrollFactor(f,p)}}t.mask&&t.mask.postRenderCanvas(e)}}},77143:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(31559),s=i(44603),a=i(23568),o=i(95540);s.register("container",function(e,t){void 0===e&&(e={});var i=a(e,"x",0),s=a(e,"y",0),l=o(e,"children",null),h=new r(this.scene,i,s,l);return void 0!==t&&(e.add=t),n(this.scene,h,e),h})},24961:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(31559);i(39429).register("container",function(e,t,i){return this.displayList.add(new n(this.scene,e,t,i))})},29959:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(72249),s=i(53584),e.exports={renderWebGL:r,renderCanvas:s}},72249:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t);var r=t.list,s=r.length;if(0!==s){var a=t.localTransform;n?(a.loadIdentity(),a.multiply(n),a.translate(t.x,t.y),a.rotate(t.rotation),a.scale(t.scaleX,t.scaleY)):a.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),e.pipelines.preBatch(t);var o=-1!==t.blendMode;o||e.setBlendMode(0);for(var l=t.alpha,h=t.scrollFactorX,u=t.scrollFactorY,c=0;c<s;c++){var d,f,p,m,g=r[c];if(g.willRender(i)){if(void 0!==g.alphaTopLeft)d=g.alphaTopLeft,f=g.alphaTopRight,p=g.alphaBottomLeft,m=g.alphaBottomRight;else{var v=g.alpha;d=v,f=v,p=v,m=v}var y=g.scrollFactorX,b=g.scrollFactorY;o||g.blendMode===e.currentBlendMode||e.setBlendMode(g.blendMode);var x=g.mask;x&&x.preRenderWebGL(e,g,i);var E=g.type;E!==e.currentType&&(e.newType=!0,e.currentType=E),e.nextTypeMatch=c<s-1&&r[c+1].type===e.currentType,g.setScrollFactor(y*h,b*u),g.setAlpha(d*l,f*l,p*l,m*l),g.renderWebGL(e,g,i,a,t),g.setAlpha(d,f,p,m),g.setScrollFactor(y,b),x&&x.postRenderWebGL(e,i),e.newType=!1}}e.pipelines.postBatch(t)}}},47407:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(441),a=i(95643),o=i(41212),l=i(35846),h=i(44594),u=i(61369),c=new n({Extends:a,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Origin,r.ScrollFactor,r.Transform,r.Visible,s],initialize:function(e,t,i,n,r,s){a.call(this,e,"DOMElement"),this.parent=e.sys.game.domContainer,this.cache=e.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(t,i),"string"==typeof n?"#"===n[0]?this.setElement(n.substr(1),r,s):this.createElement(n,r,s):n&&this.setElement(n,r,s),e.sys.events.on(h.SLEEP,this.handleSceneEvent,this),e.sys.events.on(h.WAKE,this.handleSceneEvent,this),e.sys.events.on(h.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(e){var t=this.node,i=t.style;t&&(i.display=e.settings.visible?"block":"none")},setSkew:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.skewX=e,this.skewY=t,this},setPerspective:function(e){return this.parent.style.perspective=e+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(e){this.parent.style.perspective=e+"px"}},addListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.addEventListener(e[t],this.handler,!1)}return this},removeListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.removeEventListener(e[t],this.handler)}return this},dispatchNativeEvent:function(e){this.emit(e.type,e)},createElement:function(e,t,i){return this.setElement(document.createElement(e),t,i)},setElement:function(e,t,i){var n;if(this.removeElement(),"string"==typeof e?("#"===e[0]&&(e=e.substr(1)),n=document.getElementById(e)):"object"==typeof e&&1===e.nodeType&&(n=e),!n)return this;if(this.node=n,t&&o(t))for(var r in t)n.style[r]=t[r];else"string"==typeof t&&(n.style=t);return n.style.zIndex="0",n.style.display="inline",n.style.position="absolute",n.phaser=this,this.parent&&this.parent.appendChild(n),i&&(n.innerText=i),this.updateSize()},createFromCache:function(e,t){var i=this.cache.get(e);return i&&this.createFromHTML(i,t),this},createFromHTML:function(e,t){void 0===t&&(t="div"),this.removeElement();var i=document.createElement(t);return this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=e,this.updateSize()},removeElement:function(){return this.node&&(l(this.node),this.node=null),this},updateSize:function(){var e=this.node,t=e.getBoundingClientRect();return this.width=e.clientWidth,this.height=e.clientHeight,this.displayWidth=t.width||0,this.displayHeight=t.height||0,this},getChildByProperty:function(e,t){if(this.node){for(var i=this.node.querySelectorAll("*"),n=0;n<i.length;n++)if(i[n][e]===t)return i[n]}return null},getChildByID:function(e){return this.getChildByProperty("id",e)},getChildByName:function(e){return this.getChildByProperty("name",e)},setClassName:function(e){return this.node&&(this.node.className=e,this.updateSize()),this},setText:function(e){return this.node&&(this.node.innerText=e,this.updateSize()),this},setHTML:function(e){return this.node&&(this.node.innerHTML=e,this.updateSize()),this},preRender:function(){var e=this.parentContainer,t=this.node;t&&e&&!e.willRender()&&(t.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(h.PRE_RENDER,this.preRender,this)}});e.exports=c},49381:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(47407),r=i(95643),s=i(61340),a=new s,o=new s,l=new s;e.exports=function(e,t,i,s){if(t.node){var h=t.node.style,u=t.scene.sys.settings;if(!h||!u.visible||r.RENDER_MASK!==t.renderFlags||0!==t.cameraFilter&&t.cameraFilter&i.id||t.parentContainer&&!t.parentContainer.willRender()){h.display="none";return}var c=t.parentContainer,d=i.alpha*t.alpha;c&&(d*=c.alpha);var f=0,p=0,m="0%",g="0%";s?(f=t.width*t.scaleX*t.originX,p=t.height*t.scaleY*t.originY,o.applyITRS(t.x-f,t.y-p,t.rotation,t.scaleX,t.scaleY),a.copyFrom(i.matrix),a.multiplyWithOffset(s,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),o.e=t.x-f,o.f=t.y-p,a.multiply(o,l)):(f=t.width*t.originX,p=t.height*t.originY,o.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),a.copyFrom(i.matrix),m=100*t.originX+"%",g=100*t.originY+"%",o.e-=i.scrollX*t.scrollFactorX,o.f-=i.scrollY*t.scrollFactorY,a.multiply(o,l),l.e-=f,l.f-=p),t.transformOnly||(h.display="block",h.opacity=d,h.zIndex=t._depth,h.pointerEvents=t.pointerEvents,h.mixBlendMode=n[t._blendMode]),h.transform=l.getCSSMatrix()+" skew("+t.skewX+"rad, "+t.skewY+"rad) rotate3d("+t.rotate3d.x+","+t.rotate3d.y+","+t.rotate3d.z+","+t.rotate3d.w+t.rotate3dAngle+")",h.transformOrigin=m+" "+g}}},2611:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(3069);i(39429).register("dom",function(e,t,i,r,s){var a=new n(this.scene,e,t,i,r,s);return this.displayList.add(a),a})},441:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(49381),s=i(49381),e.exports={renderWebGL:r,renderCanvas:s}},62980:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addedtoscene"},41337:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},44947:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removedfromscene"},49358:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},35163:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="created"},97249:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="error"},19483:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="locked"},56059:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="loop"},26772:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="metadata"},64437:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="playing"},83411:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="play"},75780:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="seeked"},67799:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="seeking"},63500:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stalled"},55541:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stop"},53208:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="textureready"},4992:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="unlocked"},12:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="unsupported"},51708:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(64993),o=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.Origin,r.ScrollFactor,r.Size,r.Texture,r.Tint,r.Transform,r.Visible,a],initialize:function(e){s.call(this,e,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});e.exports=o},70217:()=>{},56315:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42421);i(39429).register("extern",function(){var e=new n(this.scene);return this.displayList.add(e),e})},64993:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(80287),s=i(70217),e.exports={renderWebGL:r,renderCanvas:s}},80287:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r){e.pipelines.clear();var s=n(t,i,r).calc;t.render.call(t,e,i,s),e.pipelines.rebind()}},85592:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71911),r=i(83419),s=i(85592),a=i(31401),o=i(8497),l=i(95643),h=i(95540),u=i(35154),c=i(36383),d=i(84503),f=new r({Extends:l,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,d],initialize:function(e,t){var i=u(t,"x",0),n=u(t,"y",0);l.call(this,e,"Graphics"),this.setPosition(i,n),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(t)},setDefaultStyles:function(e){return u(e,"lineStyle",null)&&(this.defaultStrokeWidth=u(e,"lineStyle.width",1),this.defaultStrokeColor=u(e,"lineStyle.color",0xffffff),this.defaultStrokeAlpha=u(e,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),u(e,"fillStyle",null)&&(this.defaultFillColor=u(e,"fillStyle.color",0xffffff),this.defaultFillAlpha=u(e,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(e,t,i){return void 0===i&&(i=1),this.commandBuffer.push(s.LINE_STYLE,e,t,i),this._lineWidth=e,this},fillStyle:function(e,t){return void 0===t&&(t=1),this.commandBuffer.push(s.FILL_STYLE,e,t),this},fillGradientStyle:function(e,t,i,n,r,a,o,l){return void 0===r&&(r=1),void 0===a&&(a=r),void 0===o&&(o=r),void 0===l&&(l=r),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,r,a,o,l,e,t,i,n),this},lineGradientStyle:function(e,t,i,n,r,a){return void 0===a&&(a=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,e,a,t,i,n,r),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(e){return this.fillCircle(e.x,e.y,e.radius)},strokeCircleShape:function(e){return this.strokeCircle(e.x,e.y,e.radius)},fillCircle:function(e,t,i){return this.beginPath(),this.arc(e,t,i,0,c.PI2),this.fillPath(),this},strokeCircle:function(e,t,i){return this.beginPath(),this.arc(e,t,i,0,c.PI2),this.strokePath(),this},fillRectShape:function(e){return this.fillRect(e.x,e.y,e.width,e.height)},strokeRectShape:function(e){return this.strokeRect(e.x,e.y,e.width,e.height)},fillRect:function(e,t,i,n){return this.commandBuffer.push(s.FILL_RECT,e,t,i,n),this},strokeRect:function(e,t,i,n){var r=this._lineWidth/2,s=e-r,a=e+r;return this.beginPath(),this.moveTo(e,t),this.lineTo(e,t+n),this.strokePath(),this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+i,t+n),this.strokePath(),this.beginPath(),this.moveTo(s,t),this.lineTo(a+i,t),this.strokePath(),this.beginPath(),this.moveTo(s,t+n),this.lineTo(a+i,t+n),this.strokePath(),this},fillRoundedRect:function(e,t,i,n,r){void 0===r&&(r=20);var s=r,a=r,o=r,l=r;"number"!=typeof r&&(s=h(r,"tl",20),a=h(r,"tr",20),o=h(r,"bl",20),l=h(r,"br",20));var u=s>=0,d=a>=0,f=o>=0,p=l>=0;return s=Math.abs(s),a=Math.abs(a),o=Math.abs(o),l=Math.abs(l),this.beginPath(),this.moveTo(e+s,t),this.lineTo(e+i-a,t),d?this.arc(e+i-a,t+a,a,-c.TAU,0):this.arc(e+i,t,a,Math.PI,c.TAU,!0),this.lineTo(e+i,t+n-l),p?this.arc(e+i-l,t+n-l,l,0,c.TAU):this.arc(e+i,t+n,l,-c.TAU,Math.PI,!0),this.lineTo(e+o,t+n),f?this.arc(e+o,t+n-o,o,c.TAU,Math.PI):this.arc(e,t+n,o,0,-c.TAU,!0),this.lineTo(e,t+s),u?this.arc(e+s,t+s,s,-Math.PI,-c.TAU):this.arc(e,t,s,c.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(e,t,i,n,r){void 0===r&&(r=20);var s=r,a=r,o=r,l=r,u=Math.min(i,n)/2;"number"!=typeof r&&(s=h(r,"tl",20),a=h(r,"tr",20),o=h(r,"bl",20),l=h(r,"br",20));var d=s>=0,f=a>=0,p=o>=0,m=l>=0;return s=Math.min(Math.abs(s),u),a=Math.min(Math.abs(a),u),o=Math.min(Math.abs(o),u),l=Math.min(Math.abs(l),u),this.beginPath(),this.moveTo(e+s,t),this.lineTo(e+i-a,t),this.moveTo(e+i-a,t),f?this.arc(e+i-a,t+a,a,-c.TAU,0):this.arc(e+i,t,a,Math.PI,c.TAU,!0),this.lineTo(e+i,t+n-l),this.moveTo(e+i,t+n-l),m?this.arc(e+i-l,t+n-l,l,0,c.TAU):this.arc(e+i,t+n,l,-c.TAU,Math.PI,!0),this.lineTo(e+o,t+n),this.moveTo(e+o,t+n),p?this.arc(e+o,t+n-o,o,c.TAU,Math.PI):this.arc(e,t+n,o,0,-c.TAU,!0),this.lineTo(e,t+s),this.moveTo(e,t+s),d?this.arc(e+s,t+s,s,-Math.PI,-c.TAU):this.arc(e,t,s,c.TAU,0,!0),this.strokePath(),this},fillPointShape:function(e,t){return this.fillPoint(e.x,e.y,t)},fillPoint:function(e,t,i){return!i||i<1?i=1:(e-=i/2,t-=i/2),this.commandBuffer.push(s.FILL_RECT,e,t,i,i),this},fillTriangleShape:function(e){return this.fillTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},strokeTriangleShape:function(e){return this.strokeTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},fillTriangle:function(e,t,i,n,r,a){return this.commandBuffer.push(s.FILL_TRIANGLE,e,t,i,n,r,a),this},strokeTriangle:function(e,t,i,n,r,a){return this.commandBuffer.push(s.STROKE_TRIANGLE,e,t,i,n,r,a),this},strokeLineShape:function(e){return this.lineBetween(e.x1,e.y1,e.x2,e.y2)},lineBetween:function(e,t,i,n){return this.beginPath(),this.moveTo(e,t),this.lineTo(i,n),this.strokePath(),this},lineTo:function(e,t){return this.commandBuffer.push(s.LINE_TO,e,t),this},moveTo:function(e,t){return this.commandBuffer.push(s.MOVE_TO,e,t),this},strokePoints:function(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var r=1;r<n;r++)this.lineTo(e[r].x,e[r].y);return t&&this.lineTo(e[0].x,e[0].y),i&&this.closePath(),this.strokePath(),this},fillPoints:function(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var r=1;r<n;r++)this.lineTo(e[r].x,e[r].y);return t&&this.lineTo(e[0].x,e[0].y),i&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(e,t){void 0===t&&(t=32);var i=e.getPoints(t);return this.strokePoints(i,!0)},strokeEllipse:function(e,t,i,n,r){void 0===r&&(r=32);var s=new o(e,t,i,n).getPoints(r);return this.strokePoints(s,!0)},fillEllipseShape:function(e,t){void 0===t&&(t=32);var i=e.getPoints(t);return this.fillPoints(i,!0)},fillEllipse:function(e,t,i,n,r){void 0===r&&(r=32);var s=new o(e,t,i,n).getPoints(r);return this.fillPoints(s,!0)},arc:function(e,t,i,n,r,a,o){return void 0===a&&(a=!1),void 0===o&&(o=0),this.commandBuffer.push(s.ARC,e,t,i,n,r,a,o),this},slice:function(e,t,i,n,r,a,o){return void 0===a&&(a=!1),void 0===o&&(o=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,e,t),this.commandBuffer.push(s.ARC,e,t,i,n,r,a,o),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(e,t){return this.commandBuffer.push(s.TRANSLATE,e,t),this},scaleCanvas:function(e,t){return this.commandBuffer.push(s.SCALE,e,t),this},rotateCanvas:function(e){return this.commandBuffer.push(s.ROTATE,e),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(e,t,i){var n,r,s=this.scene.sys,a=s.game.renderer;void 0===t&&(t=s.scale.width),void 0===i&&(i=s.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,t,i),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var o={willReadFrequently:!0};if("string"==typeof e){if(s.textures.exists(e)){var l=(n=s.textures.get(e)).getSourceImage();l instanceof HTMLCanvasElement&&(r=l.getContext("2d",o))}else r=(n=s.textures.createCanvas(e,t,i)).getSourceImage().getContext("2d",o)}else e instanceof HTMLCanvasElement&&(r=e.getContext("2d",o));return r&&(this.renderCanvas(a,this,f.TargetCamera,null,r,!1),n&&n.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new n,e.exports=f},32768:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85592),r=i(20926);e.exports=function(e,t,i,s,a,o){var l=t.commandBuffer,h=l.length,u=a||e.currentContext;if(0!==h&&r(e,u,t,i,s)){i.addToRenderList(t);var c=1,d=1,f=0,p=0,m=1,g=0,v=0,y=0;u.beginPath();for(var b=0;b<h;++b)switch(l[b]){case n.ARC:u.arc(l[b+1],l[b+2],l[b+3],l[b+4],l[b+5],l[b+6]),b+=7;break;case n.LINE_STYLE:m=l[b+1],f=l[b+2],c=l[b+3],g=(0xff0000&f)>>>16,v=(65280&f)>>>8,y=255&f,u.strokeStyle="rgba("+g+","+v+","+y+","+c+")",u.lineWidth=m,b+=3;break;case n.FILL_STYLE:p=l[b+1],d=l[b+2],g=(0xff0000&p)>>>16,v=(65280&p)>>>8,y=255&p,u.fillStyle="rgba("+g+","+v+","+y+","+d+")",b+=2;break;case n.BEGIN_PATH:u.beginPath();break;case n.CLOSE_PATH:u.closePath();break;case n.FILL_PATH:o||u.fill();break;case n.STROKE_PATH:o||u.stroke();break;case n.FILL_RECT:o?u.rect(l[b+1],l[b+2],l[b+3],l[b+4]):u.fillRect(l[b+1],l[b+2],l[b+3],l[b+4]),b+=4;break;case n.FILL_TRIANGLE:u.beginPath(),u.moveTo(l[b+1],l[b+2]),u.lineTo(l[b+3],l[b+4]),u.lineTo(l[b+5],l[b+6]),u.closePath(),o||u.fill(),b+=6;break;case n.STROKE_TRIANGLE:u.beginPath(),u.moveTo(l[b+1],l[b+2]),u.lineTo(l[b+3],l[b+4]),u.lineTo(l[b+5],l[b+6]),u.closePath(),o||u.stroke(),b+=6;break;case n.LINE_TO:u.lineTo(l[b+1],l[b+2]),b+=2;break;case n.MOVE_TO:u.moveTo(l[b+1],l[b+2]),b+=2;break;case n.LINE_FX_TO:u.lineTo(l[b+1],l[b+2]),b+=5;break;case n.MOVE_FX_TO:u.moveTo(l[b+1],l[b+2]),b+=5;break;case n.SAVE:u.save();break;case n.RESTORE:u.restore();break;case n.TRANSLATE:u.translate(l[b+1],l[b+2]),b+=2;break;case n.SCALE:u.scale(l[b+1],l[b+2]),b+=2;break;case n.ROTATE:u.rotate(l[b+1]),b+=1;break;case n.GRADIENT_FILL_STYLE:b+=5;break;case n.GRADIENT_LINE_STYLE:b+=6}u.restore()}}},87079:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(44603),r=i(43831);n.register("graphics",function(e,t){void 0===e&&(e={}),void 0!==t&&(e.add=t);var i=new r(this.scene,e);return e.add&&this.scene.sys.displayList.add(i),i})},1201:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43831);i(39429).register("graphics",function(e){return this.displayList.add(new n(this.scene,e))})},84503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(77545),s=i(32768),s=i(32768),e.exports={renderWebGL:r,renderCanvas:s}},77545:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85592),r=i(91296),s=i(61340),a=i(70554),o=function(e,t,i){this.x=e,this.y=t,this.width=i},l=function(e,t,i){this.points=[],this.pointsLength=1,this.points[0]=new o(e,t,i)},h=[],u=new s;e.exports=function(e,t,i,s){if(0!==t.commandBuffer.length){i.addToRenderList(t);var c=e.pipelines.set(t.pipeline,t);e.pipelines.preBatch(t);for(var d=r(t,i,s).calc,f=u.loadIdentity(),p=t.commandBuffer,m=i.alpha*t.alpha,g=1,v=c.fillTint,y=c.strokeTint,b=0,x=0,E=0,w=2*Math.PI,S=[],T=0,A=!0,_=null,C=a.getTintAppendFloatAlpha,I=0;I<p.length;I++)switch(p[I]){case n.BEGIN_PATH:S.length=0,_=null,A=!0;break;case n.CLOSE_PATH:A=!1,_&&_.points.length&&_.points.push(_.points[0]);break;case n.FILL_PATH:for(T=0;T<S.length;T++)c.batchFillPath(S[T].points,f,d);break;case n.STROKE_PATH:for(T=0;T<S.length;T++)c.batchStrokePath(S[T].points,g,A,f,d);break;case n.LINE_STYLE:g=p[++I];var P=C(p[++I],p[++I]*m);y.TL=P,y.TR=P,y.BL=P,y.BR=P;break;case n.FILL_STYLE:var R=C(p[++I],p[++I]*m);v.TL=R,v.TR=R,v.BL=R,v.BR=R;break;case n.GRADIENT_FILL_STYLE:var O=p[++I]*m,M=p[++I]*m,L=p[++I]*m,D=p[++I]*m;v.TL=C(p[++I],O),v.TR=C(p[++I],M),v.BL=C(p[++I],L),v.BR=C(p[++I],D);break;case n.GRADIENT_LINE_STYLE:g=p[++I];var k=p[++I]*m;y.TL=C(p[++I],k),y.TR=C(p[++I],k),y.BL=C(p[++I],k),y.BR=C(p[++I],k);break;case n.ARC:var N=0,F=p[++I],B=p[++I],U=p[++I],j=p[++I],V=p[++I],G=p[++I],W=p[++I];for(V-=j,G?V<-w?V=-w:V>0&&(V=-w+V%w):V>w?V=w:V<0&&(V=w+V%w),null===_&&(_=new l(F+Math.cos(j)*U,B+Math.sin(j)*U,g),S.push(_),N+=.01);N<1+W;)b=F+Math.cos(E=V*N+j)*U,x=B+Math.sin(E)*U,_.points.push(new o(b,x,g)),N+=.01;b=F+Math.cos(E=V+j)*U,x=B+Math.sin(E)*U,_.points.push(new o(b,x,g));break;case n.FILL_RECT:c.batchFillRect(p[++I],p[++I],p[++I],p[++I],f,d);break;case n.FILL_TRIANGLE:c.batchFillTriangle(p[++I],p[++I],p[++I],p[++I],p[++I],p[++I],f,d);break;case n.STROKE_TRIANGLE:c.batchStrokeTriangle(p[++I],p[++I],p[++I],p[++I],p[++I],p[++I],g,f,d);break;case n.LINE_TO:null!==_?_.points.push(new o(p[++I],p[++I],g)):(_=new l(p[++I],p[++I],g),S.push(_));break;case n.MOVE_TO:_=new l(p[++I],p[++I],g),S.push(_);break;case n.SAVE:h.push(f.copyToArray());break;case n.RESTORE:f.copyFromArray(h.pop());break;case n.TRANSLATE:F=p[++I],B=p[++I],f.translate(F,B);break;case n.SCALE:F=p[++I],B=p[++I],f.scale(F,B);break;case n.ROTATE:f.rotate(p[++I])}e.pipelines.postBatch(t)}}},26479:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61061),r=i(83419),s=i(51708),a=i(50792),o=i(46710),l=i(95540),h=i(35154),u=i(97022),c=i(41212),d=i(88492),f=i(35072),p=i(68287),m=new r({Extends:a,initialize:function(e,t,i){a.call(this),i?t&&!Array.isArray(t)&&(t=[t]):Array.isArray(t)?c(t[0])&&(i=t,t=null):c(t)&&(i=t,t=null),this.scene=e,this.children=new f,this.isParent=!0,this.type="Group",this.classType=l(i,"classType",p),this.name=l(i,"name",""),this.active=l(i,"active",!0),this.maxSize=l(i,"maxSize",-1),this.defaultKey=l(i,"defaultKey",null),this.defaultFrame=l(i,"defaultFrame",null),this.runChildUpdate=l(i,"runChildUpdate",!1),this.createCallback=l(i,"createCallback",null),this.removeCallback=l(i,"removeCallback",null),this.createMultipleCallback=l(i,"createMultipleCallback",null),this.internalCreateCallback=l(i,"internalCreateCallback",null),this.internalRemoveCallback=l(i,"internalRemoveCallback",null),t&&this.addMultiple(t),i&&this.createMultiple(i),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(e,t,i,n,r,s){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.defaultKey),void 0===n&&(n=this.defaultFrame),void 0===r&&(r=!0),void 0===s&&(s=!0),this.isFull())return null;var a=new this.classType(this.scene,e,t,i,n);return a.addToDisplayList(this.scene.sys.displayList),a.addToUpdateList(),a.visible=r,a.setActive(s),this.add(a),a},createMultiple:function(e){if(this.isFull())return[];Array.isArray(e)||(e=[e]);var t=[];if(e[0].key)for(var i=0;i<e.length;i++){var n=this.createFromConfig(e[i]);t=t.concat(n)}return t},createFromConfig:function(e){if(this.isFull())return[];this.classType=l(e,"classType",this.classType);var t=l(e,"key",void 0),i=l(e,"frame",null),r=l(e,"visible",!0),s=l(e,"active",!0),a=[];if(void 0===t)return a;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);var o=l(e,"repeat",0),c=l(e,"randomKey",!1),f=l(e,"randomFrame",!1),p=l(e,"yoyo",!1),m=l(e,"quantity",!1),g=l(e,"frameQuantity",1),v=d(t,i,{max:l(e,"max",0),qty:m||g,random:c,randomB:f,repeat:o,yoyo:p});e.createCallback&&(this.createCallback=e.createCallback),e.removeCallback&&(this.removeCallback=e.removeCallback),e.internalCreateCallback&&(this.internalCreateCallback=e.internalCreateCallback),e.internalRemoveCallback&&(this.internalRemoveCallback=e.internalRemoveCallback);for(var y=0;y<v.length;y++){var b=this.create(0,0,v[y].a,v[y].b,r,s);if(!b)break;a.push(b)}if(u(e,"setXY")){var x=h(e,"setXY.x",0),E=h(e,"setXY.y",0),w=h(e,"setXY.stepX",0),S=h(e,"setXY.stepY",0);n.SetXY(a,x,E,w,S)}if(u(e,"setRotation")){var T=h(e,"setRotation.value",0),A=h(e,"setRotation.step",0);n.SetRotation(a,T,A)}if(u(e,"setScale")){var _=h(e,"setScale.x",1),C=h(e,"setScale.y",_),I=h(e,"setScale.stepX",0),P=h(e,"setScale.stepY",0);n.SetScale(a,_,C,I,P)}if(u(e,"setOrigin")){var R=h(e,"setOrigin.x",.5),O=h(e,"setOrigin.y",R),M=h(e,"setOrigin.stepX",0),L=h(e,"setOrigin.stepY",0);n.SetOrigin(a,R,O,M,L)}if(u(e,"setAlpha")){var D=h(e,"setAlpha.value",1),k=h(e,"setAlpha.step",0);n.SetAlpha(a,D,k)}if(u(e,"setDepth")){var N=h(e,"setDepth.value",0),F=h(e,"setDepth.step",0);n.SetDepth(a,N,F)}if(u(e,"setScrollFactor")){var B=h(e,"setScrollFactor.x",1),U=h(e,"setScrollFactor.y",B),j=h(e,"setScrollFactor.stepX",0),V=h(e,"setScrollFactor.stepY",0);n.SetScrollFactor(a,B,U,j,V)}var G=l(e,"hitArea",null),W=l(e,"hitAreaCallback",null);G&&n.SetHitArea(a,G,W);var z=l(e,"gridAlign",!1);return z&&n.GridAlign(a,z),this.createMultipleCallback&&this.createMultipleCallback.call(this,a),a},preUpdate:function(e,t){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),n=0;n<i.length;n++){var r=i[n];r.active&&r.update(e,t)}},add:function(e,t){return void 0===t&&(t=!1),this.isFull()||(this.children.set(e),this.internalCreateCallback&&this.internalCreateCallback.call(this,e),this.createCallback&&this.createCallback.call(this,e),t&&(e.addToDisplayList(this.scene.sys.displayList),e.addToUpdateList()),e.on(s.DESTROY,this.remove,this)),this},addMultiple:function(e,t){if(void 0===t&&(t=!1),Array.isArray(e))for(var i=0;i<e.length;i++)this.add(e[i],t);return this},remove:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),this.children.contains(e)&&(this.children.delete(e),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,e),this.removeCallback&&this.removeCallback.call(this,e),e.off(s.DESTROY,this.remove,this),i?e.destroy():t&&(e.removeFromDisplayList(),e.removeFromUpdateList())),this},clear:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var i=this.children,n=0;n<i.size;n++){var r=i.entries[n];r.off(s.DESTROY,this.remove,this),t?r.destroy():e&&(r.removeFromDisplayList(),r.removeFromUpdateList())}return this.children.clear(),this},contains:function(e){return this.children.contains(e)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(e,t,i,n){return o(this.children.entries,e,t,i,n)},getFirst:function(e,t,i,n,r,s,a){return this.getHandler(!0,1,e,t,i,n,r,s,a)},getFirstNth:function(e,t,i,n,r,s,a,o){return this.getHandler(!0,e,t,i,n,r,s,a,o)},getLast:function(e,t,i,n,r,s,a){return this.getHandler(!1,1,e,t,i,n,r,s,a)},getLastNth:function(e,t,i,n,r,s,a,o){return this.getHandler(!1,e,t,i,n,r,s,a,o)},getHandler:function(e,t,i,n,r,s,a,o,l){void 0===i&&(i=!1),void 0===n&&(n=!1);var h,u,c=0,d=this.children.entries;if(e)for(u=0;u<d.length;u++)if((h=d[u]).active===i){if(++c===t)break}else h=null;else for(u=d.length-1;u>=0;u--)if((h=d[u]).active===i){if(++c===t)break}else h=null;return h?("number"==typeof r&&(h.x=r),"number"==typeof s&&(h.y=s),h):n?this.create(r,s,a,o,l):null},get:function(e,t,i,n,r){return this.getFirst(!1,!0,e,t,i,n,r)},getFirstAlive:function(e,t,i,n,r,s){return this.getFirst(!0,e,t,i,n,r,s)},getFirstDead:function(e,t,i,n,r,s){return this.getFirst(!1,e,t,i,n,r,s)},playAnimation:function(e,t){return n.PlayAnimation(this.children.entries,e,t),this},isFull:function(){return -1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(e){void 0===e&&(e=!0);for(var t=0,i=0;i<this.children.size;i++)this.children.entries[i].active===e&&t++;return t},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var e=this.getTotalUsed();return(-1===this.maxSize?0xe8d4a50fff:this.maxSize)-e},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},propertyValueSet:function(e,t,i,r,s){return n.PropertyValueSet(this.children.entries,e,t,i,r,s),this},propertyValueInc:function(e,t,i,r,s){return n.PropertyValueInc(this.children.entries,e,t,i,r,s),this},setX:function(e,t){return n.SetX(this.children.entries,e,t),this},setY:function(e,t){return n.SetY(this.children.entries,e,t),this},setXY:function(e,t,i,r){return n.SetXY(this.children.entries,e,t,i,r),this},incX:function(e,t){return n.IncX(this.children.entries,e,t),this},incY:function(e,t){return n.IncY(this.children.entries,e,t),this},incXY:function(e,t,i,r){return n.IncXY(this.children.entries,e,t,i,r),this},shiftPosition:function(e,t,i){return n.ShiftPosition(this.children.entries,e,t,i),this},angle:function(e,t){return n.Angle(this.children.entries,e,t),this},rotate:function(e,t){return n.Rotate(this.children.entries,e,t),this},rotateAround:function(e,t){return n.RotateAround(this.children.entries,e,t),this},rotateAroundDistance:function(e,t,i){return n.RotateAroundDistance(this.children.entries,e,t,i),this},setAlpha:function(e,t){return n.SetAlpha(this.children.entries,e,t),this},setTint:function(e,t,i,r){return n.SetTint(this.children.entries,e,t,i,r),this},setOrigin:function(e,t,i,r){return n.SetOrigin(this.children.entries,e,t,i,r),this},scaleX:function(e,t){return n.ScaleX(this.children.entries,e,t),this},scaleY:function(e,t){return n.ScaleY(this.children.entries,e,t),this},scaleXY:function(e,t,i,r){return n.ScaleXY(this.children.entries,e,t,i,r),this},setDepth:function(e,t){return n.SetDepth(this.children.entries,e,t),this},setBlendMode:function(e){return n.SetBlendMode(this.children.entries,e),this},setHitArea:function(e,t){return n.SetHitArea(this.children.entries,e,t),this},shuffle:function(){return n.Shuffle(this.children.entries),this},kill:function(e){this.children.contains(e)&&e.setActive(!1)},killAndHide:function(e){this.children.contains(e)&&(e.setActive(!1),e.setVisible(!1))},setVisible:function(e,t,i){return n.SetVisible(this.children.entries,e,t,i),this},toggleVisible:function(){return n.ToggleVisible(this.children.entries),this},destroy:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.scene&&!this.ignoreDestroy&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(t,e),this.scene=void 0,this.children=void 0)}});e.exports=m},94975:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(44603),r=i(26479);n.register("group",function(e){return new r(this.scene,null,e)})},3385:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26479);i(39429).register("group",function(e,t){return this.updateList.add(new n(this.scene,e,t))})},88571:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(59819),o=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.TextureCrop,r.Tint,r.Transform,r.Visible,a],initialize:function(e,t,i,n,r){s.call(this,e,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,r),this.setPosition(t,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=o},40652:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t),e.batchSprite(t,t.frame,i,n)}},82459:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(88571);r.register("image",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"frame",null),o=new a(this.scene,0,0,i,r);return void 0!==t&&(e.add=t),n(this.scene,o,e),o})},2117:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(88571);i(39429).register("image",function(e,t,i,r){return this.displayList.add(new n(this.scene,e,t,i,r))})},59819:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(99517),s=i(40652),e.exports={renderWebGL:r,renderCanvas:s}},99517:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t),this.pipeline.batchSprite(t,i,n)}},77856:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};n.Shader=i(20071),n.Mesh=i(4703),n.NineSlice=i(28103),n.PointLight=i(80321),n.Plane=i(33663),n.Factories.Shader=i(74177),n.Factories.Mesh=i(9225),n.Factories.NineSlice=i(47521),n.Factories.PointLight=i(71255),n.Factories.Plane=i(30985),n.Creators.Shader=i(54935),n.Creators.Mesh=i(20527),n.Creators.NineSlice=i(28279),n.Creators.PointLight=i(39829),n.Creators.Plane=i(56015),n.Light=i(41432),n.LightsManager=i(61356),n.LightsPlugin=i(88992),e.exports=n},93595:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(83419),s=i(31401),a=i(53774),o=i(45893),l=i(50792),h=i(51708),u=i(73162),c=i(33963),d=i(44594),f=i(19186),p=new r({Extends:u,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.PostPipeline,s.Visible,l,c],initialize:function(e,t){u.call(this,e),l.call(this),this.scene=e,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=e.sys,this.events=e.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(n.SKIP_CHECK),t&&this.add(t),e.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(e,t){return this.data||(this.data=new o(this)),this.data.set(e,t),this},incData:function(e,t){return this.data||(this.data=new o(this)),this.data.inc(e,t),this},toggleData:function(e){return this.data||(this.data=new o(this)),this.data.toggle(e),this},getData:function(e){return this.data||(this.data=new o(this)),this.data.get(e)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(e){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,t=this.parentContainer,i=[];t;)if(i.unshift(t.getIndex(e)),e=t,t.parentContainer)t=t.parentContainer;else break;return i.unshift(this.displayList.getIndex(e)),i},addChildCallback:function(e){var t=e.displayList;t&&t!==this&&e.removeFromDisplayList(),e.displayList||(this.queueDepthSort(),e.displayList=this,e.emit(h.ADDED_TO_SCENE,e,this.scene),this.events.emit(d.ADDED_TO_SCENE,e,this.scene))},removeChildCallback:function(e){this.queueDepthSort(),e.displayList=null,e.emit(h.REMOVED_FROM_SCENE,e,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,e,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,t){return e._depth-t._depth},getChildren:function(){return this.list},addToDisplayList:function(e){return void 0===e&&(e=this.scene.sys.displayList),this.displayList&&this.displayList!==e&&this.removeFromDisplayList(),e.exists(this)||(this.displayList=e,e.add(this,!0),e.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),e.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var e=this.displayList||this.scene.sys.displayList;return e.exists(this)&&(e.remove(this,!0),e.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),e.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(e){if(this.scene&&!this.ignoreDestroy){this.emit(h.DESTROY,this);for(var t=this.list;t.length;)t[0].destroy(e);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});e.exports=p},2956:e=>{e.exports=function(e,t,i){var n=t.list;if(0!==n.length){t.depthSort();var r=-1!==t.blendMode;r||e.setBlendMode(0);var s=t._alpha;t.mask&&t.mask.preRenderCanvas(e,null,i);for(var a=0;a<n.length;a++){var o=n[a];if(o.willRender(i)){var l=o.alpha;r||o.blendMode===e.currentBlendMode||e.setBlendMode(o.blendMode),o.setAlpha(l*s),o.renderCanvas(e,o,i),o.setAlpha(l)}}t.mask&&t.mask.postRenderCanvas(e)}}},25179:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(93595),s=i(44603),a=i(23568);s.register("layer",function(e,t){void 0===e&&(e={});var i=a(e,"children",null),s=new r(this.scene,i);return void 0!==t&&(e.add=t),n(this.scene,s,e),s})},20005:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(93595);i(39429).register("layer",function(e){return this.displayList.add(new n(this.scene,e))})},33963:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(15869),s=i(2956),e.exports={renderWebGL:r,renderCanvas:s}},15869:e=>{e.exports=function(e,t,i){var n=t.list,r=n.length;if(0!==r){t.depthSort(),e.pipelines.preBatch(t);var s=-1!==t.blendMode;s||e.setBlendMode(0);for(var a=t.alpha,o=0;o<r;o++){var l,h,u,c,d=n[o];if(d.willRender(i)){if(void 0!==d.alphaTopLeft)l=d.alphaTopLeft,h=d.alphaTopRight,u=d.alphaBottomLeft,c=d.alphaBottomRight;else{var f=d.alpha;l=f,h=f,u=f,c=f}s||d.blendMode===e.currentBlendMode||e.setBlendMode(d.blendMode);var p=d.mask;p&&p.preRenderWebGL(e,d,i);var m=d.type;m!==e.currentType&&(e.newType=!0,e.currentType=m),e.nextTypeMatch=o<r-1&&n[o+1].type===e.currentType,d.setAlpha(l*a,h*a,u*a,c*a),d.renderWebGL(e,d,i),d.setAlpha(l,h,u,c),p&&p.postRenderWebGL(e,i),e.newType=!1}}e.pipelines.postBatch(t)}}},41432:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503),r=i(83419),s=i(31401),a=i(51767),o=i(70554),l=new r({Extends:n,Mixins:[s.Origin,s.ScrollFactor,s.Visible],initialize:function(e,t,i,r,s,o,l){n.call(this,e,t,i),this.color=new a(r,s,o),this.intensity=l,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(i)},displayWidth:{get:function(){return this.diameter},set:function(e){this.diameter=e}},displayHeight:{get:function(){return this.diameter},set:function(e){this.diameter=e}},width:{get:function(){return this.diameter},set:function(e){this.diameter=e}},height:{get:function(){return this.diameter},set:function(e){this.diameter=e}},willRender:function(e){return!(l.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},setColor:function(e){var t=o.getFloatsFromUintRGB(e);return this.color.set(t[0],t[1],t[2]),this},setIntensity:function(e){return this.intensity=e,this},setRadius:function(e){return this.radius=e,this}});l.RENDER_MASK=15,e.exports=l},61356:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81491),r=i(83419),s=i(20339),a=i(41432),o=i(80321),l=i(51767),h=i(19133),u=i(19186),c=i(70554),d=new r({initialize:function(){this.lights=[],this.ambientColor=new l(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(e,t,i,n,r,s){return this.systems.displayList.add(new o(this.scene,e,t,i,n,r,s))},enable:function(){return -1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(e){for(var t=this.lights,i=e.worldView,r=[],a=0;a<t.length;a++){var o=t[a];o.willRender(e)&&n(o,i)&&r.push({light:o,distance:s(o.x,o.y,i.centerX,i.centerY)})}return r.length>this.maxLights&&(u(r,this.sortByDistance),r=r.slice(0,this.maxLights)),this.visibleLights=r.length,r},sortByDistance:function(e,t){return e.distance>=t.distance},setAmbientColor:function(e){var t=c.getFloatsFromUintRGB(e);return this.ambientColor.set(t[0],t[1],t[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(e,t,i,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=128),void 0===n&&(n=0xffffff),void 0===r&&(r=1);var s=c.getFloatsFromUintRGB(n),o=new a(e,t,i,s[0],s[1],s[2],r);return this.lights.push(o),o},removeLight:function(e){var t=this.lights.indexOf(e);return t>=0&&h(this.lights,t),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});e.exports=d},88992:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(61356),s=i(37277),a=i(44594),o=new n({Extends:r,initialize:function(e){this.scene=e,this.systems=e.sys,e.sys.settings.isBooted||e.sys.events.once(a.BOOT,this.boot,this),r.call(this)},boot:function(){var e=this.systems.events;e.on(a.SHUTDOWN,this.shutdown,this),e.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",o,"lights"),e.exports=o},4703:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(39506),a=i(83997),o=i(95643),l=i(34684),h=i(92515),u=i(91296),c=i(37867),d=i(29807),f=i(43396),p=i(19186),m=i(25836),g=i(39318),v=new n({Extends:o,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,d],initialize:function(e,t,i,n,r,s,a,l,h,u,d,f){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n="__WHITE"),o.call(this,e,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new c,this.viewPosition=new m,this.viewMatrix=new c,this.projectionMatrix=new c,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var p=e.sys.renderer;this.setPosition(t,i),this.setTexture(n,r),this.setSize(p.width,p.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(p.width,p.height),s&&this.addVertices(s,a,l,h,u,d,f)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(e){return this.viewPosition.addScale(m.LEFT,e),this.dirtyCache[10]=1,this},panY:function(e){return this.viewPosition.y+=m.DOWN.y*e,this.dirtyCache[10]=1,this},panZ:function(e){return this.viewPosition.z+=e,this.dirtyCache[10]=1,this},setPerspective:function(e,t,i,n,r){return void 0===i&&(i=45),void 0===n&&(n=.01),void 0===r&&(r=1e3),this.fov=i,this.projectionMatrix.perspective(s(i),e/t,n,r),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(e,t,i,n){return void 0===e&&(e=this.scene.sys.renderer.getAspectRatio()),void 0===t&&(t=1),void 0===i&&(i=-1e3),void 0===n&&(n=1e3),this.fov=0,this.projectionMatrix.ortho(-e,e,-t,t,i,n),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(e){e.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(e,t,i,n,r,s,a,o,h){var u,c=this.scene.sys.cache.obj.get(e);return c&&(u=l(c,this,t,i,n,r,s,a,o,h)),u&&0!==u.verts.length||console.warn("Mesh.addVerticesFromObj data empty:",e),this},sortByDepth:function(e,t){return e.depth-t.depth},depthSort:function(){return p(this.faces,this.sortByDepth),this},addVertex:function(e,t,i,n,r,s,a){var o=new g(e,t,i,n,r,s,a);return this.vertices.push(o),o},addFace:function(e,t,i){var n=new a(e,t,i);return this.faces.push(n),this.dirtyCache[9]=-1,n},addVertices:function(e,t,i,n,r,s,a){var o=h(e,t,i,n,r,s,a);return o?(this.faces=this.faces.concat(o.faces),this.vertices=this.vertices.concat(o.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(e){return this.faces[e]},hasFaceAt:function(e,t,i){void 0===i&&(i=this.scene.sys.cameras.main);for(var n=u(this,i).calc,r=this.faces,s=0;s<r.length;s++)if(r[s].contains(e,t,n))return!0;return!1},getFaceAt:function(e,t,i){void 0===i&&(i=this.scene.sys.cameras.main);for(var n=u(this,i).calc,r=this.faces,s=[],a=0;a<r.length;a++){var o=r[a];o.contains(e,t,n)&&s.push(o)}return p(s,this.sortByDepth)},setDebug:function(e,t){return this.debugGraphic=e,e||t?t?this.debugCallback=t:this.debugCallback=this.renderDebug:this.debugCallback=null,this},isDirty:function(){var e=this.modelPosition,t=this.modelRotation,i=this.modelScale,n=this.dirtyCache,r=e.x,s=e.y,a=e.z,o=t.x,l=t.y,h=t.z,u=i.x,c=i.y,d=i.z,f=this.getFaceCount(),p=n[0],m=n[1],g=n[2],v=n[3],y=n[4],b=n[5],x=n[6],E=n[7],w=n[8],S=n[9];return n[0]=r,n[1]=s,n[2]=a,n[3]=o,n[4]=l,n[5]=h,n[6]=u,n[7]=c,n[8]=d,n[9]=f,p!==r||m!==s||g!==a||v!==o||y!==l||b!==h||x!==u||E!==c||w!==d||S!==f},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var e=this.dirtyCache;if(this.ignoreDirtyCache||e[10]||this.isDirty()){var t=this.width,i=this.height,n=this.viewMatrix,r=this.viewPosition;e[10]&&(n.identity(),n.translate(r),n.invert(),e[10]=0);var s=this.transformMatrix;s.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var a=r.z,o=this.faces,l=0;l<o.length;l++)o[l].transformCoordinatesLocal(s,t,i,a);this.depthSort()}},renderDebug:function(e,t){for(var i=e.debugGraphic,n=0;n<t.length;n++){var r=t[n],s=r.vertex1.tx,a=r.vertex1.ty,o=r.vertex2.tx,l=r.vertex2.ty,h=r.vertex3.tx,u=r.vertex3.ty;i.strokeTriangle(s,a,o,l,h,u)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(e){void 0===e&&(e={});var t=(function(e,t,i){for(var n=this.faces,r=0;r<n.length;r++)if(n[r].contains(t,i))return!0;return!1}).bind(this);return this.scene.sys.input.enable(this,e,t),this},setTint:function(e){void 0===e&&(e=0xffffff);for(var t=this.vertices,i=0;i<t.length;i++)t[i].color=e;return this},uvScroll:function(e,t){for(var i=this.faces,n=0;n<i.length;n++)i[n].scrollUV(e,t);return this},uvScale:function(e,t){for(var i=this.faces,n=0;n<i.length;n++)i[n].scaleUV(e,t);return this},tint:{set:function(e){this.setTint(e)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(e){this.modelRotation.x=s(e)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(e){this.modelRotation.y=s(e)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(e){this.modelRotation.z=s(e)}}});e.exports=v},36488:e=>{e.exports=function(){}},20527:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(35154),o=i(4703);r.register("mesh",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"frame",null),l=a(e,"vertices",[]),h=a(e,"uvs",[]),u=a(e,"indicies",[]),c=a(e,"containsZ",!1),d=a(e,"normals",[]),f=a(e,"colors",0xffffff),p=a(e,"alphas",1),m=new o(this.scene,0,0,i,r,l,h,u,c,d,f,p);return void 0!==t&&(e.add=t),n(this.scene,m,e),m})},9225:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4703);i(39429).register("mesh",function(e,t,i,r,s,a,o,l,h,u,c){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o,l,h,u,c))})},29807:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(48833),s=i(36488),e.exports={renderWebGL:r,renderCanvas:s}},48833:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r){var s=t.faces,a=s.length;if(0!==a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline,t),l=n(t,i,r).calc;e.pipelines.preBatch(t);for(var h=o.setGameObject(t),u=o.vertexViewF32,c=o.vertexViewU32,d=o.vertexCount*o.currentShader.vertexComponentCount-1,f=t.tintFill,p=[],m=t.debugCallback,g=l.a,v=l.b,y=l.c,b=l.d,x=l.e,E=l.f,w=t.viewPosition.z,S=t.hideCCW,T=i.roundPixels,A=i.alpha*t.alpha,_=0,C=0;C<a;C++){var I=s[C];I.isInView(i,S,w,A,g,v,y,b,x,E,T)&&(o.shouldFlush(3)&&(o.flush(),h=o.setGameObject(t),d=o.vertexCount*o.currentShader.vertexComponentCount-1),d=I.load(u,c,d,h,f),_++,o.vertexCount+=3,o.currentBatch.count=o.vertexCount-o.currentBatch.start,m&&p.push(I))}t.totalFrame+=_,m&&m.call(t,t,p),e.pipelines.postBatch(t)}}},28103:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(78023),o=i(39318),l=new n({Extends:s,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Texture,r.Transform,r.Visible,a],initialize:function(e,t,i,n,r,a,l,h,u,c,d){s.call(this,e,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=0xffffff,this.tintFill=!1;var f=e.textures.getFrame(n,r);this.is3Slice=!c&&!d,f&&f.scale9&&(this.is3Slice=f.is3Slice);for(var p=this.is3Slice?18:54,m=0;m<p;m++)this.vertices.push(new o);this.setPosition(t,i),this.setTexture(n,r),this.setSlices(a,l,h,u,c,d,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(e,t,i,n,r,s,a){void 0===i&&(i=10),void 0===n&&(n=10),void 0===r&&(r=0),void 0===s&&(s=0),void 0===a&&(a=!1);var o=this.frame,l=!1;if(this.is3Slice&&a&&0!==r&&0!==s&&(l=!0),l)console.warn("Cannot change 9 slice to 3 slice");else{if(o&&o.scale9&&!a){var h=o.data.scale9Borders,u=h.x,c=h.y;i=u,n=o.width-h.w-u,r=c,s=o.height-h.h-c,void 0===e&&(e=o.width),void 0===t&&(t=o.height)}else void 0===e&&(e=256),void 0===t&&(t=256);this._width=e,this._height=t,this.leftWidth=i,this.rightWidth=n,this.topHeight=r,this.bottomHeight=s,this.is3Slice&&(t=o.height,this._height=t,this.topHeight=t,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var e=this.leftWidth,t=this.rightWidth,i=this.topHeight,n=this.bottomHeight,r=this.frame.width,s=this.frame.height;this.updateQuadUVs(0,0,0,e/r,i/s),this.updateQuadUVs(6,e/r,0,1-t/r,i/s),this.updateQuadUVs(12,1-t/r,0,1,i/s),this.is3Slice||(this.updateQuadUVs(18,0,i/s,e/r,1-n/s),this.updateQuadUVs(24,e/r,i/s,1-t/r,1-n/s),this.updateQuadUVs(30,1-t/r,i/s,1,1-n/s),this.updateQuadUVs(36,0,1-n/s,e/r,1),this.updateQuadUVs(42,e/r,1-n/s,1-t/r,1),this.updateQuadUVs(48,1-t/r,1-n/s,1,1))},updateVertices:function(){var e=this.leftWidth,t=this.rightWidth,i=this.topHeight,n=this.bottomHeight,r=this.width,s=this.height;this.updateQuad(0,-.5,.5,-.5+e/r,.5-i/s),this.updateQuad(6,-.5+e/r,.5,.5-t/r,.5-i/s),this.updateQuad(12,.5-t/r,.5,.5,.5-i/s),this.is3Slice||(this.updateQuad(18,-.5,.5-i/s,-.5+e/r,-.5+n/s),this.updateQuad(24,-.5+e/r,.5-i/s,.5-t/r,-.5+n/s),this.updateQuad(30,.5-t/r,.5-i/s,.5,-.5+n/s),this.updateQuad(36,-.5,-.5+n/s,-.5+e/r,-.5),this.updateQuad(42,-.5+e/r,-.5+n/s,.5-t/r,-.5),this.updateQuad(48,.5-t/r,-.5+n/s,.5,-.5))},updateQuad:function(e,t,i,n,r){var s=this.width,a=this.height,o=this.originX,l=this.originY,h=this.vertices;h[e+0].resize(t,i,s,a,o,l),h[e+1].resize(t,r,s,a,o,l),h[e+2].resize(n,i,s,a,o,l),h[e+3].resize(t,r,s,a,o,l),h[e+4].resize(n,r,s,a,o,l),h[e+5].resize(n,i,s,a,o,l)},updateQuadUVs:function(e,t,i,n,r){var s=this.vertices,a=this.frame,o=a.u0,l=a.v0,h=a.u1,u=a.v1;if(0!==o||1!==h){var c=h-o;t=o+t*c,n=o+n*c}if(0!==l||1!==u){var d=u-l;i=l+i*d,r=l+r*d}s[e+0].setUVs(t,i),s[e+1].setUVs(t,r),s[e+2].setUVs(n,i),s[e+3].setUVs(t,r),s[e+4].setUVs(n,r),s[e+5].setUVs(n,i)},clearTint:function(){return this.setTint(0xffffff),this},setTint:function(e){return void 0===e&&(e=0xffffff),this.tint=e,this.tintFill=!1,this},setTintFill:function(e){return this.setTint(e),this.tintFill=!0,this},isTinted:{get:function(){return 0xffffff!==this.tint}},width:{get:function(){return this._width},set:function(e){this._width=Math.max(e,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(e){this.is3Slice||(this._height=Math.max(e,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t){this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},originX:{get:function(){return this._originX},set:function(e){this._originX=e,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(e){this._originY=e,this.updateVertices()}},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this._originX=e,this._originY=t,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var e=this.frame.height;this._height=e,this.topHeight=e,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});e.exports=l},28279:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(35154),o=i(28103);r.register("nineslice",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"frame",null),l=a(e,"width",256),h=a(e,"height",256),u=a(e,"leftWidth",10),c=a(e,"rightWidth",10),d=a(e,"topHeight",0),f=a(e,"bottomHeight",0),p=new o(this.scene,0,0,i,r,l,h,u,c,d,f);return void 0!==t&&(e.add=t),n(this.scene,p,e),p})},47521:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28103);i(39429).register("nineslice",function(e,t,i,r,s,a,o,l,h,u){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o,l,h,u))})},78023:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n;r=i(52230),e.exports={renderWebGL:r,renderCanvas:n}},52230:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){var a=t.vertices,o=a.length;if(0!==o){i.addToRenderList(t);var l=e.pipelines.set(t.pipeline,t),h=n(t,i,s,!1).calc;e.pipelines.preBatch(t);var u=l.setGameObject(t),c=l.vertexViewF32,d=l.vertexViewU32,f=l.vertexCount*l.currentShader.vertexComponentCount-1,p=i.roundPixels,m=t.tintFill,g=i.alpha*t.alpha,v=r.getTintAppendFloatAlpha(t.tint,g),y=l.vertexAvailable(),b=-1;y<o&&(b=y);for(var x=0;x<o;x++){var E=a[x];x===b&&(l.flush(),u=l.setGameObject(t),f=0),c[++f]=h.getXRound(E.vx,E.vy,p),c[++f]=h.getYRound(E.vx,E.vy,p),c[++f]=E.u,c[++f]=E.v,c[++f]=u,c[++f]=m,d[++f]=v,l.vertexCount++,l.currentBatch.count=l.vertexCount-l.currentBatch.start}e.pipelines.postBatch(t)}}},76472:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(44777),s=i(37589),a=i(6113),o=i(91389),l=i(90664),h=new n({Extends:r,initialize:function(e){r.call(this,e,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var e=this.propertyValue,t=e,i=this.defaultEmit,n=this.defaultUpdate;if(9===this.method){this.start=e[0],this.ease=a("Linear"),this.interpolation=o("linear"),i=this.easedValueEmit,n=this.easeValueUpdate,t=e[0],this.active=!0;for(var r=0;r<e.length;r++){var s=l(e[r]);this.r.push(s.r),this.g.push(s.g),this.b.push(s.b)}}return this.onEmit=i,this.onUpdate=n,this.current=t,this},setEase:function(e){this.easeName=e,this.ease=a(e)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(e,t,i){var n=this.ease(i),r=s(this.interpolation(this.r,n),this.interpolation(this.g,n),this.interpolation(this.b,n));return this.current=r,r}});e.exports=h},44777:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30976),r=i(45319),s=i(83419),a=i(99472),o=i(6113),l=i(95540),h=i(91389),u=i(77720),c=i(15994),d=new s({initialize:function(e,t,i){void 0===i&&(i=!1),this.propertyKey=e,this.propertyValue=t,this.defaultValue=t,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=i,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(e,t){void 0===e&&(e={}),t&&(this.propertyKey=t),this.propertyValue=l(e,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(e){var t;switch(this.method){case 1:case 3:case 8:t=e;break;case 2:this.propertyValue.indexOf(e)>=0&&(t=e);break;case 4:t=u(e,(this.end-this.start)/this.steps),this.counter=t;break;case 5:case 6:case 7:t=r(e,this.start,this.end);break;case 9:t=this.start[0]}return this.current=t,this},getMethod:function(){var e=this.propertyValue;if(null===e)return 0;var t=typeof e;if("number"===t)return 1;if(Array.isArray(e))return 2;if("function"===t)return 3;if("object"===t){if(this.hasBoth(e,"start","end"))return this.has(e,"steps")?4:5;if(this.hasBoth(e,"min","max"))return 6;if(this.has(e,"random"))return 7;if(this.hasEither(e,"onEmit","onUpdate"))return 8;else if(this.hasEither(e,"values","interpolation"))return 9}return 0},setMethods:function(){var e=this.propertyValue,t=e,i=this.defaultEmit,n=this.defaultUpdate;switch(this.method){case 1:i=this.staticValueEmit;break;case 2:i=this.randomStaticValueEmit,t=e[0];break;case 3:this._onEmit=e,i=this.proxyEmit;break;case 4:this.start=e.start,this.end=e.end,this.steps=e.steps,this.counter=this.start,this.yoyo=!!this.has(e,"yoyo")&&e.yoyo,this.direction=0,i=this.steppedEmit,t=this.start;break;case 5:this.start=e.start,this.end=e.end;var r=this.has(e,"ease")?e.ease:"Linear";this.ease=o(r,e.easeParams),i=this.has(e,"random")&&e.random?this.randomRangedValueEmit:this.easedValueEmit,n=this.easeValueUpdate,t=this.start;break;case 6:this.start=e.min,this.end=e.max,i=this.has(e,"int")&&e.int?this.randomRangedIntEmit:this.randomRangedValueEmit,t=this.start;break;case 7:var s=e.random;Array.isArray(s)&&(this.start=s[0],this.end=s[1]),i=this.randomRangedIntEmit,t=this.start;break;case 8:this._onEmit=this.has(e,"onEmit")?e.onEmit:this.defaultEmit,this._onUpdate=this.has(e,"onUpdate")?e.onUpdate:this.defaultUpdate,i=this.proxyEmit,n=this.proxyUpdate;break;case 9:this.start=e.values;var a=this.has(e,"ease")?e.ease:"Linear";this.ease=o(a,e.easeParams),this.interpolation=h(e.interpolation),i=this.easedValueEmit,n=this.easeValueUpdate,t=this.start[0]}return this.onEmit=i,this.onUpdate=n,this.current=t,this},has:function(e,t){return e.hasOwnProperty(t)},hasBoth:function(e,t,i){return e.hasOwnProperty(t)&&e.hasOwnProperty(i)},hasEither:function(e,t,i){return e.hasOwnProperty(t)||e.hasOwnProperty(i)},defaultEmit:function(e,t,i){return i},defaultUpdate:function(e,t,i,n){return n},proxyEmit:function(e,t,i){var n=this._onEmit(e,t,i);return this.current=n,n},proxyUpdate:function(e,t,i,n){var r=this._onUpdate(e,t,i,n);return this.current=r,r},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var e=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[e],this.current},randomRangedValueEmit:function(e,t){var i=a(this.start,this.end);return e&&e.data[t]&&(e.data[t].min=i,e.data[t].max=this.end),this.current=i,i},randomRangedIntEmit:function(e,t){var i=n(this.start,this.end);return e&&e.data[t]&&(e.data[t].min=i,e.data[t].max=this.end),this.current=i,i},steppedEmit:function(){var e,t=this.counter,i=t,n=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(i+=n)>=this.end&&(e=i-this.end,i=this.end-e,this.direction=1):(i-=n)<=this.start&&(e=this.start-i,i=this.start+e,this.direction=0),this.counter=i):this.counter=c(i+n,this.start,this.end),this.current=t,t},easedValueEmit:function(e,t){if(e&&e.data[t]){var i=e.data[t];i.min=this.start,i.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(e,t,i){var n,r=e.data[t],s=this.ease(i);return n=this.interpolation?this.interpolation(this.start,s):(r.max-r.min)*s+r.min,this.current=n,n},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});e.exports=d},24502:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(20286),a=new n({Extends:s,initialize:function(e,t,i,n,a){if("object"==typeof e){var o=e;e=r(o,"x",0),t=r(o,"y",0),i=r(o,"power",0),n=r(o,"epsilon",100),a=r(o,"gravity",50)}else void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=100),void 0===a&&(a=50);s.call(this,e,t,!0),this._gravity=a,this._power=i*a,this._epsilon=n*n},update:function(e,t){var i=this.x-e.x,n=this.y-e.y,r=i*i+n*n;if(0!==r){var s=Math.sqrt(r);r<this._epsilon&&(r=this._epsilon);var a=this._power*t/(r*s)*100;e.velocityX+=i*a,e.velocityY+=n*a}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(e){this._epsilon=e*e}},power:{get:function(){return this._power/this._gravity},set:function(e){this._power=e*this._gravity}},gravity:{get:function(){return this._gravity},set:function(e){var t=this.power;this._gravity=e,this.power=t}}});e.exports=a},56480:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(45319),s=i(83419),a=i(39506),o=i(87841),l=i(11520),h=i(26099),u=new s({initialize:function(e){this.emitter=e,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new h,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=0xffffff,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:0xffffff,max:0xffffff},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=e.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new n(this)),this.bounds=new o},emit:function(e,t,i,n,r,s){return this.emitter.emit(e,t,i,n,r,s)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t},fire:function(e,t){var i=this.emitter,n=i.ops,r=i.getAnim();if(r?this.anims.play(r):(this.frame=i.getFrame(),this.texture=this.frame.texture),!this.frame)throw Error("Particle has no texture frame");if(i.getEmitZone(this),void 0===e?this.x+=n.x.onEmit(this,"x"):n.x.steps>0?this.x+=e+n.x.onEmit(this,"x"):this.x+=e,void 0===t?this.y+=n.y.onEmit(this,"y"):n.y.steps>0?this.y+=t+n.y.onEmit(this,"y"):this.y+=t,this.life=n.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=n.delay.onEmit(this,"delay"),this.holdCurrent=n.hold.onEmit(this,"hold"),this.scaleX=n.scaleX.onEmit(this,"scaleX"),this.scaleY=n.scaleY.active?n.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=n.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&i.getDeathZone(this))return this.lifeCurrent=0,!1;var s=n.speedX.onEmit(this,"speedX"),o=n.speedY.active?n.speedY.onEmit(this,"speedY"):s;if(i.radial){var l=a(n.angle.onEmit(this,"angle"));this.velocityX=Math.cos(l)*Math.abs(s),this.velocityY=Math.sin(l)*Math.abs(o)}else if(i.moveTo){var h=n.moveToX.onEmit(this,"moveToX"),u=n.moveToY.onEmit(this,"moveToY"),c=this.life/1e3;this.velocityX=(h-this.x)/c,this.velocityY=(u-this.y)/c}else this.velocityX=s,this.velocityY=o;return i.acceleration&&(this.accelerationX=n.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=n.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=n.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=n.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=n.bounce.onEmit(this,"bounce"),this.alpha=n.alpha.onEmit(this,"alpha"),n.color.active?this.tint=n.color.onEmit(this,"tint"):this.tint=n.tint.onEmit(this,"tint"),!0},update:function(e,t,i){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=e,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=e,!1;this.anims&&this.anims.update(0,e);var n=this.emitter,s=n.ops,o=1-this.lifeCurrent/this.life;if(this.lifeT=o,this.x=s.x.onUpdate(this,"x",o,this.x),this.y=s.y.onUpdate(this,"y",o,this.y),n.moveTo){var l=s.moveToX.onUpdate(this,"moveToX",o,n.moveToX),h=s.moveToY.onUpdate(this,"moveToY",o,n.moveToY),u=this.lifeCurrent/1e3;this.velocityX=(l-this.x)/u,this.velocityY=(h-this.y)/u}return(this.computeVelocity(n,e,t,i,o),this.scaleX=s.scaleX.onUpdate(this,"scaleX",o,this.scaleX),s.scaleY.active?this.scaleY=s.scaleY.onUpdate(this,"scaleY",o,this.scaleY):this.scaleY=this.scaleX,this.angle=s.rotate.onUpdate(this,"rotate",o,this.angle),this.rotation=a(this.angle),n.getDeathZone(this))?(this.lifeCurrent=0,!0):(this.alpha=r(s.alpha.onUpdate(this,"alpha",o,this.alpha),0,1),s.color.active?this.tint=s.color.onUpdate(this,"color",o,this.tint):this.tint=s.tint.onUpdate(this,"tint",o,this.tint),this.lifeCurrent-=e,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(e,t,i,n,s){var a=e.ops,o=this.velocityX,l=this.velocityY,h=a.accelerationX.onUpdate(this,"accelerationX",s,this.accelerationX),u=a.accelerationY.onUpdate(this,"accelerationY",s,this.accelerationY),c=a.maxVelocityX.onUpdate(this,"maxVelocityX",s,this.maxVelocityX),d=a.maxVelocityY.onUpdate(this,"maxVelocityY",s,this.maxVelocityY);this.bounce=a.bounce.onUpdate(this,"bounce",s,this.bounce),o+=e.gravityX*i+h*i,l+=e.gravityY*i+u*i,o=r(o,-c,c),l=r(l,-d,d),this.velocityX=o,this.velocityY=l,this.x+=o*i,this.y+=l*i,e.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var f=0;f<n.length;f++){var p=n[f];p.active&&p.update(this,t,i,s)}},setSizeToFrame:function(){},getBounds:function(e){void 0===e&&(e=this.emitter.getWorldTransformMatrix());var t=Math.abs(e.scaleX)*this.scaleX,i=Math.abs(e.scaleY)*this.scaleY,n=this.x,r=this.y,s=this.rotation,a=this.frame.width*t/2,o=this.frame.height*i/2,u=this.bounds,c=new h(n-a,r-o),d=new h(n+a,r-o),f=new h(n-a,r+o),p=new h(n+a,r+o);return 0!==s&&(l(c,n,r,s),l(d,n,r,s),l(f,n,r,s),l(p,n,r,s)),e.transformPoint(c.x,c.y,c),e.transformPoint(d.x,d.y,d),e.transformPoint(f.x,f.y,f),e.transformPoint(p.x,p.y,p),u.x=Math.min(c.x,d.x,f.x,p.x),u.y=Math.min(c.y,d.y,f.y,p.y),u.width=Math.max(c.x,d.x,f.x,p.x)-u.x,u.height=Math.max(c.y,d.y,f.y,p.y)-u.y,u},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});e.exports=u},69601:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(20286),s=i(87841),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,l,h){void 0===a&&(a=!0),void 0===o&&(o=!0),void 0===l&&(l=!0),void 0===h&&(h=!0),r.call(this,e,t,!0),this.bounds=new s(e,t,i,n),this.collideLeft=a,this.collideRight=o,this.collideTop=l,this.collideBottom=h},update:function(e){var t=this.bounds,i=-e.bounce,n=e.worldPosition;n.x<t.x&&this.collideLeft?(e.x+=t.x-n.x,e.velocityX*=i):n.x>t.right&&this.collideRight&&(e.x-=n.x-t.right,e.velocityX*=i),n.y<t.y&&this.collideTop?(e.y+=t.y-n.y,e.velocityY*=i):n.y>t.bottom&&this.collideBottom&&(e.y-=n.y-t.bottom,e.velocityY*=i)}});e.exports=a},31600:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(53774),a=i(43459),o=i(26388),l=i(19909),h=i(76472),u=i(44777),c=i(20696),d=i(95643),f=i(95540),p=i(26546),m=i(24502),g=i(1985),v=i(97022),y=i(86091),b=i(73162),x=i(20074),E=i(269),w=i(56480),S=i(69601),T=i(68875),A=i(87841),_=i(59996),C=i(72905),I=i(90668),P=i(19186),R=i(61340),O=i(26099),M=i(15994),L=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],D=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],k=new n({Extends:d,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Texture,r.Transform,r.Visible,I],initialize:function(e,t,i,n,r){d.call(this,e,"ParticleEmitter"),this.particleClass=w,this.config=null,this.ops={accelerationX:new u("accelerationX",0),accelerationY:new u("accelerationY",0),alpha:new u("alpha",1),angle:new u("angle",{min:0,max:360},!0),bounce:new u("bounce",0),color:new h("color"),delay:new u("delay",0,!0),hold:new u("hold",0,!0),lifespan:new u("lifespan",1e3,!0),maxVelocityX:new u("maxVelocityX",1e4),maxVelocityY:new u("maxVelocityY",1e4),moveToX:new u("moveToX",0),moveToY:new u("moveToY",0),quantity:new u("quantity",1,!0),rotate:new u("rotate",0),scaleX:new u("scaleX",1),scaleY:new u("scaleY",1),speedX:new u("speedX",0,!0),speedY:new u("speedY",0,!0),tint:new u("tint",0xffffff),x:new u("x",0),y:new u("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new O,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new R,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new b(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(t,i),this.setTexture(n),r&&this.setConfig(r)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(e){if(!e)return this;this.config=e;var t=0,i="",n=this.ops;for(t=0;t<D.length;t++)n[i=D[t]].loadConfig(e);for(t=0;t<L.length;t++)v(e,i=L[t])&&(this[i]=f(e,i));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=0!==this.moveToX&&0!==this.moveToY,v(e,"speed")&&(n.speedX.loadConfig(e,"speed"),n.speedY.active=!1),(g(e,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),v(e,"scale")&&(n.scaleX.loadConfig(e,"scale"),n.scaleY.active=!1),v(e,"callbackScope")){var r=f(e,"callbackScope",null);this.emitCallbackScope=r,this.deathCallbackScope=r}if(v(e,"emitZone")&&this.addEmitZone(e.emitZone),v(e,"deathZone")&&this.addDeathZone(e.deathZone),v(e,"bounds")){var s=this.addParticleBounds(e.bounds);s.collideLeft=f(e,"collideLeft",!0),s.collideRight=f(e,"collideRight",!0),s.collideTop=f(e,"collideTop",!0),s.collideBottom=f(e,"collideBottom",!0)}return v(e,"followOffset")&&this.followOffset.setFromObject(f(e,"followOffset",0)),v(e,"texture")&&this.setTexture(e.texture),v(e,"frame")?this.setEmitterFrame(e.frame):v(e,"anim")&&this.setAnim(e.anim),v(e,"reserve")&&this.reserve(e.reserve),v(e,"advance")&&this.fastForward(e.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(c.START,this),this},updateConfig:function(e){return e&&(this.config?this.setConfig(E(this.config,e)):this.setConfig(e)),this},toJSON:function(){var e=s(this),t=0,i="";for(t=0;t<L.length;t++)e[i=L[t]]=this[i];var n=this.ops;for(t=0;t<D.length;t++)n[i=D[t]]&&(e[i]=n[i].toJSON());return n.speedY.active||(delete e.speedX,e.speed=n.speedX.toJSON()),this.scaleX===this.scaleY&&(delete e.scaleX,delete e.scaleY,e.scale=n.scaleX.toJSON()),e},resetCounters:function(e,t){var i=this.counters;i.fill(0),i[0]=e,t&&(i[5]=1)},startFollow:function(e,t,i,n){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=!1),this.follow=e,this.followOffset.set(t,i),this.trackVisible=n,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var e,t=this.frames,i=t.length;return 1===i?e=t[0]:this.randomFrame?e=p(t):(e=t[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===i&&(this.currentFrame=0))),this.texture.get(e)},setEmitterFrame:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=1),this.randomFrame=t,this.frameQuantity=i,this.currentFrame=0;var n=typeof e;if(this.frames.length=0,Array.isArray(e))this.frames=this.frames.concat(e);else if("string"===n||"number"===n)this.frames.push(e);else if("object"===n){var r=e;(e=f(r,"frames",null))&&(this.frames=this.frames.concat(e));var s=f(r,"cycle",!1);this.randomFrame=!s,this.frameQuantity=f(r,"quantity",i)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var e=this.anims,t=e.length;if(0===t)return null;if(1===t)return e[0];if(this.randomAnim)return p(e);var i=e[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=M(this.currentAnim+1,0,t)),i},setAnim:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=1),this.randomAnim=t,this.animQuantity=i,this.currentAnim=0;var n=typeof e;if(this.anims.length=0,Array.isArray(e))this.anims=this.anims.concat(e);else if("string"===n)this.anims.push(e);else if("object"===n){var r=e;(e=f(r,"anims",null))&&(this.anims=this.anims.concat(e));var s=f(r,"cycle",!1);this.randomAnim=!s,this.animQuantity=f(r,"quantity",i)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(e){return void 0===e&&(e=!0),this.radial=e,this},addParticleBounds:function(e,t,i,n,r,s,a,o){if("object"==typeof e){var l=e;e=l.x,t=l.y,i=v(l,"w")?l.w:l.width,n=v(l,"h")?l.h:l.height}return this.addParticleProcessor(new S(e,t,i,n,r,s,a,o))},setParticleSpeed:function(e,t){return void 0===t&&(t=e),this.ops.speedX.onChange(e),e===t?this.ops.speedY.active=!1:this.ops.speedY.onChange(t),this.radial=!0,this},setParticleScale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.ops.scaleX.onChange(e),this.ops.scaleY.onChange(t),this},setParticleGravity:function(e,t){return this.gravityX=e,this.gravityY=t,this},setParticleAlpha:function(e){return this.ops.alpha.onChange(e),this},setParticleTint:function(e){return this.ops.tint.onChange(e),this},setEmitterAngle:function(e){return this.ops.angle.onChange(e),this},setParticleLifespan:function(e){return this.ops.lifespan.onChange(e),this},setQuantity:function(e){return this.quantity=e,this},setFrequency:function(e,t){return this.frequency=e,this.flowCounter=e>0?e:0,t&&(this.quantity=t),this},addDeathZone:function(e){Array.isArray(e)||(e=[e]);for(var t,i=[],n=0;n<e.length;n++)if((t=e[n])instanceof o)i.push(t);else if("function"==typeof t.contains)t=new o(t,!0),i.push(t);else{var r=f(t,"type","onEnter"),s=f(t,"source",null);s&&"function"==typeof s.contains&&(t=new o(s,"onEnter"===r),i.push(t))}return this.deathZones=this.deathZones.concat(i),i},removeDeathZone:function(e){return C(this.deathZones,e),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(e){Array.isArray(e)||(e=[e]);for(var t,i=[],n=0;n<e.length;n++)if((t=e[n])instanceof T||t instanceof l)i.push(t);else{var r=f(t,"source",null);if(r){var s=f(t,"type","random");"random"===s&&"function"==typeof r.getRandomPoint?(t=new T(r),i.push(t)):"edge"===s&&"function"==typeof r.getPoints&&(t=new l(r,f(t,"quantity",1),f(t,"stepRate",0),f(t,"yoyo",!1),f(t,"seamless",!0),f(t,"total",-1)),i.push(t))}}return this.emitZones=this.emitZones.concat(i),i},removeEmitZone:function(e){return C(this.emitZones,e),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(e){var t=this.emitZones,i=t.length;if(0!==i){var n=t[this.zoneIndex];n.getPoint(e),n.total>-1&&(this.zoneTotal++,this.zoneTotal===n.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===i&&(this.zoneIndex=0)))}},getDeathZone:function(e){for(var t=this.deathZones,i=0;i<t.length;i++){var n=t[i];if(n.willKill(e))return this.emit(c.DEATH_ZONE,this,e,n),!0}return!1},setEmitZone:function(e){var t;return(t=isFinite(e)?e:this.emitZones.indexOf(e))>=0&&(this.zoneIndex=t),this},addParticleProcessor:function(e){return this.processors.exists(e)||(e.emitter&&e.emitter.removeParticleProcessor(e),this.processors.add(e),e.emitter=this),e},removeParticleProcessor:function(e){return this.processors.exists(e)&&(this.processors.remove(e,!0),e.emitter=null),e},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(e){return this.addParticleProcessor(new m(e))},reserve:function(e){var t=this.dead;if(this.maxParticles>0){var i=this.getParticleCount();i+e>this.maxParticles&&(e=this.maxParticles-(i+e))}for(var n=0;n<e;n++)t.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return!!(this.maxParticles>0&&this.getParticleCount()>=this.maxParticles)||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(e,t){return void 0===e?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof e&&(this.emitCallback=e,t&&(this.emitCallbackScope=t)),this},onParticleDeath:function(e,t){return void 0===e?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof e&&(this.deathCallback=e,t&&(this.deathCallbackScope=t)),this},killAll:function(){for(var e=this.dead,t=this.alive;t.length>0;)e.push(t.pop());return this},forEachAlive:function(e,t){for(var i=this.alive,n=i.length,r=0;r<n;r++)e.call(t,i[r],this);return this},forEachDead:function(e,t){for(var i=this.dead,n=i.length,r=0;r<n;r++)e.call(t,i[r],this);return this},start:function(e,t){return void 0===e&&(e=0),this.emitting||(e>0&&this.fastForward(e),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==t&&(this.duration=Math.abs(t)),this.emit(c.START,this)),this},stop:function(e){return void 0===e&&(e=!1),this.emitting&&(this.emitting=!1,e&&this.killAll(),this.emit(c.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(e,t){return void 0===e&&(e=""),void 0===t&&(t=this.true),this.sortProperty=e,this.sortOrderAsc=t,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(e){return e=""!==this.sortProperty?this.depthSortCallback:null,this.sortCallback=e,this},depthSort:function(){return P(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(e,t){var i=this.sortProperty;return this.sortOrderAsc?e[i]-t[i]:t[i]-e[i]},flow:function(e,t,i){return void 0===t&&(t=1),this.emitting=!1,this.frequency=e,this.quantity=t,void 0!==i&&(this.stopAfter=i),this.start()},explode:function(e,t,i){this.frequency=-1,this.resetCounters(-1,!0);var n=this.emitParticle(e,t,i);return this.emit(c.EXPLODE,this,n),n},emitParticleAt:function(e,t,i){return this.emitParticle(i,e,t)},emitParticle:function(e,t,i){if(!this.atLimit()){void 0===e&&(e=this.ops.quantity.onEmit());for(var n=this.dead,r=this.stopAfter,s=this.follow?this.follow.x+this.followOffset.x:t,a=this.follow?this.follow.y+this.followOffset.y:i,o=0;o<e;o++){var l=n.pop();if(l||(l=new this.particleClass(this)),l.fire(s,a)?(this.particleBringToTop?this.alive.push(l):this.alive.unshift(l),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,l,this)):this.dead.push(l),r>0&&(this.stopCounter++,this.stopCounter>=r)||this.atLimit())break}return l}},fastForward:function(e,t){void 0===t&&(t=1e3/60);var i=0;for(this.skipping=!0;i<Math.abs(e);)this.preUpdate(0,t),i+=t;return this.skipping=!1,this},preUpdate:function(e,t){var i=(t*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var n=this.getProcessors(),r=this.alive,s=this.dead,a=0,o=[],l=r.length;for(a=0;a<l;a++){var h=r[a];h.update(t,i,n)&&o.push({index:a,particle:h})}if((l=o.length)>0){var u=this.deathCallback,d=this.deathCallbackScope;for(a=l-1;a>=0;a--){var f=o[a];r.splice(f.index,1),s.push(f.particle),u&&u.call(d,f.particle),f.particle.setPosition()}}if(!this.emitting&&!this.skipping){1===this.completeFlag&&0===r.length&&(this.completeFlag=0,this.emit(c.COMPLETE,this));return}if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=t;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;!this.skipping&&(this.duration>0&&(this.elapsed+=t,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(e){for(var t=this.getWorldTransformMatrix(),i=this.alive,n=i.length,r=[],s=0;s<n;s++){var a=i[s];_(e,a.getBounds(t))&&r.push(a)}return r},getBounds:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=1e3/60),void 0===n&&(n=new A);var r,s,o=this.getWorldTransformMatrix(),l=this.alive,h=!1;if(n.setTo(0,0,0,0),t>0){var u=0;for(this.skipping=!0;u<Math.abs(t);){for(this.preUpdate(0,i),r=0;r<l.length;r++)s=l[r].getBounds(o),h?x(n,s):(h=!0,a(s,n));u+=i}this.skipping=!1}else for(r=0;r<l.length;r++)s=l[r].getBounds(o),h?x(n,s):(h=!0,a(s,n));return e>0&&y(n,e,e),n},createEmitter:function(){throw Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(e){this.ops.x.onChange(e)}},particleY:{get:function(){return this.ops.y.current},set:function(e){this.ops.y.onChange(e)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(e){this.ops.accelerationX.onChange(e)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(e){this.ops.accelerationY.onChange(e)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(e){this.ops.maxVelocityX.onChange(e)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(e){this.ops.maxVelocityY.onChange(e)}},speed:{get:function(){return this.ops.speedX.current},set:function(e){this.ops.speedX.onChange(e),this.ops.speedY.onChange(e)}},speedX:{get:function(){return this.ops.speedX.current},set:function(e){this.ops.speedX.onChange(e)}},speedY:{get:function(){return this.ops.speedY.current},set:function(e){this.ops.speedY.onChange(e)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(e){this.ops.moveToX.onChange(e)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(e){this.ops.moveToY.onChange(e)}},bounce:{get:function(){return this.ops.bounce.current},set:function(e){this.ops.bounce.onChange(e)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(e){this.ops.scaleX.onChange(e)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(e){this.ops.scaleY.onChange(e)}},particleColor:{get:function(){return this.ops.color.current},set:function(e){this.ops.color.onChange(e)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(e){this.ops.color.setEase(e)}},particleTint:{get:function(){return this.ops.tint.current},set:function(e){this.ops.tint.onChange(e)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(e){this.ops.alpha.onChange(e)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(e){this.ops.lifespan.onChange(e)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(e){this.ops.angle.onChange(e)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(e){this.ops.rotate.onChange(e)}},quantity:{get:function(){return this.ops.quantity.current},set:function(e){this.ops.quantity.onChange(e)}},delay:{get:function(){return this.ops.delay.current},set:function(e){this.ops.delay.onChange(e)}},hold:{get:function(){return this.ops.hold.current},set:function(e){this.ops.hold.onChange(e)}},flowCounter:{get:function(){return this.counters[0]},set:function(e){this.counters[0]=e}},frameCounter:{get:function(){return this.counters[1]},set:function(e){this.counters[1]=e}},animCounter:{get:function(){return this.counters[2]},set:function(e){this.counters[2]=e}},elapsed:{get:function(){return this.counters[3]},set:function(e){this.counters[3]=e}},stopCounter:{get:function(){return this.counters[4]},set:function(e){this.counters[4]=e}},completeFlag:{get:function(){return this.counters[5]},set:function(e){this.counters[5]=e}},zoneIndex:{get:function(){return this.counters[6]},set:function(e){this.counters[6]=e}},zoneTotal:{get:function(){return this.counters[7]},set:function(e){this.counters[7]=e}},currentFrame:{get:function(){return this.counters[8]},set:function(e){this.counters[8]=e}},currentAnim:{get:function(){return this.counters[9]},set:function(e){this.counters[9]=e}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var e,t=this.ops;for(e=0;e<D.length;e++)t[D[e]].destroy();for(e=0;e<this.alive.length;e++)this.alive[e].destroy();for(e=0;e<this.dead.length;e++)this.dead[e].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});e.exports=k},9871:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(59996),r=i(61340),s=new r,a=new r,o=new r,l=new r;e.exports=function(e,t,i,r){r?(l.loadIdentity(),l.multiply(r),l.translate(t.x,t.y),l.rotate(t.rotation),l.scale(t.scaleX,t.scaleY)):l.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var h=e.currentContext,u=i.roundPixels,c=i.alpha,d=t.alpha,f=t.alive,p=f.length,m=t.viewBounds;if(t.visible&&0!==p&&(!m||n(m,i.worldView))){t.sortCallback&&t.depthSort(),i.addToRenderList(t);var g=t.scrollFactorX,v=t.scrollFactorY;h.save(),h.globalCompositeOperation=e.blendModes[t.blendMode];for(var y=0;y<p;y++){var b=f[y],x=b.alpha*d*c;if(!(x<=0)&&0!==b.scaleX&&0!==b.scaleY){o.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),s.copyFrom(i.matrix),s.multiplyWithOffset(l,-i.scrollX*g,-i.scrollY*v),o.e=b.x,o.f=b.y,s.multiply(o,a);var E=b.frame,w=E.canvasData;if(w.width>0&&w.height>0){var S=-E.halfWidth,T=-E.halfHeight;h.globalAlpha=x,h.save(),a.setToContext(h),u&&(S=Math.round(S),T=Math.round(T)),h.imageSmoothingEnabled=!E.source.scaleMode,h.drawImage(E.source.image,w.x,w.y,w.width,w.height,S,T,w.width,w.height),h.restore()}}}h.restore()}}},92730:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(95540),o=i(31600);r.register("particles",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=a(e,"config",null),l=new o(this.scene,0,0,i);return void 0!==t&&(e.add=t),n(this.scene,l,e),r&&l.setConfig(r),l})},676:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(31600);n.register("particles",function(e,t,i,n){return void 0!==e&&"string"==typeof e&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new r(this.scene,e,t,i,n))})},90668:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(21188),s=i(9871),e.exports={renderWebGL:r,renderCanvas:s}},21188:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(59996),r=i(61340),s=i(70554),a=new r,o=new r,l=new r,h=new r;e.exports=function(e,t,i,r){var u,c,d=e.pipelines.set(t.pipeline);r?(h.loadIdentity(),h.multiply(r),h.translate(t.x,t.y),h.rotate(t.rotation),h.scale(t.scaleX,t.scaleY)):h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var f=s.getTintAppendFloatAlpha,p=i.alpha,m=t.alpha;e.pipelines.preBatch(t);var g=t.alive,v=g.length,y=t.viewBounds;if(0!==v&&(!y||n(y,i.worldView))){t.sortCallback&&t.depthSort(),i.addToRenderList(t),a.copyFrom(i.matrix),a.multiplyWithOffset(h,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),e.setBlendMode(t.blendMode),t.mask&&(t.mask.preRenderWebGL(e,t,i),e.pipelines.set(t.pipeline));for(var b=t.tintFill,x=0;x<v;x++){var E=g[x],w=E.alpha*m*p;if(!(w<=0)&&0!==E.scaleX&&0!==E.scaleY){l.applyITRS(E.x,E.y,E.rotation,E.scaleX,E.scaleY),l.e=E.x,l.f=E.y,a.multiply(l,o);var S=E.frame;S.glTexture!==c&&(c=S.glTexture,u=d.setGameObject(t,S));var T=-S.halfWidth,A=-S.halfHeight,_=o.setQuad(T,A,T+S.width,A+S.height),C=f(E.tint,w);d.shouldFlush(6)&&(d.flush(),u=d.setGameObject(t,S)),d.batchQuad(t,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],S.u0,S.v0,S.u1,S.v1,C,C,C,C,b,c,u)}}t.mask&&t.mask.postRenderWebGL(e,i),e.pipelines.postBatch(t)}}},20286:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=!0),this.emitter,this.x=e,this.y=t,this.active=i},update:function(){},destroy:function(){this.emitter=null}});e.exports=n},9774:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},812:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="deathzone"},30522:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="explode"},96695:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},18677:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stop"},20696:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t){this.source=e,this.killOnEnter=t},willKill:function(e){var t=this.source.contains(e.x,e.y);return t&&this.killOnEnter||!t&&!this.killOnEnter}});e.exports=n},19909:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n,r,s){void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===s&&(s=-1),this.source=e,this.points=[],this.quantity=t,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=r,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var e=this.points[0],t=this.points[this.points.length-1];e.x===t.x&&e.y===t.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(e){return this.source=e,this.updateSource()},getPoint:function(e){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var t=this.points[this.counter];t&&(e.x=t.x,e.y=t.y)}});e.exports=n},68875:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(26099),s=new n({initialize:function(e){this.source=e,this._tempVec=new r,this.total=-1},getPoint:function(e){var t=this._tempVec;this.source.getRandomPoint(t),e.x=t.x,e.y=t.y}});e.exports=s},21024:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(68287),a=new n({Extends:s,Mixins:[r.PathFollower],initialize:function(e,t,i,n,r,a){s.call(this,e,i,n,r,a),this.path=t},preUpdate:function(e,t){this.anims.update(e,t),this.pathUpdate(e)}});e.exports=a},90145:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(1159);n.register("follower",function(e,t,i,n,s){var a=new r(this.scene,e,t,i,n,s);return this.displayList.add(a),this.updateList.add(a),a})},33663:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(83419),s=i(48803),a=i(90664),o=i(4703),l=i(45650),h=new r({Extends:o,initialize:function(e,t,i,r,s,a,l,h){r||(r="__DEFAULT"),o.call(this,e,t,i,r,s),this.type="Plane",this.anims=new n(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(a,l,h),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(e,t,i){void 0===e&&(e=8),void 0===t&&(t=8),void 0===i&&(i=!1);var n=!1;return i&&(n=!0),this.gridWidth=e,this.gridHeight=t,this.isTiled=i,this.clear(),s({mesh:this,widthSegments:e,heightSegments:t,isOrtho:!1,tile:i,flipY:n}),this},setSizeToFrame:function(e){void 0===e&&(e=!0);var t,i,n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!e)return this;var r=this.gridWidth,s=this.gridHeight,a=this.vertices,o=n.u0,l=n.u1,h=n.v0,u=n.v1,c=0;if(this.isTiled)for(i=0,h=n.v1,u=n.v0;i<s;i++)for(t=0;t<r;t++)a[c++].setUVs(o,u),a[c++].setUVs(o,h),a[c++].setUVs(l,u),a[c++].setUVs(o,h),a[c++].setUVs(l,h),a[c++].setUVs(l,u);else{var d=r+1,f=s+1,p=l-o,m=u-h,g=[];for(i=0;i<f;i++)for(t=0;t<d;t++){var v=o+t/r*p,y=h+i/s*m;g.push(v,y)}for(i=0;i<s;i++)for(t=0;t<r;t++){var b=(t+d*i)*2,x=(t+d*(i+1))*2,E=(t+1+d*(i+1))*2,w=(t+1+d*i)*2;a[c++].setUVs(g[b],g[b+1]),a[c++].setUVs(g[x],g[x+1]),a[c++].setUVs(g[w],g[w+1]),a[c++].setUVs(g[x],g[x+1]),a[c++].setUVs(g[E],g[E+1]),a[c++].setUVs(g[w],g[w+1])}}return this},setViewHeight:function(e){void 0===e&&(e=this.frame.height);var t=this.fov*(Math.PI/180);this.viewPosition.z=this.height/e/Math.tan(t/2),this.dirtyCache[10]=1},createCheckerboard:function(e,t,i,n,r){void 0===e&&(e=0xffffff),void 0===t&&(t=255),void 0===i&&(i=255),void 0===n&&(n=255),void 0===r&&(r=128);for(var s=a(e),o=a(t),h=[],u=0;u<16;u++)for(var c=0;c<16;c++)u<8&&c<8||u>7&&c>7?h.push(s.r,s.g,s.b,i):h.push(o.r,o.g,o.b,n);var d=this.scene.sys.textures.addUint8Array(l(),new Uint8Array(h),16,16);return this.removeCheckerboard(),this.setTexture(d),this.setSizeToFrame(),this.setViewHeight(r),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(e,t){return this.anims.play(e,t)},playReverse:function(e,t){return this.anims.playReverse(e,t)},playAfterDelay:function(e,t){return this.anims.playAfterDelay(e,t)},playAfterRepeat:function(e,t){return this.anims.playAfterRepeat(e,t)},stop:function(){return this.anims.stop()},stopAfterDelay:function(e){return this.anims.stopAfterDelay(e)},stopAfterRepeat:function(e){return this.anims.stopAfterRepeat(e)},stopOnFrame:function(e){return this.anims.stopOnFrame(e)},preUpdate:function(e,t){o.prototype.preUpdate.call(this,e,t),this.anims.update(e,t)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});e.exports=h},56015:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(13059),s=i(44603),a=i(23568),o=i(35154),l=i(33663);s.register("plane",function(e,t){void 0===e&&(e={});var i=a(e,"key",null),s=a(e,"frame",null),h=o(e,"width",8),u=o(e,"height",8),c=o(e,"tile",!1),d=new l(this.scene,0,0,i,s,h,u,c);void 0!==t&&(e.add=t);var f=o(e,"checkerboard",null);if(f){var p=o(f,"color1",0xffffff),m=o(f,"color2",255),g=o(f,"alpha1",255),v=o(f,"alpha2",255),y=o(f,"height",128);d.createCheckerboard(p,m,g,v,y)}return n(this.scene,d,e),r(d,e),d})},30985:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33663);i(39429).register("plane",function(e,t,i,r,s,a,o){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o))})},80321:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(30100),o=i(36060),l=i(67277),h=new n({Extends:s,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Transform,r.Visible,l],initialize:function(e,t,i,n,r,l,h){void 0===n&&(n=0xffffff),void 0===r&&(r=128),void 0===l&&(l=1),void 0===h&&(h=.1),s.call(this,e,"PointLight"),this.initPipeline(o.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(t,i),this.color=a(n),this.intensity=l,this.attenuation=h,this.width=2*r,this.height=2*r,this._radius=r},radius:{get:function(){return this._radius},set:function(e){this._radius=e,this.width=2*e,this.height=2*e}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});e.exports=h},39829:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(80321);r.register("pointlight",function(e,t){void 0===e&&(e={});var i=s(e,"color",0xffffff),r=s(e,"radius",128),o=s(e,"intensity",1),l=s(e,"attenuation",.1),h=new a(this.scene,0,0,i,r,o,l);return void 0!==t&&(e.add=t),n(this.scene,h,e),h})},71255:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(80321);n.register("pointlight",function(e,t,i,n,s,a){return this.displayList.add(new r(this.scene,e,t,i,n,s,a))})},67277:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n;r=i(57787),e.exports={renderWebGL:r,renderCanvas:n}},57787:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r){i.addToRenderList(t);var s=e.pipelines.set(t.pipeline),a=n(t,i,r).calc,o=t.width,l=t.height,h=-t._radius,u=-t._radius,c=h+o,d=u+l,f=a.getX(0,0),p=a.getY(0,0),m=a.getX(h,u),g=a.getY(h,u),v=a.getX(h,d),y=a.getY(h,d),b=a.getX(c,d),x=a.getY(c,d),E=a.getX(c,u),w=a.getY(c,u);e.pipelines.preBatch(t),s.batchPointLight(t,i,m,g,v,y,b,x,E,w,f,p),e.pipelines.postBatch(t)}},591:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(81320),s=i(88571),a=new n({Extends:s,initialize:function(e,t,i,n,a){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=32),void 0===a&&(a=32);var o=new r(e.sys.textures,"",n,a);s.call(this,e,t,i,o),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(e,t){this.width=e,this.height=t,this.texture.setSize(e,t),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},resize:function(e,t){return this.setSize(e,t),this},saveTexture:function(e){var t=this.texture;return t.key=e,t.manager.addDynamicTexture(t)&&(this._saved=!0),t},fill:function(e,t,i,n,r,s){return this.texture.fill(e,t,i,n,r,s),this},clear:function(){return this.texture.clear(),this},stamp:function(e,t,i,n,r){return this.texture.stamp(e,t,i,n,r),this},erase:function(e,t,i){return this.texture.erase(e,t,i),this},draw:function(e,t,i,n,r){return this.texture.draw(e,t,i,n,r),this},drawFrame:function(e,t,i,n,r,s){return this.texture.drawFrame(e,t,i,n,r,s),this},repeat:function(e,t,i,n,r,s,a,o,l){return this.texture.repeat(e,t,i,n,r,s,a,o,l),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(e,t,i,n,r){return this.texture.batchDraw(e,t,i,n,r),this},batchDrawFrame:function(e,t,i,n,r,s){return this.texture.batchDrawFrame(e,t,i,n,r,s),this},endDraw:function(e){return this.texture.endDraw(e),this},snapshotArea:function(e,t,i,n,r,s,a){return this.texture.snapshotArea(e,t,i,n,r,s,a),this},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.width,this.height,e,t,i)},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});e.exports=a},34495:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(591);r.register("renderTexture",function(e,t){void 0===e&&(e={});var i=s(e,"x",0),r=s(e,"y",0),o=s(e,"width",32),l=s(e,"height",32),h=new a(this.scene,i,r,o,l);return void 0!==t&&(e.add=t),n(this.scene,h,e),h})},60505:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(591);n.register("renderTexture",function(e,t,i,n){return this.displayList.add(new r(this.scene,e,t,i,n))})},77757:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(83419),s=i(31401),a=i(95643),o=i(36060),l=i(38745),h=i(26099),u=new r({Extends:a,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.PostPipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,l],initialize:function(e,t,i,r,s,l,u,c,d){void 0===r&&(r="__DEFAULT"),void 0===l&&(l=2),void 0===u&&(u=!0),a.call(this,e,"Rope"),this.anims=new n(this),this.points=l,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===r,this.dirty=!1,this.horizontal=u,this._flipX=!1,this._flipY=!1,this._perp=new h,this.debugCallback=null,this.debugGraphic=null,this.setTexture(r,s),this.setPosition(t,i),this.setSizeToFrame(),this.initPipeline(o.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(l)&&this.resizeArrays(l.length),this.setPoints(l,c,d),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(e,t){var i=this.anims.currentFrame;this.anims.update(e,t),this.anims.currentFrame!==i&&(this.updateUVs(),this.updateVertices())},play:function(e,t,i){return this.anims.play(e,t,i),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(e,t,i){return(void 0===e&&(e=this.points.length),this.horizontal)?this:(this.horizontal=!0,this.setPoints(e,t,i))},setVertical:function(e,t,i){return(void 0===e&&(e=this.points.length),this.horizontal)?(this.horizontal=!1,this.setPoints(e,t,i)):this},setTintFill:function(e){return void 0===e&&(e=!1),this.tintFill=e,this},setAlphas:function(e,t){var i,n=this.points.length;if(n<1)return this;var r=this.alphas;void 0===e?e=[1]:Array.isArray(e)||void 0!==t||(e=[e]);var s=0;if(void 0!==t)for(i=0;i<n;i++)r[s=2*i]=e,r[s+1]=t;else if(e.length===n)for(i=0;i<n;i++)r[s=2*i]=e[i],r[s+1]=e[i];else{var a=e[0];for(i=0;i<n;i++)s=2*i,e.length>s&&(a=e[s]),r[s]=a,e.length>s+1&&(a=e[s+1]),r[s+1]=a}return this},setColors:function(e){var t,i=this.points.length;if(i<1)return this;var n=this.colors;void 0===e?e=[0xffffff]:Array.isArray(e)||(e=[e]);var r=0;if(e.length===i)for(t=0;t<i;t++)n[r=2*t]=e[t],n[r+1]=e[t];else{var s=e[0];for(t=0;t<i;t++)r=2*t,e.length>r&&(s=e[r]),n[r]=s,e.length>r+1&&(s=e[r+1]),n[r+1]=s}return this},setPoints:function(e,t,i){if(void 0===e&&(e=2),"number"==typeof e){var n,r,s,a=e;if(a<2&&(a=2),e=[],this.horizontal)for(n=0,s=-this.frame.halfWidth,r=this.frame.width/(a-1);n<a;n++)e.push({x:s+n*r,y:0});else for(n=0,s=-this.frame.halfHeight,r=this.frame.height/(a-1);n<a;n++)e.push({x:0,y:s+n*r})}var o=e.length,l=this.points.length;return o<1?console.warn("Rope: Not enough points given"):(1===o&&(e.unshift({x:0,y:0}),o++),l!==o&&this.resizeArrays(o),this.dirty=!0,this.points=e,this.updateUVs(),null!=t&&this.setColors(t),null!=i&&this.setAlphas(i)),this},updateUVs:function(){for(var e=this.uv,t=this.points.length,i=this.frame.u0,n=this.frame.v0,r=this.frame.u1,s=this.frame.v1,a=(r-i)/(t-1),o=(s-n)/(t-1),l=0;l<t;l++){var h,u,c,d,f=4*l;this.horizontal?(this._flipX?(h=r-l*a,c=r-l*a):(h=i+l*a,c=i+l*a),this._flipY?(u=s,d=n):(u=n,d=s)):(this._flipX?(h=i,c=r):(h=r,c=i),this._flipY?(u=s-l*o,d=s-l*o):(u=n+l*o,d=n+l*o)),e[f+0]=h,e[f+1]=u,e[f+2]=c,e[f+3]=d}return this},resizeArrays:function(e){var t=this.colors,i=this.alphas;this.vertices=new Float32Array(4*e),this.uv=new Float32Array(4*e),t=new Uint32Array(2*e),i=new Float32Array(2*e);for(var n=0;n<2*e;n++)t[n]=0xffffff,i[n]=1;return this.colors=t,this.alphas=i,this.dirty=!0,this},updateVertices:function(){var e,t=this._perp,i=this.points,n=this.vertices,r=i.length;if(this.dirty=!1,!(r<1)){for(var s=i[0],a=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,o=0;o<r;o++){var l=i[o],h=4*o;e=o<r-1?i[o+1]:l,t.x=e.y-s.y,t.y=-(e.x-s.x);var u=t.length();t.x/=u,t.y/=u,t.x*=a,t.y*=a,n[h]=l.x+t.x,n[h+1]=l.y+t.y,n[h+2]=l.x-t.x,n[h+3]=l.y-t.y,s=l}return this}},setDebug:function(e,t){return this.debugGraphic=e,e||t?t?this.debugCallback=t:this.debugCallback=this.renderDebugVerts:this.debugCallback=null,this},renderDebugVerts:function(e,t,i){var n=e.debugGraphic,r=i[0],s=i[1],a=i[2],o=i[3];n.lineBetween(r,s,a,o);for(var l=4;l<t;l+=4){var h=i[l+0],u=i[l+1],c=i[l+2],d=i[l+3];n.lineBetween(r,s,h,u),n.lineBetween(a,o,c,d),n.lineBetween(a,o,h,u),n.lineBetween(h,u,c,d),r=h,s=u,a=c,o=d}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(e){return this._flipX=e,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(e){return this._flipY=e,this.updateUVs()}}});e.exports=u},95262:e=>{e.exports=function(){}},26209:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(35154),o=i(77757);r.register("rope",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"frame",null),l=s(e,"horizontal",!0),h=a(e,"points",void 0),u=a(e,"colors",void 0),c=a(e,"alphas",void 0),d=new o(this.scene,0,0,i,r,h,l,u,c);return void 0!==t&&(e.add=t),n(this.scene,d,e),d})},96819:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(77757);i(39429).register("rope",function(e,t,i,r,s,a,o,l){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o,l))})},38745:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(20439),s=i(95262),e.exports={renderWebGL:r,renderCanvas:s}},20439:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.pipelines.set(t.pipeline,t),o=n(t,i,s).calc,l=t.vertices,h=t.uv,u=t.colors,c=t.alphas,d=t.alpha,f=r.getTintAppendFloatAlpha,p=i.roundPixels,m=l.length,g=Math.floor(.5*m);a.flush(),e.pipelines.preBatch(t);var v=a.setGameObject(t),y=a.vertexViewF32,b=a.vertexViewU32,x=a.vertexCount*a.currentShader.vertexComponentCount-1,E=0,w=t.tintFill;t.dirty&&t.updateVertices();for(var S=t.debugCallback,T=[],A=0;A<m;A+=2){var _=l[A+0],C=l[A+1],I=_*o.a+C*o.c+o.e,P=_*o.b+C*o.d+o.f;p&&(I=Math.round(I),P=Math.round(P)),y[++x]=I,y[++x]=P,y[++x]=h[A+0],y[++x]=h[A+1],y[++x]=v,y[++x]=w,b[++x]=f(u[E],i.alpha*(c[E]*d)),E++,S&&(T[A+0]=I,T[A+1]=P)}S&&S.call(t,t,m,T),a.vertexCount+=g,a.currentBatch.count=a.vertexCount-a.currentBatch.start,e.pipelines.postBatch(t)}},20071:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(95540),o=i(79291),l=i(61622),h=i(25479),u=i(61340),c=i(95428),d=i(92503),f=new n({Extends:s,Mixins:[r.ComputedSize,r.Depth,r.GetBounds,r.Mask,r.Origin,r.ScrollFactor,r.Transform,r.Visible,h],initialize:function(e,t,i,n,r,a,o,l){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=128),void 0===a&&(a=128),s.call(this,e,"Shader"),this.blendMode=-1,this.shader;var h=e.sys.renderer;this.renderer=h,this.gl=h.gl,this.vertexData=new ArrayBuffer(6*(2*Float32Array.BYTES_PER_ELEMENT)),this.vertexBuffer=h.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=h.width,this._rendererHeight=h.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(i,n),this.setSize(r,a),this.setOrigin(.5,.5),this.setShader(t,o,l),this.renderer.on(d.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(e){return!!this.renderToTexture||!(s.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},setRenderToTexture:function(e,t){if(void 0===t&&(t=!1),!this.renderToTexture){var i=this.width,n=this.height,r=this.renderer;this.glTexture=r.createTextureFromSource(null,i,n,0),this.framebuffer=r.createFramebuffer(i,n,this.glTexture,!1),this._rendererWidth=i,this._rendererHeight=n,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),e&&(this.texture=this.scene.sys.textures.addGLTexture(e,this.glTexture))}return this.shader&&(r.pipelines.clear(),this.load(),this.flush(),r.pipelines.rebind()),this},setShader:function(e,t,i){if(this.renderer.contextLost)return this._deferSetShader={key:e,textures:t,textureData:i},this;if(void 0===t&&(t=[]),"string"==typeof e){var n=this.scene.sys.cache.shader;if(!n.has(e))return console.warn("Shader missing: "+e),this;this.shader=n.get(e)}else this.shader=e;var r=this.gl,s=this.renderer;this.program&&s.deleteProgram(this.program);var a=s.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);r.uniformMatrix4fv(r.getUniformLocation(a.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),r.uniformMatrix4fv(r.getUniformLocation(a.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),r.uniform2f(r.getUniformLocation(a.webGLProgram,"uResolution"),this.width,this.height),this.program=a;var l=new Date,h={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[l.getFullYear(),l.getMonth(),l.getDate(),3600*l.getHours()+60*l.getMinutes()+l.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,h):this.uniforms=h;for(var u=0;u<4;u++)t[u]&&this.setSampler2D("iChannel"+u,t[u],u,i);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(e){return this.pointer=e,this},projOrtho:function(e,t,i,n){if(this.renderer.contextLost){this._deferProjOrtho={left:e,right:t,bottom:i,top:n};return}var r=1/(e-t),s=1/(i-n),a=this.projectionMatrix;a[0]=-2*r,a[5]=-2*s,a[10]=-.001,a[12]=(e+t)*r,a[13]=(n+i)*s,a[14]=-0;var o=this.program,l=this.gl;this.renderer.setProgram(o),l.uniformMatrix4fv(l.getUniformLocation(o.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=t,this._rendererHeight=i},initUniforms:function(){var e=this.renderer.glFuncMap,t=this.program;for(var i in this._textureCount=0,this.uniforms){var n=this.uniforms[i],r=n.type,s=e[r];n.uniformLocation=this.renderer.createUniformLocation(t,i),"sampler2D"!==r&&(n.glMatrix=s.matrix,n.glValueLength=s.length,n.glFunc=s.func)}},setSampler2DBuffer:function(e,t,i,n,r,s){void 0===r&&(r=0),void 0===s&&(s={});var a=this.uniforms[e];return a.value=t,s.width=i,s.height=n,a.textureData=s,this._textureCount=r,this.initSampler2D(a),this},setSampler2D:function(e,t,i,n){void 0===i&&(i=0);var r=this.scene.sys.textures;if(r.exists(t)){var s=r.getFrame(t);if(s.glTexture&&s.glTexture.isRenderTexture)return this.setSampler2DBuffer(e,s.glTexture,s.width,s.height,i,n);var a=this.uniforms[e],o=s.source;a.textureKey=t,a.source=o.image,a.value=s.glTexture,o.isGLTexture&&(n||(n={}),n.width=o.width,n.height=o.height),n&&(a.textureData=n),this._textureCount=i,this.initSampler2D(a)}return this},setUniform:function(e,t){return l(this.uniforms,e,t),this},getUniform:function(e){return a(this.uniforms,e,null)},setChannel0:function(e,t){return this.setSampler2D("iChannel0",e,0,t)},setChannel1:function(e,t){return this.setSampler2D("iChannel1",e,1,t)},setChannel2:function(e,t){return this.setSampler2D("iChannel2",e,2,t)},setChannel3:function(e,t){return this.setSampler2D("iChannel3",e,3,t)},initSampler2D:function(e){if(e.value){var t=e.textureData;if(t&&!e.value.isRenderTexture){var i=this.gl,n=e.value,r=i[a(t,"magFilter","linear").toUpperCase()],s=i[a(t,"minFilter","linear").toUpperCase()],o=i[a(t,"wrapS","repeat").toUpperCase()],l=i[a(t,"wrapT","repeat").toUpperCase()],h=i[a(t,"format","rgba").toUpperCase()],u=a(t,"flipY",!1),c=a(t,"width",n.width),d=a(t,"height",n.height),f=a(t,"source",n.pixels);t.repeat&&(o=i.REPEAT,l=i.REPEAT),t.width&&(f=null),n.update(f,c,d,u,o,l,s,r,h)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var e,t,i,n,r,s=this.gl,a=this.uniforms,o=0;for(var l in a)i=(e=a[l]).glFunc,t=e.glValueLength,n=e.uniformLocation,null!==(r=e.value)&&(1===t?e.glMatrix?i.call(s,n.webGLUniformLocation,e.transpose,r):i.call(s,n.webGLUniformLocation,r):2===t?i.call(s,n.webGLUniformLocation,r.x,r.y):3===t?i.call(s,n.webGLUniformLocation,r.x,r.y,r.z):4===t?i.call(s,n.webGLUniformLocation,r.x,r.y,r.z,r.w):"sampler2D"===e.type&&(s.activeTexture(s.TEXTURE0+o),s.bindTexture(s.TEXTURE_2D,r.webGLTexture),s.uniform1i(n.webGLUniformLocation,o),o++))},load:function(e){var t=this.gl,i=this.width,n=this.height,r=this.renderer,s=this.program,a=this.viewMatrix;if(!this.renderToTexture){var o=-this._displayOriginX,l=-this._displayOriginY;a[0]=e[0],a[1]=e[1],a[4]=e[2],a[5]=e[3],a[8]=e[4],a[9]=e[5],a[12]=a[0]*o+a[4]*l,a[13]=a[1]*o+a[5]*l}t.useProgram(s.webGLProgram),t.uniformMatrix4fv(t.getUniformLocation(s.webGLProgram,"uViewMatrix"),!1,a),t.uniformMatrix4fv(t.getUniformLocation(s.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),t.uniform2f(t.getUniformLocation(s.webGLProgram,"uResolution"),this.width,this.height);var h=this.uniforms,u=h.resolution;u.value.x=i,u.value.y=n,h.time.value=r.game.loop.getDuration();var c=this.pointer;if(c){var d=h.mouse,f=c.x/i,p=1-c.y/n;d.value.x=f.toFixed(2),d.value.y=p.toFixed(2)}this.syncUniforms()},flush:function(){var e=this.width,t=this.height,i=this.program,n=this.gl,r=this.vertexBuffer,s=this.renderer,a=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(s.setFramebuffer(this.framebuffer),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)),n.bindBuffer(n.ARRAY_BUFFER,r.webGLBuffer);var o=n.getAttribLocation(i.webGLProgram,"inPosition");-1!==o&&(n.enableVertexAttribArray(o),n.vertexAttribPointer(o,2,n.FLOAT,!1,a,0));var l=this.vertexViewF32;l[3]=t,l[4]=e,l[5]=t,l[8]=e,l[9]=t,l[10]=e,n.bufferSubData(n.ARRAY_BUFFER,0,this.bytes.subarray(0,6*a)),n.drawArrays(n.TRIANGLES,0,6),this.renderToTexture&&s.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var e=this._deferSetShader.key,t=this._deferSetShader.textures,i=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(e,t,i)}if(null!==this._deferProjOrtho){var n=this._deferProjOrtho.left,r=this._deferProjOrtho.right,s=this._deferProjOrtho.bottom,a=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(n,r,s,a)}},preDestroy:function(){var e=this.renderer;e.off(d.RESTORE_WEBGL,this.onContextRestored,this),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(e.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),c(this.uniforms,function(t){e.deleteUniformLocation(t.uniformLocation),t.uniformLocation=null})}});e.exports=f},80464:e=>{e.exports=function(){}},54935:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(20071);r.register("shader",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"x",0),o=s(e,"y",0),l=s(e,"width",128),h=s(e,"height",128),u=new a(this.scene,i,r,o,l,h);return void 0!==t&&(e.add=t),n(this.scene,u,e),u})},74177:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20071);i(39429).register("shader",function(e,t,i,r,s,a,o){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o))})},25479:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(19257),s=i(80464),e.exports={renderWebGL:r,renderCanvas:s}},19257:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r){if(t.shader){if(i.addToRenderList(t),e.pipelines.clear(),t.renderToTexture)t.load(),t.flush();else{var s=n(t,i,r).calc;(e.width!==t._rendererWidth||e.height!==t._rendererHeight)&&t.projOrtho(0,e.width,e.height,0),t.load(s.matrix),t.flush()}e.pipelines.rebind()}}},10441:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i,r,s,a){for(var o=n.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*r),l=i.pathData,h=i.pathIndexes,u=0;u<h.length;u+=3){var c=2*h[u],d=2*h[u+1],f=2*h[u+2],p=l[c+0]-s,m=l[c+1]-a,g=l[d+0]-s,v=l[d+1]-a,y=l[f+0]-s,b=l[f+1]-a,x=t.getX(p,m),E=t.getY(p,m),w=t.getX(g,v),S=t.getY(g,v),T=t.getX(y,b),A=t.getY(y,b);e.batchTri(i,x,E,w,S,T,A,0,0,1,1,o,o,o,2)}}},65960:e=>{e.exports=function(e,t,i,n){var r=i||t.fillColor,s=n||t.fillAlpha;e.fillStyle="rgba("+((0xff0000&r)>>>16)+","+((65280&r)>>>8)+","+(255&r)+","+s+")"}},75177:e=>{e.exports=function(e,t,i,n){var r=i||t.strokeColor,s=n||t.strokeAlpha;e.strokeStyle="rgba("+((0xff0000&r)>>>16)+","+((65280&r)>>>8)+","+(255&r)+","+s+")",e.lineWidth=t.lineWidth}},17803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(23031),o=new n({Extends:s,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Transform,r.Visible],initialize:function(e,t,i){void 0===t&&(t="Shape"),s.call(this,e,t),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=0xffffff,this.fillAlpha=1,this.strokeColor=0xffffff,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=t,this.isFilled=!0),this},setStrokeStyle:function(e,t,i){return void 0===i&&(i=1),void 0===e?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});e.exports=o},34682:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i,r,s){var a=e.strokeTint,o=n.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);a.TL=o,a.TR=o,a.BL=o,a.BR=o;var l=t.pathData,h=l.length-1,u=t.lineWidth,c=u/2,d=l[0]-r,f=l[1]-s;t.closePath||(h-=2);for(var p=2;p<h;p+=2){var m=l[p]-r,g=l[p+1]-s;e.batchLine(d,f,m,g,c,c,u,p-2,!!t.closePath&&p===h-1),d=m,f=g}}},23629:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13609),r=i(83419),s=i(39506),a=i(94811),o=i(96503),l=i(36383),h=i(17803),u=new r({Extends:h,Mixins:[n],initialize:function(e,t,i,n,r,s,a,l,u){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=128),void 0===r&&(r=0),void 0===s&&(s=360),void 0===a&&(a=!1),h.call(this,e,"Arc",new o(0,0,n)),this._startAngle=r,this._endAngle=s,this._anticlockwise=a,this._iterations=.01,this.setPosition(t,i);var c=2*this.geom.radius;this.setSize(c,c),void 0!==l&&this.setFillStyle(l,u),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(e){this._iterations=e,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(e){this.geom.radius=e;var t=2*e;this.setSize(t,t),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(e){this._startAngle=e,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(e){this._endAngle=e,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(e){this._anticlockwise=e,this.updateData()}},setRadius:function(e){return this.radius=e,this},setIterations:function(e){return void 0===e&&(e=.01),this.iterations=e,this},setStartAngle:function(e,t){return this._startAngle=e,void 0!==t&&(this._anticlockwise=t),this.updateData()},setEndAngle:function(e,t){return this._endAngle=e,void 0!==t&&(this._anticlockwise=t),this.updateData()},updateData:function(){var e,t=this._iterations,i=t,n=this.geom.radius,r=s(this._startAngle),o=s(this._endAngle),h=this._anticlockwise;o-=r,h?o<-l.PI2?o=-l.PI2:o>0&&(o=-l.PI2+o%l.PI2):o>l.PI2?o=l.PI2:o<0&&(o=l.PI2+o%l.PI2);for(var u=[n+Math.cos(r)*n,n+Math.sin(r)*n];i<1;)e=o*i+r,u.push(n+Math.cos(e)*n,n+Math.sin(e)*n),i+=t;return e=o+r,u.push(n+Math.cos(e)*n,n+Math.sin(e)*n),u.push(n+Math.cos(r)*n,n+Math.sin(r)*n),this.pathIndexes=a(u),this.pathData=u,this}});e.exports=u},42542:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39506),r=i(65960),s=i(75177),a=i(20926);e.exports=function(e,t,i,o){i.addToRenderList(t);var l=e.currentContext;if(a(e,l,t,i,o)){var h=t.radius;l.beginPath(),l.arc(h-t.originX*(2*h),h-t.originY*(2*h),h,n(t._startAngle),n(t._endAngle),t.anticlockwise),t.closePath&&l.closePath(),t.isFilled&&(r(l,t),l.fill()),t.isStroked&&(s(l,t),l.stroke()),l.restore()}}},42563:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23629),r=i(39429);r.register("arc",function(e,t,i,r,s,a,o,l){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o,l))}),r.register("circle",function(e,t,i,r,s){return this.displayList.add(new n(this.scene,e,t,i,0,360,!1,r,s))})},13609:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(41447),s=i(42542),e.exports={renderWebGL:r,renderCanvas:s}},41447:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(10441),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),l=n(t,i,a),h=o.calcMatrix.copyFrom(l.calc),u=t._displayOriginX,c=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&r(o,h,t,d,u,c),t.isStroked&&s(o,t,d,u,c),e.pipelines.postBatch(t)}},89:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(33141),s=i(94811),a=i(87841),o=i(17803),l=new n({Extends:o,Mixins:[r],initialize:function(e,t,i,n,r,s){void 0===t&&(t=0),void 0===i&&(i=0),o.call(this,e,"Curve",n),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(t,i),void 0!==r&&this.setFillStyle(r,s),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){var e=this._curveBounds,t=this._smoothness;this.geom.getBounds(e,t),this.setSize(e.width,e.height),this.updateDisplayOrigin();for(var i=[],n=this.geom.getPoints(t),r=0;r<n.length;r++)i.push(n[r].x,n[r].y);return i.push(n[0].x,n[0].y),this.pathIndexes=s(i),this.pathData=i,this}});e.exports=l},3170:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var l=t._displayOriginX+t._curveBounds.x,h=t._displayOriginY+t._curveBounds.y,u=t.pathData,c=u.length-1,d=u[0]-l,f=u[1]-h;o.beginPath(),o.moveTo(d,f),t.closePath||(c-=2);for(var p=2;p<c;p+=2){var m=u[p]-l,g=u[p+1]-h;o.lineTo(m,g)}t.closePath&&o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},40511:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(89);n.register("curve",function(e,t,i,n,s){return this.displayList.add(new r(this.scene,e,t,i,n,s))})},33141:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(53987),s=i(3170),e.exports={renderWebGL:r,renderCanvas:s}},53987:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10441),r=i(91296),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),l=r(t,i,a),h=o.calcMatrix.copyFrom(l.calc),u=t._displayOriginX+t._curveBounds.x,c=t._displayOriginY+t._curveBounds.y,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&n(o,h,t,d,u,c),t.isStroked&&s(o,t,d,u,c),e.pipelines.postBatch(t)}},19921:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(94811),s=i(54205),a=i(8497),o=i(17803),l=new n({Extends:o,Mixins:[s],initialize:function(e,t,i,n,r,s,l){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=128),void 0===r&&(r=128),o.call(this,e,"Ellipse",new a(n/2,r/2,n,r)),this._smoothness=64,this.setPosition(t,i),this.width=n,this.height=r,void 0!==s&&this.setFillStyle(s,l),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSize:function(e,t){return this.width=e,this.height=t,this.geom.setPosition(e/2,t/2),this.geom.setSize(e,t),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){for(var e=[],t=this.geom.getPoints(this._smoothness),i=0;i<t.length;i++)e.push(t[i].x,t[i].y);return e.push(t[0].x,t[0].y),this.pathIndexes=r(e),this.pathData=e,this}});e.exports=l},7930:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var l=t._displayOriginX,h=t._displayOriginY,u=t.pathData,c=u.length-1,d=u[0]-l,f=u[1]-h;o.beginPath(),o.moveTo(d,f),t.closePath||(c-=2);for(var p=2;p<c;p+=2){var m=u[p]-l,g=u[p+1]-h;o.lineTo(m,g)}o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},1543:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19921);i(39429).register("ellipse",function(e,t,i,r,s,a){return this.displayList.add(new n(this.scene,e,t,i,r,s,a))})},54205:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(19467),s=i(7930),e.exports={renderWebGL:r,renderCanvas:s}},19467:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10441),r=i(91296),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),l=r(t,i,a),h=o.calcMatrix.copyFrom(l.calc),u=t._displayOriginX,c=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&n(o,h,t,d,u,c),t.isStroked&&s(o,t,d,u,c),e.pipelines.postBatch(t)}},30479:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(17803),s=new n({Extends:r,Mixins:[i(26015)],initialize:function(e,t,i,n,s,a,o,l,h,u,c){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=128),void 0===s&&(s=128),void 0===a&&(a=32),void 0===o&&(o=32),r.call(this,e,"Grid",null),this.cellWidth=a,this.cellHeight=o,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(t,i),this.setSize(n,s),this.setFillStyle(l,h),void 0!==u&&this.setOutlineStyle(u,c),this.updateDisplayOrigin()},setFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showCells=!1:(this.fillColor=e,this.fillAlpha=t,this.showCells=!0),this},setAltFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showAltCells=!1:(this.altFillColor=e,this.altFillAlpha=t,this.showAltCells=!0),this},setOutlineStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showOutline=!1:(this.outlineFillColor=e,this.outlineFillAlpha=t,this.showOutline=!0),this}});e.exports=s},49912:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var l=-t._displayOriginX,h=-t._displayOriginY,u=i.alpha*t.alpha,c=t.width,d=t.height,f=t.cellWidth,p=t.cellHeight,m=Math.ceil(c/f),g=Math.ceil(d/p),v=f,y=p,b=f-(m*f-c),x=p-(g*p-d),E=t.showCells,w=t.showAltCells,S=t.showOutline,T=0,A=0,_=0,C=0,I=0;if(S&&(v--,y--,b===f&&b--,x===p&&x--),E&&t.fillAlpha>0)for(n(o,t),A=0;A<g;A++)for(w&&(_=A%2),T=0;T<m;T++){if(w&&_){_=0;continue}_++,C=T<m-1?v:b,I=A<g-1?y:x,o.fillRect(l+T*f,h+A*p,C,I)}if(w&&t.altFillAlpha>0)for(n(o,t,t.altFillColor,t.altFillAlpha*u),A=0;A<g;A++)for(w&&(_=A%2),T=0;T<m;T++){if(w&&!_){_=1;continue}_=0,C=T<m-1?v:b,I=A<g-1?y:x,o.fillRect(l+T*f,h+A*p,C,I)}if(S&&t.outlineFillAlpha>0){for(r(o,t,t.outlineFillColor,t.outlineFillAlpha*u),T=1;T<m;T++){var P=T*f;o.beginPath(),o.moveTo(P+l,h),o.lineTo(P+l,d+h),o.stroke()}for(A=1;A<g;A++){var R=A*p;o.beginPath(),o.moveTo(l,R+h),o.lineTo(l+c,R+h),o.stroke()}}o.restore()}}},34137:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(30479);n.register("grid",function(e,t,i,n,s,a,o,l,h,u){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o,l,h,u))})},26015:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(46161),s=i(49912),e.exports={renderWebGL:r,renderCanvas:s}},46161:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a,o,l=e.pipelines.set(t.pipeline),h=n(t,i,s);l.calcMatrix.copyFrom(h.calc).translate(-t._displayOriginX,-t._displayOriginY);var u=i.alpha*t.alpha,c=t.width,d=t.height,f=t.cellWidth,p=t.cellHeight,m=Math.ceil(c/f),g=Math.ceil(d/p),v=f,y=p,b=f-(m*f-c),x=p-(g*p-d),E=t.showCells,w=t.showAltCells,S=t.showOutline,T=0,A=0,_=0,C=0,I=0;if(S&&(v--,y--,b===f&&b--,x===p&&x--),e.pipelines.preBatch(t),E&&t.fillAlpha>0)for(A=0,a=l.fillTint,o=r.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*u),a.TL=o,a.TR=o,a.BL=o,a.BR=o;A<g;A++)for(w&&(_=A%2),T=0;T<m;T++){if(w&&_){_=0;continue}_++,C=T<m-1?v:b,I=A<g-1?y:x,l.batchFillRect(T*f,A*p,C,I)}if(w&&t.altFillAlpha>0)for(A=0,a=l.fillTint,o=r.getTintAppendFloatAlpha(t.altFillColor,t.altFillAlpha*u),a.TL=o,a.TR=o,a.BL=o,a.BR=o;A<g;A++)for(w&&(_=A%2),T=0;T<m;T++){if(w&&!_){_=1;continue}_=0,C=T<m-1?v:b,I=A<g-1?y:x,l.batchFillRect(T*f,A*p,C,I)}if(S&&t.outlineFillAlpha>0){var P=l.strokeTint,R=r.getTintAppendFloatAlpha(t.outlineFillColor,t.outlineFillAlpha*u);for(T=1,P.TL=R,P.TR=R,P.BL=R,P.BR=R;T<m;T++){var O=T*f;l.batchLine(O,0,O,d,1,1,1,0,!1)}for(A=1;A<g;A++){var M=A*p;l.batchLine(0,M,c,M,1,1,1,0,!1)}}e.pipelines.postBatch(t)}},61475:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99651),r=i(83419),s=i(17803),a=new r({Extends:s,Mixins:[n],initialize:function(e,t,i,n,r,a,o,l){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=48),void 0===r&&(r=32),void 0===a&&(a=0xeeeeee),void 0===o&&(o=0x999999),void 0===l&&(l=0xcccccc),s.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=a,this.fillLeft=o,this.fillRight=l,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(t,i),this.setSize(n,r),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setFaces:function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),this.showTop=e,this.showLeft=t,this.showRight=i,this},setFillStyle:function(e,t,i){return this.fillTop=e,this.fillLeft=t,this.fillRight=i,this.isFilled=!0,this}});e.exports=a},11508:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(20926);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.currentContext;if(r(e,a,t,i,s)&&t.isFilled){var o=t.width,l=t.height,h=o/2,u=o/t.projection;t.showTop&&(n(a,t,t.fillTop),a.beginPath(),a.moveTo(-h,-l),a.lineTo(0,-u-l),a.lineTo(h,-l),a.lineTo(h,-1),a.lineTo(0,u-1),a.lineTo(-h,-1),a.lineTo(-h,-l),a.fill()),t.showLeft&&(n(a,t,t.fillLeft),a.beginPath(),a.moveTo(-h,0),a.lineTo(0,u),a.lineTo(0,u-l),a.lineTo(-h,-l),a.lineTo(-h,0),a.fill()),t.showRight&&(n(a,t,t.fillRight),a.beginPath(),a.moveTo(h,0),a.lineTo(0,u),a.lineTo(0,u-l),a.lineTo(h,-l),a.lineTo(h,0),a.fill()),a.restore()}}},3933:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(61475);n.register("isobox",function(e,t,i,n,s,a,o){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o))})},99651:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(68149),s=i(11508),e.exports={renderWebGL:r,renderCanvas:s}},68149:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a,o,l,h,u,c,d,f,p,m=e.pipelines.set(t.pipeline),g=n(t,i,s),v=m.calcMatrix.copyFrom(g.calc),y=t.width,b=t.height,x=y/2,E=y/t.projection,w=i.alpha*t.alpha;t.isFilled&&(e.pipelines.preBatch(t),t.showTop&&(a=r.getTintAppendFloatAlpha(t.fillTop,w),o=v.getX(-x,-b),l=v.getY(-x,-b),h=v.getX(0,-E-b),u=v.getY(0,-E-b),c=v.getX(x,-b),d=v.getY(x,-b),f=v.getX(0,E-b),p=v.getY(0,E-b),m.batchQuad(t,o,l,h,u,c,d,f,p,0,0,1,1,a,a,a,a,2)),t.showLeft&&(a=r.getTintAppendFloatAlpha(t.fillLeft,w),o=v.getX(-x,0),l=v.getY(-x,0),h=v.getX(0,E),u=v.getY(0,E),c=v.getX(0,E-b),d=v.getY(0,E-b),f=v.getX(-x,-b),p=v.getY(-x,-b),m.batchQuad(t,o,l,h,u,c,d,f,p,0,0,1,1,a,a,a,a,2)),t.showRight&&(a=r.getTintAppendFloatAlpha(t.fillRight,w),o=v.getX(x,0),l=v.getY(x,0),h=v.getX(0,E),u=v.getY(0,E),c=v.getX(0,E-b),d=v.getY(0,E-b),f=v.getX(x,-b),p=v.getY(x,-b),m.batchQuad(t,o,l,h,u,c,d,f,p,0,0,1,1,a,a,a,a,2)),e.pipelines.postBatch(t))}},16933:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(60561),s=i(17803),a=new n({Extends:s,Mixins:[r],initialize:function(e,t,i,n,r,a,o,l,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=48),void 0===r&&(r=32),void 0===a&&(a=!1),void 0===o&&(o=0xeeeeee),void 0===l&&(l=0x999999),void 0===h&&(h=0xcccccc),s.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=o,this.fillLeft=l,this.fillRight=h,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=a,this.isFilled=!0,this.setPosition(t,i),this.setSize(n,r),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setReversed:function(e){return this.isReversed=e,this},setFaces:function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),this.showTop=e,this.showLeft=t,this.showRight=i,this},setFillStyle:function(e,t,i){return this.fillTop=e,this.fillLeft=t,this.fillRight=i,this.isFilled=!0,this}});e.exports=a},79590:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(20926);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.currentContext;if(r(e,a,t,i,s)&&t.isFilled){var o=t.width,l=t.height,h=o/2,u=o/t.projection,c=t.isReversed;t.showTop&&c&&(n(a,t,t.fillTop),a.beginPath(),a.moveTo(-h,-l),a.lineTo(0,-u-l),a.lineTo(h,-l),a.lineTo(0,u-l),a.fill()),t.showLeft&&(n(a,t,t.fillLeft),a.beginPath(),c?a.moveTo(-h,-l):a.moveTo(-h,0),a.lineTo(0,u),a.lineTo(0,u-l),a.fill()),t.showRight&&(n(a,t,t.fillRight),a.beginPath(),c?a.moveTo(h,-l):a.moveTo(h,0),a.lineTo(0,u),a.lineTo(0,u-l),a.fill()),a.restore()}}},49803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(16933);n.register("isotriangle",function(e,t,i,n,s,a,o,l){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o,l))})},60561:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(51503),s=i(79590),e.exports={renderWebGL:r,renderCanvas:s}},51503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a,o,l,h,u,c,d,f=e.pipelines.set(t.pipeline),p=n(t,i,s),m=f.calcMatrix.copyFrom(p.calc),g=t.width,v=t.height,y=g/2,b=g/t.projection,x=t.isReversed,E=i.alpha*t.alpha;if(t.isFilled){if(e.pipelines.preBatch(t),t.showTop&&x){a=r.getTintAppendFloatAlpha(t.fillTop,E),o=m.getX(-y,-v),l=m.getY(-y,-v),h=m.getX(0,-b-v),u=m.getY(0,-b-v),c=m.getX(y,-v),d=m.getY(y,-v);var w=m.getX(0,b-v),S=m.getY(0,b-v);f.batchQuad(t,o,l,h,u,c,d,w,S,0,0,1,1,a,a,a,a,2)}t.showLeft&&(a=r.getTintAppendFloatAlpha(t.fillLeft,E),x?(o=m.getX(-y,-v),l=m.getY(-y,-v)):(o=m.getX(-y,0),l=m.getY(-y,0)),h=m.getX(0,b),u=m.getY(0,b),c=m.getX(0,b-v),d=m.getY(0,b-v),f.batchTri(t,o,l,h,u,c,d,0,0,1,1,a,a,a,2)),t.showRight&&(a=r.getTintAppendFloatAlpha(t.fillRight,E),x?(o=m.getX(y,-v),l=m.getY(y,-v)):(o=m.getX(y,0),l=m.getY(y,0)),h=m.getX(0,b),u=m.getY(0,b),c=m.getX(0,b-v),d=m.getY(0,b-v),f.batchTri(t,o,l,h,u,c,d,0,0,1,1,a,a,a,2)),e.pipelines.postBatch(t)}}},57847:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(17803),s=i(23031),a=new n({Extends:r,Mixins:[i(36823)],initialize:function(e,t,i,n,a,o,l,h,u){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=128),void 0===l&&(l=0),r.call(this,e,"Line",new s(n,a,o,l));var c=Math.max(1,this.geom.right-this.geom.left),d=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(t,i),this.setSize(c,d),void 0!==h&&this.setStrokeStyle(1,h,u),this.updateDisplayOrigin()},setLineWidth:function(e,t){return void 0===t&&(t=e),this._startWidth=e,this._endWidth=t,this.lineWidth=e,this},setTo:function(e,t,i,n){return this.geom.setTo(e,t,i,n),this}});e.exports=a},17440:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(75177),r=i(20926);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.currentContext;if(r(e,a,t,i,s)){var o=t._displayOriginX,l=t._displayOriginY;t.isStroked&&(n(a,t),a.beginPath(),a.moveTo(t.geom.x1-o,t.geom.y1-l),a.lineTo(t.geom.x2-o,t.geom.y2-l),a.stroke()),a.restore()}}},2481:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(57847);n.register("line",function(e,t,i,n,s,a,o,l){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o,l))})},36823:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(77385),s=i(17440),e.exports={renderWebGL:r,renderCanvas:s}},77385:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.pipelines.set(t.pipeline),o=n(t,i,s);a.calcMatrix.copyFrom(o.calc);var l=t._displayOriginX,h=t._displayOriginY,u=i.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isStroked){var c=a.strokeTint,d=r.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*u);c.TL=d,c.TR=d,c.BL=d,c.BR=d,a.batchLine(t.geom.x1-l,t.geom.y1-h,t.geom.x2-l,t.geom.y2-h,t._startWidth/2,t._endWidth/2,1,0,!1,o.sprite,o.camera)}e.pipelines.postBatch(t)}},24949:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(90273),r=i(83419),s=i(94811),a=i(13829),o=i(25717),l=i(17803),h=i(5469),u=new r({Extends:l,Mixins:[n],initialize:function(e,t,i,n,r,s){void 0===t&&(t=0),void 0===i&&(i=0),l.call(this,e,"Polygon",new o(n));var h=a(this.geom);this.setPosition(t,i),this.setSize(h.width,h.height),void 0!==r&&this.setFillStyle(r,s),this.updateDisplayOrigin(),this.updateData()},smooth:function(e){void 0===e&&(e=1);for(var t=0;t<e;t++)h(this.geom);return this.updateData()},setTo:function(e){this.geom.setTo(e);var t=a(this.geom);return this.setSize(t.width,t.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var e=[],t=this.geom.points,i=0;i<t.length;i++)e.push(t[i].x,t[i].y);return e.push(t[0].x,t[0].y),this.pathIndexes=s(e),this.pathData=e,this}});e.exports=u},38710:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var l=t._displayOriginX,h=t._displayOriginY,u=t.pathData,c=u.length-1,d=u[0]-l,f=u[1]-h;o.beginPath(),o.moveTo(d,f),t.closePath||(c-=2);for(var p=2;p<c;p+=2){var m=u[p]-l,g=u[p+1]-h;o.lineTo(m,g)}t.closePath&&o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},64827:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(24949);n.register("polygon",function(e,t,i,n,s){return this.displayList.add(new r(this.scene,e,t,i,n,s))})},90273:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(73695),s=i(38710),e.exports={renderWebGL:r,renderCanvas:s}},73695:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10441),r=i(91296),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),l=r(t,i,a),h=o.calcMatrix.copyFrom(l.calc),u=t._displayOriginX,c=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&n(o,h,t,d,u,c),t.isStroked&&s(o,t,d,u,c),e.pipelines.postBatch(t)}},74561:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(87841),s=i(17803),a=new n({Extends:s,Mixins:[i(95597)],initialize:function(e,t,i,n,a,o,l){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=128),void 0===a&&(a=128),s.call(this,e,"Rectangle",new r(0,0,n,a)),this.setPosition(t,i),this.setSize(n,a),void 0!==o&&this.setFillStyle(o,l),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,t){this.width=e,this.height=t,this.geom.setSize(e,t),this.updateData(),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},updateData:function(){var e=[],t=this.geom,i=this._tempLine;return t.getLineA(i),e.push(i.x1,i.y1,i.x2,i.y2),t.getLineB(i),e.push(i.x2,i.y2),t.getLineC(i),e.push(i.x2,i.y2),t.getLineD(i),e.push(i.x2,i.y2),this.pathData=e,this}});e.exports=a},48682:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var l=t._displayOriginX,h=t._displayOriginY;t.isFilled&&(n(o,t),o.fillRect(-l,-h,t.width,t.height)),t.isStroked&&(r(o,t),o.beginPath(),o.rect(-l,-h,t.width,t.height),o.stroke()),o.restore()}}},87959:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(74561);n.register("rectangle",function(e,t,i,n,s,a){return this.displayList.add(new r(this.scene,e,t,i,n,s,a))})},95597:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(52059),s=i(48682),e.exports={renderWebGL:r,renderCanvas:s}},52059:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(34682),s=i(70554);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),l=n(t,i,a);o.calcMatrix.copyFrom(l.calc);var h=t._displayOriginX,u=t._displayOriginY,c=i.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isFilled){var d=o.fillTint,f=s.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*c);d.TL=f,d.TR=f,d.BL=f,d.BR=f,o.batchFillRect(-h,-u,t.width,t.height)}t.isStroked&&r(o,t,c,h,u),e.pipelines.postBatch(t)}},55911:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81991),r=i(83419),s=i(94811),a=i(17803),o=new r({Extends:a,Mixins:[n],initialize:function(e,t,i,n,r,s,o,l){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=5),void 0===r&&(r=32),void 0===s&&(s=64),a.call(this,e,"Star",null),this._points=n,this._innerRadius=r,this._outerRadius=s,this.setPosition(t,i),this.setSize(2*s,2*s),void 0!==o&&this.setFillStyle(o,l),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],t=this._points,i=this._innerRadius,n=this._outerRadius,r=Math.PI/2*3,a=Math.PI/t;e.push(n,n+-n);for(var o=0;o<t;o++)e.push(n+Math.cos(r)*n,n+Math.sin(r)*n),r+=a,e.push(n+Math.cos(r)*i,n+Math.sin(r)*i),r+=a;return e.push(n,n+-n),this.pathIndexes=s(e),this.pathData=e,this}});e.exports=o},64272:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var l=t._displayOriginX,h=t._displayOriginY,u=t.pathData,c=u.length-1,d=u[0]-l,f=u[1]-h;o.beginPath(),o.moveTo(d,f),t.closePath||(c-=2);for(var p=2;p<c;p+=2){var m=u[p]-l,g=u[p+1]-h;o.lineTo(m,g)}o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},93697:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(55911);i(39429).register("star",function(e,t,i,r,s,a,o){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o))})},81991:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(57017),s=i(64272),e.exports={renderWebGL:r,renderCanvas:s}},57017:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10441),r=i(91296),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),l=r(t,i,a),h=o.calcMatrix.copyFrom(l.calc),u=t._displayOriginX,c=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&n(o,h,t,d,u,c),t.isStroked&&s(o,t,d,u,c),e.pipelines.postBatch(t)}},36931:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(17803),s=i(16483),a=new n({Extends:r,Mixins:[i(96195)],initialize:function(e,t,i,n,a,o,l,h,u,c,d){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=128),void 0===o&&(o=64),void 0===l&&(l=0),void 0===h&&(h=128),void 0===u&&(u=128),r.call(this,e,"Triangle",new s(n,a,o,l,h,u));var f=this.geom.right-this.geom.left,p=this.geom.bottom-this.geom.top;this.setPosition(t,i),this.setSize(f,p),void 0!==c&&this.setFillStyle(c,d),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,t,i,n,r,s){return this.geom.setTo(e,t,i,n,r,s),this.updateData()},updateData:function(){var e=[],t=this.geom,i=this._tempLine;return t.getLineA(i),e.push(i.x1,i.y1,i.x2,i.y2),t.getLineB(i),e.push(i.x2,i.y2),t.getLineC(i),e.push(i.x2,i.y2),this.pathData=e,this}});e.exports=a},85172:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var l=t._displayOriginX,h=t._displayOriginY,u=t.geom.x1-l,c=t.geom.y1-h,d=t.geom.x2-l,f=t.geom.y2-h,p=t.geom.x3-l,m=t.geom.y3-h;o.beginPath(),o.moveTo(u,c),o.lineTo(d,f),o.lineTo(p,m),o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},45245:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(36931);n.register("triangle",function(e,t,i,n,s,a,o,l,h,u){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o,l,h,u))})},96195:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(83253),s=i(85172),e.exports={renderWebGL:r,renderCanvas:s}},83253:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(34682),s=i(70554);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),l=n(t,i,a);o.calcMatrix.copyFrom(l.calc);var h=t._displayOriginX,u=t._displayOriginY,c=i.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isFilled){var d=o.fillTint,f=s.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*c);d.TL=f,d.TR=f,d.BL=f,d.BR=f;var p=t.geom.x1-h,m=t.geom.y1-u,g=t.geom.x2-h,v=t.geom.y2-u,y=t.geom.x3-h,b=t.geom.y3-u;o.batchFillTriangle(p,m,g,v,y,b,l.sprite,l.camera)}t.isStroked&&r(o,t,c,h,u),e.pipelines.postBatch(t)}},68287:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(83419),s=i(31401),a=i(95643),o=i(92751),l=new r({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,o],initialize:function(e,t,i,r,s){a.call(this,e,"Sprite"),this._crop=this.resetCropObject(),this.anims=new n(this),this.setTexture(r,s),this.setPosition(t,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(e,t){this.anims.update(e,t)},play:function(e,t){return this.anims.play(e,t)},playReverse:function(e,t){return this.anims.playReverse(e,t)},playAfterDelay:function(e,t){return this.anims.playAfterDelay(e,t)},playAfterRepeat:function(e,t){return this.anims.playAfterRepeat(e,t)},chain:function(e){return this.anims.chain(e)},stop:function(){return this.anims.stop()},stopAfterDelay:function(e){return this.anims.stopAfterDelay(e)},stopAfterRepeat:function(e){return this.anims.stopAfterRepeat(e)},stopOnFrame:function(e){return this.anims.stopOnFrame(e)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});e.exports=l},76552:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t),e.batchSprite(t,t.frame,i,n)}},15567:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(13059),s=i(44603),a=i(23568),o=i(68287);s.register("sprite",function(e,t){void 0===e&&(e={});var i=a(e,"key",null),s=a(e,"frame",null),l=new o(this.scene,0,0,i,s);return void 0!==t&&(e.add=t),n(this.scene,l,e),r(l,e),l})},46409:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(68287);n.register("sprite",function(e,t,i,n){return this.displayList.add(new r(this.scene,e,t,i,n))})},92751:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(9409),s=i(76552),e.exports={renderWebGL:r,renderCanvas:s}},9409:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t),t.pipeline.batchSprite(t,i,n)}},14220:e=>{e.exports=function(e,t,i){var n=e.canvas,r=e.context,s=e.style,a=[],o=0,l=i.length;s.maxLines>0&&s.maxLines<i.length&&(l=s.maxLines),s.syncFont(n,r);for(var h=e.letterSpacing,u=0;u<l;u++){var c=s.strokeThickness;if(0===h)c+=r.measureText(i[u]).width;else{for(var d=i[u],f=0;f<d.length;f++)c+=r.measureText(d[f]).width;d.length>1&&(c+=h*(d.length-1))}s.wordWrap&&(c-=r.measureText(" ").width),a[u]=Math.ceil(c),o=Math.max(o,a[u])}var p=t.fontSize+s.strokeThickness,m=p*l,g=e.lineSpacing;return l>1&&(m+=g*(l-1)),{width:o,height:m,lines:l,lineWidths:a,lineSpacing:g,lineHeight:p}}},79557:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919);e.exports=function(e){var t,i,r=n.create(this),s=r.getContext("2d",{willReadFrequently:!0});e.syncFont(r,s);var a=s.measureText(e.testString);if("actualBoundingBoxAscent"in a){var o=a.actualBoundingBoxAscent,l=a.actualBoundingBoxDescent;return n.remove(r),{ascent:o,descent:l,fontSize:o+l}}var h=Math.ceil(a.width*e.baselineX),u=h,c=2*u;u=u*e.baselineY|0,r.width=h,r.height=c,s.fillStyle="#f00",s.fillRect(0,0,h,c),s.font=e._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(e.testString,0,u);var d={ascent:0,descent:0,fontSize:0},f=s.getImageData(0,0,h,c);if(!f)return d.ascent=u,d.descent=u+6,d.fontSize=d.ascent+d.descent,n.remove(r),d;var p=f.data,m=p.length,g=4*h,v=0,y=!1;for(t=0;t<u;t++){for(i=0;i<g;i+=4)if(255!==p[v+i]){y=!0;break}if(y)break;v+=g}for(d.ascent=u-t,v=m-g,y=!1,t=c;t>u;t--){for(i=0;i<g;i+=4)if(255!==p[v+i]){y=!0;break}if(y)break;v-=g}return d.descent=t-u,d.fontSize=d.ascent+d.descent,n.remove(r),d}},50171:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40366),r=i(27919),s=i(83419),a=i(31401),o=i(95643),l=i(14220),h=i(35154),u=i(35846),c=i(61771),d=i(35762),f=i(45650),p=new s({Extends:o,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,c],initialize:function(e,t,i,n,s){void 0===t&&(t=0),void 0===i&&(i=0),o.call(this,e,"Text"),this.renderer=e.sys.renderer,this.setPosition(t,i),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=r.create(this),this.context,this.style=new d(this,s),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=e.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(n),s&&s.padding&&this.setPadding(s.padding),s&&s.lineSpacing&&this.setLineSpacing(s.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",n(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(e){var t=this.style;if(t.wordWrapCallback){var i=t.wordWrapCallback.call(t.wordWrapCallbackScope,e,this);return Array.isArray(i)&&(i=i.join("\n")),i}return t.wordWrapWidth?t.wordWrapUseAdvanced?this.advancedWordWrap(e,this.context,this.style.wordWrapWidth):this.basicWordWrap(e,this.context,this.style.wordWrapWidth):e},advancedWordWrap:function(e,t,i){for(var n="",r=e.replace(/ +/gi," ").split(this.splitRegExp),s=r.length,a=0;a<s;a++){var o=r[a],l="";if(o=o.replace(/^ *|\s*$/gi,""),t.measureText(o).width<i){n+=o+"\n";continue}for(var h=i,u=o.split(" "),c=0;c<u.length;c++){var d=u[c],f=d+" ",p=t.measureText(f).width;if(p>h){if(0===c){for(var m=f;m.length&&(m=m.slice(0,-1),!((p=t.measureText(m).width)<=h)););if(!m.length)throw Error("wordWrapWidth < a single character");var g=d.substr(m.length);u[c]=g,l+=m}var v=u[c].length?c:c+1,y=u.slice(v).join(" ").replace(/[ \n]*$/gi,"");r.splice(a+1,0,y),s=r.length;break}l+=f,h-=p}n+=l.replace(/[ \n]*$/gi,"")+"\n"}return n.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(e,t,i){for(var n="",r=e.split(this.splitRegExp),s=r.length-1,a=t.measureText(" ").width,o=0;o<=s;o++){for(var l=i,h=r[o].split(" "),u=h.length-1,c=0;c<=u;c++){var d=h[c],f=t.measureText(d).width,p=f;c<u&&(p+=a),p>l&&c>0&&(n+="\n",l=i),n+=d,c<u?(n+=" ",l-=p):l-=f}o<s&&(n+="\n")}return n},getWrappedText:function(e){return void 0===e&&(e=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(e).split(this.splitRegExp)},setText:function(e){return e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e!==this._text&&(this._text=e.toString(),this.updateText()),this},appendText:function(e,t){void 0===t&&(t=!0),e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e=e.toString();var i=this._text.concat(t?"\n"+e:e);return i!==this._text&&(this._text=i,this.updateText()),this},setStyle:function(e){return this.style.setStyle(e)},setFont:function(e){return this.style.setFont(e)},setFontFamily:function(e){return this.style.setFontFamily(e)},setFontSize:function(e){return this.style.setFontSize(e)},setFontStyle:function(e){return this.style.setFontStyle(e)},setFixedSize:function(e,t){return this.style.setFixedSize(e,t)},setBackgroundColor:function(e){return this.style.setBackgroundColor(e)},setFill:function(e){return this.style.setFill(e)},setColor:function(e){return this.style.setColor(e)},setStroke:function(e,t){return this.style.setStroke(e,t)},setShadow:function(e,t,i,n,r,s){return this.style.setShadow(e,t,i,n,r,s)},setShadowOffset:function(e,t){return this.style.setShadowOffset(e,t)},setShadowColor:function(e){return this.style.setShadowColor(e)},setShadowBlur:function(e){return this.style.setShadowBlur(e)},setShadowStroke:function(e){return this.style.setShadowStroke(e)},setShadowFill:function(e){return this.style.setShadowFill(e)},setWordWrapWidth:function(e,t){return this.style.setWordWrapWidth(e,t)},setWordWrapCallback:function(e,t){return this.style.setWordWrapCallback(e,t)},setAlign:function(e){return this.style.setAlign(e)},setResolution:function(e){return this.style.setResolution(e)},setLineSpacing:function(e){return this.lineSpacing=e,this.updateText()},setLetterSpacing:function(e){return this.letterSpacing=e,this.updateText()},setPadding:function(e,t,i,n){if("object"==typeof e){var r=e,s=h(r,"x",null);null!==s?(e=s,i=s):(e=h(r,"left",0),i=h(r,"right",e));var a=h(r,"y",null);null!==a?(t=a,n=a):(t=h(r,"top",0),n=h(r,"bottom",t))}else void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=e),void 0===n&&(n=t);return this.padding.left=e,this.padding.top=t,this.padding.right=i,this.padding.bottom=n,this.updateText()},setMaxLines:function(e){return this.style.setMaxLines(e)},setRTL:function(e){void 0===e&&(e=!0);var t=this.style;return t.rtl===e||(t.rtl=e,e?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",n(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===t.align?t.align="right":"right"===t.align&&(t.align="left")),this},updateText:function(){var e,t,i,n=this.canvas,r=this.context,s=this.style,a=s.resolution,o=s.metrics;s.syncFont(n,r);var h=this._text;(s.wordWrapWidth||s.wordWrapCallback)&&(h=this.runWordWrap(this._text));var u=h.split(this.splitRegExp),c=l(this,o,u),d=this.padding;0===s.fixedWidth?(this.width=c.width+d.left+d.right,e=c.width):(this.width=s.fixedWidth,(e=this.width-d.left-d.right)<c.width&&(e=c.width)),0===s.fixedHeight?this.height=c.height+d.top+d.bottom:this.height=s.fixedHeight;var f=this.width,p=this.height;this.updateDisplayOrigin(),f*=a,p*=a,f=Math.max(f,1),p=Math.max(p,1),n.width!==f||n.height!==p?(n.width=f,n.height=p,this.frame.setSize(f,p),s.syncFont(n,r),s.rtl&&(r.direction="rtl")):r.clearRect(0,0,f,p),r.save(),r.scale(a,a),s.backgroundColor&&(r.fillStyle=s.backgroundColor,r.fillRect(0,0,f,p)),s.syncStyle(n,r),r.translate(d.left,d.top);for(var m=0;m<c.lines;m++){if(t=s.strokeThickness/2,i=s.strokeThickness/2+m*c.lineHeight+o.ascent,m>0&&(i+=c.lineSpacing*m),s.rtl)t=f-t-d.left-d.right;else if("right"===s.align)t+=e-c.lineWidths[m];else if("center"===s.align)t+=(e-c.lineWidths[m])/2;else if("justify"===s.align&&c.lineWidths[m]/c.width>=.85){for(var g=c.width-c.lineWidths[m],v=r.measureText(" ").width,y=u[m].trim(),b=y.split(" "),x=Math.floor((g+=(u[m].length-y.length)*v)/v),E=0;x>0;)b[E]+=" ",E=(E+1)%(b.length-1||1),--x;u[m]=b.join(" ")}this.autoRound&&(t=Math.round(t),i=Math.round(i));var w=this.letterSpacing;if(s.strokeThickness&&0===w&&(s.syncShadow(r,s.shadowStroke),r.strokeText(u[m],t,i)),s.color){if(s.syncShadow(r,s.shadowFill),0!==w)for(var S=0,T=u[m].split(""),A=0;A<T.length;A++)s.strokeThickness&&(s.syncShadow(r,s.shadowStroke),r.strokeText(T[A],t+S,i),s.syncShadow(r,s.shadowFill)),r.fillText(T[A],t+S,i),S+=r.measureText(T[A]).width+w;else r.fillText(u[m],t,i)}}r.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(n,this.frame.source.glTexture,!0));var _=this.input;return _&&!_.customHitArea&&(_.hitArea.width=this.width,_.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(e){this.setText(e)}},toJSON:function(){var e=a.ToJSON(this),t={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return e.data=t,e},preDestroy:function(){u(this.canvas),r.remove(this.canvas);var e=this.texture;e&&e.destroy()}});e.exports=p},79724:e=>{e.exports=function(e,t,i,n){0!==t.width&&0!==t.height&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))}},71259:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(50171);r.register("text",function(e,t){void 0===e&&(e={});var i=s(e,"text",""),r=s(e,"style",null),o=s(e,"padding",null);null!==o&&(r.padding=o);var l=new a(this.scene,0,0,i,r);return void 0!==t&&(e.add=t),n(this.scene,l,e),l.autoRound=s(e,"autoRound",!0),l.resolution=s(e,"resolution",1),l})},68005:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(50171);i(39429).register("text",function(e,t,i,r){return this.displayList.add(new n(this.scene,e,t,i,r))})},61771:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(34397),s=i(79724),e.exports={renderWebGL:r,renderCanvas:s}},35762:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23568),s=i(35154),a=i(79557),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},l=new n({initialize:function(e,t){this.parent=e,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(t,!1,!0)},setStyle:function(e,t,i){for(var n in void 0===t&&(t=!0),void 0===i&&(i=!1),o){var l=i?o[n][1]:this[n];"wordWrapCallback"===n||"wordWrapCallbackScope"===n?this[n]=s(e,o[n][0],l):e&&"fontSize"===n&&"number"==typeof e.fontSize?this[n]=e.fontSize.toString()+"px":this[n]=r(e,o[n][0],l)}var h=s(e,"font",null);null!==h&&this.setFont(h,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var u=s(e,"fill",null);null!==u&&(this.color=u);var c=s(e,"metrics",!1);return(c?this.metrics={ascent:s(c,"ascent",0),descent:s(c,"descent",0),fontSize:s(c,"fontSize",0)}:(t||!this.metrics)&&(this.metrics=a(this)),t)?this.parent.updateText():this.parent},syncFont:function(e,t){t.font=this._font},syncStyle:function(e,t){t.textBaseline="alphabetic",t.fillStyle=this.color,t.strokeStyle=this.stroke,t.lineWidth=this.strokeThickness,t.lineCap="round",t.lineJoin="round"},syncShadow:function(e,t){t?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor=0,e.shadowBlur=0)},update:function(e){return e&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(e,t){void 0===t&&(t=!0);var i=e,n="",r="";if("string"!=typeof e)i=s(e,"fontFamily","Courier"),n=s(e,"fontSize","16px"),r=s(e,"fontStyle","");else{var a=e.split(" "),o=0;r=a.length>2?a[o++]:"",n=a[o++]||"16px",i=a[o++]||"Courier"}return(i!==this.fontFamily||n!==this.fontSize||r!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=n,this.fontStyle=r,t&&this.update(!0)),this.parent},setFontFamily:function(e){return this.fontFamily!==e&&(this.fontFamily=e,this.update(!0)),this.parent},setFontStyle:function(e){return this.fontStyle!==e&&(this.fontStyle=e,this.update(!0)),this.parent},setFontSize:function(e){return"number"==typeof e&&(e=e.toString()+"px"),this.fontSize!==e&&(this.fontSize=e,this.update(!0)),this.parent},setTestString:function(e){return this.testString=e,this.update(!0)},setFixedSize:function(e,t){return this.fixedWidth=e,this.fixedHeight=t,e&&(this.parent.width=e),t&&(this.parent.height=t),this.update(!1)},setBackgroundColor:function(e){return this.backgroundColor=e,this.update(!1)},setFill:function(e){return this.color=e,this.update(!1)},setColor:function(e){return this.color=e,this.update(!1)},setResolution:function(e){return this.resolution=e,this.update(!1)},setStroke:function(e,t){return void 0===t&&(t=this.strokeThickness),void 0===e&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==e||this.strokeThickness!==t)&&(this.stroke=e,this.strokeThickness=t,this.update(!0)),this.parent},setShadow:function(e,t,i,n,r,s){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!0),this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=r,this.shadowFill=s,this.update(!1)},setShadowOffset:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.shadowOffsetX=e,this.shadowOffsetY=t,this.update(!1)},setShadowColor:function(e){return void 0===e&&(e="#000"),this.shadowColor=e,this.update(!1)},setShadowBlur:function(e){return void 0===e&&(e=0),this.shadowBlur=e,this.update(!1)},setShadowStroke:function(e){return this.shadowStroke=e,this.update(!1)},setShadowFill:function(e){return this.shadowFill=e,this.update(!1)},setWordWrapWidth:function(e,t){return void 0===t&&(t=!1),this.wordWrapWidth=e,this.wordWrapUseAdvanced=t,this.update(!1)},setWordWrapCallback:function(e,t){return void 0===t&&(t=null),this.wordWrapCallback=e,this.wordWrapCallbackScope=t,this.update(!1)},setAlign:function(e){return void 0===e&&(e="left"),this.align=e,this.update(!1)},setMaxLines:function(e){return void 0===e&&(e=0),this.maxLines=e,this.update(!1)},getTextMetrics:function(){var e=this.metrics;return{ascent:e.ascent,descent:e.descent,fontSize:e.fontSize}},toJSON:function(){var e={};for(var t in o)e[t]=this[t];return e.metrics=this.getTextMetrics(),e},destroy:function(){this.parent=void 0}});e.exports=l},34397:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i,r){if(0!==t.width&&0!==t.height){i.addToRenderList(t);var s=t.frame,a=s.width,o=s.height,l=n.getTintAppendFloatAlpha,h=e.pipelines.set(t.pipeline,t),u=h.setTexture2D(s.glTexture,t);h.batchTexture(t,s.glTexture,a,o,t.x,t.y,a/t.style.resolution,o/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,a,o,l(t.tintTopLeft,i.alpha*t._alphaTL),l(t.tintTopRight,i.alpha*t._alphaTR),l(t.tintBottomLeft,i.alpha*t._alphaBL),l(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,r,!1,u)}}},20839:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(83419),s=i(31401),a=i(95643),o=i(98439),l=i(68703),h=i(56295),u=i(45650),c=i(26099),d=new r({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,h],initialize:function(e,t,i,r,s,l,h){var d=e.sys.renderer;a.call(this,e,"TileSprite");var f=e.sys.textures.get(l),p=f.get(h);p.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),p=(f=e.sys.textures.get("__MISSING")).get()),"DynamicTexture"===f.type&&(console.warn("TileSprite cannot use Dynamic Texture"),p=(f=e.sys.textures.get("__MISSING")).get()),r&&s?(r=Math.floor(r),s=Math.floor(s)):(r=r||p.width,s=s||p.height),this._tilePosition=new c,this._tileScale=new c(1,1),this.dirty=!1,this.renderer=d,this.canvas=n.create(this,r,s),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=f,this.displayFrame=p,this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=e.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=o(p.width),this.potHeight=o(p.height),this.fillCanvas=n.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(t,i),this.setSize(r,s),this.setFrame(h),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(e,t){return this.displayTexture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){var t=this.displayTexture.get(e);return this.potWidth=o(t.width),this.potHeight=o(t.height),this.canvas.width=0,t.cutWidth&&t.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=t,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(e,t){return void 0!==e&&(this.tilePositionX=e),void 0!==t&&(this.tilePositionY=t),this},setTileScale:function(e,t){return void 0===e&&(e=this.tileScaleX),void 0===t&&(t=e),this.tileScaleX=e,this.tileScaleY=t,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var e=this.displayFrame;if(e.source.isRenderTexture||e.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var t=this.fillContext,i=this.fillCanvas,n=this.potWidth,r=this.potHeight;this.renderer&&this.renderer.gl||(n=e.cutWidth,r=e.cutHeight),t.clearRect(0,0,n,r),i.width=n,i.height=r,t.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,n,r),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=t.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var e=this.canvas;if((e.width!==this.width||e.height!==this.height)&&(e.width=this.width,e.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var t=this.context;this.scene.sys.game.config.antialias||l.disable(t);var i=this._tileScale.x,n=this._tileScale.y,r=this._tilePosition.x,s=this._tilePosition.y;t.clearRect(0,0,this.width,this.height),t.save(),t.scale(i,n),t.translate(-r,-s),t.fillStyle=this.fillPattern,t.fillRect(r,s,this.width/i,this.height/n),t.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),n.remove(this.canvas),n.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var e=this.texture;e&&e.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(e){this._tilePosition.x=e,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(e){this._tilePosition.y=e,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(e){this._tileScale.x=e,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(e){this._tileScale.y=e,this.dirty=!0}}});e.exports=d},46992:e=>{e.exports=function(e,t,i,n){t.updateCanvas(),i.addToRenderList(t),e.batchSprite(t,t.frame,i,n)}},14167:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(20839);r.register("tileSprite",function(e,t){void 0===e&&(e={});var i=s(e,"x",0),r=s(e,"y",0),o=s(e,"width",512),l=s(e,"height",512),h=s(e,"key",""),u=s(e,"frame",""),c=new a(this.scene,i,r,o,l,h,u);return void 0!==t&&(e.add=t),n(this.scene,c,e),c})},91681:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20839);i(39429).register("tileSprite",function(e,t,i,r,s,a){return this.displayList.add(new n(this.scene,e,t,i,r,s,a))})},56295:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(18553),s=i(46992),e.exports={renderWebGL:r,renderCanvas:s}},18553:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i,r){t.updateCanvas();var s=t.width,a=t.height;if(0!==s&&0!==a){i.addToRenderList(t);var o=n.getTintAppendFloatAlpha,l=e.pipelines.set(t.pipeline,t),h=l.setTexture2D(t.fillPattern,t);l.batchTexture(t,t.fillPattern,t.displayFrame.width*t.tileScaleX,t.displayFrame.height*t.tileScaleY,t.x,t.y,s,a,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.originX*s,t.originY*a,0,0,s,a,o(t.tintTopLeft,i.alpha*t._alphaTL),o(t.tintTopRight,i.alpha*t._alphaTR),o(t.tintBottomLeft,i.alpha*t._alphaBL),o(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,t.tilePositionX%t.displayFrame.width/t.displayFrame.width,t.tilePositionY%t.displayFrame.height/t.displayFrame.height,i,r,!1,h)}}},18471:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(31401),a=i(51708),o=i(8443),l=i(95643),h=i(36383),u=i(14463),c=i(45650),d=i(10247),f=new r({Extends:l,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.TextureCrop,s.Tint,s.Transform,s.Visible,d],initialize:function(e,t,i,n){l.call(this,e,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=c(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var r=e.sys.game;this._device=r.device.video,this.setPosition(t,i),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),r.events.on(o.PAUSE,this.globalPause,this),r.events.on(o.RESUME,this.globalResume,this);var s=e.sys.sound;s&&s.on(u.GLOBAL_MUTE,this.globalMute,this),n&&this.load(n)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(e){var t=this.scene.sys.cache.video.get(e);return t?(this.cacheKey=e,this.loadHandler(t.url,t.noAudio,t.crossOrigin)):console.warn("No video in cache for key: "+e),this},changeSource:function(e,t,i,n,r){void 0===t&&(t=!0),void 0===i&&(i=!1),this.cacheKey!==e&&(this.load(e),t&&this.play(i,n,r))},getVideoKey:function(){return this.cacheKey},loadURL:function(e,t,i){void 0===t&&(t=!1);var n=this._device.getVideoURL(e);return n?(this.cacheKey="",this.loadHandler(n.url,t,i)):console.warn("No supported video format found for "+e),this},loadMediaStream:function(e,t,i){return this.loadHandler(null,t,i,e)},loadHandler:function(e,t,i,n){t||(t=!1);var r=this.video;if(r?(this.removeLoadEventHandlers(),this.stop()):((r=document.createElement("video")).controls=!1,r.setAttribute("playsinline","playsinline"),r.setAttribute("preload","auto"),r.setAttribute("disablePictureInPicture","true")),t?(r.muted=!0,r.defaultMuted=!0,r.setAttribute("autoplay","autoplay")):(r.muted=!1,r.defaultMuted=!1,r.removeAttribute("autoplay")),i?r.setAttribute("crossorigin",i):r.removeAttribute("crossorigin"),n){if("srcObject"in r)try{r.srcObject=n}catch(e){if("TypeError"!==e.name)throw e;r.src=URL.createObjectURL(n)}else r.src=URL.createObjectURL(n)}else r.src=e;this.retry=0,this.video=r,this._playCalled=!1,r.load(),this.addLoadEventHandlers();var s=this.scene.sys.textures.get(this._key);return this.setTexture(s),this},requestVideoFrame:function(e,t){var i=this.video;if(i){var n=t.width,r=t.height,s=this.videoTexture,o=this.videoTextureSource,l=!s||o.source!==i;l?(this._codePaused=i.paused,this._codeMuted=i.muted,s?(o.source=i,o.width=n,o.height=r,s.get().setSize(n,r)):((s=this.scene.sys.textures.create(this._key,i,n,r)).add("__BASE",0,0,0,n,r),this.setTexture(s),this.videoTexture=s,this.videoTextureSource=s.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,s)),this.setSizeToFrame(),this.updateDisplayOrigin()):o.update(),this.isStalled=!1,this.metadata=t;var h=t.mediaTime;l&&(this._lastUpdate=h,this.emit(a.VIDEO_CREATED,this,n,r),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?h>=this._markerOut&&(i.loop?(i.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):h<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=h,this._getFrame?(this.removeEventHandlers(),i.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=h.MAX_SAFE_INTEGER);var n=this.video;return!n||this.isPlaying()?n||console.warn("Video not loaded"):(void 0===e&&(e=n.loop),n.loop=e,this._markerIn=t,this._markerOut=i,this._playingMarker=t>-1&&i>t&&i<h.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=n.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise())),this},getFirstFrame:function(){var e=this.video;return!e||this.isPlaying()?e||console.warn("Video not loaded"):this._playCalled||(this._getFrame=!0,this._rfvCallbackId=e.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this},addLoadEventHandlers:function(){var e=this.video;e&&(e.addEventListener("error",this._loadCallbackHandler),e.addEventListener("abort",this._loadCallbackHandler),e.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var e=this.video;e&&(e.removeEventListener("error",this._loadCallbackHandler),e.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var e=this.video;if(e){var t=this._callbacks;for(var i in t)e.addEventListener(i,t[i])}},removeEventHandlers:function(){var e=this.video;if(e){var t=this._callbacks;for(var i in t)e.removeEventListener(i,t[i])}},createPlayPromise:function(e){void 0===e&&(e=!0);var t=this.video,i=t.play();if(void 0!==i){var n=this.playSuccess.bind(this),r=this.playError.bind(this);if(!e){var s=this;r=function(){s.failedPlayAttempts++}}i.then(n).catch(r)}else t.addEventListener("playing",this._callbacks.legacy),!e&&this.failedPlayAttempts++},addMarker:function(e,t,i){return!isNaN(t)&&t>=0&&!isNaN(i)&&i>t&&(this.markers[e]=[t,i]),this},playMarker:function(e,t){var i=this.markers[e];return i&&this.play(t,i[0],i[1]),this},removeMarker:function(e){return delete this.markers[e],this},snapshot:function(e,t){return void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.snapshotArea(0,0,this.width,this.height,e,t)},snapshotArea:function(e,t,i,n,r,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===n&&(n=this.height),void 0===r&&(r=i),void 0===s&&(s=n);var a=this.video,o=this.snapshotTexture;return o?o.setSize(r,s):(o=this.scene.sys.textures.createCanvas(c(),r,s),this.snapshotTexture=o),a&&o.context.drawImage(a,e,t,i,n,0,0,r,s),o.update()},saveSnapshotTexture:function(e){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,e):this.snapshotTexture=this.scene.sys.textures.createCanvas(e,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var e=this.scene.sys.sound;e&&e.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(e){var t=e.name;"NotAllowedError"===t?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):"NotSupportedError"===t?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,e)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,e))},legacyPlayHandler:function(){var e=this.video;e&&(this.playSuccess(),e.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(e){this.stop(!1),this.emit(a.VIDEO_ERROR,this,e)},metadataHandler:function(e){this.emit(a.VIDEO_METADATA,this,e)},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var t=this.input;return t&&!t.customHitArea&&(t.hitArea.width=this.width,t.hitArea.height=this.height),this},stalledHandler:function(e){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,e)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(e,t){this.video&&this._playCalled&&this.touchLocked&&this.playWhenUnlocked&&(this.retry+=t,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(e){var t=this.video;if(t){var i=t.duration;i===1/0||isNaN(i)||this.setCurrentTime(i*e)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(e){var t=this.video;if(t){if("string"==typeof e){var i=e[0],n=parseFloat(e.substr(1));"+"===i?e=t.currentTime+n:"-"===i&&(e=t.currentTime-n)}t.currentTime=e}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var e=this.video;if(e){var t=e.duration;if(t!==1/0&&!isNaN(t))return e.currentTime/t}return -1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(e){void 0===e&&(e=!0),this._codeMuted=e;var t=this.video;return t&&(t.muted=!!this._systemMuted||e),this},isMuted:function(){return this._codeMuted},globalMute:function(e,t){this._systemMuted=t;var i=this.video;i&&(i.muted=!!this._codeMuted||t)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,!this.video||this._codePaused||this.video.ended||this.createPlayPromise()},setPaused:function(e){void 0===e&&(e=!0);var t=this.video;return this._codePaused=e,!t||t.ended||(e?t.paused||(this.removeEventHandlers(),t.pause()):e||(this._playCalled?t.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(e){return void 0===e&&(e=1),this.video&&(this.video.volume=n(e,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(e){return this.video&&(this.video.playbackRate=e),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(e){return void 0===e&&(e=!0),this.video&&(this.video.loop=e),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(e,t){return void 0===t&&(t=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,e),this.videoTextureSource.setFlipY(t)),this._key=e,this.flipY=t,!!this.videoTexture},stop:function(e){void 0===e&&(e=!0);var t=this.video;return t&&(this.removeEventHandlers(),t.cancelVideoFrameCallback(this._rfvCallbackId),t.pause()),this.retry=0,this._playCalled=!1,e&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var e=this.video;if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("autoplay"),e.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var e=this.scene.sys.game.events;e.off(o.PAUSE,this.globalPause,this),e.off(o.RESUME,this.globalResume,this);var t=this.scene.sys.sound;t&&t.off(u.GLOBAL_MUTE,this.globalMute,this)}});e.exports=f},58352:e=>{e.exports=function(e,t,i,n){t.videoTexture&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))}},11511:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(18471);r.register("video",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=new a(this.scene,0,0,i);return void 0!==t&&(e.add=t),n(this.scene,r,e),r})},89025:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(18471);i(39429).register("video",function(e,t,i){return this.displayList.add(new n(this.scene,e,t,i))})},10247:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(29849),s=i(58352),e.exports={renderWebGL:r,renderCanvas:s}},29849:e=>{e.exports=function(e,t,i,n){t.videoTexture&&(i.addToRenderList(t),t.pipeline.batchSprite(t,i,n))}},41481:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(96503),s=i(87902),a=i(83419),o=i(31401),l=i(95643),h=i(87841),u=i(37303),c=new a({Extends:l,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(e,t,i,r,s){void 0===r&&(r=1),void 0===s&&(s=r),l.call(this,e,"Zone"),this.setPosition(t,i),this.width=r,this.height=s,this.blendMode=n.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t,i){void 0===i&&(i=!0),this.width=e,this.height=t,this.updateDisplayOrigin();var n=this.input;return i&&n&&!n.customHitArea&&(n.hitArea.width=e,n.hitArea.height=t),this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},setCircleDropZone:function(e){return this.setDropZone(new r(0,0,e),s)},setRectangleDropZone:function(e,t){return this.setDropZone(new h(0,0,e,t),u)},setDropZone:function(e,t){return this.input||this.setInteractive(e,t,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(e,t,i){i.addToRenderList(t)},renderWebGL:function(e,t,i){i.addToRenderList(t)}});e.exports=c},95261:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(44603),r=i(23568),s=i(41481);n.register("zone",function(e){var t=r(e,"x",0),i=r(e,"y",0),n=r(e,"width",1),a=r(e,"height",n);return new s(this.scene,t,i,n,a)})},84175:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41481);i(39429).register("zone",function(e,t,i,r){return this.displayList.add(new n(this.scene,e,t,i,r))})},95166:e=>{e.exports=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0}},96503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(87902),s=i(26241),a=i(79124),o=i(23777),l=i(28176),h=new n({initialize:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.type=o.CIRCLE,this.x=e,this.y=t,this._radius=i,this._diameter=2*i},contains:function(e,t){return r(this,e,t)},getPoint:function(e,t){return s(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return l(this,e)},setTo:function(e,t,i){return this.x=e,this.y=t,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(e){this._radius=e,this._diameter=2*e}},diameter:{get:function(){return this._diameter},set:function(e){this._diameter=e,this._radius=.5*e}},left:{get:function(){return this.x-this._radius},set:function(e){this.x=e+this._radius}},right:{get:function(){return this.x+this._radius},set:function(e){this.x=e-this._radius}},top:{get:function(){return this.y-this._radius},set:function(e){this.y=e+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(e){this.y=e-this._radius}}});e.exports=h},71562:e=>{e.exports=function(e){return 2*(Math.PI*e.radius)}},92110:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){return void 0===i&&(i=new n),i.x=e.x+e.radius*Math.cos(t),i.y=e.y+e.radius*Math.sin(t),i}},42250:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503);e.exports=function(e){return new n(e.x,e.y,e.radius)}},87902:e=>{e.exports=function(e,t,i){return e.radius>0&&t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom&&(e.x-t)*(e.x-t)+(e.y-i)*(e.y-i)<=e.radius*e.radius}},5698:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87902);e.exports=function(e,t){return n(e,t.x,t.y)}},70588:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87902);e.exports=function(e,t){return n(e,t.x,t.y)&&n(e,t.right,t.y)&&n(e,t.x,t.bottom)&&n(e,t.right,t.bottom)}},26394:e=>{e.exports=function(e,t){return t.setTo(e.x,e.y,e.radius)}},76278:e=>{e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.radius===t.radius}},2074:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.left,t.y=e.top,t.width=e.diameter,t.height=e.diameter,t}},26241:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(92110),r=i(62945),s=i(36383),a=i(2141);e.exports=function(e,t,i){return void 0===i&&(i=new a),n(e,r(t,0,s.PI2),i)}},79124:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71562),r=i(92110),s=i(62945),a=i(36383);e.exports=function(e,t,i,o){void 0===o&&(o=[]),!t&&i>0&&(t=n(e)/i);for(var l=0;l<t;l++){var h=s(l/t,0,a.PI2);o.push(r(e,h))}return o}},50884:e=>{e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},39212:e=>{e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},28176:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){void 0===t&&(t=new n);var i=2*Math.PI*Math.random(),r=Math.random()+Math.random(),s=r>1?2-r:r,a=s*Math.cos(i),o=s*Math.sin(i);return t.x=e.x+a*e.radius,t.y=e.y+o*e.radius,t}},88911:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503);n.Area=i(95166),n.Circumference=i(71562),n.CircumferencePoint=i(92110),n.Clone=i(42250),n.Contains=i(87902),n.ContainsPoint=i(5698),n.ContainsRect=i(70588),n.CopyFrom=i(26394),n.Equals=i(76278),n.GetBounds=i(2074),n.GetPoint=i(26241),n.GetPoints=i(79124),n.Offset=i(50884),n.OffsetPoint=i(39212),n.Random=i(28176),e.exports=n},23777:e=>{e.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:e=>{e.exports=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI}},92990:e=>{e.exports=function(e){var t=e.width/2,i=e.height/2,n=Math.pow(t-i,2)/Math.pow(t+i,2);return Math.PI*(t+i)*(1+3*n/(10+Math.sqrt(4-3*n)))}},79522:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){void 0===i&&(i=new n);var r=e.width/2,s=e.height/2;return i.x=e.x+r*Math.cos(t),i.y=e.y+s*Math.sin(t),i}},58102:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8497);e.exports=function(e){return new n(e.x,e.y,e.width,e.height)}},81154:e=>{e.exports=function(e,t,i){if(e.width<=0||e.height<=0)return!1;var n=(t-e.x)/e.width,r=(i-e.y)/e.height;return n*=n,r*=r,n+r<.25}},46662:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81154);e.exports=function(e,t){return n(e,t.x,t.y)}},1632:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81154);e.exports=function(e,t){return n(e,t.x,t.y)&&n(e,t.right,t.y)&&n(e,t.x,t.bottom)&&n(e,t.right,t.bottom)}},65534:e=>{e.exports=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)}},8497:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(81154),s=i(90549),a=i(48320),o=i(23777),l=i(24820),h=new n({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.type=o.ELLIPSE,this.x=e,this.y=t,this.width=i,this.height=n},contains:function(e,t){return r(this,e,t)},getPoint:function(e,t){return s(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return l(this,e)},setTo:function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(e){this.x=e+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(e){this.y=e+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});e.exports=h},36146:e=>{e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}},23694:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.left,t.y=e.top,t.width=e.width,t.height=e.height,t}},90549:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79522),r=i(62945),s=i(36383),a=i(2141);e.exports=function(e,t,i){return void 0===i&&(i=new a),n(e,r(t,0,s.PI2),i)}},48320:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(92990),r=i(79522),s=i(62945),a=i(36383);e.exports=function(e,t,i,o){void 0===o&&(o=[]),!t&&i>0&&(t=n(e)/i);for(var l=0;l<t;l++){var h=s(l/t,0,a.PI2);o.push(r(e,h))}return o}},73424:e=>{e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},44808:e=>{e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},24820:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){void 0===t&&(t=new n);var i=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return t.x=e.x+r*Math.cos(i)*e.width/2,t.y=e.y+r*Math.sin(i)*e.height/2,t}},49203:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8497);n.Area=i(78874),n.Circumference=i(92990),n.CircumferencePoint=i(79522),n.Clone=i(58102),n.Contains=i(81154),n.ContainsPoint=i(46662),n.ContainsRect=i(1632),n.CopyFrom=i(65534),n.Equals=i(36146),n.GetBounds=i(23694),n.GetPoint=i(90549),n.GetPoints=i(48320),n.Offset=i(73424),n.OffsetPoint=i(44808),n.Random=i(24820),e.exports=n},55738:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23777),r=i(79291),s={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};s=r(!1,s,n),e.exports=s},2044:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20339);e.exports=function(e,t){return n(e.x,e.y,t.x,t.y)<=e.radius+t.radius}},81491:e=>{e.exports=function(e,t){var i=t.width/2,n=t.height/2,r=Math.abs(e.x-t.x-i),s=Math.abs(e.y-t.y-n),a=i+e.radius,o=n+e.radius;if(r>a||s>o)return!1;if(r<=i||s<=n)return!0;var l=r-i,h=s-n;return l*l+h*h<=e.radius*e.radius}},63376:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(2044);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s,a,o,l,h=e.x,u=e.y,c=e.radius,d=t.x,f=t.y,p=t.radius;if(u===f)l=(p*p-c*c-d*d+h*h)/(2*(h-d)),s=1,0==(o=(a=-2*f)*a-4*s*(d*d+l*l-2*d*l+f*f-p*p))?i.push(new n(l,-a/(2*s))):o>0&&(i.push(new n(l,(-a+Math.sqrt(o))/(2*s))),i.push(new n(l,(-a-Math.sqrt(o))/(2*s))));else{var m=(h-d)/(u-f),g=(p*p-c*c-d*d+h*h-f*f+u*u)/(2*(u-f));s=m*m+1,0==(o=(a=2*u*m-2*g*m-2*h)*a-4*s*(h*h+u*u+g*g-c*c-2*u*g))?(l=-a/(2*s),i.push(new n(l,g-l*m))):o>0&&(l=(-a+Math.sqrt(o))/(2*s),i.push(new n(l,g-l*m)),l=(-a-Math.sqrt(o))/(2*s),i.push(new n(l,g-l*m)))}}return i}},97439:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4042),r=i(81491);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s=t.getLineA(),a=t.getLineB(),o=t.getLineC(),l=t.getLineD();n(s,e,i),n(a,e,i),n(o,e,i),n(l,e,i)}return i}},4042:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(80462);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s,a,o=e.x1,l=e.y1,h=e.x2,u=e.y2,c=t.x,d=t.y,f=t.radius,p=h-o,m=u-l,g=o-c,v=l-d,y=p*p+m*m,b=2*(p*g+m*v),x=b*b-4*y*(g*g+v*v-f*f);if(0===x){var E=-b/(2*y);s=o+E*p,a=l+E*m,E>=0&&E<=1&&i.push(new n(s,a))}else if(x>0){var w=(-b-Math.sqrt(x))/(2*y);s=o+w*p,a=l+w*m,w>=0&&w<=1&&i.push(new n(s,a));var S=(-b+Math.sqrt(x))/(2*y);s=o+S*p,a=l+S*m,S>=0&&S<=1&&i.push(new n(s,a))}}return i}},36100:(e,t,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25836);e.exports=function(e,t,i,r){void 0===i&&(i=!1);var s,a,o,l=e.x1,h=e.y1,u=e.x2,c=e.y2,d=t.x1,f=t.y1,p=t.x2,m=t.y2,g=u-l,v=c-h,y=p-d,b=m-f,x=g*b-v*y;if(0===x)return null;if(i){if(s=(g*(f-h)+v*(l-d))/(y*v-b*g),0!==g)a=(d+y*s-l)/g;else{if(0===v)return null;a=(f+b*s-h)/v}if(a<0||s<0||s>1)return null;o=a}else{if(s=((d-l)*b-(f-h)*y)/x,a=((h-f)*g-(l-d)*v)/x,s<0||s>1||a<0||a>1)return null;o=s}return void 0===r&&(r=new n),r.set(l+g*o,h+v*o,o)}},3073:(e,t,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36100),r=i(23031),s=i(25836),a=new r,o=new s;e.exports=function(e,t,i,r){void 0===i&&(i=!1),void 0===r&&(r=new s);var l=!1;r.set(),o.set();for(var h=t[t.length-1],u=0;u<t.length;u++){var c=t[u];a.setTo(h.x,h.y,c.x,c.y),h=c,n(e,a,i,o)&&(!l||o.z<r.z)&&(r.copy(o),l=!0)}return l?r:null}},56362:(e,t,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25836),r=i(61369),s=i(3073),a=new n;e.exports=function(e,t,i,n){void 0===n&&(n=new r),Array.isArray(t)||(t=[t]);var o=!1;n.set(),a.set();for(var l=0;l<t.length;l++)s(e,t[l].points,i,a)&&(!o||a.z<n.z)&&(n.set(a.x,a.y,a.z,l),o=!0);return o?n:null}},60646:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(76112),s=i(92773);e.exports=function(e,t,i){if(void 0===i&&(i=[]),s(e,t))for(var a=t.getLineA(),o=t.getLineB(),l=t.getLineC(),h=t.getLineD(),u=[new n,new n,new n,new n],c=[r(a,e,u[0]),r(o,e,u[1]),r(l,e,u[2]),r(h,e,u[3])],d=0;d<4;d++)c[d]&&i.push(u[d]);return i}},71147:(e,t,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61369),r=i(56362),s=new(i(23031));function a(e,t,i,a,o){var l=Math.cos(e),h=Math.sin(e);s.setTo(t,i,t+l,i+h);var u=r(s,a,!0);u&&o.push(new n(u.x,u.y,e,u.w))}function o(e,t){return e.z-t.z}e.exports=function(e,t,i){Array.isArray(i)||(i=[i]);for(var n=[],r=[],s=0;s<i.length;s++)for(var l=i[s].points,h=0;h<l.length;h++){var u=Math.atan2(l[h].y-t,l[h].x-e);-1===r.indexOf(u)&&(a(u,e,t,i,n),a(u-1e-5,e,t,i,n),a(u+1e-5,e,t,i,n),r.push(u))}return n.sort(o)}},68389:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(59996);e.exports=function(e,t,i){return void 0===i&&(i=new n),r(e,t)&&(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y),i}},52784:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60646),r=i(59996);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s=e.getLineA(),a=e.getLineB(),o=e.getLineC(),l=e.getLineD();n(s,t,i),n(a,t,i),n(o,t,i),n(l,t,i)}return i}},26341:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(89265),r=i(60646);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var s=t.getLineA(),a=t.getLineB(),o=t.getLineC();r(s,e,i),r(a,e,i),r(o,e,i)}return i}},38720:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4042),r=i(67636);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s=e.getLineA(),a=e.getLineB(),o=e.getLineC();n(s,t,i),n(a,t,i),n(o,t,i)}return i}},13882:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(2822),s=i(76112);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t))for(var a=e.getLineA(),o=e.getLineB(),l=e.getLineC(),h=[new n,new n,new n],u=[s(a,t,h[0]),s(o,t,h[1]),s(l,t,h[2])],c=0;c<3;c++)u[c]&&i.push(h[c]);return i}},75636:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82944),r=i(13882);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var s=t.getLineA(),a=t.getLineB(),o=t.getLineC();r(e,s,i),r(e,a,i),r(e,o,i)}return i}},80462:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87902),r=new(i(2141));e.exports=function(e,t,i){if(void 0===i&&(i=r),n(t,e.x1,e.y1))return i.x=e.x1,i.y=e.y1,!0;if(n(t,e.x2,e.y2))return i.x=e.x2,i.y=e.y2,!0;var s=e.x2-e.x1,a=e.y2-e.y1,o=t.x-e.x1,l=t.y-e.y1,h=s*s+a*a,u=s,c=a;if(h>0){var d=(o*s+l*a)/h;u*=d,c*=d}return i.x=e.x1+u,i.y=e.y1+c,u*u+c*c<=h&&u*s+c*a>=0&&n(t,i.x,i.y)}},76112:e=>{e.exports=function(e,t,i){var n=e.x1,r=e.y1,s=e.x2,a=e.y2,o=t.x1,l=t.y1,h=t.x2,u=t.y2;if(n===s&&r===a||o===h&&l===u)return!1;var c=(u-l)*(s-n)-(h-o)*(a-r);if(0===c)return!1;var d=((h-o)*(r-l)-(u-l)*(n-o))/c,f=((s-n)*(r-l)-(a-r)*(n-o))/c;return!(d<0)&&!(d>1)&&!(f<0)&&!(f>1)&&(i&&(i.x=n+d*(s-n),i.y=r+d*(a-r)),!0)}},92773:e=>{e.exports=function(e,t){var i=e.x1,n=e.y1,r=e.x2,s=e.y2,a=t.x,o=t.y,l=t.right,h=t.bottom,u=0;if(i>=a&&i<=l&&n>=o&&n<=h||r>=a&&r<=l&&s>=o&&s<=h)return!0;if(i<a&&r>=a){if((u=n+(s-n)*(a-i)/(r-i))>o&&u<=h)return!0}else if(i>l&&r<=l&&(u=n+(s-n)*(l-i)/(r-i))>=o&&u<=h)return!0;if(n<o&&s>=o){if((u=i+(r-i)*(o-n)/(s-n))>=a&&u<=l)return!0}else if(n>h&&s<=h&&(u=i+(r-i)*(h-n)/(s-n))>=a&&u<=l)return!0;return!1}},16204:e=>{e.exports=function(e,t,i){void 0===i&&(i=1);var n=t.x1,r=t.y1,s=t.x2,a=t.y2,o=e.x,l=e.y,h=(s-n)*(s-n)+(a-r)*(a-r);if(0===h)return!1;var u=((o-n)*(s-n)+(l-r)*(a-r))/h;return u<0?Math.sqrt((n-o)*(n-o)+(r-l)*(r-l))<=i:u>=0&&u<=1?Math.abs(((r-l)*(s-n)-(n-o)*(a-r))/h)*Math.sqrt(h)<=i:Math.sqrt((s-o)*(s-o)+(a-l)*(a-l))<=i}},14199:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16204);e.exports=function(e,t){if(!n(e,t))return!1;var i=Math.min(t.x1,t.x2),r=Math.max(t.x1,t.x2),s=Math.min(t.y1,t.y2),a=Math.max(t.y1,t.y2);return e.x>=i&&e.x<=r&&e.y>=s&&e.y<=a}},59996:e=>{e.exports=function(e,t){return!(e.width<=0)&&!(e.height<=0)&&!(t.width<=0)&&!(t.height<=0)&&!(e.right<t.x||e.bottom<t.y||e.x>t.right||e.y>t.bottom)}},89265:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(76112),r=i(37303),s=i(48653),a=i(77493);e.exports=function(e,t){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),o=t.getLineB(),l=t.getLineC();if(r(e,i.x1,i.y1)||r(e,i.x2,i.y2)||r(e,o.x1,o.y1)||r(e,o.x2,o.y2)||r(e,l.x1,l.y1)||r(e,l.x2,l.y2))return!0;var h=e.getLineA(),u=e.getLineB(),c=e.getLineC(),d=e.getLineD();return!!(n(i,h)||n(i,u)||n(i,c)||n(i,d)||n(o,h)||n(o,u)||n(o,c)||n(o,d)||n(l,h)||n(l,u)||n(l,c)||n(l,d))||s(t,a(e),!0).length>0}},84411:e=>{e.exports=function(e,t,i,n,r,s){return void 0===s&&(s=0),!(t>e.right+s||i<e.left-s||n>e.bottom+s||r<e.top-s)}},67636:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80462),r=i(10690);e.exports=function(e,t){return!(e.left>t.right)&&!(e.right<t.left)&&!(e.top>t.bottom)&&!(e.bottom<t.top)&&!!(r(e,t.x,t.y)||n(e.getLineA(),t)||n(e.getLineB(),t)||n(e.getLineC(),t))}},2822:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(76112);e.exports=function(e,t){return!!(e.contains(t.x1,t.y1)||e.contains(t.x2,t.y2)||n(e.getLineA(),t)||n(e.getLineB(),t)||n(e.getLineC(),t))}},82944:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(48653),r=i(71694),s=i(76112);e.exports=function(e,t){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),a=e.getLineB(),o=e.getLineC(),l=t.getLineA(),h=t.getLineB(),u=t.getLineC();if(s(i,l)||s(i,h)||s(i,u)||s(a,l)||s(a,h)||s(a,u)||s(o,l)||s(o,h)||s(o,u))return!0;var c=r(e),d=n(t,c,!0);return d.length>0||(d=n(e,c=r(t),!0)).length>0}},91865:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:e=>{e.exports=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)}},84993:e=>{e.exports=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=[]);var n=Math.round(e.x1),r=Math.round(e.y1),s=Math.round(e.x2),a=Math.round(e.y2),o=Math.abs(s-n),l=Math.abs(a-r),h=n<s?1:-1,u=r<a?1:-1,c=o-l;i.push({x:n,y:r});for(var d=1;!(n===s&&r===a);){var f=c<<1;f>-l&&(c-=l,n+=h),f<o&&(c+=o,r+=u),d%t==0&&i.push({x:n,y:r}),d++}return i}},36469:e=>{e.exports=function(e,t,i){var n=t-(e.x1+e.x2)/2,r=i-(e.y1+e.y2)/2;return e.x1+=n,e.y1+=r,e.x2+=n,e.y2+=r,e}},31116:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23031);e.exports=function(e){return new n(e.x1,e.y1,e.x2,e.y2)}},59944:e=>{e.exports=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2)}},59220:e=>{e.exports=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2}},78177:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001);e.exports=function(e,t,i){void 0===i&&(i=t);var r=n(e),s=e.x2-e.x1,a=e.y2-e.y1;return t&&(e.x1=e.x1-s/r*t,e.y1=e.y1-a/r*t),i&&(e.x2=e.x2+s/r*i,e.y2=e.y2+a/r*i),e}},26708:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(52816),r=i(6113),s=i(2141);e.exports=function(e,t,i,a,o){void 0===a&&(a=0),void 0===o&&(o=[]);var l,h,u=[],c=e.x1,d=e.y1,f=e.x2-c,p=e.y2-d,m=r(t,o),g=i-1;for(l=0;l<g;l++)h=m(l/g),u.push(new s(c+f*h,d+p*h));if(h=m(1),u.push(new s(c+f*h,d+p*h)),!(a>0))return u;var v=u[0],y=[v];for(l=1;l<u.length-1;l++){var b=u[l];n(v,b)>=a&&(y.push(b),v=b)}var x=u[u.length-1];return n(v,x)<a&&y.pop(),y.push(x),y}},32125:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=(e.x1+e.x2)/2,t.y=(e.y1+e.y2)/2,t}},99569:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){void 0===i&&(i=new n);var r=e.x1,s=e.y1,a=e.x2,o=e.y2,l=(a-r)*(a-r)+(o-s)*(o-s);if(0===l)return i;var h=((t.x-r)*(a-r)+(t.y-s)*(o-s))/l;return i.x=r+h*(a-r),i.y=s+h*(o-s),i}},34638:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(91938),s=i(2141);e.exports=function(e,t){void 0===t&&(t=new s);var i=r(e)-n.TAU;return t.x=Math.cos(i),t.y=Math.sin(i),t}},13151:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){return void 0===i&&(i=new n),i.x=e.x1+(e.x2-e.x1)*t,i.y=e.y1+(e.y2-e.y1)*t,i}},15258:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001),r=i(2141);e.exports=function(e,t,i,s){void 0===s&&(s=[]),!t&&i>0&&(t=n(e)/i);for(var a=e.x1,o=e.y1,l=e.x2,h=e.y2,u=0;u<t;u++){var c=u/t,d=a+(l-a)*c,f=o+(h-o)*c;s.push(new r(d,f))}return s}},26408:e=>{e.exports=function(e,t){var i=e.x1,n=e.y1,r=e.x2,s=e.y2,a=(r-i)*(r-i)+(s-n)*(s-n);return 0!==a&&Math.abs(((n-t.y)*(r-i)-(i-t.x)*(s-n))/a)*Math.sqrt(a)}},98770:e=>{e.exports=function(e){return Math.abs(e.y1-e.y2)}},35001:e=>{e.exports=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))}},23031:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(13151),s=i(15258),a=i(23777),o=i(65822),l=i(26099),h=new n({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.type=a.LINE,this.x1=e,this.y1=t,this.x2=i,this.y2=n},getPoint:function(e,t){return r(this,e,t)},getPoints:function(e,t,i){return s(this,e,t,i)},getRandomPoint:function(e){return o(this,e)},setTo:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x1=e,this.y1=t,this.x2=i,this.y2=n,this},setFromObjects:function(e,t){return this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this},getPointA:function(e){return void 0===e&&(e=new l),e.set(this.x1,this.y1),e},getPointB:function(e){return void 0===e&&(e=new l),e.set(this.x2,this.y2),e},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(e){this.x1<=this.x2?this.x1=e:this.x2=e}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(e){this.x1>this.x2?this.x1=e:this.x2=e}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(e){this.y1<=this.y2?this.y1=e:this.y2=e}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(e){this.y1>this.y2?this.y1=e:this.y2=e}}});e.exports=h},64795:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(15994),s=i(91938);e.exports=function(e){return r(s(e)-n.TAU,-Math.PI,Math.PI)}},52616:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(91938);e.exports=function(e){return Math.cos(r(e)-n.TAU)}},87231:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(91938);e.exports=function(e){return Math.sin(r(e)-n.TAU)}},89662:e=>{e.exports=function(e,t,i){return e.x1+=t,e.y1+=i,e.x2+=t,e.y2+=i,e}},71165:e=>{e.exports=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))}},65822:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){void 0===t&&(t=new n);var i=Math.random();return t.x=e.x1+i*(e.x2-e.x1),t.y=e.y1+i*(e.y2-e.y1),t}},69777:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91938),r=i(64795);e.exports=function(e,t){return 2*r(t)-Math.PI-n(e)}},39706:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(64400);e.exports=function(e,t){var i=(e.x1+e.x2)/2,r=(e.y1+e.y2)/2;return n(e,i,r,t)}},82585:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(64400);e.exports=function(e,t,i){return n(e,t.x,t.y,i)}},64400:e=>{e.exports=function(e,t,i,n){var r=Math.cos(n),s=Math.sin(n),a=e.x1-t,o=e.y1-i;return e.x1=a*r-o*s+t,e.y1=a*s+o*r+i,a=e.x2-t,o=e.y2-i,e.x2=a*r-o*s+t,e.y2=a*s+o*r+i,e}},62377:e=>{e.exports=function(e,t,i,n,r){return e.x1=t,e.y1=i,e.x2=t+Math.cos(n)*r,e.y2=i+Math.sin(n)*r,e}},71366:e=>{e.exports=function(e){return(e.y2-e.y1)/(e.x2-e.x1)}},10809:e=>{e.exports=function(e){return Math.abs(e.x1-e.x2)}},2529:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23031);n.Angle=i(91938),n.BresenhamPoints=i(84993),n.CenterOn=i(36469),n.Clone=i(31116),n.CopyFrom=i(59944),n.Equals=i(59220),n.Extend=i(78177),n.GetEasedPoints=i(26708),n.GetMidPoint=i(32125),n.GetNearestPoint=i(99569),n.GetNormal=i(34638),n.GetPoint=i(13151),n.GetPoints=i(15258),n.GetShortestDistance=i(26408),n.Height=i(98770),n.Length=i(35001),n.NormalAngle=i(64795),n.NormalX=i(52616),n.NormalY=i(87231),n.Offset=i(89662),n.PerpSlope=i(71165),n.Random=i(65822),n.ReflectAngle=i(69777),n.Rotate=i(39706),n.RotateAroundPoint=i(82585),n.RotateAroundXY=i(64400),n.SetToAngle=i(62377),n.Slope=i(71366),n.Width=i(10809),e.exports=n},83997:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(87841),s=i(26099);function a(e,t,i,n){var r=e-i,s=t-n;return Math.sqrt(r*r+s*s)}var o=new n({initialize:function(e,t,i){this.vertex1=e,this.vertex2=t,this.vertex3=i,this.bounds=new r,this._inCenter=new s},getInCenter:function(e){void 0===e&&(e=!0);var t,i,n,r,s,o,l=this.vertex1,h=this.vertex2,u=this.vertex3;e?(t=l.x,i=l.y,n=h.x,r=h.y,s=u.x,o=u.y):(t=l.vx,i=l.vy,n=h.vx,r=h.vy,s=u.vx,o=u.vy);var c=a(s,o,n,r),d=a(t,i,s,o),f=a(n,r,t,i),p=c+d+f;return this._inCenter.set((t*c+n*d+s*f)/p,(i*c+r*d+o*f)/p)},contains:function(e,t,i){var n=this.vertex1,r=this.vertex2,s=this.vertex3,a=n.vx,o=n.vy,l=r.vx,h=r.vy,u=s.vx,c=s.vy;if(i){var d=i.a,f=i.b,p=i.c,m=i.d,g=i.e,v=i.f;a=n.vx*d+n.vy*p+g,o=n.vx*f+n.vy*m+v,l=r.vx*d+r.vy*p+g,h=r.vx*f+r.vy*m+v,u=s.vx*d+s.vy*p+g,c=s.vx*f+s.vy*m+v}var y=u-a,b=c-o,x=l-a,E=h-o,w=e-a,S=t-o,T=y*y+b*b,A=y*x+b*E,_=y*w+b*S,C=x*x+E*E,I=x*w+E*S,P=T*C-A*A,R=0===P?0:1/P,O=(C*_-A*I)*R,M=(T*I-A*_)*R;return O>=0&&M>=0&&O+M<1},isCounterClockwise:function(e){var t=this.vertex1,i=this.vertex2,n=this.vertex3,r=(i.vx-t.vx)*(n.vy-t.vy)-(i.vy-t.vy)*(n.vx-t.vx);return e<=0?r>=0:r<0},load:function(e,t,i,n,r){return i=this.vertex1.load(e,t,i,n,r),i=this.vertex2.load(e,t,i,n,r),i=this.vertex3.load(e,t,i,n,r)},transformCoordinatesLocal:function(e,t,i,n){return this.vertex1.transformCoordinatesLocal(e,t,i,n),this.vertex2.transformCoordinatesLocal(e,t,i,n),this.vertex3.transformCoordinatesLocal(e,t,i,n),this},updateBounds:function(){var e=this.vertex1,t=this.vertex2,i=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,t.vx,i.vx),n.y=Math.min(e.vy,t.vy,i.vy),n.width=Math.max(e.vx,t.vx,i.vx)-n.x,n.height=Math.max(e.vy,t.vy,i.vy)-n.y,this},isInView:function(e,t,i,n,r,s,a,o,l,h,u){this.update(n,r,s,a,o,l,h,u);var c=this.vertex1,d=this.vertex2,f=this.vertex3;if(c.ta<=0&&d.ta<=0&&f.ta<=0||t&&!this.isCounterClockwise(i))return!1;var p=this.bounds;p.x=Math.min(c.tx,d.tx,f.tx),p.y=Math.min(c.ty,d.ty,f.ty),p.width=Math.max(c.tx,d.tx,f.tx)-p.x,p.height=Math.max(c.ty,d.ty,f.ty)-p.y;var m=e.x+e.width,g=e.y+e.height;return!(p.width<=0)&&!(p.height<=0)&&!(e.width<=0)&&!(e.height<=0)&&!(p.right<e.x||p.bottom<e.y||p.x>m||p.y>g)},scrollUV:function(e,t){return this.vertex1.scrollUV(e,t),this.vertex2.scrollUV(e,t),this.vertex3.scrollUV(e,t),this},scaleUV:function(e,t){return this.vertex1.scaleUV(e,t),this.vertex2.scaleUV(e,t),this.vertex3.scaleUV(e,t),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,t,i,n,r,s,a,o){return this.vertex1.update(t,i,n,r,s,a,o,e),this.vertex2.update(t,i,n,r,s,a,o,e),this.vertex3.update(t,i,n,r,s,a,o,e),this},translate:function(e,t){void 0===t&&(t=0);var i=this.vertex1,n=this.vertex2,r=this.vertex3;return i.x+=e,i.y+=t,n.x+=e,n.y+=t,r.x+=e,r.y+=t,this},x:{get:function(){return this.getInCenter().x},set:function(e){var t=this.getInCenter();this.translate(e-t.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var t=this.getInCenter();this.translate(0,e-t.y)}},alpha:{get:function(){var e=this.vertex1,t=this.vertex2,i=this.vertex3;return(e.alpha+t.alpha+i.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,t=this.vertex2,i=this.vertex3;return(e.vz+t.vz+i.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});e.exports=o},48803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83997),r=i(95540),s=i(37867),a=i(25836),o=i(39318),l=new a,h=new a,u=new s;e.exports=function(e){var t,i,s,a=r(e,"mesh"),c=r(e,"texture",null),d=r(e,"frame"),f=r(e,"width",1),p=r(e,"height",f),m=r(e,"widthSegments",1),g=r(e,"heightSegments",m),v=r(e,"x",0),y=r(e,"y",0),b=r(e,"z",0),x=r(e,"rotateX",0),E=r(e,"rotateY",0),w=r(e,"rotateZ",0),S=r(e,"zIsUp",!0),T=r(e,"isOrtho",!!a&&a.dirtyCache[11]),A=r(e,"colors",[0xffffff]),_=r(e,"alphas",[1]),C=r(e,"tile",!1),I=r(e,"flipY",!1),P=r(e,"width",null),R={faces:[],verts:[]};if(l.set(v,y,b),h.set(x,E,w),u.fromRotationXYTranslation(h,l,S),!c&&a)c=a.texture,d||(t=a.frame);else if(a&&"string"==typeof c)c=a.scene.sys.textures.get(c);else if(!c)return R;t||(t=c.get(d)),!P&&T&&c&&a&&(f=t.width/a.height,p=t.height/a.height);var O=f/2,M=p/2,L=Math.floor(m),D=Math.floor(g),k=L+1,N=D+1,F=f/L,B=p/D,U=[],j=[],V=0,G=1,W=0,z=1;t&&(V=t.u0,G=t.u1,I?(W=t.v1,z=t.v0):(W=t.v0,z=t.v1));var Y=G-V,H=z-W;for(s=0;s<N;s++){var X=s*B-M;for(i=0;i<k;i++){var q=i*F-O;j.push(q,-X);var K=V+i/L*Y,$=W+s/D*H;U.push(K,$)}}Array.isArray(A)||(A=[A]),Array.isArray(_)||(_=[_]);var Q=0,J=0;for(s=0;s<D;s++)for(i=0;i<L;i++){var Z=(i+k*s)*2,ee=(i+k*(s+1))*2,et=(i+1+k*(s+1))*2,ei=(i+1+k*s)*2,en=A[J],er=_[Q],es=new o(j[Z],j[Z+1],0,U[Z],U[Z+1],en,er).transformMat4(u),ea=new o(j[ee],j[ee+1],0,U[ee],U[ee+1],en,er).transformMat4(u),eo=new o(j[ei],j[ei+1],0,U[ei],U[ei+1],en,er).transformMat4(u),el=new o(j[ee],j[ee+1],0,U[ee],U[ee+1],en,er).transformMat4(u),eh=new o(j[et],j[et+1],0,U[et],U[et+1],en,er).transformMat4(u),eu=new o(j[ei],j[ei+1],0,U[ei],U[ei+1],en,er).transformMat4(u);C&&(es.setUVs(V,z),ea.setUVs(V,W),eo.setUVs(G,z),el.setUVs(V,W),eh.setUVs(G,W),eu.setUVs(G,z)),++J===A.length&&(J=0),++Q===_.length&&(Q=0),R.verts.push(es,ea,eo,el,eh,eu),R.faces.push(new n(es,ea,eo),new n(el,eh,eu))}return a&&(a.faces=a.faces.concat(R.faces),a.vertices=a.vertices.concat(R.verts)),R}},34684:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83997),r=i(37867),s=i(25836),a=i(39318),o=new s,l=new s,h=new r;e.exports=function(e,t,i,r,s,u,c,d,f,p){void 0===i&&(i=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===u&&(u=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===f&&(f=0),void 0===p&&(p=!0);var m={faces:[],verts:[]},g=e.materials;o.set(r,s,u),l.set(c,d,f),h.fromRotationXYTranslation(l,o,p);for(var v=0;v<e.models.length;v++)for(var y=e.models[v],b=y.vertices,x=y.textureCoords,E=y.faces,w=0;w<E.length;w++){var S=E[w],T=S.vertices[0],A=S.vertices[1],_=S.vertices[2],C=b[T.vertexIndex],I=b[A.vertexIndex],P=b[_.vertexIndex],R=T.textureCoordsIndex,O=A.textureCoordsIndex,M=_.textureCoordsIndex,L=-1===R?{u:0,v:1}:x[R],D=-1===O?{u:0,v:0}:x[O],k=-1===M?{u:1,v:1}:x[M],N=0xffffff;""!==S.material&&g[S.material]&&(N=g[S.material]);var F=new a(C.x*i,C.y*i,C.z*i,L.u,L.v,N).transformMat4(h),B=new a(I.x*i,I.y*i,I.z*i,D.u,D.v,N).transformMat4(h),U=new a(P.x*i,P.y*i,P.z*i,k.u,k.v,N).transformMat4(h);m.verts.push(F,B,U),m.faces.push(new n(F,B,U))}return t&&(t.faces=t.faces.concat(m.faces),t.vertices=t.vertices.concat(m.verts)),m}},92515:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83997),r=i(39318);e.exports=function(e,t,i,s,a,o,l,h){if(void 0===s&&(s=!1),void 0===o&&(o=0xffffff),void 0===l&&(l=1),void 0===h&&(h=!1),e.length!==t.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u,c,d,f,p,m,g,v,y,b,x,E={faces:[],vertices:[]},w=s?3:2,S=Array.isArray(o),T=Array.isArray(l);if(Array.isArray(i)&&i.length>0)for(u=0;u<i.length;u++){var A=i[u],_=2*i[u],C=i[u]*w;c=e[C],d=e[C+1],f=s?e[C+2]:0,p=t[_],m=t[_+1],h&&(m=1-m),g=S?o[A]:o,v=T?l[A]:l,y=0,b=0,x=0,a&&(y=a[C],b=a[C+1],x=s?a[C+2]:0),E.vertices.push(new r(c,d,f,p,m,g,v,y,b,x))}else{var I=0,P=0;for(u=0;u<e.length;u+=w)c=e[u],d=e[u+1],f=s?e[u+2]:0,p=t[I],m=t[I+1],g=S?o[P]:o,v=T?l[P]:l,y=0,b=0,x=0,a&&(y=a[u],b=a[u+1],x=s?a[u+2]:0),E.vertices.push(new r(c,d,f,p,m,g,v,y,b,x)),I+=2,P++}for(u=0;u<E.vertices.length;u+=3){var R=E.vertices[u],O=E.vertices[u+1],M=E.vertices[u+2];E.faces.push(new n(R,O,M))}return E}},85048:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=!0,i="untitled",n="",r="";function s(e){return 0===e.models.length&&e.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),n="",e.models[e.models.length-1]}e.exports=function(e,a){void 0===a&&(a=!0),t=a;var o={materials:{},materialLibraries:[],models:[]};n="",r="";for(var l=e.split("\n"),h=0;h<l.length;h++){var u=(function(e){var t=e.indexOf("#");return t>-1?e.substring(0,t):e})(l[h]).replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"o":!function(e,t){var r=e.length>=2?e[1]:i;t.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),n=""}(u,o);break;case"g":2===u.length&&(n=u[1]);break;case"v":!function(e,t){var i=e.length,n=i>=2?parseFloat(e[1]):0,r=i>=3?parseFloat(e[2]):0,a=i>=4?parseFloat(e[3]):0;s(t).vertices.push({x:n,y:r,z:a})}(u,o);break;case"vt":!function(e,i){var n=e.length,r=n>=2?parseFloat(e[1]):0,a=n>=3?parseFloat(e[2]):0,o=n>=4?parseFloat(e[3]):0;isNaN(r)&&(r=0),isNaN(a)&&(a=0),isNaN(o)&&(o=0),t&&(a=1-a),s(i).textureCoords.push({u:r,v:a,w:o})}(u,o);break;case"vn":!function(e,t){var i=e.length,n=i>=2?parseFloat(e[1]):0,r=i>=3?parseFloat(e[2]):0,a=i>=4?parseFloat(e[3]):0;s(t).vertexNormals.push({x:n,y:r,z:a})}(u,o);break;case"f":!function(e,t){var i=e.length-1;if(!(i<3)){for(var a={group:n,material:r,vertices:[]},o=0;o<i;o++){var l=e[o+1].split("/"),h=l.length;if(!(h<1)&&!(h>3)){var u=0,c=0,d=0;u=parseInt(l[0],10),h>1&&""!==l[1]&&(c=parseInt(l[1],10)),h>2&&(d=parseInt(l[2],10)),0!==u&&(u<0&&(u=s(t).vertices.length+1+u),c-=1,u-=1,d-=1,a.vertices.push({textureCoordsIndex:c,vertexIndex:u,vertexNormalIndex:d}))}}s(t).faces.push(a)}}(u,o);break;case"mtllib":u.length>=2&&o.materialLibraries.push(u[1]);break;case"usemtl":u.length>=2&&(r=u[1])}}return o}},61485:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37589);e.exports=function(e){for(var t={},i=e.split("\n"),r="",s=0;s<i.length;s++){var a=i[s].trim();if(0!==a.indexOf("#")&&""!==a){var o=a.replace(/\s\s+/g," ").trim().split(" ");switch(o[0].toLowerCase()){case"newmtl":r=o[1];break;case"kd":var l=Math.floor(255*o[1]),h=o.length>=2?Math.floor(255*o[2]):l,u=o.length>=3?Math.floor(255*o[3]):l;t[r]=n(l,h,u)}}}return t}},92570:e=>{e.exports=function(e,t,i,n){if(void 0===i&&void 0===n){var r,s,a=e.getInCenter();r=a.x,s=a.y}var o=Math.cos(t),l=Math.sin(t),h=e.vertex1,u=e.vertex2,c=e.vertex3,d=h.x-r,f=h.y-s;h.set(d*o-f*l+r,d*l+f*o+s),d=u.x-r,f=u.y-s,u.set(d*o-f*l+r,d*l+f*o+s),d=c.x-r,f=c.y-s,c.set(d*o-f*l+r,d*l+f*o+s)}},39318:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(70554),s=i(25836),a=new n({Extends:s,initialize:function(e,t,i,n,r,a,o,l,h,u){void 0===a&&(a=0xffffff),void 0===o&&(o=1),void 0===l&&(l=0),void 0===h&&(h=0),void 0===u&&(u=0),s.call(this,e,t,i),this.vx=0,this.vy=0,this.vz=0,this.nx=l,this.ny=h,this.nz=u,this.u=n,this.v=r,this.color=a,this.alpha=o,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=r},setUVs:function(e,t){return this.u=e,this.v=t,this.tu=e,this.tv=t,this},scrollUV:function(e,t){return this.tu+=e,this.tv+=t,this},scaleUV:function(e,t){return this.tu=this.u*e,this.tv=this.v*t,this},transformCoordinatesLocal:function(e,t,i,n){var r=this.x,s=this.y,a=this.z,o=e.val,l=r*o[0]+s*o[4]+a*o[8]+o[12],h=r*o[1]+s*o[5]+a*o[9]+o[13],u=r*o[2]+s*o[6]+a*o[10]+o[14],c=r*o[3]+s*o[7]+a*o[11]+o[15];this.vx=l/c*t,this.vy=-(h/c)*i,n<=0?this.vz=u/c:this.vz=-(u/c)},resize:function(e,t,i,n,r,s){return this.x=e,this.y=t,this.vx=this.x*i,this.vy=-this.y*n,this.vz=0,r<.5?this.vx+=i*(.5-r):r>.5&&(this.vx-=i*(r-.5)),s<.5?this.vy+=n*(.5-s):s>.5&&(this.vy-=n*(s-.5)),this},update:function(e,t,i,n,r,s,a,o){var l=this.vx*e+this.vy*i+r,h=this.vx*t+this.vy*n+s;return a&&(l=Math.round(l),h=Math.round(h)),this.tx=l,this.ty=h,this.ta=this.alpha*o,this},load:function(e,t,i,n,s){return e[++i]=this.tx,e[++i]=this.ty,e[++i]=this.tu,e[++i]=this.tv,e[++i]=n,e[++i]=s,t[++i]=r.getTintAppendFloatAlpha(this.color,this.ta),i}});e.exports=a},73090:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};e.exports=n},96550:e=>{e.exports=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))}},99706:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e){return new n(e.x,e.y)}},68010:e=>{e.exports=function(e,t){return t.setTo(e.x,e.y)}},27814:e=>{e.exports=function(e,t){return e.x===t.x&&e.y===t.y}},73565:e=>{e.exports=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))}},87555:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){if(void 0===t&&(t=new n),!Array.isArray(e))throw Error("GetCentroid points argument must be an array");var i=e.length;if(i<1)throw Error("GetCentroid points array must not be empty");if(1===i)t.x=e[0].x,t.y=e[0].y;else{for(var r=0;r<i;r++)t.x+=e[r].x,t.y+=e[r].y;t.x/=i,t.y/=i}return t}},28793:e=>{e.exports=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},44405:e=>{e.exports=function(e){return e.x*e.x+e.y*e.y}},20873:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t){void 0===t&&(t=new n);for(var i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=0;o<e.length;o++){var l=e[o];l.x>i&&(i=l.x),l.x<r&&(r=l.x),l.y>s&&(s=l.y),l.y<a&&(a=l.y)}return t.x=r,t.y=a,t.width=i-r,t.height=s-a,t}},26152:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i,r){return void 0===i&&(i=0),void 0===r&&(r=new n),r.x=e.x+(t.x-e.x)*i,r.y=e.y+(t.y-e.y)*i,r}},55767:e=>{e.exports=function(e){return e.setTo(e.y,e.x)}},79432:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.setTo(-e.x,-e.y)}},2141:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23777),s=new n({initialize:function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.type=r.POINT,this.x=e,this.y=t},setTo:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this}});e.exports=s},72930:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(44405);e.exports=function(e,t,i){void 0===i&&(i=new n);var s=(e.x*t.x+e.y*t.y)/r(t);return 0!==s&&(i.x=s*t.x,i.y=s*t.y),i}},62880:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){void 0===i&&(i=new n);var r=e.x*t.x+e.y*t.y;return 0!==r&&(i.x=r*t.x,i.y=r*t.y),i}},15093:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28793);e.exports=function(e,t){if(0!==e.x||0!==e.y){var i=n(e);e.x/=i,e.y/=i}return e.x*=t,e.y*=t,e}},43711:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);n.Ceil=i(96550),n.Clone=i(99706),n.CopyFrom=i(68010),n.Equals=i(27814),n.Floor=i(73565),n.GetCentroid=i(87555),n.GetMagnitude=i(28793),n.GetMagnitudeSq=i(44405),n.GetRectangleFromPoints=i(20873),n.Interpolate=i(26152),n.Invert=i(55767),n.Negative=i(79432),n.Project=i(72930),n.ProjectUnit=i(62880),n.SetMagnitude=i(15093),e.exports=n},12306:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25717);e.exports=function(e){return new n(e.points)}},63814:e=>{e.exports=function(e,t,i){for(var n=!1,r=-1,s=e.points.length-1;++r<e.points.length;s=r){var a=e.points[r].x,o=e.points[r].y,l=e.points[s].x,h=e.points[s].y;(o<=i&&i<h||h<=i&&i<o)&&t<(l-a)*(i-o)/(h-o)+a&&(n=!n)}return n}},99338:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(63814);e.exports=function(e,t){return n(e,t.x,t.y)}},94811:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e,t,u){u=u||2;var c,p,g,v,y,b,x,E=t&&t.length,w=E?t[0]*u:e.length,S=i(e,0,w,u,!0),T=[];if(!S||S.next===S.prev)return T;if(E&&(S=function(e,t,s,l){var h,u,c,p,m,g=[];for(h=0,u=t.length;h<u;h++)c=t[h]*l,p=h<u-1?t[h+1]*l:e.length,(m=i(e,c,p,l,!1))===m.next&&(m.steiner=!0),g.push(function(e){var t=e,i=e;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==e)return i}(m));for(g.sort(r),h=0;h<g.length;h++)s=function(e,t){var i=function(e,t){var i,n,r,s=t,l=e.x,h=e.y,u=-1/0;do{if(h<=s.y&&h>=s.next.y&&s.next.y!==s.y){var c=s.x+(h-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(c<=l&&c>u&&(u=c,r=s.x<s.next.x?s:s.next,c===l))return r}s=s.next}while(s!==t)if(!r)return null;var f,p=r,m=r.x,g=r.y,v=1/0;s=r;do l>=s.x&&s.x>=m&&l!==s.x&&a(h<g?l:u,h,m,g,h<g?u:l,h,s.x,s.y)&&(f=Math.abs(h-s.y)/(l-s.x),d(s,e)&&(f<v||f===v&&(s.x>r.x||s.x===r.x&&(i=r,n=s,0>o(i.prev,i,n.prev)&&0>o(n.next,i,i.next))))&&(r=s,v=f)),s=s.next;while(s!==p)return r}(e,t);if(!i)return t;var r=f(i,e);return n(r,r.next),n(i,i.next)}(g[h],s);return s}(e,t,S,u)),e.length>80*u){c=g=e[0],p=v=e[1];for(var A=u;A<w;A+=u)y=e[A],b=e[A+1],y<c&&(c=y),b<p&&(p=b),y>g&&(g=y),b>v&&(v=b);x=0!==(x=Math.max(g-c,v-p))?32767/x:0}return function e(t,i,r,u,c,p,g){if(t){!g&&p&&function(e,t,i,n){var r=e;do 0===r.z&&(r.z=s(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e)r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,i,n,r,s,a,o,l,h=1;do{for(i=e,e=null,s=null,a=0;i;){for(a++,n=i,o=0,t=0;t<h&&(o++,n=n.nextZ);t++);for(l=h;o>0||l>0&&n;)0!==o&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,o--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;i=n}s.nextZ=null,h*=2}while(a>1)}(r)}(t,u,c,p);for(var v,y,b=t;t.prev!==t.next;){if(v=t.prev,y=t.next,p?function(e,t,i,n){var r=e.prev,l=e.next;if(o(r,e,l)>=0)return!1;for(var h=r.x,u=e.x,c=l.x,d=r.y,f=e.y,p=l.y,m=h<u?h<c?h:c:u<c?u:c,g=d<f?d<p?d:p:f<p?f:p,v=h>u?h>c?h:c:u>c?u:c,y=d>f?d>p?d:p:f>p?f:p,b=s(m,g,t,i,n),x=s(v,y,t,i,n),E=e.prevZ,w=e.nextZ;E&&E.z>=b&&w&&w.z<=x;){if(E.x>=m&&E.x<=v&&E.y>=g&&E.y<=y&&E!==r&&E!==l&&a(h,d,u,f,c,p,E.x,E.y)&&o(E.prev,E,E.next)>=0||(E=E.prevZ,w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==r&&w!==l&&a(h,d,u,f,c,p,w.x,w.y)&&o(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;E&&E.z>=b;){if(E.x>=m&&E.x<=v&&E.y>=g&&E.y<=y&&E!==r&&E!==l&&a(h,d,u,f,c,p,E.x,E.y)&&o(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;w&&w.z<=x;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==r&&w!==l&&a(h,d,u,f,c,p,w.x,w.y)&&o(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}(t,u,c,p):function(e){var t=e.prev,i=e.next;if(o(t,e,i)>=0)return!1;for(var n=t.x,r=e.x,s=i.x,l=t.y,h=e.y,u=i.y,c=n<r?n<s?n:s:r<s?r:s,d=l<h?l<u?l:u:h<u?h:u,f=n>r?n>s?n:s:r>s?r:s,p=l>h?l>u?l:u:h>u?h:u,m=i.next;m!==t;){if(m.x>=c&&m.x<=f&&m.y>=d&&m.y<=p&&a(n,l,r,h,s,u,m.x,m.y)&&o(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}(t)){i.push(v.i/r|0),i.push(t.i/r|0),i.push(y.i/r|0),m(t),t=y.next,b=y.next;continue}if((t=y)===b){g?1===g?e(t=function(e,t,i){var r=e;do{var s=r.prev,a=r.next.next;!l(s,a)&&h(s,r,r.next,a)&&d(s,a)&&d(a,s)&&(t.push(s.i/i|0),t.push(r.i/i|0),t.push(a.i/i|0),m(r),m(r.next),r=e=a),r=r.next}while(r!==e)return n(r)}(n(t),i,r),i,r,u,c,p,2):2===g&&function(t,i,r,s,a,u){var c=t;do{for(var p,m,g=c.next.next;g!==c.prev;){if(c.i!==g.i&&(p=c,m=g,p.next.i!==m.i&&p.prev.i!==m.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&h(i,i.next,e,t))return!0;i=i.next}while(i!==e)return!1}(p,m)&&(d(p,m)&&d(m,p)&&function(e,t){var i=e,n=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==e)return n}(p,m)&&(o(p.prev,p,m.prev)||o(p,m.prev,m))||l(p,m)&&o(p.prev,p,p.next)>0&&o(m.prev,m,m.next)>0))){var v=f(c,g);c=n(c,c.next),v=n(v,v.next),e(c,i,r,s,a,u,0),e(v,i,r,s,a,u,0);return}g=g.next}c=c.next}while(c!==t)}(t,i,r,u,c,p):e(n(t),i,r,u,c,p,1);break}}}}(S,T,u,c,p,x,0),T}function i(e,t,i,n,r){var s,a;if(r===v(e,t,i,n)>0)for(s=t;s<i;s+=n)a=p(s,e[s],e[s+1],a);else for(s=i-n;s>=t;s-=n)a=p(s,e[s],e[s+1],a);return a&&l(a,a.next)&&(m(a),a=a.next),a}function n(e,t){if(!e)return e;t||(t=e);var i,n=e;do if(i=!1,!n.steiner&&(l(n,n.next)||0===o(n.prev,n,n.next))){if(m(n),(n=t=n.prev)===n.next)break;i=!0}else n=n.next;while(i||n!==t)return t}function r(e,t){return e.x-t.x}function s(e,t,i,n,r){return(e=((e=((e=((e=((e=(e-i)*r|0)|e<<8)&0xff00ff)|e<<4)&0xf0f0f0f)|e<<2)&0x33333333)|e<<1)&0x55555555)|(t=((t=((t=((t=((t=(t-n)*r|0)|t<<8)&0xff00ff)|t<<4)&0xf0f0f0f)|t<<2)&0x33333333)|t<<1)&0x55555555)<<1}function a(e,t,i,n,r,s,a,o){return(r-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(n-o)>=(i-a)*(t-o)&&(i-a)*(s-o)>=(r-a)*(n-o)}function o(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function l(e,t){return e.x===t.x&&e.y===t.y}function h(e,t,i,n){var r=c(o(e,t,i)),s=c(o(e,t,n)),a=c(o(i,n,e)),l=c(o(i,n,t));return!!(r!==s&&a!==l||0===r&&u(e,i,t)||0===s&&u(e,n,t)||0===a&&u(i,e,n)||0===l&&u(i,t,n))}function u(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function c(e){return e>0?1:e<0?-1:0}function d(e,t){return 0>o(e.prev,e,e.next)?o(e,t,e.next)>=0&&o(e,e.prev,t)>=0:0>o(e,t,e.prev)||0>o(e,e.next,t)}function f(e,t){var i=new g(e.i,e.x,e.y),n=new g(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function p(e,t,i,n){var r=new g(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function m(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function g(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function v(e,t,i,n){for(var r=0,s=t,a=i-n;s<i;s+=n)r+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return r}t.deviation=function(e,t,i,n){var r=t&&t.length,s=r?t[0]*i:e.length,a=Math.abs(v(e,0,s,i));if(r)for(var o=0,l=t.length;o<l;o++){var h=t[o]*i,u=o<l-1?t[o+1]*i:e.length;a-=Math.abs(v(e,h,u,i))}var c=0;for(o=0;o<n.length;o+=3){var d=n[o]*i,f=n[o+1]*i,p=n[o+2]*i;c+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,r=0;r<e.length;r++){for(var s=0;s<e[r].length;s++)for(var a=0;a<t;a++)i.vertices.push(e[r][s][a]);r>0&&(n+=e[r-1].length,i.holes.push(n))}return i},e.exports=t},13829:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t){void 0===t&&(t=new n);for(var i,r=1/0,s=1/0,a=-1/0,o=-1/0,l=0;l<e.points.length;l++)r=Math.min(r,(i=e.points[l]).x),s=Math.min(s,i.y),a=Math.max(a,i.x),o=Math.max(o,i.y);return t.x=r,t.y=s,t.width=a-r,t.height=o-s,t}},26173:e=>{e.exports=function(e,t){void 0===t&&(t=[]);for(var i=0;i<e.points.length;i++)t.push(e.points[i].x),t.push(e.points[i].y);return t}},9564:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001),r=i(23031),s=i(30052);e.exports=function(e,t,i,a){void 0===a&&(a=[]);var o=e.points,l=s(e);!t&&i>0&&(t=l/i);for(var h=0;h<t;h++)for(var u=h/t*l,c=0,d=0;d<o.length;d++){var f=o[d],p=o[(d+1)%o.length],m=new r(f.x,f.y,p.x,p.y),g=n(m);if(u<c||u>c+g){c+=g;continue}var v=m.getPoint((u-c)/g);a.push(v);break}return a}},30052:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001),r=i(23031);e.exports=function(e){for(var t=e.points,i=0,s=0;s<t.length;s++){var a=t[s],o=t[(s+1)%t.length];i+=n(new r(a.x,a.y,o.x,o.y))}return i}},25717:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(63814),s=i(9564),a=i(23777),o=new n({initialize:function(e){this.type=a.POLYGON,this.area=0,this.points=[],e&&this.setTo(e)},contains:function(e,t){return r(this,e,t)},setTo:function(e){if(this.area=0,this.points=[],"string"==typeof e&&(e=e.split(" ")),!Array.isArray(e))return this;for(var t,i=0;i<e.length;i++)t={x:0,y:0},"number"==typeof e[i]||"string"==typeof e[i]?(t.x=parseFloat(e[i]),t.y=parseFloat(e[i+1]),i++):Array.isArray(e[i])?(t.x=e[i][0],t.y=e[i][1]):(t.x=e[i].x,t.y=e[i].y),this.points.push(t);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e,t,i=0,n=0;n<this.points.length-1;n++)e=this.points[n],i+=((t=this.points[n+1]).x-e.x)*(e.y+t.y);return e=this.points[0],t=this.points[this.points.length-1],i+=(e.x-t.x)*(t.y+e.y),this.area=-(.5*i),this.area},getPoints:function(e,t,i){return s(this,e,t,i)}});e.exports=o},8133:e=>{e.exports=function(e){return e.points.reverse(),e}},29524:e=>{e.exports=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=!1);var n=e.points;if(n.length>2){var r,s,a,o=t*t;i||(n=function(e,t){for(var i,n=e[0],r=[n],s=1,a=e.length;s<a;s++)(function(e,t){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n})(i=e[s],n)>t&&(r.push(i),n=i);return n!==i&&r.push(i),r}(n,o)),e.setTo((s=(r=n).length-1,a=[r[0]],function e(t,i,n,r,s){for(var a,o=r,l=i+1;l<n;l++){var h=function(e,t,i){var n=t.x,r=t.y,s=i.x-n,a=i.y-r;if(0!==s||0!==a){var o=((e.x-n)*s+(e.y-r)*a)/(s*s+a*a);o>1?(n=i.x,r=i.y):o>0&&(n+=s*o,r+=a*o)}return(s=e.x-n)*s+(a=e.y-r)*a}(t[l],t[i],t[n]);h>o&&(a=l,o=h)}o>r&&(a-i>1&&e(t,i,a,r,s),s.push(t[a]),n-a>1&&e(t,a,n,r,s))}(r,0,s,o,a),a.push(r[s]),a))}return e}},5469:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,t){return e[0]=t[0],e[1]=t[1],e};e.exports=function(e){var i,n=[],r=e.points;for(i=0;i<r.length;i++)n.push([r[i].x,r[i].y]);var s=[];for(n.length>0&&s.push(t([0,0],n[0])),i=0;i<n.length-1;i++){var a=n[i],o=n[i+1],l=a[0],h=a[1],u=o[0],c=o[1];s.push([.85*l+.15*u,.85*h+.15*c]),s.push([.15*l+.85*u,.15*h+.85*c])}return n.length>1&&s.push(t([0,0],n[n.length-1])),e.setTo(s)}},24709:e=>{e.exports=function(e,t,i){for(var n=e.points,r=0;r<n.length;r++)n[r].x+=t,n[r].y+=i;return e}},58423:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25717);n.Clone=i(12306),n.Contains=i(63814),n.ContainsPoint=i(99338),n.Earcut=i(94811),n.GetAABB=i(13829),n.GetNumberArray=i(26173),n.GetPoints=i(9564),n.Perimeter=i(30052),n.Reverse=i(8133),n.Simplify=i(29524),n.Smooth=i(5469),n.Translate=i(24709),e.exports=n},62224:e=>{e.exports=function(e){return e.width*e.height}},98615:e=>{e.exports=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e}},31688:e=>{e.exports=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e}},67502:e=>{e.exports=function(e,t,i){return e.x=t-e.width/2,e.y=i-e.height/2,e}},65085:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e){return new n(e.x,e.y,e.width,e.height)}},37303:e=>{e.exports=function(e,t,i){return!(e.width<=0)&&!(e.height<=0)&&e.x<=t&&e.x+e.width>=t&&e.y<=i&&e.y+e.height>=i}},96553:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37303);e.exports=function(e,t){return n(e,t.x,t.y)}},70273:e=>{e.exports=function(e,t){return!(t.width*t.height>e.width*e.height)&&t.x>e.x&&t.x<e.right&&t.right>e.x&&t.right<e.right&&t.y>e.y&&t.y<e.bottom&&t.bottom>e.y&&t.bottom<e.bottom}},43459:e=>{e.exports=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)}},77493:e=>{e.exports=function(e,t){return void 0===t&&(t=[]),t.push({x:e.x,y:e.y}),t.push({x:e.right,y:e.y}),t.push({x:e.right,y:e.bottom}),t.push({x:e.x,y:e.bottom}),t}},9219:e=>{e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}},53751:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8249);e.exports=function(e,t){var i=n(e);return i<n(t)?e.setSize(t.height*i,t.height):e.setSize(t.width,t.width/i),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)}},16088:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8249);e.exports=function(e,t){var i=n(e);return i>n(t)?e.setSize(t.height*i,t.height):e.setSize(t.width,t.width/i),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)}},80774:e=>{e.exports=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e}},83859:e=>{e.exports=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e}},19217:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(36383);e.exports=function(e,t){if(void 0===t&&(t=new n),0===e.length)return t;for(var i,s,a,o=Number.MAX_VALUE,l=Number.MAX_VALUE,h=r.MIN_SAFE_INTEGER,u=r.MIN_SAFE_INTEGER,c=0;c<e.length;c++)Array.isArray(i=e[c])?(s=i[0],a=i[1]):(s=i.x,a=i.y),o=Math.min(o,s),l=Math.min(l,a),h=Math.max(h,s),u=Math.max(u,a);return t.x=o,t.y=l,t.width=h-o,t.height=u-l,t}},9477:(e,t,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t,i,r,s){return void 0===s&&(s=new n),s.setTo(Math.min(e,i),Math.min(t,r),Math.abs(e-i),Math.abs(t-r))}},8249:e=>{e.exports=function(e){return 0===e.height?NaN:e.width/e.height}},27165:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.centerX,t.y=e.centerY,t}},20812:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13019),r=i(2141);e.exports=function(e,t,i){if(void 0===i&&(i=new r),t<=0||t>=1)return i.x=e.x,i.y=e.y,i;var s=n(e)*t;return t>.5?(s-=e.width+e.height)<=e.width?(i.x=e.right-s,i.y=e.bottom):(i.x=e.x,i.y=e.bottom-(s-e.width)):s<=e.width?(i.x=e.x+s,i.y=e.y):(i.x=e.right,i.y=e.y+(s-e.width)),i}},34819:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20812),r=i(13019);e.exports=function(e,t,i,s){void 0===s&&(s=[]),!t&&i>0&&(t=r(e)/i);for(var a=0;a<t;a++){var o=a/t;s.push(n(e,o))}return s}},51313:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.width,t.y=e.height,t}},86091:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(67502);e.exports=function(e,t,i){var r=e.centerX,s=e.centerY;return e.setSize(e.width+2*t,e.height+2*i),n(e,r,s)}},53951:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(59996);e.exports=function(e,t,i){return void 0===i&&(i=new n),r(e,t)?(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y):i.setEmpty(),i}},14649:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13019),r=i(2141);e.exports=function(e,t,i,s){if(void 0===s&&(s=[]),!t&&!i)return s;t?i=Math.round(n(e)/t):t=n(e)/i;for(var a=e.x,o=e.y,l=0,h=0;h<i;h++)switch(s.push(new r(a,o)),l){case 0:(a+=t)>=e.right&&(l=1,o+=a-e.right,a=e.right);break;case 1:(o+=t)>=e.bottom&&(l=2,a-=o-e.bottom,o=e.bottom);break;case 2:(a-=t)<=e.left&&(l=3,o-=e.left-a,a=e.left);break;case 3:(o-=t)<=e.top&&(l=0,o=e.top)}return s}},33595:e=>{e.exports=function(e,t){for(var i=e.x,n=e.right,r=e.y,s=e.bottom,a=0;a<t.length;a++)i=Math.min(i,t[a].x),n=Math.max(n,t[a].x),r=Math.min(r,t[a].y),s=Math.max(s,t[a].y);return e.x=i,e.y=r,e.width=n-i,e.height=s-r,e}},20074:e=>{e.exports=function(e,t){var i=Math.min(e.x,t.x),n=Math.max(e.right,t.right);e.x=i,e.width=n-i;var r=Math.min(e.y,t.y),s=Math.max(e.bottom,t.bottom);return e.y=r,e.height=s-r,e}},92171:e=>{e.exports=function(e,t,i){var n=Math.min(e.x,t),r=Math.max(e.right,t);e.x=n,e.width=r-n;var s=Math.min(e.y,i),a=Math.max(e.bottom,i);return e.y=s,e.height=a-s,e}},42981:e=>{e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},46907:e=>{e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},60170:e=>{e.exports=function(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}},13019:e=>{e.exports=function(e){return 2*(e.width+e.height)}},85133:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(39506);e.exports=function(e,t,i){void 0===i&&(i=new n);var s=Math.sin(t=r(t)),a=Math.cos(t),o=a>0?e.width/2:-(e.width/2),l=s>0?e.height/2:-(e.height/2);return Math.abs(o*s)<Math.abs(l*a)?l=o*s/a:o=l*a/s,i.x=o+e.centerX,i.y=l+e.centerY,i}},26597:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.x+Math.random()*e.width,t.y=e.y+Math.random()*e.height,t}},86470:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30976),r=i(70273),s=i(2141);e.exports=function(e,t,i){if(void 0===i&&(i=new s),r(e,t))switch(n(0,3)){case 0:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.y+Math.random()*(t.top-e.y);break;case 1:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.bottom+Math.random()*(e.bottom-t.bottom);break;case 2:i.x=e.x+Math.random()*(t.x-e.x),i.y=t.y+Math.random()*(e.bottom-t.y);break;case 3:i.x=t.right+Math.random()*(e.right-t.right),i.y=e.y+Math.random()*(t.bottom-e.y)}return i}},87841:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37303),s=i(20812),a=i(34819),o=i(23777),l=i(23031),h=i(26597),u=new n({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.type=o.RECTANGLE,this.x=e,this.y=t,this.width=i,this.height=n},contains:function(e,t){return r(this,e,t)},getPoint:function(e,t){return s(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return h(this,e)},setTo:function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(e){return void 0===e&&(e=new l),e.setTo(this.x,this.y,this.right,this.y),e},getLineB:function(e){return void 0===e&&(e=new l),e.setTo(this.right,this.y,this.right,this.bottom),e},getLineC:function(e){return void 0===e&&(e=new l),e.setTo(this.right,this.bottom,this.x,this.bottom),e},getLineD:function(e){return void 0===e&&(e=new l),e.setTo(this.x,this.bottom,this.x,this.y),e},left:{get:function(){return this.x},set:function(e){e>=this.right?this.width=0:this.width=this.right-e,this.x=e}},right:{get:function(){return this.x+this.width},set:function(e){e<=this.x?this.width=0:this.width=e-this.x}},top:{get:function(){return this.y},set:function(e){e>=this.bottom?this.height=0:this.height=this.bottom-e,this.y=e}},bottom:{get:function(){return this.y+this.height},set:function(e){e<=this.y?this.height=0:this.height=e-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});e.exports=u},94845:e=>{e.exports=function(e,t){return e.width===t.width&&e.height===t.height}},31730:e=>{e.exports=function(e,t,i){return void 0===i&&(i=t),e.width*=t,e.height*=i,e}},36899:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t,i){void 0===i&&(i=new n);var r=Math.min(e.x,t.x),s=Math.min(e.y,t.y),a=Math.max(e.right,t.right)-r,o=Math.max(e.bottom,t.bottom)-s;return i.setTo(r,s,a,o)}},93232:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);n.Area=i(62224),n.Ceil=i(98615),n.CeilAll=i(31688),n.CenterOn=i(67502),n.Clone=i(65085),n.Contains=i(37303),n.ContainsPoint=i(96553),n.ContainsRect=i(70273),n.CopyFrom=i(43459),n.Decompose=i(77493),n.Equals=i(9219),n.FitInside=i(53751),n.FitOutside=i(16088),n.Floor=i(80774),n.FloorAll=i(83859),n.FromPoints=i(19217),n.FromXY=i(9477),n.GetAspectRatio=i(8249),n.GetCenter=i(27165),n.GetPoint=i(20812),n.GetPoints=i(34819),n.GetSize=i(51313),n.Inflate=i(86091),n.Intersection=i(53951),n.MarchingAnts=i(14649),n.MergePoints=i(33595),n.MergeRect=i(20074),n.MergeXY=i(92171),n.Offset=i(42981),n.OffsetPoint=i(46907),n.Overlaps=i(60170),n.Perimeter=i(13019),n.PerimeterPoint=i(85133),n.Random=i(26597),n.RandomOutside=i(86470),n.SameDimensions=i(94845),n.Scale=i(31730),n.Union=i(36899),e.exports=n},41658:e=>{e.exports=function(e){var t=e.x1,i=e.y1,n=e.x2,r=e.y2;return Math.abs(((e.x3-t)*(r-i)-(n-t)*(e.y3-i))/2)}},39208:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16483);e.exports=function(e,t,i){var r=Math.sqrt(3)/2*i;return new n(e,t,e+i/2,t+r,e-i/2,t+r)}},39545:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(94811),r=i(16483);e.exports=function(e,t,i,s,a){void 0===t&&(t=null),void 0===i&&(i=1),void 0===s&&(s=1),void 0===a&&(a=[]);for(var o,l,h,u,c,d,f,p,m,g=n(e,t),v=0;v<g.length;v+=3)o=g[v],l=g[v+1],h=g[v+2],u=e[2*o]*i,c=e[2*o+1]*s,d=e[2*l]*i,f=e[2*l+1]*s,p=e[2*h]*i,m=e[2*h+1]*s,a.push(new r(u,c,d,f,p,m));return a}},90301:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16483);e.exports=function(e,t,i,r){void 0===r&&(r=i);var s=t-r,a=e+i;return new n(e,t,e,s,a,t)}},23707:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(97523),r=i(13584);e.exports=function(e,t,i,s){void 0===s&&(s=n);var a=s(e);return r(e,t-a.x,i-a.y)}},97523:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=(e.x1+e.x2+e.x3)/3,t.y=(e.y1+e.y2+e.y3)/3,t}},24951:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t){void 0===t&&(t=new n);var i,r,s=e.x3,a=e.y3,o=e.x1-s,l=e.y1-a,h=e.x2-s,u=e.y2-a,c=2*(o*u-l*h),d=(i=o*o+l*l,l*(h*h+u*u)-i*u),f=(r=o*o+l*l,o*(h*h+u*u)-r*h);return t.x=s-d/c,t.y=a+f/c,t}},85614:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503);e.exports=function(e,t){void 0===t&&(t=new n);var i,r,s=e.x1,a=e.y1,o=e.x2,l=e.y2,h=e.x3,u=e.y3,c=o-s,d=l-a,f=h-s,p=u-a,m=c*(s+o)+d*(a+l),g=f*(s+h)+p*(a+u),v=2*(c*(u-l)-d*(h-o));if(1e-6>Math.abs(v)){var y=Math.min(s,o,h),b=Math.min(a,l,u);i=(Math.max(s,o,h)-y)*.5,r=(Math.max(a,l,u)-b)*.5,t.x=y+i,t.y=b+r,t.radius=Math.sqrt(i*i+r*r)}else t.x=(p*m-d*g)/v,t.y=(c*g-f*m)/v,i=t.x-s,r=t.y-a,t.radius=Math.sqrt(i*i+r*r);return t}},74422:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16483);e.exports=function(e){return new n(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}},10690:e=>{e.exports=function(e,t,i){var n=e.x3-e.x1,r=e.y3-e.y1,s=e.x2-e.x1,a=e.y2-e.y1,o=t-e.x1,l=i-e.y1,h=n*n+r*r,u=n*s+r*a,c=n*o+r*l,d=s*s+a*a,f=s*o+a*l,p=h*d-u*u,m=0===p?0:1/p,g=(d*c-u*f)*m,v=(h*f-u*c)*m;return g>=0&&v>=0&&g+v<1}},48653:e=>{e.exports=function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=[]);for(var r,s,a,o,l,h,u=e.x3-e.x1,c=e.y3-e.y1,d=e.x2-e.x1,f=e.y2-e.y1,p=u*u+c*c,m=u*d+c*f,g=d*d+f*f,v=p*g-m*m,y=0===v?0:1/v,b=e.x1,x=e.y1,E=0;E<t.length&&(r=(g*(l=u*(a=t[E].x-b)+c*(o=t[E].y-x))-m*(h=d*a+f*o))*y,s=(p*h-m*l)*y,!(r>=0)||!(s>=0)||!(r+s<1)||(n.push({x:t[E].x,y:t[E].y}),!i));E++);return n}},96006:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10690);e.exports=function(e,t){return n(e,t.x,t.y)}},71326:e=>{e.exports=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}},71694:e=>{e.exports=function(e,t){return void 0===t&&(t=[]),t.push({x:e.x1,y:e.y1}),t.push({x:e.x2,y:e.y2}),t.push({x:e.x3,y:e.y3}),t}},33522:e=>{e.exports=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2&&e.x3===t.x3&&e.y3===t.y3}},20437:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(35001);e.exports=function(e,t,i){void 0===i&&(i=new n);var s=e.getLineA(),a=e.getLineB(),o=e.getLineC();if(t<=0||t>=1)return i.x=s.x1,i.y=s.y1,i;var l=r(s),h=r(a),u=r(o),c=(l+h+u)*t,d=0;return c<l?(d=c/l,i.x=s.x1+(s.x2-s.x1)*d,i.y=s.y1+(s.y2-s.y1)*d):c>l+h?(c-=l+h,d=c/u,i.x=o.x1+(o.x2-o.x1)*d,i.y=o.y1+(o.y2-o.y1)*d):(c-=l,d=c/h,i.x=a.x1+(a.x2-a.x1)*d,i.y=a.y1+(a.y2-a.y1)*d),i}},80672:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001),r=i(2141);e.exports=function(e,t,i,s){void 0===s&&(s=[]);var a=e.getLineA(),o=e.getLineB(),l=e.getLineC(),h=n(a),u=n(o),c=n(l),d=h+u+c;!t&&i>0&&(t=d/i);for(var f=0;f<t;f++){var p=f/t*d,m=0,g=new r;p<h?(m=p/h,g.x=a.x1+(a.x2-a.x1)*m,g.y=a.y1+(a.y2-a.y1)*m):p>h+u?(p-=h+u,m=p/c,g.x=l.x1+(l.x2-l.x1)*m,g.y=l.y1+(l.y2-l.y1)*m):(p-=h,m=p/u,g.x=o.x1+(o.x2-o.x1)*m,g.y=o.y1+(o.y2-o.y1)*m),s.push(g)}return s}},39757:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);function r(e,t,i,n){var r=e-i,s=t-n;return Math.sqrt(r*r+s*s)}e.exports=function(e,t){void 0===t&&(t=new n);var i=e.x1,s=e.y1,a=e.x2,o=e.y2,l=e.x3,h=e.y3,u=r(l,h,a,o),c=r(i,s,l,h),d=r(a,o,i,s),f=u+c+d;return t.x=(i*u+a*c+l*d)/f,t.y=(s*u+o*c+h*d)/f,t}},13584:e=>{e.exports=function(e,t,i){return e.x1+=t,e.y1+=i,e.x2+=t,e.y2+=i,e.x3+=t,e.y3+=i,e}},1376:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001);e.exports=function(e){var t=e.getLineA(),i=e.getLineB(),r=e.getLineC();return n(t)+n(i)+n(r)}},90260:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){void 0===t&&(t=new n);var i=e.x2-e.x1,r=e.y2-e.y1,s=e.x3-e.x1,a=e.y3-e.y1,o=Math.random(),l=Math.random();return o+l>=1&&(o=1-o,l=1-l),t.x=e.x1+(i*o+s*l),t.y=e.y1+(r*o+a*l),t}},52172:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99614),r=i(39757);e.exports=function(e,t){var i=r(e);return n(e,i.x,i.y,t)}},49907:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99614);e.exports=function(e,t,i){return n(e,t.x,t.y,i)}},99614:e=>{e.exports=function(e,t,i,n){var r=Math.cos(n),s=Math.sin(n),a=e.x1-t,o=e.y1-i;return e.x1=a*r-o*s+t,e.y1=a*s+o*r+i,a=e.x2-t,o=e.y2-i,e.x2=a*r-o*s+t,e.y2=a*s+o*r+i,a=e.x3-t,o=e.y3-i,e.x3=a*r-o*s+t,e.y3=a*s+o*r+i,e}},16483:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(10690),s=i(20437),a=i(80672),o=i(23777),l=i(23031),h=i(90260),u=new n({initialize:function(e,t,i,n,r,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),this.type=o.TRIANGLE,this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.x3=r,this.y3=s},contains:function(e,t){return r(this,e,t)},getPoint:function(e,t){return s(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return h(this,e)},setTo:function(e,t,i,n,r,s){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.x3=r,this.y3=s,this},getLineA:function(e){return void 0===e&&(e=new l),e.setTo(this.x1,this.y1,this.x2,this.y2),e},getLineB:function(e){return void 0===e&&(e=new l),e.setTo(this.x2,this.y2,this.x3,this.y3),e},getLineC:function(e){return void 0===e&&(e=new l),e.setTo(this.x3,this.y3,this.x1,this.y1),e},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(e){var t=0;t=this.x1<=this.x2&&this.x1<=this.x3?this.x1-e:this.x2<=this.x1&&this.x2<=this.x3?this.x2-e:this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(e){var t=0;t=this.x1>=this.x2&&this.x1>=this.x3?this.x1-e:this.x2>=this.x1&&this.x2>=this.x3?this.x2-e:this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(e){var t=0;t=this.y1<=this.y2&&this.y1<=this.y3?this.y1-e:this.y2<=this.y1&&this.y2<=this.y3?this.y2-e:this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(e){var t=0;t=this.y1>=this.y2&&this.y1>=this.y3?this.y1-e:this.y2>=this.y1&&this.y2>=this.y3?this.y2-e:this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}}});e.exports=u},84435:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16483);n.Area=i(41658),n.BuildEquilateral=i(39208),n.BuildFromPolygon=i(39545),n.BuildRight=i(90301),n.CenterOn=i(23707),n.Centroid=i(97523),n.CircumCenter=i(24951),n.CircumCircle=i(85614),n.Clone=i(74422),n.Contains=i(10690),n.ContainsArray=i(48653),n.ContainsPoint=i(96006),n.CopyFrom=i(71326),n.Decompose=i(71694),n.Equals=i(33522),n.GetPoint=i(20437),n.GetPoints=i(80672),n.InCenter=i(39757),n.Perimeter=i(1376),n.Offset=i(13584),n.Random=i(90260),n.Rotate=i(52172),n.RotateAroundPoint=i(49907),n.RotateAroundXY=i(99614),e.exports=n},74457:e=>{e.exports=function(e,t,i){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:t,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}}},84409:e=>{e.exports=function(e,t){return function(i,n,r,s){var a=e.getPixelAlpha(n,r,s.texture.key,s.frame.name);return a&&a>=t}}},7003:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(93301),s=i(50792),a=i(8214),o=i(8443),l=i(78970),h=i(85098),u=i(42515),c=i(36210),d=i(61340),f=i(85955),p=new n({initialize:function(e,t){this.game=e,this.scaleManager,this.canvas,this.config=t,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=t.inputKeyboard?new l(this):null,this.mouse=t.inputMouse?new h(this):null,this.touch=t.inputTouch?new c(this):null,this.pointers=[],this.pointersTotal=t.inputActivePointers;for(var i=0;i<=this.pointersTotal;i++){var n=new u(this,i);n.smoothFactor=t.inputSmoothFactor,this.pointers.push(n)}this.mousePointer=t.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],e.events.once(o.BOOT,this.boot,this)},boot:function(){var e=this.game,t=e.events;this.canvas=e.canvas,this.scaleManager=e.scale,this.events.emit(a.MANAGER_BOOT),t.on(o.PRE_RENDER,this.preRender,this),t.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(e){this.isOver=!0,this.events.emit(a.GAME_OVER,e)},setCanvasOut:function(e){this.isOver=!1,this.events.emit(a.GAME_OUT,e)},preRender:function(){var e=this.game.loop.now,t=this.game.loop.delta,i=this.game.scene.getScenes(!0,!0);this.time=e,this.events.emit(a.MANAGER_UPDATE);for(var n=0;n<i.length;n++){var r=i[n];if(r.sys.input&&r.sys.input.updatePoll(e,t)&&this.globalTopOnly)return}},setDefaultCursor:function(e){this.defaultCursor=e,this.canvas.style.cursor!==e&&(this.canvas.style.cursor=e)},setCursor:function(e){e.cursor&&(this.canvas.style.cursor=e.cursor)},resetCursor:function(e,t){(t||e&&e.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(e){void 0===e&&(e=1);var t=[];this.pointersTotal+e>10&&(e=10-this.pointersTotal);for(var i=0;i<e;i++){var n=new u(this,this.pointers.length);n.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(n),this.pointersTotal++,t.push(n)}return t},updateInputPlugins:function(e,t){var i=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var n=0;n<i.length;n++){var r=i[n];if(r.sys.input&&(r.sys.input.update(e,t)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(e){for(var t=this.pointers,i=[],n=0;n<e.changedTouches.length;n++)for(var s=e.changedTouches[n],a=1;a<t.length;a++){var o=t[a];if(!o.active){o.touchstart(s,e),this.activePointer=o,i.push(o);break}}this.updateInputPlugins(r.TOUCH_START,i)},onTouchMove:function(e){for(var t=this.pointers,i=[],n=0;n<e.changedTouches.length;n++)for(var s=e.changedTouches[n],a=1;a<t.length;a++){var o=t[a];if(o.active&&o.identifier===s.identifier){var l=document.elementFromPoint(s.clientX,s.clientY)===this.canvas;!this.isOver&&l?this.setCanvasOver(e):this.isOver&&!l&&this.setCanvasOut(e),this.isOver&&(o.touchmove(s,e),this.activePointer=o,i.push(o));break}}this.updateInputPlugins(r.TOUCH_MOVE,i)},onTouchEnd:function(e){for(var t=this.pointers,i=[],n=0;n<e.changedTouches.length;n++)for(var s=e.changedTouches[n],a=1;a<t.length;a++){var o=t[a];if(o.active&&o.identifier===s.identifier){o.touchend(s,e),i.push(o);break}}this.updateInputPlugins(r.TOUCH_END,i)},onTouchCancel:function(e){for(var t=this.pointers,i=[],n=0;n<e.changedTouches.length;n++)for(var s=e.changedTouches[n],a=1;a<t.length;a++){var o=t[a];if(o.active&&o.identifier===s.identifier){o.touchcancel(s,e),i.push(o);break}}this.updateInputPlugins(r.TOUCH_CANCEL,i)},onMouseDown:function(e){var t=this.mousePointer;t.down(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(r.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(e){var t=this.mousePointer;t.move(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(r.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(e){var t=this.mousePointer;t.up(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(r.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(e){var t=this.mousePointer;t.wheel(e),this.activePointer=t,this.updateInputPlugins(r.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(e){var t=this.mouse.locked;this.mousePointer.locked=t,this.events.emit(a.POINTERLOCK_CHANGE,e,t)},inputCandidate:function(e,t){var i=e.input;if(!i||!i.enabled||!e.willRender(t))return!1;var n=!0,r=e.parentContainer;if(r)do{if(!r.willRender(t)){n=!1;break}r=r.parentContainer}while(r)return n},hitTest:function(e,t,i,n){void 0===n&&(n=this._tempHitTest);var r=this._tempPoint,s=i.scrollX,a=i.scrollY;n.length=0;var o=e.x,l=e.y;i.getWorldPoint(o,l,r),e.worldX=r.x,e.worldY=r.y;for(var h={x:0,y:0},u=this._tempMatrix,c=this._tempMatrix2,d=0;d<t.length;d++){var p=t[d];if(this.inputCandidate(p,i)){var m=r.x+s*p.scrollFactorX-s,g=r.y+a*p.scrollFactorY-a;p.parentContainer?(p.getWorldTransformMatrix(u,c),u.applyInverse(m,g,h)):f(m,g,p.x,p.y,p.rotation,p.scaleX,p.scaleY,h),this.pointWithinHitArea(p,h.x,h.y)&&n.push(p)}}return n},pointWithinHitArea:function(e,t,i){t+=e.displayOriginX,i+=e.displayOriginY;var n=e.input;return!!(n&&n.hitAreaCallback(n.hitArea,t,i,e))&&(n.localX=t,n.localY=i,!0)},pointWithinInteractiveObject:function(e,t,i){return!!e.hitArea&&(t+=e.gameObject.displayOriginX,i+=e.gameObject.displayOriginY,e.localX=t,e.localY=i,e.hitAreaCallback(e.hitArea,t,i,e))},transformPointer:function(e,t,i,n){var r=e.position,s=e.prevPosition;s.x=r.x,s.y=r.y;var a=this.scaleManager.transformX(t),o=this.scaleManager.transformY(i),l=e.smoothFactor;n&&0!==l?(r.x=a*l+s.x*(1-l),r.y=o*l+s.y*(1-l)):(r.x=a,r.y=o)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var e=0;e<this.pointers.length;e++)this.pointers[e].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});e.exports=p},48205:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503),r=i(87902),s=i(83419),a=i(93301),o=i(74457),l=i(84409),h=i(20339),u=i(8497),c=i(81154),d=i(8214),f=i(50792),p=i(95540),m=i(23777),g=i(89639),v=i(41212),y=i(37277),b=i(87841),x=i(37303),E=i(44594),w=i(16483),S=i(10690),T=new s({Extends:f,initialize:function(e){f.call(this),this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.manager=e.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var t={cancelled:!1};this._eventContainer={stopPropagation:function(){t.cancelled=!0}},this._eventData=t,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,e.sys.events.once(E.BOOT,this.boot,this),e.sys.events.on(E.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(E.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var e=this.systems.events;e.on(E.TRANSITION_START,this.transitionIn,this),e.on(E.TRANSITION_OUT,this.transitionOut,this),e.on(E.TRANSITION_COMPLETE,this.transitionComplete,this),e.on(E.PRE_UPDATE,this.preUpdate,this),e.once(E.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(e){this.isActive()&&this.emit(d.GAME_OVER,e.timeStamp,e)},onGameOut:function(e){this.isActive()&&this.emit(d.GAME_OUT,e.timeStamp,e)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var e=this._pendingRemoval,t=this._pendingInsertion,i=e.length,n=t.length;if(0!==i||0!==n){for(var r=this._list,s=0;s<i;s++){var a=e[s],o=r.indexOf(a);o>-1&&(r.splice(o,1),this.clear(a,!0))}this._pendingRemoval.length=0,this._list=r.concat(t.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(e){this.manager&&this.manager.setCursor(e)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(e,t){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,e,t),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,n=this.manager.pointers;for(i=0;i<n.length;i++)n[i].updateMotion();if(0===this._list.length)return!1;var r=this.pollRate;if(-1===r)return!1;if(r>0){if(this._pollTimer-=t,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var s=!1;for(i=0;i<n.length;i++){var a=0,o=n[i];this._tempZones=[],this._temp=this.hitTestPointer(o),this.sortGameObjects(this._temp,o),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),a+=this.processOverOutEvents(o),2===this.getDragState(o)&&this.processDragThresholdEvent(o,e),a>0&&(s=!0)}return s},update:function(e,t){if(!this.isActive())return!1;for(var i=!1,n=0;n<t.length;n++){var r=0,s=t[n];switch(this._tempZones=[],this._temp=this.hitTestPointer(s),this.sortGameObjects(this._temp,s),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),e){case a.MOUSE_DOWN:r+=this.processDragDownEvent(s),r+=this.processDownEvents(s),r+=this.processOverOutEvents(s);break;case a.MOUSE_UP:r+=this.processDragUpEvent(s),r+=this.processUpEvents(s),r+=this.processOverOutEvents(s);break;case a.TOUCH_START:r+=this.processDragDownEvent(s),r+=this.processDownEvents(s),r+=this.processOverEvents(s);break;case a.TOUCH_END:case a.TOUCH_CANCEL:r+=this.processDragUpEvent(s),r+=this.processUpEvents(s),r+=this.processOutEvents(s);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:r+=this.processDragMoveEvent(s),r+=this.processMoveEvents(s),r+=this.processOverOutEvents(s);break;case a.MOUSE_WHEEL:r+=this.processWheelEvent(s)}r>0&&(i=!0)}return this._updatedThisFrame=!0,i},clear:function(e,t){void 0===t&&(t=!1),this.disable(e);var i=e.input;i&&(this.removeDebug(e),this.manager.resetCursor(i),i.gameObject=void 0,i.target=void 0,i.hitArea=void 0,i.hitAreaCallback=void 0,i.callbackContext=void 0,e.input=null),t||this.queueForRemoval(e);var n=this._draggable.indexOf(e);return n>-1&&this._draggable.splice(n,1),e},disable:function(e,t){void 0===t&&(t=!1);var i=e.input;i&&(i.enabled=!1,i.dragState=0);for(var n,r=this._drag,s=this._over,a=this.manager,o=0;o<a.pointers.length;o++)(n=r[o].indexOf(e))>-1&&r[o].splice(n,1),(n=s[o].indexOf(e))>-1&&s[o].splice(n,1);return t&&this.resetCursor(),this},enable:function(e,t,i,n){return void 0===n&&(n=!1),e.input?e.input.enabled=!0:this.setHitArea(e,t,i),e.input&&n&&!e.input.dropZone&&(e.input.dropZone=n),this},hitTestPointer:function(e){for(var t=this.cameras.getCamerasBelowPointer(e),i=0;i<t.length;i++){for(var n=t[i],r=this.manager.hitTest(e,this._list,n),s=0;s<r.length;s++){var a=r[s];a.input.dropZone&&this._tempZones.push(a)}if(r.length>0)return e.camera=n,r}return e.camera=t[0],[]},processDownEvents:function(e){var t=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=0;s<i.length;s++){var a=i[s];if(a.input&&a.input.enabled&&(t++,a.emit(d.GAMEOBJECT_POINTER_DOWN,e,a.input.localX,a.input.localY,r),n.cancelled||!this.isActive()||a.input&&a.input.enabled&&(this.emit(d.GAMEOBJECT_DOWN,e,a,r),n.cancelled||!this.isActive())))break}return!n.cancelled&&this.isActive()&&(e.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,e,i):this.emit(d.POINTER_DOWN_OUTSIDE,e)),t},getDragState:function(e){return this._dragState[e.id]},setDragState:function(e,t){this._dragState[e.id]=t},processDragThresholdEvent:function(e,t){var i=!1,n=this.dragTimeThreshold,r=this.dragDistanceThreshold;if(r>0&&h(e.x,e.y,e.downX,e.downY)>=r?i=!0:n>0&&t>=e.downTime+n&&(i=!0),i)return this.setDragState(e,3),this.processDragStartList(e)},processDragStartList:function(e){if(3!==this.getDragState(e))return 0;var t=this._drag[e.id];t.length>1&&(t=t.slice(0));for(var i=0;i<t.length;i++){var n=t[i],r=n.input;r.dragState=2,r.dragStartX=n.x,r.dragStartY=n.y,r.dragStartXGlobal=e.worldX,r.dragStartYGlobal=e.worldY,r.dragStartCamera=e.camera,r.dragX=r.dragStartXGlobal-r.dragStartX,r.dragY=r.dragStartYGlobal-r.dragStartY,n.emit(d.GAMEOBJECT_DRAG_START,e,r.dragX,r.dragY),this.emit(d.DRAG_START,e,n)}return this.setDragState(e,4),t.length},processDragDownEvent:function(e){var t=this._temp;if(0===this._draggable.length||0===t.length||!e.primaryDown||0!==this.getDragState(e))return 0;this.setDragState(e,1);for(var i=[],n=0;n<t.length;n++){var r=t[n];r.input.draggable&&0===r.input.dragState&&i.push(r)}return 0===i.length?(this.setDragState(e,0),0):(i.length>1&&(this.sortGameObjects(i,e),this.topOnly&&i.splice(1)),this._drag[e.id]=i,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold)?(this.setDragState(e,3),this.processDragStartList(e)):(this.setDragState(e,2),0)},processDragMoveEvent:function(e){if(2===this.getDragState(e)&&this.processDragThresholdEvent(e,this.manager.game.loop.now),4!==this.getDragState(e))return 0;var t=this._tempZones,i=this._drag[e.id];i.length>1&&(i=i.slice(0));for(var n=0;n<i.length;n++){var r,s,a=i[n],o=a.input,l=o.target;if(l){var h=t.indexOf(l);0===h?(a.emit(d.GAMEOBJECT_DRAG_OVER,e,l),this.emit(d.DRAG_OVER,e,a,l)):h>0?(a.emit(d.GAMEOBJECT_DRAG_LEAVE,e,l),this.emit(d.DRAG_LEAVE,e,a,l),o.target=t[0],l=o.target,a.emit(d.GAMEOBJECT_DRAG_ENTER,e,l),this.emit(d.DRAG_ENTER,e,a,l)):(a.emit(d.GAMEOBJECT_DRAG_LEAVE,e,l),this.emit(d.DRAG_LEAVE,e,a,l),t[0]?(o.target=t[0],l=o.target,a.emit(d.GAMEOBJECT_DRAG_ENTER,e,l),this.emit(d.DRAG_ENTER,e,a,l)):o.target=null)}else!l&&t[0]&&(o.target=t[0],l=o.target,a.emit(d.GAMEOBJECT_DRAG_ENTER,e,l),this.emit(d.DRAG_ENTER,e,a,l));var u=e.positionToCamera(o.dragStartCamera);if(a.parentContainer){var c=u.x-o.dragStartXGlobal,f=u.y-o.dragStartYGlobal,p=a.getParentRotation(),m=c*Math.cos(p)+f*Math.sin(p),g=f*Math.cos(p)-c*Math.sin(p);m*=1/a.parentContainer.scaleX,g*=1/a.parentContainer.scaleY,r=m+o.dragStartX,s=g+o.dragStartY}else r=u.x-o.dragX,s=u.y-o.dragY;a.emit(d.GAMEOBJECT_DRAG,e,r,s),this.emit(d.DRAG,e,a,r,s)}return i.length},processDragUpEvent:function(e){var t=this._drag[e.id];t.length>1&&(t=t.slice(0));for(var i=0;i<t.length;i++){var n=t[i],r=n.input;if(r&&2===r.dragState){r.dragState=0,r.dragX=r.localX-n.displayOriginX,r.dragY=r.localY-n.displayOriginY,r.dragStartCamera=null;var s=!1,a=r.target;a&&(n.emit(d.GAMEOBJECT_DROP,e,a),this.emit(d.DROP,e,n,a),r.target=null,s=!0),n.input&&n.input.enabled&&(n.emit(d.GAMEOBJECT_DRAG_END,e,r.dragX,r.dragY,s),this.emit(d.DRAG_END,e,n,s))}}return this.setDragState(e,0),t.splice(0),0},processMoveEvents:function(e){var t=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=0;s<i.length;s++){var a=i[s];if(a.input&&a.input.enabled&&(t++,a.emit(d.GAMEOBJECT_POINTER_MOVE,e,a.input.localX,a.input.localY,r),n.cancelled||!this.isActive()||a.input&&a.input.enabled&&(this.emit(d.GAMEOBJECT_MOVE,e,a,r),n.cancelled||!this.isActive()||this.topOnly)))break}return!n.cancelled&&this.isActive()&&this.emit(d.POINTER_MOVE,e,i),t},processWheelEvent:function(e){var t=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=e.deltaX,a=e.deltaY,o=e.deltaZ,l=0;l<i.length;l++){var h=i[l];if(h.input&&h.input.enabled&&(t++,h.emit(d.GAMEOBJECT_POINTER_WHEEL,e,s,a,o,r),n.cancelled||!this.isActive()||h.input&&h.input.enabled&&(this.emit(d.GAMEOBJECT_WHEEL,e,h,s,a,o,r),n.cancelled||!this.isActive())))break}return!n.cancelled&&this.isActive()&&this.emit(d.POINTER_WHEEL,e,i,s,a,o),t},processOverEvents:function(e){var t=this._temp,i=0,n=t.length,r=[];if(n>0){var s=this.manager,a=this._eventData,o=this._eventContainer;a.cancelled=!1;for(var l=0;l<n;l++){var h=t[l];if(h.input&&h.input.enabled&&(r.push(h),s.setCursor(h.input),h.emit(d.GAMEOBJECT_POINTER_OVER,e,h.input.localX,h.input.localY,o),i++,a.cancelled||!this.isActive()||h.input&&h.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,e,h,o),a.cancelled||!this.isActive())))break}!a.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,e,r)}return this._over[e.id]=r,i},processOutEvents:function(e){var t=this._over[e.id],i=0,n=t.length;if(n>0){var r=this.manager,s=this._eventData,a=this._eventContainer;s.cancelled=!1,this.sortGameObjects(t,e);for(var o=0;o<n;o++){var l=t[o];if((l=t[o]).input&&l.input.enabled&&(r.resetCursor(l.input),l.emit(d.GAMEOBJECT_POINTER_OUT,e,a),i++,s.cancelled||!this.isActive()||l.input&&l.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,e,l,a),s.cancelled||!this.isActive())))break}!s.cancelled&&this.isActive()&&this.emit(d.POINTER_OUT,e,t),this._over[e.id]=[]}return i},processOverOutEvents:function(e){var t,i,n=this._temp,r=[],s=[],a=[],o=this._over[e.id],l=this._drag[e.id],h=this.manager;for(t=0;t<o.length;t++)i=o[t],-1===n.indexOf(i)&&-1===l.indexOf(i)?r.push(i):a.push(i);for(t=0;t<n.length;t++)i=n[t],-1===o.indexOf(i)&&s.push(i);var u=r.length,c=0,f=this._eventData,p=this._eventContainer;if(f.cancelled=!1,u>0){for(this.sortGameObjects(r,e),t=0;t<u&&(!(i=r[t]).input||!i.input.enabled||(h.resetCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OUT,e,p),c++,!f.cancelled&&this.isActive()&&(!i.input||!i.input.enabled||(this.emit(d.GAMEOBJECT_OUT,e,i,p),!f.cancelled&&this.isActive()))));t++);(!f.cancelled||this.isActive())&&this.emit(d.POINTER_OUT,e,r)}if(u=s.length,f.cancelled=!1,u>0){for(this.sortGameObjects(s,e),t=0;t<u&&(!(i=s[t]).input||!i.input.enabled||(h.setCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OVER,e,i.input.localX,i.input.localY,p),c++,!f.cancelled&&this.isActive()&&(!i.input||!i.input.enabled||(this.emit(d.GAMEOBJECT_OVER,e,i,p),!f.cancelled&&this.isActive()))));t++);!f.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,e,s)}return o=a.concat(s),this._over[e.id]=this.sortGameObjects(o,e),c},processUpEvents:function(e){var t=this._temp,i=this._eventData,n=this._eventContainer;i.cancelled=!1;for(var r=0;r<t.length;r++){var s=t[r];if(s.input&&s.input.enabled&&(s.emit(d.GAMEOBJECT_POINTER_UP,e,s.input.localX,s.input.localY,n),i.cancelled||!this.isActive()||s.input&&s.input.enabled&&(this.emit(d.GAMEOBJECT_UP,e,s,n),i.cancelled||!this.isActive())))break}return!i.cancelled&&this.isActive()&&(e.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,e,t):this.emit(d.POINTER_UP_OUTSIDE,e)),t.length},forceDownState:function(e,t){this.forceState(e,t,d.GAMEOBJECT_POINTER_DOWN,d.GAMEOBJECT_DOWN,!1)},forceUpState:function(e,t){this.forceState(e,t,d.GAMEOBJECT_POINTER_UP,d.GAMEOBJECT_UP,!1)},forceOverState:function(e,t){this.forceState(e,t,d.GAMEOBJECT_POINTER_OVER,d.GAMEOBJECT_OVER,!0)},forceOutState:function(e,t){this.forceState(e,t,d.GAMEOBJECT_POINTER_OUT,d.GAMEOBJECT_OUT,!1)},forceState:function(e,t,i,n,r){var s=this._eventData,a=this._eventContainer;s.cancelled=!1,t.input&&t.input.enabled&&(t.emit(i,e,t.input.localX,t.input.localY,a),r&&this.setCursor(t.input),!s.cancelled&&this.isActive()&&t.input&&t.input.enabled&&this.emit(n,e,t,a))},queueForInsertion:function(e){return -1===this._pendingInsertion.indexOf(e)&&-1===this._list.indexOf(e)&&this._pendingInsertion.push(e),this},queueForRemoval:function(e){return this._pendingRemoval.push(e),this},setDraggable:function(e,t){void 0===t&&(t=!0),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];n.input.draggable=t;var r=this._draggable.indexOf(n);t&&-1===r?this._draggable.push(n):!t&&r>-1&&this._draggable.splice(r,1)}return this},makePixelPerfect:function(e){return void 0===e&&(e=1),l(this.systems.textures,e)},setHitArea:function(e,t,i){if(void 0===t)return this.setHitAreaFromTexture(e);Array.isArray(e)||(e=[e]);var n=!1,r=!1,s=!1,a=!1,l=!1,h=!0;if(v(t)&&Object.keys(t).length){var u=t;if(!e.some(function(e){return e.hasOwnProperty("faces")})){t=p(u,"hitArea",null),i=p(u,"hitAreaCallback",null),l=p(u,"pixelPerfect",!1);var c=p(u,"alphaTolerance",1);l&&(t={},i=this.makePixelPerfect(c))}n=p(u,"draggable",!1),r=p(u,"dropZone",!1),s=p(u,"cursor",!1),a=p(u,"useHandCursor",!1),t&&i||(this.setHitAreaFromTexture(e),h=!1)}else"function"!=typeof t||i||(i=t,t={});for(var d=0;d<e.length;d++){var f=e[d];if(l&&"Container"===f.type){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var m=f.input?f.input:o(f,t,i);m.customHitArea=h,m.dropZone=r,m.cursor=a?"pointer":s,f.input=m,n&&this.setDraggable(f),this.queueForInsertion(f)}return this},setHitAreaCircle:function(e,t,i,s,a){void 0===a&&(a=r);var o=new n(t,i,s);return this.setHitArea(e,o,a)},setHitAreaEllipse:function(e,t,i,n,r,s){void 0===s&&(s=c);var a=new u(t,i,n,r);return this.setHitArea(e,a,s)},setHitAreaFromTexture:function(e,t){void 0===t&&(t=x),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i],r=n.frame,s=0,a=0;if(n.width?(s=n.width,a=n.height):r&&(s=r.realWidth,a=r.realHeight),"Container"===n.type&&(0===s||0===a)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}0!==s&&0!==a&&(n.input=o(n,new b(0,0,s,a),t),this.queueForInsertion(n))}return this},setHitAreaRectangle:function(e,t,i,n,r,s){void 0===s&&(s=x);var a=new b(t,i,n,r);return this.setHitArea(e,a,s)},setHitAreaTriangle:function(e,t,i,n,r,s,a,o){void 0===o&&(o=S);var l=new w(t,i,n,r,s,a);return this.setHitArea(e,l,o)},enableDebug:function(e,t){void 0===t&&(t=65280);var i=e.input;if(!i||!i.hitArea)return this;var n=i.hitArea,r=n.type,s=i.hitAreaDebug,a=this.systems.add,o=this.systems.updateList;s&&(o.remove(s),s.destroy(),s=null);var l=0,h=0;switch(r){case m.CIRCLE:s=a.arc(0,0,n.radius),l=n.x-n.radius,h=n.y-n.radius;break;case m.ELLIPSE:s=a.ellipse(0,0,n.width,n.height),l=n.x-n.width/2,h=n.y-n.height/2;break;case m.LINE:s=a.line(0,0,n.x1,n.y1,n.x2,n.y2);break;case m.POLYGON:s=a.polygon(0,0,n.points);break;case m.RECTANGLE:s=a.rectangle(0,0,n.width,n.height),l=n.x,h=n.y;break;case m.TRIANGLE:s=a.triangle(0,0,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3)}return s&&(s.isFilled=!1,s.strokeColor=t,s.preUpdate=function(){s.setVisible(e.visible),s.setStrokeStyle(1/e.scale,s.strokeColor),s.setDisplayOrigin(e.displayOriginX,e.displayOriginY);var t=e.x,i=e.y,n=e.rotation,r=e.scaleX,a=e.scaleY;if(e.parentContainer){var o=e.getWorldTransformMatrix();t=o.tx,i=o.ty,n=o.rotation,r=o.scaleX,a=o.scaleY}s.setRotation(n),s.setScale(r,a),s.setPosition(t+l*r,i+h*a),s.setScrollFactor(e.scrollFactorX,e.scrollFactorY),s.setDepth(e.depth)},o.add(s),i.hitAreaDebug=s),this},removeDebug:function(e){var t=e.input;return t&&t.hitAreaDebug&&(t.hitAreaDebug.destroy(),t.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(e){return this.pollRate=e,this._pollTimer=0,this},setGlobalTopOnly:function(e){return this.manager.globalTopOnly=e,this},setTopOnly:function(e){return this.topOnly=e,this},sortGameObjects:function(e,t){if(e.length<2||!t.camera)return e;var i=t.camera.renderList;return e.sort(function(e,t){var n=Math.max(i.indexOf(e),0);return Math.max(i.indexOf(t),0)-n})},sortDropZones:function(e){return e.length<2?e:(this.scene.sys.depthSort(),e.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(e,t){if(!e.parentContainer&&!t.parentContainer)return this.displayList.getIndex(t)-this.displayList.getIndex(e);if(e.parentContainer===t.parentContainer)return t.parentContainer.getIndex(t)-e.parentContainer.getIndex(e);if(e.parentContainer===t)return -1;if(t.parentContainer===e)return 1;for(var i=e.getIndexList(),n=t.getIndexList(),r=Math.min(i.length,n.length),s=0;s<r;s++){var a=i[s],o=n[s];if(a!==o)return o-a}return n.length-i.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(e){return this.manager.addPointer(e)},setDefaultCursor:function(e){return this.manager.setDefaultCursor(e),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var e=0;e<10;e++)this._drag[e]=[],this._over[e]=[];this.removeAllListeners();var t=this.manager;t.canvas.style.cursor=t.defaultCursor;var i=this.systems.events;i.off(E.TRANSITION_START,this.transitionIn,this),i.off(E.TRANSITION_OUT,this.transitionOut,this),i.off(E.TRANSITION_COMPLETE,this.transitionComplete,this),i.off(E.PRE_UPDATE,this.preUpdate,this),t.events.off(d.GAME_OUT,this.onGameOut,this),t.events.off(d.GAME_OVER,this.onGameOver,this),i.off(E.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var e=this.manager.pointers,t=0;t<e.length;t++)e[t].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(E.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",T,"input"),e.exports=T},89639:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154),r={},s={};s.register=function(e,t,i,n,s){r[e]={plugin:t,mapping:i,settingsKey:n,configKey:s}},s.getPlugin=function(e){return r[e]},s.install=function(e){var t=e.scene.sys,i=t.settings.input,s=t.game.config;for(var a in r){var o=r[a].plugin,l=r[a].mapping;n(i,r[a].settingsKey,s[r[a].configKey])&&(e[l]=new o(e))}},s.remove=function(e){r.hasOwnProperty(e)&&delete r[e]},e.exports=s},42515:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(31040),r=i(83419),s=i(20339),a=i(43855),o=i(47235),l=i(26099),h=i(25892),u=new r({initialize:function(e,t){this.manager=e,this.id=t,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new l,this.prevPosition=new l,this.midPoint=new l(-1,-1),this.velocity=new l,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===t,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(e){var t=e.getWorldPoint(this.x,this.y);return this.worldX=t.x,this.worldY=t.y,this},positionToCamera:function(e,t){return e.getWorldPoint(this.x,this.y,t)},updateMotion:function(){var e=this.position.x,t=this.position.y,i=this.midPoint.x,r=this.midPoint.y;if(e!==i||t!==r){var s=o(this.motionFactor,i,e),l=o(this.motionFactor,r,t);a(s,e,.1)&&(s=e),a(l,t,.1)&&(l=t),this.midPoint.set(s,l);var h=e-s,u=t-l;this.velocity.set(h,u),this.angle=n(s,l,e,t),this.distance=Math.sqrt(h*h+u*u)}},up:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),0===e.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=e.timeStamp,this.wasTouch=!1)},down:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),0===e.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),h.macOS&&e.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=e.timeStamp),this.wasTouch=!1},move:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.locked&&(this.movementX=e.movementX||e.mozMovementX||e.webkitMovementX||0,this.movementY=e.movementY||e.mozMovementY||e.webkitMovementY||0),this.moveTime=e.timeStamp,this.wasTouch=!1},wheel:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.deltaZ=e.deltaZ,this.wasTouch=!1},touchstart:function(e,t){e.pointerId&&(this.pointerId=e.pointerId),this.identifier=e.identifier,this.target=e.target,this.active=!0,this.buttons=1,this.event=t,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=t.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(e,t){this.event=t,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.moveTime=t.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.buttons?0===this.button&&!this.isDown:0===this.button},rightButtonReleased:function(){return 0===this.buttons?2===this.button&&!this.isDown:2===this.button},middleButtonReleased:function(){return 0===this.buttons?1===this.button&&!this.isDown:1===this.button},backButtonReleased:function(){return 0===this.buttons?3===this.button&&!this.isDown:3===this.button},forwardButtonReleased:function(){return 0===this.buttons?4===this.button&&!this.isDown:4===this.button},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?n(this.downX,this.downY,this.x,this.y):n(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(e,t){void 0===e&&(e=10),void 0===t&&(t=[]);for(var i=this.prevPosition.x,n=this.prevPosition.y,r=this.position.x,s=this.position.y,a=0;a<e;a++){var l=1/e*a;t[a]={x:o(l,i,r),y:o(l,n,s)}}return t},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},time:{get:function(){return this.event?this.event.timeStamp:0}}});e.exports=u},93301:e=>{e.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="boot"},85375:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},39843:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragend"},23388:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragenter"},16133:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drag"},27829:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragleave"},53904:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragover"},56058:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragstart"},2642:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drop"},88171:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectdown"},36147:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragend"},71692:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragenter"},96149:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drag"},81285:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragleave"},74048:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragover"},21322:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragstart"},49378:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drop"},86754:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectmove"},86433:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectout"},60709:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectover"},24081:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerdown"},11172:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointermove"},18907:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerout"},95579:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerover"},35368:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerup"},26972:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="wheel"},47078:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectup"},73802:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectwheel"},56718:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameout"},25936:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameover"},27503:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="boot"},50852:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="process"},96438:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="update"},59152:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerlockchange"},47777:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerdown"},27957:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerdownoutside"},19444:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointermove"},54251:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerout"},18667:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerover"},27192:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerup"},24652:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerupoutside"},45132:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="wheel"},44512:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="preupdate"},15757:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="shutdown"},41637:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},93802:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="update"},8214:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t){this.pad=e,this.events=e.events,this.index=t,this.value=0,this.threshold=.1},update:function(e){this.value=e},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});e.exports=n},28884:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92734),s=new n({initialize:function(e,t){this.pad=e,this.events=e.manager,this.index=t,this.value=0,this.threshold=1,this.pressed=!1},update:function(e){this.value=e;var t=this.pad,i=this.index;e>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(r.BUTTON_DOWN,t,this,e),this.pad.emit(r.GAMEPAD_BUTTON_DOWN,i,e,this)):this.pressed&&(this.pressed=!1,this.events.emit(r.BUTTON_UP,t,this,e),this.pad.emit(r.GAMEPAD_BUTTON_UP,i,e,this))},destroy:function(){this.pad=null,this.events=null}});e.exports=s},99125:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(97421),r=i(28884),s=i(83419),a=i(50792),o=i(26099),l=new s({Extends:a,initialize:function(e,t){a.call(this),this.manager=e,this.pad=t,this.id=t.id,this.index=t.index;for(var i=[],s=0;s<t.buttons.length;s++)i.push(new r(this,s));this.buttons=i;var l=[];for(s=0;s<t.axes.length;s++)l.push(new n(this,s));this.axes=l,this.vibration=t.vibrationActuator;var h={value:0,pressed:!1};this._LCLeft=i[14]?i[14]:h,this._LCRight=i[15]?i[15]:h,this._LCTop=i[12]?i[12]:h,this._LCBottom=i[13]?i[13]:h,this._RCLeft=i[2]?i[2]:h,this._RCRight=i[1]?i[1]:h,this._RCTop=i[3]?i[3]:h,this._RCBottom=i[0]?i[0]:h,this._FBLeftTop=i[4]?i[4]:h,this._FBLeftBottom=i[6]?i[6]:h,this._FBRightTop=i[5]?i[5]:h,this._FBRightBottom=i[7]?i[7]:h;var u={value:0};this._HAxisLeft=l[0]?l[0]:u,this._VAxisLeft=l[1]?l[1]:u,this._HAxisRight=l[2]?l[2]:u,this._VAxisRight=l[3]?l[3]:u,this.leftStick=new o,this.rightStick=new o,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(e){return this.axes[e].getValue()},setAxisThreshold:function(e){for(var t=0;t<this.axes.length;t++)this.axes[t].threshold=e},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(e){return this.buttons[e].value},isButtonDown:function(e){return this.buttons[e].pressed},update:function(e){if(!(e.timestamp<this._created)){var t,i=this.buttons,n=e.buttons,r=i.length;for(t=0;t<r;t++)i[t].update(n[t].value);var s=this.axes,a=e.axes;for(t=0,r=s.length;t<r;t++)s[t].update(a[t]);r>=2&&(this.leftStick.set(s[0].getValue(),s[1].getValue()),r>=4&&this.rightStick.set(s[2].getValue(),s[3].getValue()))}},destroy:function(){var e;for(this.removeAllListeners(),this.manager=null,this.pad=null,e=0;e<this.buttons.length;e++)this.buttons[e].destroy();for(e=0;e<this.axes.length;e++)this.axes[e].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});e.exports=l},56654:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(92734),a=i(99125),o=i(35154),l=i(89639),h=i(8214),u=new n({Extends:r,initialize:function(e){r.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,e.pluginEvents.once(h.BOOT,this.boot,this),e.pluginEvents.on(h.START,this.start,this)},boot:function(){var e=this.scene.sys.game,t=this.settings.input,i=e.config;this.enabled=o(t,"gamepad",i.inputGamepad)&&e.device.input.gamepads,this.target=o(t,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,t=this.target,i=function(t){!t.defaultPrevented&&e.isActive()&&(e.refreshPads(),e.queue.push(t))};this.onGamepadHandler=i,t.addEventListener("gamepadconnected",i,!1),t.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update);for(var e=0;e<this.gamepads.length;e++)this.gamepads[e].removeAllListeners()},disconnectAll:function(){for(var e=0;e<this.gamepads.length;e++)this.gamepads[e].pad.connected=!1},refreshPads:function(){var e=navigator.getGamepads();if(e)for(var t=this.gamepads,i=0;i<e.length;i++){var n=e[i];if(n){var r=n.id,s=n.index,o=t[s];if(o)o.id!==r?(o.destroy(),t[s]=new a(this,n)):o.update(n);else{var l=new a(this,n);t[s]=l,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=l):this._pad3=l:this._pad2=l:this._pad1=l}}}else this.disconnectAll()},getAll:function(){for(var e=[],t=this.gamepads,i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},getPad:function(e){for(var t=this.gamepads,i=0;i<t.length;i++)if(t[i]&&t[i].index===e)return t[i]},update:function(){if(this.enabled){this.refreshPads();var e=this.queue.length;if(0!==e)for(var t=this.queue.splice(0,e),i=0;i<e;i++){var n=t[i],r=this.getPad(n.gamepad.index);"gamepadconnected"===n.type?this.emit(s.CONNECTED,r,n):"gamepaddisconnected"===n.type&&this.emit(s.DISCONNECTED,r,n)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var e=0;e<this.gamepads.length;e++)this.gamepads[e]&&this.gamepads[e].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});l.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),e.exports=u},89651:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="down"},7629:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="up"},42206:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="connected"},86544:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="disconnected"},94784:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="down"},14325:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="up"},92734:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(93301),r=i(79291),s={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};s=r(!1,s,n),e.exports=s},78970:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(72905),r=i(83419),s=i(8443),a=i(8214),o=i(46032),l=i(29747),h=new r({initialize:function(e){this.manager=e,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=l,this.onKeyUp=l,e.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputKeyboard,this.target=e.inputKeyboardEventTarget,this.addCapture(e.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var e=this;this.onKeyDown=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.events.emit(a.MANAGER_PROCESS);var i=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!i&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}},this.onKeyUp=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.events.emit(a.MANAGER_PROCESS);var i=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!i&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}};var t=this.target;t&&(t.addEventListener("keydown",this.onKeyDown,!1),t.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var e=this.target;e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(e){"string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,i=0;i<e.length;i++){var n=e[i];"string"==typeof n&&(n=o[n.trim().toUpperCase()]),-1===t.indexOf(n)&&t.push(n)}this.preventDefault=t.length>0},removeCapture:function(e){"string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,i=0;i<e.length;i++){var r=e[i];"string"==typeof r&&(r=o[r.toUpperCase()]),n(t,r)}this.preventDefault=t.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});e.exports=h},28846:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(95922),a=i(8443),o=i(35154),l=i(8214),h=i(89639),u=i(30472),c=i(46032),d=i(87960),f=i(74600),p=i(44594),m=i(56583),g=new n({Extends:r,initialize:function(e){r.call(this),this.game=e.systems.game,this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.manager=e.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,e.pluginEvents.once(l.BOOT,this.boot,this),e.pluginEvents.on(l.START,this.start,this)},boot:function(){var e=this.settings.input;this.enabled=o(e,"keyboard",!0);var t=o(e,"keyboard.capture",null);t&&this.addCaptures(t),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(l.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(p.PAUSE,this.resetKeys,this),this.scene.sys.events.on(p.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(e){return this.manager.addCapture(e),this},removeCapture:function(e){return this.manager.removeCapture(e),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:c.UP,down:c.DOWN,left:c.LEFT,right:c.RIGHT,space:c.SPACE,shift:c.SHIFT})},addKeys:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var n={};if("string"==typeof e){e=e.split(",");for(var r=0;r<e.length;r++){var s=e[r].trim();s&&(n[s]=this.addKey(s,t,i))}}else for(var a in e)n[a]=this.addKey(e[a],t,i);return n},addKey:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var n=this.keys;if(e instanceof u){var r=n.indexOf(e);return r>-1?n[r]=e:n[e.keyCode]=e,t&&this.addCapture(e.keyCode),e.setEmitOnRepeat(i),e}return"string"==typeof e&&(e=c[e.toUpperCase()]),n[e]||(n[e]=new u(this,e),t&&this.addCapture(e),n[e].setEmitOnRepeat(i)),n[e]},removeKey:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n,r=this.keys;if(e instanceof u){var s=r.indexOf(e);s>-1&&(n=this.keys[s],this.keys[s]=void 0)}else"string"==typeof e&&(e=c[e.toUpperCase()]);return r[e]&&(n=r[e],r[e]=void 0),n&&(n.plugin=null,i&&this.removeCapture(n.keyCode),t&&n.destroy()),this},removeAllKeys:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var i=this.keys,n=0;n<i.length;n++){var r=i[n];r&&(i[n]=void 0,t&&this.removeCapture(r.keyCode),e&&r.destroy())}return this},createCombo:function(e,t){return new d(this,e,t)},checkDown:function(e,t){if(void 0===t&&(t=0),this.enabled&&e.isDown){var i=m(this.time-e.timeDown,t);if(i>e._tick)return e._tick=i,!0}return!1},update:function(){var e=this.manager.queue,t=e.length;if(this.isActive()&&0!==t)for(var i=this.keys,n=0;n<t;n++){var r=e[n],a=r.keyCode,o=i[a],l=!1;void 0===r.cancelled&&(r.cancelled=0,r.stopImmediatePropagation=function(){r.cancelled=1},r.stopPropagation=function(){r.cancelled=-1}),-1!==r.cancelled&&(a!==this.prevCode||r.timeStamp!==this.prevTime||r.type!==this.prevType)&&(this.prevCode=a,this.prevTime=r.timeStamp,this.prevType=r.type,"keydown"===r.type?(o&&(l=o.isDown,o.onDown(r)),r.cancelled||o&&l||(f[a]&&this.emit(s.KEY_DOWN+f[a],r),r.cancelled||this.emit(s.ANY_KEY_DOWN,r))):(o&&o.onUp(r),r.cancelled||(f[a]&&this.emit(s.KEY_UP+f[a],r),r.cancelled||this.emit(s.ANY_KEY_UP,r))),1===r.cancelled&&(r.cancelled=0))}},resetKeys:function(){for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(l.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(p.PAUSE,this.resetKeys,this),this.scene.sys.events.off(p.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});h.register("KeyboardPlugin",g,"keyboard","keyboard","inputKeyboard"),e.exports=g},66970:e=>{e.exports=function(e,t){return t.timeLastMatched=e.timeStamp,t.index++,t.index===t.size||(t.current=t.keyCodes[t.index],!1)}},87960:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95922),s=i(95540),a=i(68769),o=i(92803),l=new n({initialize:function(e,t,i){if(void 0===i&&(i={}),t.length<2)return!1;this.manager=e,this.enabled=!0,this.keyCodes=[];for(var n=0;n<t.length;n++){var l=t[n];"string"==typeof l?this.keyCodes.push(l.toUpperCase().charCodeAt(0)):"number"==typeof l?this.keyCodes.push(l):l.hasOwnProperty("keyCode")&&this.keyCodes.push(l.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(i,"resetOnWrongKey",!0),this.maxKeyDelay=s(i,"maxKeyDelay",0),this.resetOnMatch=s(i,"resetOnMatch",!1),this.deleteOnMatch=s(i,"deleteOnMatch",!1);var h=this;this.onKeyDown=function(e){!h.matched&&h.enabled&&a(e,h)&&(h.manager.emit(r.COMBO_MATCH,h,e),h.resetOnMatch?o(h):h.deleteOnMatch&&h.destroy())},this.manager.on(r.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(r.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});e.exports=l},68769:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66970);e.exports=function(e,t){if(t.matched)return!0;var i=!1,r=!1;if(e.keyCode===t.current){if(t.index>0&&t.maxKeyDelay>0){var s=t.timeLastMatched+t.maxKeyDelay;e.timeStamp<=s&&(r=!0,i=n(e,t))}else r=!0,i=n(e,t)}return!r&&t.resetOnWrongKey&&(t.index=0,t.current=t.keyCodes[0]),i&&(t.timeLastMatched=e.timeStamp,t.matched=!0,t.timeMatched=e.timeStamp),i}},92803:e=>{e.exports=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e}},92612:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keydown"},23345:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keyup"},21957:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keycombomatch"},44743:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="down"},3771:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keydown-"},46358:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keyup-"},75674:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="up"},95922:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:e=>{e.exports=function(e,t){void 0===t&&(t=50);var i=e.plugin.game.loop.time-e.timeDown;return e.isDown&&i<t}},90229:e=>{e.exports=function(e){return!!e._justDown&&(e._justDown=!1,!0)}},38796:e=>{e.exports=function(e){return!!e._justUp&&(e._justUp=!1,!0)}},30472:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(95922),a=new n({Extends:r,initialize:function(e,t){r.call(this),this.plugin=e,this.keyCode=t,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(e){return this.emitOnRepeat=e,this},onDown:function(e){this.originalEvent=e,this.enabled&&(this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.location=e.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,e):(this.isDown=!0,this.isUp=!1,this.timeDown=e.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,e)))},onUp:function(e){this.originalEvent=e,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=e.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,e))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});e.exports=a},46032:e=>{e.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(46032),r={};for(var s in n)r[n[s]]=s;e.exports=r},41170:e=>{e.exports=function(e,t){void 0===t&&(t=50);var i=e.plugin.game.loop.time-e.timeUp;return e.isUp&&i<t}},85098:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89357),s=i(8214),a=i(29747),o=new n({initialize:function(e){this.manager=e,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,e.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(r.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){r.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var t=this,i=this.manager,n=i.canvas,s=window&&window.focus&&i.game.config.autoFocus;this.onMouseMove=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onMouseMove(e),t.preventDefaultMove&&e.preventDefault())},this.onMouseDown=function(e){s&&window.focus(),!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onMouseDown(e),t.preventDefaultDown&&e.target===n&&e.preventDefault())},this.onMouseDownWindow=function(e){(!e.sourceCapabilities||!e.sourceCapabilities.firesTouchEvents)&&!e.defaultPrevented&&t.enabled&&i&&i.enabled&&e.target!==n&&i.onMouseDown(e)},this.onMouseUp=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onMouseUp(e),t.preventDefaultUp&&e.target===n&&e.preventDefault())},this.onMouseUpWindow=function(e){(!e.sourceCapabilities||!e.sourceCapabilities.firesTouchEvents)&&!e.defaultPrevented&&t.enabled&&i&&i.enabled&&e.target!==n&&i.onMouseUp(e)},this.onMouseOver=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&i.setCanvasOver(e)},this.onMouseOut=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&i.setCanvasOut(e)},this.onMouseWheel=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&i.onMouseWheel(e),t.preventDefaultWheel&&e.target===n&&e.preventDefault()};var a={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,a),e.addEventListener("mouseout",this.onMouseOut,a),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,a),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,a),window.top.addEventListener("mouseup",this.onMouseUpWindow,a)}catch(e){window.addEventListener("mousedown",this.onMouseDownWindow,a),window.addEventListener("mouseup",this.onMouseUpWindow,a),this.isTop=!1}r.pointerLock&&(this.pointerLockChange=function(e){var n=t.target;t.locked=document.pointerLockElement===n||document.mozPointerLockElement===n||document.webkitPointerLockElement===n,i.onPointerLockChange(e)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&((e=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),r.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=o},87078:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={MouseManager:i(85098)}},36210:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(8214),s=i(29747),a=new n({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.isTop=!0,e.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputTouch,this.target=e.inputTouchEventTarget,this.capture=e.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},startListeners:function(){var e=this.target;if(e){var t=this,i=this.manager,n=i.canvas,r=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onTouchMove(e),t.capture&&e.cancelable&&e.preventDefault())},this.onTouchStart=function(e){r&&window.focus(),!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onTouchStart(e),t.capture&&e.cancelable&&e.target===n&&e.preventDefault())},this.onTouchStartWindow=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&e.target!==n&&i.onTouchStart(e)},this.onTouchEnd=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onTouchEnd(e),t.capture&&e.cancelable&&e.target===n&&e.preventDefault())},this.onTouchEndWindow=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&e.target!==n&&i.onTouchEnd(e)},this.onTouchCancel=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onTouchCancel(e),t.capture&&e.preventDefault())},this.onTouchCancelWindow=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&i.onTouchCancel(e)};var s=this.capture,a={passive:!0},o={passive:!1};if(e.addEventListener("touchstart",this.onTouchStart,s?o:a),e.addEventListener("touchmove",this.onTouchMove,s?o:a),e.addEventListener("touchend",this.onTouchEnd,s?o:a),e.addEventListener("touchcancel",this.onTouchCancel,s?o:a),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,o),window.top.addEventListener("touchend",this.onTouchEndWindow,o),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,o)}catch(e){window.addEventListener("touchstart",this.onTouchStartWindow,o),window.addEventListener("touchend",this.onTouchEndWindow,o),window.addEventListener("touchcancel",this.onTouchCancelWindow,o),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("touchcancel",this.onTouchCancel),window&&((e=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),e.removeEventListener("touchend",this.onTouchEndWindow),e.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=a},95618:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={TouchManager:i(36210)}},41299:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(54899),a=i(95540),o=i(98356),l=i(3374),h=i(84376),u=i(92638),c=new n({initialize:function(e,t){if(this.loader=e,this.cache=a(t,"cache",!1),this.type=a(t,"type",!1),!this.type)throw Error("Invalid File type: "+this.type);this.key=a(t,"key",!1);var i=this.key;if(e.prefix&&""!==e.prefix&&(this.key=e.prefix+i),!this.key)throw Error("Invalid File key: "+this.key);var n=a(t,"url");void 0===n?n=e.path+i+"."+a(t,"extension",""):"string"!=typeof n||n.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)||(n=e.path+n),this.url=n,this.src="",this.xhrSettings=u(a(t,"responseType",void 0)),a(t,"xhrSettings",!1)&&(this.xhrSettings=l(this.xhrSettings,a(t,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?r.FILE_POPULATED:r.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(t,"config",{}),this.multiFile,this.linkFile,this.base64="string"==typeof n&&0===n.indexOf("data:"),this.retryAttempts=a(t,"maxRetries",e.maxRetries)},setLink:function(e){this.linkFile=e,e.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===r.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=r.FILE_LOADING,this.src=o(this,this.loader.baseURL),!this.src)throw Error("URL Error in File: "+this.key+" from: "+this.url);0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=h(this,this.loader.xhr)}},onLoad:function(e,t){var i=e.responseURL&&this.loader.localSchemes.some(function(t){return 0===e.responseURL.indexOf(t)})&&0===t.target.status,n=!(t.target&&200!==t.target.status)||i;4===e.readyState&&e.status>=400&&e.status<=599&&(n=!1),this.state=r.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,n)},onBase64Load:function(e){this.xhrLoader=e,this.state=r.FILE_LOADED,this.percentComplete=1,this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(e){e.lengthComputable&&(this.bytesLoaded=e.loaded,this.bytesTotal=e.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=r.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=r.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=r.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(e){if(this.state!==r.FILE_PENDING_DESTROY){void 0===e&&(e=this.data);var t=this.key,i=this.type;this.loader.emit(s.FILE_COMPLETE,t,i,e),this.loader.emit(s.FILE_KEY_COMPLETE+i+"-"+t,t,i,e),this.loader.flagForRemoval(this),this.state=r.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(e,t,i){if("function"==typeof URL)e.src=URL.createObjectURL(t);else{var n=new FileReader;n.onload=function(){e.removeAttribute("crossOrigin"),e.src="data:"+(t.type||i)+";base64,"+n.result.split(",")[1]},n.onerror=e.onerror,n.readAsDataURL(t)}},c.revokeObjectURL=function(e){"function"==typeof URL&&URL.revokeObjectURL(e.src)},e.exports=c},74099:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={};e.exports={install:function(e){for(var i in t)e[i]=t[i]},register:function(e,i){t[e]=i},destroy:function(){t={}}}},98356:e=>{e.exports=function(e,t){return!!e.url&&(e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:t+e.url)}},74261:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(35072),a=i(50792),o=i(54899),l=i(74099),h=i(95540),u=i(35154),c=i(41212),d=i(37277),f=i(44594),p=i(92638),m=new n({Extends:a,initialize:function(e){a.call(this);var t=e.sys.game.config,i=e.sys.settings.loader;this.scene=e,this.systems=e.sys,this.cacheManager=e.sys.cache,this.textureManager=e.sys.textures,this.sceneManager=e.sys.game.scene,l.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(h(i,"baseURL",t.loaderBaseURL)),this.setPath(h(i,"path",t.loaderPath)),this.setPrefix(h(i,"prefix",t.loaderPrefix)),this.maxParallelDownloads=h(i,"maxParallelDownloads",t.loaderMaxParallelDownloads),this.xhr=p(h(i,"responseType",t.loaderResponseType),h(i,"async",t.loaderAsync),h(i,"user",t.loaderUser),h(i,"password",t.loaderPassword),h(i,"timeout",t.loaderTimeout),h(i,"withCredentials",t.loaderWithCredentials)),this.crossOrigin=h(i,"crossOrigin",t.loaderCrossOrigin),this.imageLoadType=h(i,"imageLoadType",t.loaderImageLoadType),this.localSchemes=h(i,"localScheme",t.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=r.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=h(i,"maxRetries",t.loaderMaxRetries),e.sys.events.once(f.BOOT,this.boot,this),e.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(e){return void 0===e&&(e=""),""!==e&&"/"!==e.substr(-1)&&(e=e.concat("/")),this.baseURL=e,this},setPath:function(e){return void 0===e&&(e=""),""!==e&&"/"!==e.substr(-1)&&(e=e.concat("/")),this.path=e,this},setPrefix:function(e){return void 0===e&&(e=""),this.prefix=e,this},setCORS:function(e){return this.crossOrigin=e,this},addFile:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];!this.keyExists(i)&&(this.list.set(i),this.emit(o.ADD,i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(e){var t=e.hasCacheConflict();return t||this.list.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1}),!t&&this.isLoading()&&(this.inflight.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1}),this.queue.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1})),t},addPack:function(e,t){if("string"==typeof t){var i=u(e,t);i&&(e={packKey:i})}var n=0,r=this.baseURL,s=this.path,a=this.prefix;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=e[o],c=h(l,"baseURL",r),d=h(l,"path",s),f=h(l,"prefix",a),p=h(l,"files",null),m=h(l,"defaultType","void");if(Array.isArray(p)){this.setBaseURL(c),this.setPath(d),this.setPrefix(f);for(var g=0;g<p.length;g++){var v=p[g],y=v.hasOwnProperty("type")?v.type:m;this[y]&&(this[y](v),n++)}}}return this.setBaseURL(r),this.setPath(s),this.setPrefix(a),n>0},removePack:function(e,t){var i,n=this.systems.anims,r=this.cacheManager,s=this.textureManager,a={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};if(c(e))i=e;else if(!(i=r.json.get(e))){console.warn("Asset Pack not found in JSON cache:",e);return}for(var o in t&&(i={_:i[t]}),i){var l=i[o],u=h(l,"prefix",""),d=h(l,"files"),f=h(l,"defaultType");if(Array.isArray(d))for(var p=0;p<d.length;p++){var m=d[p],g=m.hasOwnProperty("type")?m.type:f;if(!g){console.warn("No type:",m);continue}var v=u+m.key;if("animation"===g&&n.remove(v),"aseprite"!==g&&"atlas"!==g&&"atlasXML"!==g&&"htmlTexture"!==g&&"image"!==g&&"multiatlas"!==g&&"spritesheet"!==g&&"svg"!==g&&"texture"!==g&&"unityAtlas"!==g||(s.remove(v),a[g])){if("pack"===g){this.removePack(v,m.dataKey);continue}if("spine"===g){var y=r.custom.spine.get(v);if(!y)continue;var b=void 0===y.prefix?"":y.prefix;r.custom.spine.remove(v);var x=r.custom.spineTextures.get(v);if(!x)continue;r.custom.spineTextures.remove(v);for(var E=0;E<x.pages.length;E++){var w=b+x.pages[E].name,S=v+":"+w;s.exists(S)?s.remove(S):s.remove(w)}}var T=a[g];if(null!==T){if(!T){console.warn("Unknown type:",g);continue}r[T].remove(v)}}}}},isLoading:function(){return this.state===r.LOADER_LOADING||this.state===r.LOADER_PROCESSING},isReady:function(){return this.state===r.LOADER_IDLE||this.state===r.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),0===this.list.size?this.loadComplete():(this.state=r.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===r.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(e){if((e.state===r.FILE_POPULATED||e.state===r.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(e),this.list.delete(e),e.crossOrigin||(e.crossOrigin=this.crossOrigin),e.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(e,t){this.inflight&&(this.inflight.delete(e),this.updateProgress(),t?(this.totalComplete++,this.queue.set(e),this.emit(o.FILE_LOAD,e),e.onProcess()):(this.totalFailed++,this._deleteQueue.set(e),this.emit(o.FILE_LOAD_ERROR,e),this.fileProcessComplete(e)))},fileProcessComplete:function(e){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(e.state===r.FILE_ERRORED?e.multiFile&&e.multiFile.onFileFailed(e):e.state===r.FILE_COMPLETE&&(e.multiFile?e.multiFile.isReadyToProcess()&&(e.multiFile.addToCache(),e.multiFile.pendingDestroy()):(e.addToCache(),e.pendingDestroy())),this.queue.delete(e),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=r.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(e){this._deleteQueue.set(e)},saveJSON:function(e,t){return this.save(JSON.stringify(e),t)},save:function(e,t,i){void 0===t&&(t="file.json"),void 0===i&&(i="application/json");var n=new Blob([e],{type:i}),r=URL.createObjectURL(n),s=document.createElement("a");return s.download=t,s.textContent="Download "+t,s.href=r,s.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var e=this.systems.game.config,t=this.systems.settings.loader;this.setBaseURL(h(t,"baseURL",e.loaderBaseURL)),this.setPath(h(t,"path",e.loaderPath)),this.setPrefix(h(t,"prefix",e.loaderPrefix)),this.state=r.LOADER_IDLE},shutdown:function(){this.reset(),this.state=r.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=r.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});d.register("Loader",m,"load"),e.exports=m},3374:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(92638);e.exports=function(e,t){var i=void 0===e?r():n({},e);if(t)for(var s in t)void 0!==t[s]&&(i[s]=t[s]);return i}},26430:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(54899),a=new n({initialize:function(e,t,i,n){var s=[];n.forEach(function(e){e&&s.push(e)}),this.loader=e,this.type=t,this.key=i;var a=this.key;e.prefix&&""!==e.prefix&&(this.key=e.prefix+a),this.multiKeyIndex=e.multiKeyIndex++,this.files=s,this.state=r.FILE_PENDING,this.complete=!1,this.pending=s.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var o=0;o<s.length;o++)s[o].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(e){return this.files.push(e),e.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(e){-1!==this.files.indexOf(e)&&this.pending--},onFileFailed:function(e){-1!==this.files.indexOf(e)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,e.type,e.key))},pendingDestroy:function(){if(this.state!==r.FILE_PENDING_DESTROY){var e=this.key,t=this.type;this.loader.emit(s.FILE_COMPLETE,e,t),this.loader.emit(s.FILE_KEY_COMPLETE+t+"-"+e,e,t),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=r.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});e.exports=a},84376:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(3374);e.exports=function(e,t){var i=n(t,e.xhrSettings);if(e.base64){var r={responseText:atob(e.url.split(";base64,").pop()||e.url.split(",").pop())};e.onBase64Load(r);return}var s=new XMLHttpRequest;if(s.open("GET",e.src,i.async,i.user,i.password),s.responseType=e.xhrSettings.responseType,s.timeout=i.timeout,i.headers)for(var a in i.headers)s.setRequestHeader(a,i.headers[a]);return i.header&&i.headerValue&&s.setRequestHeader(i.header,i.headerValue),i.requestedWith&&s.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&s.overrideMimeType(i.overrideMimeType),i.withCredentials&&(s.withCredentials=!0),s.onload=e.onLoad.bind(e,s),s.onerror=e.onError.bind(e,s),s.onprogress=e.onProgress.bind(e),s.ontimeout=e.onError.bind(e,s),s.send(),s}},92638:e=>{e.exports=function(e,t,i,n,r,s){return void 0===e&&(e=""),void 0===t&&(t=!0),void 0===i&&(i=""),void 0===n&&(n=""),void 0===r&&(r=0),void 0===s&&(s=!1),{responseType:e,async:t,user:i,password:n,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}}},23906:e=>{e.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addfile"},38991:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},27540:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="filecomplete"},87464:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="filecomplete-"},94486:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="loaderror"},13035:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="load"},38144:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="fileprogress"},97520:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postprocess"},85595:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="progress"},55680:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},54899:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(518),a=i(54899),o=new n({Extends:s,initialize:function(e,t,i,n,r){s.call(this,e,t,i,n,r),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});r.register("animation",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,n,i));return this}),e.exports=o},76272:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),l=i(518),h=i(26430),u=new n({Extends:h,initialize:function(e,t,i,n,r,u){if(o(t)){var c,d,f=t;c=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new l(e,{key:t,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","json"),xhrSettings:s(f,"atlasXhrSettings")})}else c=new a(e,t,i,r),d=new l(e,t,n,u);c.linkFile?h.call(this,e,"atlasjson",t,[c,d,c.linkFile]):h.call(this,e,"atlasjson",t,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});r.register("aseprite",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new u(this,e[a]),this.addFile(s.files);else s=new u(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=u},38734:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),l=i(518),h=i(26430),u=new n({Extends:h,initialize:function(e,t,i,n,r,u){if(o(t)){var c,d,f=t;c=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new l(e,{key:t,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","json"),xhrSettings:s(f,"atlasXhrSettings")})}else c=new a(e,t,i,r),d=new l(e,t,n,u);c.linkFile?h.call(this,e,"atlasjson",t,[c,d,c.linkFile]):h.call(this,e,"atlasjson",t,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,t.data,i),this.complete=!0}}});r.register("atlas",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new u(this,e[a]),this.addFile(s.files);else s=new u(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=u},74599:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),l=i(26430),h=i(57318),u=new n({Extends:l,initialize:function(e,t,i,n,r,u){if(o(t)){var c,d,f=t;c=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new h(e,{key:t,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","xml"),xhrSettings:s(f,"atlasXhrSettings")})}else c=new a(e,t,i,r),d=new h(e,t,n,u);c.linkFile?l.call(this,e,"atlasxml",t,[c,d,c.linkFile]):l.call(this,e,"atlasxml",t,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(e.key,e.data,t.data,i),this.complete=!0}}});r.register("atlasXML",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new u(this,e[a]),this.addFile(s.files);else s=new u(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=u},21097:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(89749),h=i(41212),u=new n({Extends:s,initialize:function(e,t,i,n,r){if(h(t)){var a=t;t=o(a,"key"),n=o(a,"xhrSettings"),r=o(a,"context",r)}var l={type:"audio",cache:e.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:t,url:i.url,xhrSettings:n,config:{context:r}};s.call(this,e,l)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(t){e.data=t,e.onProcessComplete()},function(t){console.error("Error decoding audio: "+e.key+" - ",t?t.message:null),e.onProcessError()}),this.config.context=null}});u.create=function(e,t,i,n,r){var s=e.systems.game,a=s.config.audio,c=s.device.audio;h(t)&&(i=o(t,"url",[]),n=o(t,"config",{}));var d=u.getAudioURL(s,i);return d?c.webAudio&&!a.disableWebAudio?new u(e,t,d,r,s.sound.context):new l(e,t,d,n):(console.warn('No audio URLs for "%s" can play on this device',t),null)},u.getAudioURL=function(e,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=o(t[i],"url",t[i]);if(0===n.indexOf("blob:")||0===n.indexOf("data:"))return{url:n,type:""};var r=n.match(/\.([a-zA-Z0-9]+)($|\?)/);if(r=o(t[i],"type",r?r[1]:"").toLowerCase(),e.device.audio[r])return{url:n,type:r}}return null},a.register("audio",function(e,t,i,n){var r,s=this.systems.game,a=s.config.audio,o=s.device.audio;if(a.noAudio||!o.webAudio&&!o.audioData)return this;if(Array.isArray(e))for(var l=0;l<e.length;l++)(r=u.create(this,e[l]))&&this.addFile(r);else(r=u.create(this,e,t,i,n))&&this.addFile(r);return this}),e.exports=u},89524:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(21097),r=i(83419),s=i(74099),a=i(95540),o=i(41212),l=i(518),h=i(26430),u=new r({Extends:h,initialize:function(e,t,i,r,s,u,c){if(o(t)){var d,f=t;t=a(f,"key"),i=a(f,"jsonURL"),r=a(f,"audioURL"),s=a(f,"audioConfig"),u=a(f,"audioXhrSettings"),c=a(f,"jsonXhrSettings")}if(r){var p=n.create(e,t,r,s,u);p&&(d=new l(e,t,i,c),h.call(this,e,"audiosprite",t,[p,d]),this.config.resourceLoad=!1)}else d=new l(e,t,i,c),h.call(this,e,"audiosprite",t,[d]),this.config.resourceLoad=!0,this.config.audioConfig=s,this.config.audioXhrSettings=u},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,this.config.resourceLoad&&"json"===e.type&&e.data.hasOwnProperty("resources"))){var t=e.data.resources,i=a(this.config,"audioConfig"),r=a(this.config,"audioXhrSettings"),s=n.create(this.loader,e.key,t,i,r);s&&(this.addToMultiFile(s),this.loader.addFile(s))}},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.complete=!0}}});s.register("audioSprite",function(e,t,i,n,r,s){var a,o=this.systems.game,l=o.config.audio,h=o.device.audio;if(l&&l.noAudio||!h.webAudio&&!h.audioData)return this;if(Array.isArray(e))for(var c=0;c<e.length;c++)(a=new u(this,e[c])).files&&this.addFile(a.files);else(a=new u(this,e,t,i,n,r,s)).files&&this.addFile(a.files);return this})},85722:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n,r){var a="bin";if(l(t)){var h=t;t=o(h,"key"),i=o(h,"url"),n=o(h,"xhrSettings"),a=o(h,"extension",a),r=o(h,"dataType",r)}var u={type:"binary",cache:e.cacheManager.binary,extension:a,responseType:"arraybuffer",key:t,url:i,xhrSettings:n,config:{dataType:r}};s.call(this,e,u)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this.config.dataType;this.data=e?new e(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new h(this,e[r]));else this.addFile(new h(this,e,t,n,i));return this}),e.exports=h},97025:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),l=i(26430),h=i(21859),u=i(57318),c=new n({Extends:l,initialize:function(e,t,i,n,r,h){if(o(t)){var c,d,f=t;c=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new u(e,{key:t,url:s(f,"fontDataURL"),extension:s(f,"fontDataExtension","xml"),xhrSettings:s(f,"fontDataXhrSettings")})}else c=new a(e,t,i,r),d=new u(e,t,n,h);c.linkFile?l.call(this,e,"bitmapfont",t,[c,d,c.linkFile]):l.call(this,e,"bitmapfont",t,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache();var i=e.cache.get(e.key),n=h(t.data,e.cache.getFrame(e.key),0,0,i);this.loader.cacheManager.bitmapFont.add(e.key,{data:n,texture:e.key,frame:null}),this.complete=!0}}});r.register("bitmapFont",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new c(this,e[a]),this.addFile(s.files);else s=new c(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=c},16024:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n){var r="css";if(l(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var h={type:"script",cache:!1,extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,h)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new h(this,e[n]));else this.addFile(new h(this,e,t,i));return this}),e.exports=h},69559:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(38734),r=i(85722),s=i(83419),a=i(74099),o=i(95540),l=i(19550),h=i(41212),u=i(518),c=i(31403),d=i(46975),f=i(59327),p=i(26430),m=i(82038),g=i(55222),v=new s({Extends:p,initialize:function(e,t,i,n){if(i.multiAtlasURL){var s=new u(e,{key:t,url:i.multiAtlasURL,xhrSettings:n,config:i});p.call(this,e,"texture",t,[s])}else{var a=i.textureURL.substr(i.textureURL.length-3);i.type||(i.type="ktx"===a.toLowerCase()?"KTX":"PVR");var o=new r(e,{key:t,url:i.textureURL,extension:a,xhrSettings:n,config:i});if(i.atlasURL){var l=new u(e,{key:t,url:i.atlasURL,xhrSettings:n,config:i});p.call(this,e,"texture",t,[o,l])}else p.call(this,e,"texture",t,[o])}this.config=i},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,this.config.multiAtlasURL&&"json"===e.type&&e.data.hasOwnProperty("textures"))){var t=e.data.textures,i=this.config,n=this.loader,s=n.baseURL,a=n.path,l=n.prefix,h=o(i,"multiBaseURL",this.baseURL),u=o(i,"multiPath",this.path),c=o(i,"prefix",this.prefix),d=o(i,"textureXhrSettings");h&&n.setBaseURL(h),u&&n.setPath(u),c&&n.setPrefix(c);for(var f=0;f<t.length;f++){var p=t[f].image,m="CMA"+this.multiKeyIndex+"_"+p,g=new r(n,m,p,d);if(this.addToMultiFile(g),n.addFile(g),t[f].normalMap){var v=new r(n,m,t[f].normalMap,d);v.type="normalMap",g.setLink(v),this.addToMultiFile(v),n.addFile(v)}}n.setBaseURL(s),n.setPath(a),n.setPrefix(l)}},addToCache:function(){function e(e){console.warn('Compressed Texture Invalid: "'+s.key+'". '+e)}if(this.isReadyToProcess()){var t=this.config;if(t.multiAtlasURL)this.addMultiToCache();else{var i,n=this.loader.systems.renderer,r=this.loader.textureManager,s=this.files[0],a=this.files[1];if("PVR"===t.type?i=m(s.data):"KTX"!==t.type||(i=c(s.data))||e("KTX file contains unsupported format."),i&&!g(i)&&(e("Texture dimensions failed verification. Check the texture format specifications for "+t.format+" 0x"+i.internalFormat.toString(16)+"."),i=null),i&&!n.supportsCompressedTexture(t.format,i.internalFormat)&&(e("Texture format "+t.format+" with internal format "+i.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),i=null),i){i.format=n.getCompressedTextureName(t.format,i.internalFormat);var o=a&&a.data?a.data:null;r.addCompressedTexture(s.key,i,o)}}this.complete=!0}},addMultiToCache:function(){for(var e,t=this.config,i=this.files[0],n=[],r=[],s=[],a=this.loader.systems.renderer,o=this.loader.textureManager,l=1;l<this.files.length;l++){var h=this.files[l];if("normalMap"!==h.type)for(var u=h.key.indexOf("_"),d=h.key.substr(u+1),f=h.data,p=0;p<i.data.textures.length;p++){var g=i.data.textures[p];if(g.image===d){"PVR"===t.type?e=m(f):"KTX"===t.type&&(e=c(f)),e&&a.supportsCompressedTexture(t.format,e.internalFormat)&&(e.format=a.getCompressedTextureName(t.format,e.internalFormat),r.push(e),n.push(g),h.linkFile&&s.push(h.linkFile.data));break}}}0===s.length&&(s=void 0),o.addAtlasJSONArray(this.key,r,n,s),this.complete=!0}});a.register("texture",function(e,t,i){var r=this.systems.renderer,s=function(e,t,i,s){var a,u={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(h(t)){var c=t;t=o(c,"key"),i=o(c,"url"),s=o(c,"xhrSettings")}var p=!1;for(var m in i)if(r.supportsCompressedTexture(m)){var g=i[m];"string"==typeof g?u.textureURL=g:u=d(g,u),u.format=m.toUpperCase(),p=!0;break}if(p){if("IMG"===u.format)a=u.multiAtlasURL?new f(e,t,u.multiAtlasURL,u.multiPath,u.multiBaseURL,s).files:u.atlasURL?new n(e,t,u.textureURL,u.atlasURL,s).files:new l(e,t,u.textureURL,s),e.addFile(a);else{var y=new v(e,t,u,s);e.addFile(y.files)}}else console.warn("No supported compressed texture format or IMG fallback",t)};if(Array.isArray(e))for(var a=0;a<e.length;a++)s(this,e[a]);else s(this,e,t,i);return this}),e.exports=v},87674:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(98356),h=i(41212),u=new n({Extends:s,initialize:function(e,t,i,n,a,l){var u="ttf";if(h(t)){var c=t;t=o(c,"key"),i=o(c,"url"),n=o(c,"format","truetype"),a=o(c,"descriptors",null),l=o(c,"xhrSettings"),u=o(c,"extension",u)}else void 0===n&&(n="truetype");var d={type:"font",cache:!1,extension:u,responseType:"text",key:t,url:i,xhrSettings:l};s.call(this,e,d),this.data={format:n,descriptors:a},this.state=r.FILE_POPULATED},onProcess:function(){this.state=r.FILE_PROCESSING,this.src=l(this,this.loader.baseURL);var e,t=this.key,i="url("+this.src+') format("'+this.data.format+'")';e=this.data.descriptors?new FontFace(t,i,this.data.descriptors):new FontFace(t,i);var n=this;e.load().then(function(){document.fonts.add(e),document.body.classList.add("fonts-loaded"),n.onProcessComplete()}).catch(function(){console.warn("Font failed to load",i),n.onProcessComplete()})}});a.register("font",function(e,t,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new u(this,e[s]));else this.addFile(new u(this,e,t,i,n,r));return this}),e.exports=u},47931:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=i(73894),u=new n({Extends:s,initialize:function(e,t,i,n,r){var a="glsl";if(l(t)){var h=t;t=o(h,"key"),i=o(h,"url"),n=o(h,"shaderType","fragment"),r=o(h,"xhrSettings"),a=o(h,"extension",a)}else void 0===n&&(n="fragment");var u={type:"glsl",cache:e.cacheManager.shader,extension:a,responseType:"text",key:t,url:i,config:{shaderType:n},xhrSettings:r};s.call(this,e,u)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.split("\n"),t=this.extractBlock(e,0);if(t)for(;t;){var i=this.getShaderName(t.header),n=this.getShaderType(t.header),r=this.getShaderUniforms(t.header),s=t.shader;if(this.cache.has(i)){var a=this.cache.get(i);"fragment"===n?a.fragmentSrc=s:a.vertexSrc=s,a.uniforms||(a.uniforms=r)}else"fragment"===n?this.cache.add(i,new h(i,s,"",r)):this.cache.add(i,new h(i,"",s,r));t=this.extractBlock(e,t.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new h(this.key,this.data)):this.cache.add(this.key,new h(this.key,"",this.data))},getShaderName:function(e){for(var t=0;t<e.length;t++){var i=e[t].trim();if("name:"===i.substring(0,5))return i.substring(5).trim()}return this.key},getShaderType:function(e){for(var t=0;t<e.length;t++){var i=e[t].trim();if("type:"===i.substring(0,5))return i.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(e){for(var t={},i=0;i<e.length;i++){var n=e[i].trim();if("uniform."===n.substring(0,8)){var r=n.indexOf(":");if(r){var s=n.substring(8,r);try{t[s]=JSON.parse(n.substring(r+1))}catch(e){console.warn("Invalid uniform JSON: "+s)}}}}return t},extractBlock:function(e,t){for(var i=-1,n=-1,r=-1,s=!1,a=!1,o=[],l=[],h=t;h<e.length;h++){var u=e[h].trim();if("---"===u){if(-1===i)i=h,s=!0;else if(s)n=h,s=!1,a=!0;else{a=!1;break}}else s?o.push(u):a&&(l.push(u),r=h)}return s||-1===n?null:{header:o,shader:l.join("\n"),offset:r}}});a.register("glsl",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new u(this,e[r]));else this.addFile(new u(this,e,t,i,n));return this}),e.exports=u},89749:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(54899),s=i(41299),a=i(95540),o=i(98356),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n){if(l(t)){var r=t;t=a(r,"key"),n=a(r,"config",n)}var o={type:"audio",cache:e.cacheManager.audio,extension:i.type,key:t,url:i.url,config:n};s.call(this,e,o),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];t.oncanplaythrough=null,t.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(e){var t=e.target;t.oncanplaythrough=null,t.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var e=this.config&&this.config.instances||1;this.filesTotal=e,this.filesLoaded=0,this.percentComplete=0;for(var t=0;t<e;t++){var i=new Audio;i.dataset||(i.dataset={}),i.dataset.name=this.key+("0"+t).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(t=0;t<this.data.length;t++)(i=this.data[t]).src=o(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});e.exports=h},88470:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n){var r="html";if(l(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var h={type:"text",cache:e.cacheManager.html,extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,h)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new h(this,e[n]));else this.addFile(new h(this,e,t,i));return this}),e.exports=h},14643:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n,r,a){void 0===n&&(n=512),void 0===r&&(r=512);var h="html";if(l(t)){var u=t;t=o(u,"key"),i=o(u,"url"),a=o(u,"xhrSettings"),h=o(u,"extension",h),n=o(u,"width",n),r=o(u,"height",r)}var c={type:"html",cache:e.textureManager,extension:h,responseType:"text",key:t,url:i,xhrSettings:a,config:{width:n,height:r}};s.call(this,e,c)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this.config.width,t=this.config.height,i=[];i.push('<svg width="'+e+'px" height="'+t+'px" viewBox="0 0 '+e+" "+t+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var n=[i.join("\n")],a=this;try{var o=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch(e){a.state=r.FILE_ERRORED,a.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(a.data),a.onProcessError()},s.createObjectURL(this.data,o,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(e,t,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i,n,r));return this}),e.exports=h},19550:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=i(98356),u=new n({Extends:s,initialize:function e(t,i,n,r,a){var h,u="png";if(l(i)){var c=i;i=o(c,"key"),n=o(c,"url"),h=o(c,"normalMap"),r=o(c,"xhrSettings"),u=o(c,"extension",u),a=o(c,"frameConfig")}Array.isArray(n)&&(h=n[1],n=n[0]);var d={type:"image",cache:t.textureManager,extension:u,responseType:"blob",key:i,url:n,xhrSettings:r,config:a};if(s.call(this,t,d),h){var f=new e(t,this.key,h,r,a);f.type="normalMap",this.setLink(f),t.addFile(f)}this.useImageElementLoad="HTMLImageElement"===t.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){s.revokeObjectURL(e.data),e.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(e.data),e.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var e=this.state;this.state=r.FILE_PROCESSING,e===r.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=r.FILE_LOADING,this.src=h(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){e.state=r.FILE_LOADED,e.loader.nextFile(e,!0)},this.data.onerror=function(){e.loader.nextFile(e,!1)},this.data.src=this.src},addToCache:function(){var e=this.linkFile;e?e.state>=r.FILE_COMPLETE&&("spritesheet"===e.type?e.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,e.data,this.data):this.cache.addImage(this.key,this.data,e.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new u(this,e[n]));else this.addFile(new u(this,e,t,i));return this}),e.exports=u},518:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(35154),h=i(41212),u=new n({Extends:s,initialize:function(e,t,i,n,a){var u="json";if(h(t)){var c=t;t=o(c,"key"),i=o(c,"url"),n=o(c,"xhrSettings"),u=o(c,"extension",u),a=o(c,"dataKey",a)}var d={type:"json",cache:e.cacheManager.json,extension:u,responseType:"text",key:t,url:i,xhrSettings:n,config:a};s.call(this,e,d),h(i)&&(a?this.data=l(i,a):this.data=i,this.state=r.FILE_POPULATED)},onProcess:function(){if(this.state!==r.FILE_POPULATED){this.state=r.FILE_PROCESSING;try{var e=JSON.parse(this.xhrLoader.responseText)}catch(e){throw this.onProcessError(),e}var t=this.config;"string"==typeof t?this.data=l(e,t,e):this.data=e}this.onProcessComplete()}});a.register("json",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new u(this,e[r]));else this.addFile(new u(this,e,t,n,i));return this}),e.exports=u},59327:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),l=i(518),h=i(26430),u=new n({Extends:h,initialize:function(e,t,i,n,r,a,u){if(o(t)){var c=t;t=s(c,"key"),i=s(c,"url",!1)?s(c,"url"):s(c,"atlasURL"),a=s(c,"xhrSettings"),n=s(c,"path"),r=s(c,"baseURL"),u=s(c,"textureXhrSettings")}var d=new l(e,t,i,a);h.call(this,e,"multiatlas",t,[d]),this.config.path=n,this.config.baseURL=r,this.config.textureXhrSettings=u},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,"json"===e.type&&e.data.hasOwnProperty("textures"))){var t=e.data.textures,i=this.config,n=this.loader,r=n.baseURL,o=n.path,l=n.prefix,h=s(i,"baseURL",this.baseURL),u=s(i,"path",this.path),c=s(i,"prefix",this.prefix),d=s(i,"textureXhrSettings");n.setBaseURL(h),n.setPath(u),n.setPrefix(c);for(var f=0;f<t.length;f++){var p=t[f].image,m="MA"+this.multiKeyIndex+"_"+p,g=new a(n,m,p,d);if(this.addToMultiFile(g),n.addFile(g),t[f].normalMap){var v=new a(n,m,t[f].normalMap,d);v.type="normalMap",g.setLink(v),this.addToMultiFile(v),n.addFile(v)}}n.setBaseURL(r),n.setPath(o),n.setPrefix(l)}},addToCache:function(){if(this.isReadyToProcess()){for(var e=this.files[0],t=[],i=[],n=[],r=1;r<this.files.length;r++){var s=this.files[r];if("normalMap"!==s.type)for(var a=s.key.indexOf("_"),o=s.key.substr(a+1),l=s.data,h=0;h<e.data.textures.length;h++){var u=e.data.textures[h];if(u.image===o){i.push(l),t.push(u),s.linkFile&&n.push(s.linkFile.data);break}}}0===n.length&&(n=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,t,n),this.complete=!0}}});r.register("multiatlas",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new u(this,e[a]),this.addFile(s.files);else s=new u(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=u},99297:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(41212),o=i(26430),l=i(34328),h=new n({Extends:o,initialize:function(e,t,i,n){var r="js",h=[];if(a(t)){var u=t;t=s(u,"key"),i=s(u,"url"),n=s(u,"xhrSettings"),r=s(u,"extension",r)}Array.isArray(i)||(i=[i]);for(var c=0;c<i.length;c++){var d=new l(e,{key:t+"_"+c.toString(),url:i[c],extension:r,xhrSettings:n});d.onProcess=function(){this.onProcessComplete()},h.push(d)}o.call(this,e,"scripts",t,h)},addToCache:function(){if(this.isReadyToProcess()){for(var e=0;e<this.files.length;e++){var t=this.files[e];t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=t.xhrLoader.responseText,document.head.appendChild(t.data)}this.complete=!0}}});r.register("scripts",function(e,t,i){var n;if(Array.isArray(e))for(var r=0;r<e.length;r++)n=new h(this,e[r]),this.addFile(n.files);else n=new h(this,e,t,i),this.addFile(n.files);return this}),e.exports=h},41846:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(41212),o=i(26430),l=i(85048),h=i(61485),u=i(78776),c=new n({Extends:o,initialize:function(e,t,i,n,r,l){var h,c,d=e.cacheManager.obj;if(a(t)){var f=t;h=new u(e,{key:t=s(f,"key"),type:"obj",cache:d,url:s(f,"url"),extension:s(f,"extension","obj"),xhrSettings:s(f,"xhrSettings"),config:{flipUV:s(f,"flipUV",r)}}),(n=s(f,"matURL"))&&(c=new u(e,{key:t,type:"mat",cache:d,url:n,extension:s(f,"matExtension","mat"),xhrSettings:s(f,"xhrSettings")}))}else h=new u(e,{key:t,url:i,type:"obj",cache:d,extension:"obj",xhrSettings:l,config:{flipUV:r}}),n&&(c=new u(e,{key:t,url:n,type:"mat",cache:d,extension:"mat",xhrSettings:l}));o.call(this,e,"obj",t,[h,c])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=l(e.data,e.config.flipUV);t&&(i.materials=h(t.data)),e.cache.add(e.key,i),this.complete=!0}}});r.register("obj",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new c(this,e[a]),this.addFile(s.files);else s=new c(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=c},58610:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(74099),a=i(518),o=new n({Extends:a,initialize:function(e,t,i,n,r){a.call(this,e,t,i,n,r),this.type="packfile"},onProcess:function(){if(this.state!==r.FILE_POPULATED&&(this.state=r.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,n,i));return this}),e.exports=o},48988:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n,a,h){var u="js";if(l(t)){var c=t;t=o(c,"key"),i=o(c,"url"),h=o(c,"xhrSettings"),u=o(c,"extension",u),n=o(c,"start"),a=o(c,"mapping")}var d={type:"plugin",cache:!1,extension:u,responseType:"text",key:t,url:i,xhrSettings:h,config:{start:n,mapping:a}};s.call(this,e,d),"function"==typeof i&&(this.data=i,this.state=r.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,i=o(t,"start",!1),n=o(t,"mapping",null);if(this.state===r.FILE_POPULATED)e.install(this.key,this.data,i,n);else{this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var s=e.install(this.key,window[this.key],i,n);(i||n)&&(this.loader.systems[n]=s,this.loader.scene[n]=s)}this.onProcessComplete()}});a.register("plugin",function(e,t,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i,n,r));return this}),e.exports=h},67397:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n,r){var a="svg";if(l(t)){var h=t;t=o(h,"key"),i=o(h,"url"),n=o(h,"svgConfig",{}),r=o(h,"xhrSettings"),a=o(h,"extension",a)}var u={type:"svg",cache:e.textureManager,extension:a,responseType:"text",key:t,url:i,xhrSettings:r,config:{width:o(n,"width"),height:o(n,"height"),scale:o(n,"scale")}};s.call(this,e,u)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this.xhrLoader.responseText,t=[e],i=this.config.width,n=this.config.height,a=this.config.scale;s:if(i&&n||a){var o=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("svg")[0],l=o.hasAttribute("viewBox"),h=parseFloat(o.getAttribute("width")),u=parseFloat(o.getAttribute("height"));if(!l&&h&&u)o.setAttribute("viewBox","0  0 "+h+" "+u);else if(l&&!h&&!u){var c=o.getAttribute("viewBox").split(/\s+|,/);h=c[2],u=c[3]}if(a){if(h&&u)i=h*a,n=u*a;else break s}o.setAttribute("width",i.toString()+"px"),o.setAttribute("height",n.toString()+"px"),t=[new XMLSerializer().serializeToString(o)]}try{var d=new window.Blob(t,{type:"image/svg+xml;charset=utf-8"})}catch(e){this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this,p=!1;this.data.onload=function(){p||s.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){p?f.onProcessError():(p=!0,s.revokeObjectURL(f.data),f.data.src="data:image/svg+xml,"+encodeURIComponent(t.join("")))},s.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new h(this,e[r]));else this.addFile(new h(this,e,t,i,n));return this}),e.exports=h},88423:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n){var r="js";if(l(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var h={type:"text",extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,h)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),t=eval;this.loader.sceneManager.add(this.key,t(e)),this.complete=!0}});a.register("sceneFile",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new h(this,e[n]));else this.addFile(new h(this,e,t,i));return this}),e.exports=h},56812:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n,a,h){var u="js";if(l(t)){var c=t;t=o(c,"key"),i=o(c,"url"),h=o(c,"xhrSettings"),u=o(c,"extension",u),n=o(c,"systemKey"),a=o(c,"sceneKey")}var d={type:"scenePlugin",cache:!1,extension:u,responseType:"text",key:t,url:i,xhrSettings:h,config:{systemKey:n,sceneKey:a}};s.call(this,e,d),"function"==typeof i&&(this.data=i,this.state=r.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,i=this.key,n=o(t,"systemKey",i),s=o(t,"sceneKey",i);this.state===r.FILE_POPULATED?e.installScenePlugin(n,this.data,s,this.loader.scene,!0):(this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),e.installScenePlugin(n,window[this.key],s,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(e,t,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i,n,r));return this}),e.exports=h},34328:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n,r){var a="js";if(l(t)){var h=t;t=o(h,"key"),i=o(h,"url"),n=o(h,"type","script"),r=o(h,"xhrSettings"),a=o(h,"extension",a)}else void 0===n&&(n="script");var u={type:n,cache:!1,extension:a,responseType:"text",key:t,url:i,xhrSettings:r};s.call(this,e,u)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new h(this,e[r]));else this.addFile(new h(this,e,t,i,n));return this}),e.exports=h},85035:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(74099),a=i(19550),o=new n({Extends:a,initialize:function(e,t,i,n,r){a.call(this,e,t,i,r,n),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=r.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});s.register("spritesheet",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,i,n));return this}),e.exports=o},78776:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=new n({Extends:s,initialize:function(e,t,i,n){var r="text",a="txt",h=e.cacheManager.text;if(l(t)){var u=t;t=o(u,"key"),i=o(u,"url"),n=o(u,"xhrSettings"),a=o(u,"extension",a),r=o(u,"type",r),h=o(u,"cache",h)}var c={type:r,cache:h,extension:a,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,c)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new h(this,e[n]));else this.addFile(new h(this,e,t,i));return this}),e.exports=h},49477:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=i(80341),u=new n({Extends:s,initialize:function(e,t,i,n){var r="csv";if(l(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var u={type:"tilemapCSV",cache:e.cacheManager.tilemap,extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,u),this.tilemapFormat=h.CSV},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,e)}});a.register("tilemapCSV",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new u(this,e[n]));else this.addFile(new u(this,e,t,i));return this}),e.exports=u},40807:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(518),a=i(80341),o=new n({Extends:s,initialize:function(e,t,i,n){s.call(this,e,t,i,n),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});r.register("tilemapImpact",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new o(this,e[n]));else this.addFile(new o(this,e,t,i));return this}),e.exports=o},56775:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(518),a=i(80341),o=new n({Extends:s,initialize:function(e,t,i,n){s.call(this,e,t,i,n),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});r.register("tilemapTiledJSON",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new o(this,e[n]));else this.addFile(new o(this,e,t,i));return this}),e.exports=o},25771:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),l=i(26430),h=i(78776),u=new n({Extends:l,initialize:function(e,t,i,n,r,u){if(o(t)){var c,d,f=t;c=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new h(e,{key:t,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","txt"),xhrSettings:s(f,"atlasXhrSettings")})}else c=new a(e,t,i,r),d=new h(e,t,n,u);c.linkFile?l.call(this,e,"unityatlas",t,[c,d,c.linkFile]):l.call(this,e,"unityatlas",t,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(e.key,e.data,t.data,i),this.complete=!0}}});r.register("unityAtlas",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new u(this,e[a]),this.addFile(s.files);else s=new u(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=u},33720:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(98356),l=i(95540),h=i(41212),u=new n({Extends:s,initialize:function(e,t,i,n){if(void 0===n&&(n=!1),h(t)){var r=t;t=l(r,"key"),i=l(r,"url",[]),n=l(r,"noAudio",!1)}var a=e.systems.game.device.video.getVideoURL(i);a||console.warn("VideoFile: No supported format for "+t);var o={type:"video",cache:e.cacheManager.video,extension:a.type,key:t,url:a.url,config:{noAudio:n}};s.call(this,e,o)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL),this.state=r.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new u(this,e[n]));else this.addFile(new u(this,e,t,i));return this}),e.exports=u},57318:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),l=i(41212),h=i(56836),u=new n({Extends:s,initialize:function(e,t,i,n){var r="xml";if(l(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var h={type:"xml",cache:e.cacheManager.xml,extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,h)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=h(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new u(this,e[n]));else this.addFile(new u(this,e,t,i));return this}),e.exports=u},64589:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),FontFile:i(87674),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23906),r=i(79291),s={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};s=r(!1,s,n),e.exports=s},53307:e=>{e.exports=function(e){for(var t=0,i=0;i<e.length;i++)t+=+e[i];return t/e.length}},85710:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6411);e.exports=function(e,t){return n(e)/n(t)/n(e-t)}},30976:e=>{e.exports=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},87842:e=>{e.exports=function(e,t,i,n,r){var s=(n-t)*.5,a=(r-i)*.5,o=e*e;return e*o*(2*i-2*n+s+a)+(-3*i+3*n-2*s-a)*o+s*e+i}},26302:e=>{e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var n=Math.pow(i,-t);return Math.ceil(e*n)/n}},45319:e=>{e.exports=function(e,t,i){return Math.max(t,Math.min(i,e))}},39506:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383);e.exports=function(e){return e*n.DEG_TO_RAD}},61241:e=>{e.exports=function(e,t){return Math.abs(e-t)}},38857:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(37867),a=i(29747),o=new s,l=new r({initialize:function e(t,i,n,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=e.DefaultOrder),this._x=t,this._y=i,this._z=n,this._order=r,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback(this)}},set:function(e,t,i,n){return void 0===n&&(n=this._order),this._x=e,this._y=t,this._z=i,this._order=n,this.onChangeCallback(this),this},copy:function(e){return this.set(e.x,e.y,e.z,e.order)},setFromQuaternion:function(e,t,i){return void 0===t&&(t=this._order),void 0===i&&(i=!1),o.fromQuat(e),this.setFromRotationMatrix(o,t,i)},setFromRotationMatrix:function(e,t,i){void 0===t&&(t=this._order),void 0===i&&(i=!1);var r=e.val,s=r[0],a=r[4],o=r[8],l=r[1],h=r[5],u=r[9],c=r[2],d=r[6],f=r[10],p=0,m=0,g=0;switch(t){case"XYZ":m=Math.asin(n(o,-1,1)),.99999>Math.abs(o)?(p=Math.atan2(-u,f),g=Math.atan2(-a,s)):p=Math.atan2(d,h);break;case"YXZ":p=Math.asin(-n(u,-1,1)),.99999>Math.abs(u)?(m=Math.atan2(o,f),g=Math.atan2(l,h)):m=Math.atan2(-c,s);break;case"ZXY":p=Math.asin(n(d,-1,1)),.99999>Math.abs(d)?(m=Math.atan2(-c,f),g=Math.atan2(-a,h)):g=Math.atan2(l,s);break;case"ZYX":m=Math.asin(-n(c,-1,1)),.99999>Math.abs(c)?(p=Math.atan2(d,f),g=Math.atan2(l,s)):g=Math.atan2(-a,h);break;case"YZX":g=Math.asin(n(l,-1,1)),.99999>Math.abs(l)?(p=Math.atan2(-u,h),m=Math.atan2(-c,s)):m=Math.atan2(o,f);break;case"XZY":g=Math.asin(-n(a,-1,1)),.99999>Math.abs(a)?(p=Math.atan2(d,h),m=Math.atan2(o,s)):p=Math.atan2(-u,f)}return this._x=p,this._y=m,this._z=g,this._order=t,i&&this.onChangeCallback(this),this}});l.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],l.DefaultOrder="XYZ",e.exports=l},6411:e=>{e.exports=function(e){if(0===e)return 1;for(var t=e;--e;)t*=e;return t}},99472:e=>{e.exports=function(e,t){return Math.random()*(t-e)+e}},77623:e=>{e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var n=Math.pow(i,-t);return Math.floor(e*n)/n}},62945:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319);e.exports=function(e,t,i){return(i-t)*(e=n(e,0,1))+t}},38265:e=>{e.exports=function(e,t){return e/t/1e3}},78702:e=>{e.exports=function(e){return e==parseFloat(e)?!(e%2):void 0}},94883:e=>{e.exports=function(e){return e===parseFloat(e)?!(e%2):void 0}},28915:e=>{e.exports=function(e,t,i){return(t-e)*i+e}},94908:e=>{e.exports=function(e,t,i){return void 0===i&&(i=0),e.clone().lerp(t,i)}},94434:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){this.val=new Float32Array(9),e?this.copy(e):this.identity()},clone:function(){return new n(this)},set:function(e){return this.copy(e)},copy:function(e){var t=this.val,i=e.val;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},fromMat4:function(e){var t=e.val,i=this.val;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],this},fromArray:function(e){var t=this.val;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},identity:function(){var e=this.val;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,this},transpose:function(){var e=this.val,t=e[1],i=e[2],n=e[5];return e[1]=e[3],e[2]=e[6],e[3]=t,e[5]=e[7],e[6]=i,e[7]=n,this},invert:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],h=e[8],u=h*s-a*l,c=-h*r+a*o,d=l*r-s*o,f=t*u+i*c+n*d;return f?(f=1/f,e[0]=u*f,e[1]=(-h*i+n*l)*f,e[2]=(a*i-n*s)*f,e[3]=c*f,e[4]=(h*t-n*o)*f,e[5]=(-a*t+n*r)*f,e[6]=d*f,e[7]=(-l*t+i*o)*f,e[8]=(s*t-i*r)*f,this):null},adjoint:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],h=e[8];return e[0]=s*h-a*l,e[1]=n*l-i*h,e[2]=i*a-n*s,e[3]=a*o-r*h,e[4]=t*h-n*o,e[5]=n*r-t*a,e[6]=r*l-s*o,e[7]=i*o-t*l,e[8]=t*s-i*r,this},determinant:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],h=e[8];return t*(h*s-a*l)+i*(-h*r+a*o)+n*(l*r-s*o)},multiply:function(e){var t=this.val,i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],h=t[7],u=t[8],c=e.val,d=c[0],f=c[1],p=c[2],m=c[3],g=c[4],v=c[5],y=c[6],b=c[7],x=c[8];return t[0]=d*i+f*s+p*l,t[1]=d*n+f*a+p*h,t[2]=d*r+f*o+p*u,t[3]=m*i+g*s+v*l,t[4]=m*n+g*a+v*h,t[5]=m*r+g*o+v*u,t[6]=y*i+b*s+x*l,t[7]=y*n+b*a+x*h,t[8]=y*r+b*o+x*u,this},translate:function(e){var t=this.val,i=e.x,n=e.y;return t[6]=i*t[0]+n*t[3]+t[6],t[7]=i*t[1]+n*t[4]+t[7],t[8]=i*t[2]+n*t[5]+t[8],this},rotate:function(e){var t=this.val,i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=Math.sin(e),h=Math.cos(e);return t[0]=h*i+l*s,t[1]=h*n+l*a,t[2]=h*r+l*o,t[3]=h*s-l*i,t[4]=h*a-l*n,t[5]=h*o-l*r,this},scale:function(e){var t=this.val,i=e.x,n=e.y;return t[0]=i*t[0],t[1]=i*t[1],t[2]=i*t[2],t[3]=n*t[3],t[4]=n*t[4],t[5]=n*t[5],this},fromQuat:function(e){var t=e.x,i=e.y,n=e.z,r=e.w,s=t+t,a=i+i,o=n+n,l=t*s,h=t*a,u=t*o,c=i*a,d=i*o,f=n*o,p=r*s,m=r*a,g=r*o,v=this.val;return v[0]=1-(c+f),v[3]=h+g,v[6]=u-m,v[1]=h-g,v[4]=1-(l+f),v[7]=d+p,v[2]=u+m,v[5]=d-p,v[8]=1-(l+c),this},normalFromMat4:function(e){var t=e.val,i=this.val,n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],h=t[6],u=t[7],c=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=n*l-r*o,x=n*h-s*o,E=n*u-a*o,w=r*h-s*l,S=r*u-a*l,T=s*u-a*h,A=c*g-d*m,_=c*v-f*m,C=c*y-p*m,I=d*v-f*g,P=d*y-p*g,R=f*y-p*v,O=b*R-x*P+E*I+w*C-S*_+T*A;return O?(O=1/O,i[0]=(l*R-h*P+u*I)*O,i[1]=(h*C-o*R-u*_)*O,i[2]=(o*P-l*C+u*A)*O,i[3]=(s*P-r*R-a*I)*O,i[4]=(n*R-s*C+a*_)*O,i[5]=(r*C-n*P-a*A)*O,i[6]=(g*T-v*S+y*w)*O,i[7]=(v*E-m*T-y*x)*O,i[8]=(m*S-g*E+y*b)*O,this):null}});e.exports=n},37867:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(25836),s=new n({initialize:function(e){this.val=new Float32Array(16),e?this.copy(e):this.identity()},clone:function(){return new s(this)},set:function(e){return this.copy(e)},setValues:function(e,t,i,n,r,s,a,o,l,h,u,c,d,f,p,m){var g=this.val;return g[0]=e,g[1]=t,g[2]=i,g[3]=n,g[4]=r,g[5]=s,g[6]=a,g[7]=o,g[8]=l,g[9]=h,g[10]=u,g[11]=c,g[12]=d,g[13]=f,g[14]=p,g[15]=m,this},copy:function(e){var t=e.val;return this.setValues(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},fromArray:function(e){return this.setValues(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(e,t,i){var n=a.fromQuat(i).val,r=t.x,s=t.y,o=t.z;return this.setValues(n[0]*r,n[1]*r,n[2]*r,0,n[4]*s,n[5]*s,n[6]*s,0,n[8]*o,n[9]*o,n[10]*o,0,e.x,e.y,e.z,1)},xyz:function(e,t,i){this.identity();var n=this.val;return n[12]=e,n[13]=t,n[14]=i,this},scaling:function(e,t,i){this.zero();var n=this.val;return n[0]=e,n[5]=t,n[10]=i,n[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var e=this.val,t=e[1],i=e[2],n=e[3],r=e[6],s=e[7],a=e[11];return e[1]=e[4],e[2]=e[8],e[3]=e[12],e[4]=t,e[6]=e[9],e[7]=e[13],e[8]=i,e[9]=r,e[11]=e[14],e[12]=n,e[13]=s,e[14]=a,this},getInverse:function(e){return this.copy(e),this.invert()},invert:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],h=e[8],u=e[9],c=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=t*a-i*s,y=t*o-n*s,b=t*l-r*s,x=i*o-n*a,E=i*l-r*a,w=n*l-r*o,S=h*p-u*f,T=h*m-c*f,A=h*g-d*f,_=u*m-c*p,C=u*g-d*p,I=c*g-d*m,P=v*I-y*C+b*_+x*A-E*T+w*S;return P?(P=1/P,this.setValues((a*I-o*C+l*_)*P,(n*C-i*I-r*_)*P,(p*w-m*E+g*x)*P,(c*E-u*w-d*x)*P,(o*A-s*I-l*T)*P,(t*I-n*A+r*T)*P,(m*b-f*w-g*y)*P,(h*w-c*b+d*y)*P,(s*C-a*A+l*S)*P,(i*A-t*C-r*S)*P,(f*E-p*b+g*v)*P,(u*b-h*E-d*v)*P,(a*T-s*_-o*S)*P,(t*_-i*T+n*S)*P,(p*y-f*x-m*v)*P,(h*x-u*y+c*v)*P)):this},adjoint:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],h=e[8],u=e[9],c=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15];return this.setValues(a*(c*g-d*m)-u*(o*g-l*m)+p*(o*d-l*c),-(i*(c*g-d*m)-u*(n*g-r*m)+p*(n*d-r*c)),i*(o*g-l*m)-a*(n*g-r*m)+p*(n*l-r*o),-(i*(o*d-l*c)-a*(n*d-r*c)+u*(n*l-r*o)),-(s*(c*g-d*m)-h*(o*g-l*m)+f*(o*d-l*c)),t*(c*g-d*m)-h*(n*g-r*m)+f*(n*d-r*c),-(t*(o*g-l*m)-s*(n*g-r*m)+f*(n*l-r*o)),t*(o*d-l*c)-s*(n*d-r*c)+h*(n*l-r*o),s*(u*g-d*p)-h*(a*g-l*p)+f*(a*d-l*u),-(t*(u*g-d*p)-h*(i*g-r*p)+f*(i*d-r*u)),t*(a*g-l*p)-s*(i*g-r*p)+f*(i*l-r*a),-(t*(a*d-l*u)-s*(i*d-r*u)+h*(i*l-r*a)),-(s*(u*m-c*p)-h*(a*m-o*p)+f*(a*c-o*u)),t*(u*m-c*p)-h*(i*m-n*p)+f*(i*c-n*u),-(t*(a*m-o*p)-s*(i*m-n*p)+f*(i*o-n*a)),t*(a*c-o*u)-s*(i*c-n*u)+h*(i*o-n*a))},determinant:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],h=e[8],u=e[9],c=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15];return(t*a-i*s)*(c*g-d*m)-(t*o-n*s)*(u*g-d*p)+(t*l-r*s)*(u*m-c*p)+(i*o-n*a)*(h*g-d*f)-(i*l-r*a)*(h*m-c*f)+(n*l-r*o)*(h*p-u*f)},multiply:function(e){var t=this.val,i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],h=t[7],u=t[8],c=t[9],d=t[10],f=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=e.val,b=y[0],x=y[1],E=y[2],w=y[3];return t[0]=b*i+x*a+E*u+w*p,t[1]=b*n+x*o+E*c+w*m,t[2]=b*r+x*l+E*d+w*g,t[3]=b*s+x*h+E*f+w*v,b=y[4],x=y[5],E=y[6],w=y[7],t[4]=b*i+x*a+E*u+w*p,t[5]=b*n+x*o+E*c+w*m,t[6]=b*r+x*l+E*d+w*g,t[7]=b*s+x*h+E*f+w*v,b=y[8],x=y[9],E=y[10],w=y[11],t[8]=b*i+x*a+E*u+w*p,t[9]=b*n+x*o+E*c+w*m,t[10]=b*r+x*l+E*d+w*g,t[11]=b*s+x*h+E*f+w*v,b=y[12],x=y[13],E=y[14],w=y[15],t[12]=b*i+x*a+E*u+w*p,t[13]=b*n+x*o+E*c+w*m,t[14]=b*r+x*l+E*d+w*g,t[15]=b*s+x*h+E*f+w*v,this},multiplyLocal:function(e){var t=this.val,i=e.val;return this.setValues(t[0]*i[0]+t[1]*i[4]+t[2]*i[8]+t[3]*i[12],t[0]*i[1]+t[1]*i[5]+t[2]*i[9]+t[3]*i[13],t[0]*i[2]+t[1]*i[6]+t[2]*i[10]+t[3]*i[14],t[0]*i[3]+t[1]*i[7]+t[2]*i[11]+t[3]*i[15],t[4]*i[0]+t[5]*i[4]+t[6]*i[8]+t[7]*i[12],t[4]*i[1]+t[5]*i[5]+t[6]*i[9]+t[7]*i[13],t[4]*i[2]+t[5]*i[6]+t[6]*i[10]+t[7]*i[14],t[4]*i[3]+t[5]*i[7]+t[6]*i[11]+t[7]*i[15],t[8]*i[0]+t[9]*i[4]+t[10]*i[8]+t[11]*i[12],t[8]*i[1]+t[9]*i[5]+t[10]*i[9]+t[11]*i[13],t[8]*i[2]+t[9]*i[6]+t[10]*i[10]+t[11]*i[14],t[8]*i[3]+t[9]*i[7]+t[10]*i[11]+t[11]*i[15],t[12]*i[0]+t[13]*i[4]+t[14]*i[8]+t[15]*i[12],t[12]*i[1]+t[13]*i[5]+t[14]*i[9]+t[15]*i[13],t[12]*i[2]+t[13]*i[6]+t[14]*i[10]+t[15]*i[14],t[12]*i[3]+t[13]*i[7]+t[14]*i[11]+t[15]*i[15])},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.val,n=t.val,r=i[0],s=i[4],a=i[8],o=i[12],l=i[1],h=i[5],u=i[9],c=i[13],d=i[2],f=i[6],p=i[10],m=i[14],g=i[3],v=i[7],y=i[11],b=i[15],x=n[0],E=n[4],w=n[8],S=n[12],T=n[1],A=n[5],_=n[9],C=n[13],I=n[2],P=n[6],R=n[10],O=n[14],M=n[3],L=n[7],D=n[11],k=n[15];return this.setValues(r*x+s*T+a*I+o*M,l*x+h*T+u*I+c*M,d*x+f*T+p*I+m*M,g*x+v*T+y*I+b*M,r*E+s*A+a*P+o*L,l*E+h*A+u*P+c*L,d*E+f*A+p*P+m*L,g*E+v*A+y*P+b*L,r*w+s*_+a*R+o*D,l*w+h*_+u*R+c*D,d*w+f*_+p*R+m*D,g*w+v*_+y*R+b*D,r*S+s*C+a*O+o*k,l*S+h*C+u*O+c*k,d*S+f*C+p*O+m*k,g*S+v*C+y*O+b*k)},translate:function(e){return this.translateXYZ(e.x,e.y,e.z)},translateXYZ:function(e,t,i){var n=this.val;return n[12]=n[0]*e+n[4]*t+n[8]*i+n[12],n[13]=n[1]*e+n[5]*t+n[9]*i+n[13],n[14]=n[2]*e+n[6]*t+n[10]*i+n[14],n[15]=n[3]*e+n[7]*t+n[11]*i+n[15],this},scale:function(e){return this.scaleXYZ(e.x,e.y,e.z)},scaleXYZ:function(e,t,i){var n=this.val;return n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*e,n[3]=n[3]*e,n[4]=n[4]*t,n[5]=n[5]*t,n[6]=n[6]*t,n[7]=n[7]*t,n[8]=n[8]*i,n[9]=n[9]*i,n[10]=n[10]*i,n[11]=n[11]*i,this},makeRotationAxis:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=1-i,s=e.x,a=e.y,o=e.z,l=r*s,h=r*a;return this.setValues(l*s+i,l*a-n*o,l*o+n*a,0,l*a+n*o,h*a+i,h*o-n*s,0,l*o-n*a,h*o+n*s,r*o*o+i,0,0,0,0,1)},rotate:function(e,t){var i=this.val,n=t.x,r=t.y,s=t.z,a=Math.sqrt(n*n+r*r+s*s);if(1e-6>Math.abs(a))return this;n*=a=1/a,r*=a,s*=a;var o=Math.sin(e),l=Math.cos(e),h=1-l,u=i[0],c=i[1],d=i[2],f=i[3],p=i[4],m=i[5],g=i[6],v=i[7],y=i[8],b=i[9],x=i[10],E=i[11],w=i[12],S=i[13],T=i[14],A=i[15],_=n*n*h+l,C=r*n*h+s*o,I=s*n*h-r*o,P=n*r*h-s*o,R=r*r*h+l,O=s*r*h+n*o,M=n*s*h+r*o,L=r*s*h-n*o,D=s*s*h+l;return this.setValues(u*_+p*C+y*I,c*_+m*C+b*I,d*_+g*C+x*I,f*_+v*C+E*I,u*P+p*R+y*O,c*P+m*R+b*O,d*P+g*R+x*O,f*P+v*R+E*O,u*M+p*L+y*D,c*M+m*L+b*D,d*M+g*L+x*D,f*M+v*L+E*D,w,S,T,A)},rotateX:function(e){var t=this.val,i=Math.sin(e),n=Math.cos(e),r=t[4],s=t[5],a=t[6],o=t[7],l=t[8],h=t[9],u=t[10],c=t[11];return t[4]=r*n+l*i,t[5]=s*n+h*i,t[6]=a*n+u*i,t[7]=o*n+c*i,t[8]=l*n-r*i,t[9]=h*n-s*i,t[10]=u*n-a*i,t[11]=c*n-o*i,this},rotateY:function(e){var t=this.val,i=Math.sin(e),n=Math.cos(e),r=t[0],s=t[1],a=t[2],o=t[3],l=t[8],h=t[9],u=t[10],c=t[11];return t[0]=r*n-l*i,t[1]=s*n-h*i,t[2]=a*n-u*i,t[3]=o*n-c*i,t[8]=r*i+l*n,t[9]=s*i+h*n,t[10]=a*i+u*n,t[11]=o*i+c*n,this},rotateZ:function(e){var t=this.val,i=Math.sin(e),n=Math.cos(e),r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],h=t[5],u=t[6],c=t[7];return t[0]=r*n+l*i,t[1]=s*n+h*i,t[2]=a*n+u*i,t[3]=o*n+c*i,t[4]=l*n-r*i,t[5]=h*n-s*i,t[6]=u*n-a*i,t[7]=c*n-o*i,this},fromRotationTranslation:function(e,t){var i=e.x,n=e.y,r=e.z,s=e.w,a=i+i,o=n+n,l=r+r,h=i*a,u=i*o,c=i*l,d=n*o,f=n*l,p=r*l,m=s*a,g=s*o,v=s*l;return this.setValues(1-(d+p),u+v,c-g,0,u-v,1-(h+p),f+m,0,c+g,f-m,1-(h+d),0,t.x,t.y,t.z,1)},fromQuat:function(e){var t=e.x,i=e.y,n=e.z,r=e.w,s=t+t,a=i+i,o=n+n,l=t*s,h=t*a,u=t*o,c=i*a,d=i*o,f=n*o,p=r*s,m=r*a,g=r*o;return this.setValues(1-(c+f),h+g,u-m,0,h-g,1-(l+f),d+p,0,u+m,d-p,1-(l+c),0,0,0,0,1)},frustum:function(e,t,i,n,r,s){var a=1/(t-e),o=1/(n-i),l=1/(r-s);return this.setValues(2*r*a,0,0,0,0,2*r*o,0,0,(t+e)*a,(n+i)*o,(s+r)*l,-1,0,0,s*r*2*l,0)},perspective:function(e,t,i,n){var r=1/Math.tan(e/2),s=1/(i-n);return this.setValues(r/t,0,0,0,0,r,0,0,0,0,(n+i)*s,-1,0,0,2*n*i*s,0)},perspectiveLH:function(e,t,i,n){return this.setValues(2*i/e,0,0,0,0,2*i/t,0,0,0,0,-n/(i-n),1,0,0,i*n/(i-n),0)},ortho:function(e,t,i,n,r,s){var a=e-t,o=i-n,l=r-s;return a=0===a?a:1/a,o=0===o?o:1/o,l=0===l?l:1/l,this.setValues(-2*a,0,0,0,0,-2*o,0,0,0,0,2*l,0,(e+t)*a,(n+i)*o,(s+r)*l,1)},lookAtRH:function(e,t,i){var n=this.val;return u.subVectors(e,t),0===u.lengthSq()&&(u.z=1),u.normalize(),l.crossVectors(i,u),0===l.lengthSq()&&(1===Math.abs(i.z)?u.x+=1e-4:u.z+=1e-4,u.normalize(),l.crossVectors(i,u)),l.normalize(),h.crossVectors(u,l),n[0]=l.x,n[1]=l.y,n[2]=l.z,n[4]=h.x,n[5]=h.y,n[6]=h.z,n[8]=u.x,n[9]=u.y,n[10]=u.z,this},lookAt:function(e,t,i){var n=e.x,r=e.y,s=e.z,a=i.x,o=i.y,l=i.z,h=t.x,u=t.y,c=t.z;if(1e-6>Math.abs(n-h)&&1e-6>Math.abs(r-u)&&1e-6>Math.abs(s-c))return this.identity();var d=n-h,f=r-u,p=s-c,m=1/Math.sqrt(d*d+f*f+p*p);d*=m,f*=m;var g=o*(p*=m)-l*f,v=l*d-a*p,y=a*f-o*d;(m=Math.sqrt(g*g+v*v+y*y))?(g*=m=1/m,v*=m,y*=m):(g=0,v=0,y=0);var b=f*y-p*v,x=p*g-d*y,E=d*v-f*g;return(m=Math.sqrt(b*b+x*x+E*E))?(b*=m=1/m,x*=m,E*=m):(b=0,x=0,E=0),this.setValues(g,b,d,0,v,x,f,0,y,E,p,0,-(g*n+v*r+y*s),-(b*n+x*r+E*s),-(d*n+f*r+p*s),1)},yawPitchRoll:function(e,t,i){this.zero(),a.zero(),o.zero();var n=this.val,r=a.val,s=o.val,l=Math.sin(i),h=Math.cos(i);return n[10]=1,n[15]=1,n[0]=h,n[1]=l,n[4]=-l,n[5]=h,l=Math.sin(t),h=Math.cos(t),r[0]=1,r[15]=1,r[5]=h,r[10]=h,r[9]=-l,r[6]=l,l=Math.sin(e),h=Math.cos(e),s[5]=1,s[15]=1,s[0]=h,s[2]=-l,s[8]=l,s[10]=h,this.multiplyLocal(a),this.multiplyLocal(o),this},setWorldMatrix:function(e,t,i,n,r){return this.yawPitchRoll(e.y,e.x,e.z),a.scaling(i.x,i.y,i.z),o.xyz(t.x,t.y,t.z),this.multiplyLocal(a),this.multiplyLocal(o),n&&this.multiplyLocal(n),r&&this.multiplyLocal(r),this},multiplyToMat4:function(e,t){var i=this.val,n=e.val,r=i[0],s=i[1],a=i[2],o=i[3],l=i[4],h=i[5],u=i[6],c=i[7],d=i[8],f=i[9],p=i[10],m=i[11],g=i[12],v=i[13],y=i[14],b=i[15],x=n[0],E=n[1],w=n[2],S=n[3],T=n[4],A=n[5],_=n[6],C=n[7],I=n[8],P=n[9],R=n[10],O=n[11],M=n[12],L=n[13],D=n[14],k=n[15];return t.setValues(x*r+E*l+w*d+S*g,E*s+E*h+w*f+S*v,w*a+E*u+w*p+S*y,S*o+E*c+w*m+S*b,T*r+A*l+_*d+C*g,T*s+A*h+_*f+C*v,T*a+A*u+_*p+C*y,T*o+A*c+_*m+C*b,I*r+P*l+R*d+O*g,I*s+P*h+R*f+O*v,I*a+P*u+R*p+O*y,I*o+P*c+R*m+O*b,M*r+L*l+D*d+k*g,M*s+L*h+D*f+k*v,M*a+L*u+D*p+k*y,M*o+L*c+D*m+k*b)},fromRotationXYTranslation:function(e,t,i){var n=t.x,r=t.y,s=t.z,a=Math.sin(e.x),o=Math.cos(e.x),l=Math.sin(e.y),h=Math.cos(e.y),u=n,c=r,d=s,f=-a,p=0-f*l,m=0-o*l,g=f*h,v=o*h;return i||(u=h*n+l*s,c=p*n+o*r+g*s,d=m*n+a*r+v*s),this.setValues(h,p,m,0,0,o,a,0,l,g,v,0,u,c,d,1)},getMaxScaleOnAxis:function(){var e=this.val;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}}),a=new s,o=new s,l=new r,h=new r,u=new r;e.exports=s},86883:e=>{e.exports=function(e,t,i){return Math.min(e+t,i)}},50040:e=>{e.exports=function(e){var t=e.length;if(0===t)return 0;e.sort(function(e,t){return e-t});var i=Math.floor(t/2);return t%2==0?(e[i]+e[i-1])/2:e[i]}},37204:e=>{e.exports=function(e,t,i){return Math.max(e-t,i)}},65201:e=>{e.exports=function(e,t,i,n){void 0===i&&(i=t+1);var r=(e-t)/(i-t);return r>1?void 0!==n?(r=(n-e)/(n-i))<0&&(r=0):r=1:r<0&&(r=0),r}},15746:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(94434),s=i(29747),a=i(25836),o=new Int8Array([1,2,0]),l=new Float32Array([0,0,0]),h=new a(1,0,0),u=new a(0,1,0),c=new a,d=new r,f=new n({initialize:function(e,t,i,n){this.onChangeCallback=s,this.set(e,t,i,n)},x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback(this)}},copy:function(e){return this.set(e)},set:function(e,t,i,n,r){return void 0===r&&(r=!0),"object"==typeof e?(this._x=e.x||0,this._y=e.y||0,this._z=e.z||0,this._w=e.w||0):(this._x=e||0,this._y=t||0,this._z=i||0,this._w=n||0),r&&this.onChangeCallback(this),this},add:function(e){return this._x+=e.x,this._y+=e.y,this._z+=e.z,this._w+=e.w,this.onChangeCallback(this),this},subtract:function(e){return this._x-=e.x,this._y-=e.y,this._z-=e.z,this._w-=e.w,this.onChangeCallback(this),this},scale:function(e){return this._x*=e,this._y*=e,this._z*=e,this._w*=e,this.onChangeCallback(this),this},length:function(){var e=this.x,t=this.y,i=this.z,n=this.w;return Math.sqrt(e*e+t*t+i*i+n*n)},lengthSq:function(){var e=this.x,t=this.y,i=this.z,n=this.w;return e*e+t*t+i*i+n*n},normalize:function(){var e=this.x,t=this.y,i=this.z,n=this.w,r=e*e+t*t+i*i+n*n;return r>0&&(r=1/Math.sqrt(r),this._x=e*r,this._y=t*r,this._z=i*r,this._w=n*r),this.onChangeCallback(this),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,n=this.y,r=this.z,s=this.w;return this.set(i+t*(e.x-i),n+t*(e.y-n),r+t*(e.z-r),s+t*(e.w-s))},rotationTo:function(e,t){var i=e.x*t.x+e.y*t.y+e.z*t.z;return i<-.999999?(1e-6>c.copy(h).cross(e).length()&&c.copy(u).cross(e),c.normalize(),this.setAxisAngle(c,Math.PI)):i>.999999?this.set(0,0,0,1):(c.copy(e).cross(t),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+i,this.normalize())},setAxes:function(e,t,i){var n=d.val;return n[0]=t.x,n[3]=t.y,n[6]=t.z,n[1]=i.x,n[4]=i.y,n[7]=i.z,n[2]=-e.x,n[5]=-e.y,n[8]=-e.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(e,t){var i=Math.sin(t*=.5);return this.set(i*e.x,i*e.y,i*e.z,Math.cos(t))},multiply:function(e){var t=this.x,i=this.y,n=this.z,r=this.w,s=e.x,a=e.y,o=e.z,l=e.w;return this.set(t*l+r*s+i*o-n*a,i*l+r*a+n*s-t*o,n*l+r*o+t*a-i*s,r*l-t*s-i*a-n*o)},slerp:function(e,t){var i=this.x,n=this.y,r=this.z,s=this.w,a=e.x,o=e.y,l=e.z,h=e.w,u=i*a+n*o+r*l+s*h;u<0&&(u=-u,a=-a,o=-o,l=-l,h=-h);var c=1-t,d=t;if(1-u>1e-6){var f=Math.acos(u),p=Math.sin(f);c=Math.sin((1-t)*f)/p,d=Math.sin(t*f)/p}return this.set(c*i+d*a,c*n+d*o,c*r+d*l,c*s+d*h)},invert:function(){var e=this.x,t=this.y,i=this.z,n=this.w,r=e*e+t*t+i*i+n*n,s=r?1/r:0;return this.set(-e*s,-t*s,-i*s,n*s)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(e){e*=.5;var t=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(e),a=Math.cos(e);return this.set(t*a+r*s,i*a+n*s,n*a-i*s,r*a-t*s)},rotateY:function(e){e*=.5;var t=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(e),a=Math.cos(e);return this.set(t*a-n*s,i*a+r*s,n*a+t*s,r*a-i*s)},rotateZ:function(e){e*=.5;var t=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(e),a=Math.cos(e);return this.set(t*a+i*s,i*a-t*s,n*a+r*s,r*a-n*s)},calculateW:function(){var e=this.x,t=this.y,i=this.z;return this.w=-Math.sqrt(1-e*e-t*t-i*i),this},setFromEuler:function(e,t){var i=e.x/2,n=e.y/2,r=e.z/2,s=Math.cos(i),a=Math.cos(n),o=Math.cos(r),l=Math.sin(i),h=Math.sin(n),u=Math.sin(r);switch(e.order){case"XYZ":this.set(l*a*o+s*h*u,s*h*o-l*a*u,s*a*u+l*h*o,s*a*o-l*h*u,t);break;case"YXZ":this.set(l*a*o+s*h*u,s*h*o-l*a*u,s*a*u-l*h*o,s*a*o+l*h*u,t);break;case"ZXY":this.set(l*a*o-s*h*u,s*h*o+l*a*u,s*a*u+l*h*o,s*a*o-l*h*u,t);break;case"ZYX":this.set(l*a*o-s*h*u,s*h*o+l*a*u,s*a*u-l*h*o,s*a*o+l*h*u,t);break;case"YZX":this.set(l*a*o+s*h*u,s*h*o+l*a*u,s*a*u-l*h*o,s*a*o-l*h*u,t);break;case"XZY":this.set(l*a*o-s*h*u,s*h*o-l*a*u,s*a*u+l*h*o,s*a*o+l*h*u,t)}return this},setFromRotationMatrix:function(e){var t,i=e.val,n=i[0],r=i[4],s=i[8],a=i[1],o=i[5],l=i[9],h=i[2],u=i[6],c=i[10],d=n+o+c;return d>0?(t=.5/Math.sqrt(d+1),this.set((u-l)*t,(s-h)*t,(a-r)*t,.25/t)):n>o&&n>c?(t=2*Math.sqrt(1+n-o-c),this.set(.25*t,(r+a)/t,(s+h)/t,(u-l)/t)):o>c?(t=2*Math.sqrt(1+o-n-c),this.set((r+a)/t,.25*t,(l+u)/t,(s-h)/t)):(t=2*Math.sqrt(1+c-n-o),this.set((s+h)/t,(l+u)/t,.25*t,(a-r)/t)),this},fromMat3:function(e){var t,i=e.val,n=i[0]+i[4]+i[8];if(n>0)t=Math.sqrt(n+1),this.w=.5*t,t=.5/t,this._x=(i[7]-i[5])*t,this._y=(i[2]-i[6])*t,this._z=(i[3]-i[1])*t;else{var r=0;i[4]>i[0]&&(r=1),i[8]>i[3*r+r]&&(r=2);var s=o[r],a=o[s];t=Math.sqrt(i[3*r+r]-i[3*s+s]-i[3*a+a]+1),l[r]=.5*t,t=.5/t,l[s]=(i[3*s+r]+i[3*r+s])*t,l[a]=(i[3*a+r]+i[3*r+a])*t,this._x=l[0],this._y=l[1],this._z=l[2],this._w=(i[3*a+s]-i[3*s+a])*t}return this.onChangeCallback(this),this}});e.exports=f},43396:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383);e.exports=function(e){return e*n.RAD_TO_DEG}},74362:e=>{e.exports=function(e,t){void 0===t&&(t=1);var i=2*Math.random()*Math.PI;return e.x=Math.cos(i)*t,e.y=Math.sin(i)*t,e}},60706:e=>{e.exports=function(e,t){void 0===t&&(t=1);var i=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*t;return e.x=Math.cos(i)*r,e.y=Math.sin(i)*r,e.z=n*t,e}},67421:e=>{e.exports=function(e,t){return void 0===t&&(t=1),e.x=(2*Math.random()-1)*t,e.y=(2*Math.random()-1)*t,e.z=(2*Math.random()-1)*t,e.w=(2*Math.random()-1)*t,e}},36305:e=>{e.exports=function(e,t){var i=e.x,n=e.y;return e.x=i*Math.cos(t)-n*Math.sin(t),e.y=i*Math.sin(t)+n*Math.cos(t),e}},11520:e=>{e.exports=function(e,t,i,n){var r=Math.cos(n),s=Math.sin(n),a=e.x-t,o=e.y-i;return e.x=a*r-o*s+t,e.y=a*s+o*r+i,e}},1163:e=>{e.exports=function(e,t,i,n,r){var s=n+Math.atan2(e.y-i,e.x-t);return e.x=t+r*Math.cos(s),e.y=i+r*Math.sin(s),e}},70336:e=>{e.exports=function(e,t,i,n,r){return e.x=t+r*Math.cos(n),e.y=i+r*Math.sin(n),e}},72678:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25836),r=i(37867),s=i(15746),a=new r,o=new s,l=new n;e.exports=function(e,t,i){return o.setAxisAngle(t,i),a.fromRotationTranslation(o,l.set(0,0,0)),e.transformMat4(a)}},2284:e=>{e.exports=function(e){return e>0?Math.ceil(e):Math.floor(e)}},41013:e=>{e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var n=Math.pow(i,-t);return Math.round(e*n)/n}},16922:e=>{e.exports=function(e,t,i,n){void 0===t&&(t=1),void 0===i&&(i=1),void 0===n&&(n=1),n*=Math.PI/e;for(var r=[],s=[],a=0;a<e;a++)i-=t*n,t+=i*n,r[a]=i,s[a]=t;return{sin:s,cos:r,length:e}}},7602:e=>{e.exports=function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)}},54261:e=>{e.exports=function(e,t,i){return(e=Math.max(0,Math.min(1,(e-t)/(i-t))))*e*e*(e*(6*e-15)+10)}},44408:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r){void 0===r&&(r=new n);var s=0,a=0;return e>0&&e<=t*i&&(e>t-1?(a=Math.floor(e/t),s=e-a*t):s=e),r.set(s,a)}},85955:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a,o,l){void 0===l&&(l=new n);var h=Math.sin(s),u=Math.cos(s),c=u*a,d=h*a,f=-h*o,p=u*o,m=1/(c*p+-(f*d));return l.x=p*m*e+-f*m*t+(r*f-i*p)*m,l.y=c*m*t+-d*m*e+(-r*c+i*d)*m,l}},26099:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(43855),s=new n({initialize:function(e,t){this.x=0,this.y=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0):(void 0===t&&(t=e),this.x=e||0,this.y=t||0)},clone:function(){return new s(this.x,this.y)},copy:function(e){return this.x=e.x||0,this.y=e.y||0,this},setFromObject:function(e){return this.x=e.x||0,this.y=e.y||0,this},set:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setTo:function(e,t){return this.set(e,t)},setToPolar:function(e,t){return null==t&&(t=1),this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this},equals:function(e){return this.x===e.x&&this.y===e.y},fuzzyEquals:function(e,t){return r(this.x,e.x,t)&&r(this.y,e.y,t)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},setAngle:function(e){return this.setToPolar(e,this.length())},add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y;return t*t+i*i},length:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},setLength:function(e){return this.normalize().scale(e)},lengthSq:function(){var e=this.x,t=this.y;return e*e+t*t},normalize:function(){var e=this.x,t=this.y,i=e*e+t*t;return i>0&&(i=1/Math.sqrt(i),this.x=e*i,this.y=t*i),this},normalizeRightHand:function(){var e=this.x;return this.x=-1*this.y,this.y=e,this},normalizeLeftHand:function(){var e=this.x;return this.x=this.y,this.y=-1*e,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,n=this.y;return this.x=i+t*(e.x-i),this.y=n+t*(e.y-n),this},transformMat3:function(e){var t=this.x,i=this.y,n=e.val;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this},transformMat4:function(e){var t=this.x,i=this.y,n=e.val;return this.x=n[0]*t+n[4]*i+n[12],this.y=n[1]*t+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(e){var t=this.length();return t&&t>e&&this.scale(e/t),this},reflect:function(e){return e=e.clone().normalize(),this.subtract(e.scale(2*this.dot(e)))},mirror:function(e){return this.reflect(e).negate()},rotate:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t*this.x-i*this.y,i*this.x+t*this.y)},project:function(e){var t=this.dot(e)/e.dot(e);return this.copy(e).scale(t)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),e.exports=s},25836:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){this.x=0,this.y=0,this.z=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clone:function(){return new n(this.x,this.y,this.z)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},crossVectors:function(e,t){var i=e.x,n=e.y,r=e.z,s=t.x,a=t.y,o=t.z;return this.x=n*o-r*a,this.y=r*s-i*o,this.z=i*a-n*s,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this},set:function(e,t,i){return"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=i||0),this},setFromMatrixPosition:function(e){return this.fromArray(e.val,12)},setFromMatrixColumn:function(e,t){return this.fromArray(e.val,4*t)},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addScale:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y,n=e.z-this.z||0;return Math.sqrt(t*t+i*i+n*n)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y,n=e.z-this.z||0;return t*t+i*i+n*n},length:function(){var e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)},lengthSq:function(){var e=this.x,t=this.y,i=this.z;return e*e+t*t+i*i},normalize:function(){var e=this.x,t=this.y,i=this.z,n=e*e+t*t+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=e*n,this.y=t*n,this.z=i*n),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},cross:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,s=e.y,a=e.z;return this.x=i*a-n*s,this.y=n*r-t*a,this.z=t*s-i*r,this},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,n=this.y,r=this.z;return this.x=i+t*(e.x-i),this.y=n+t*(e.y-n),this.z=r+t*(e.z-r),this},applyMatrix3:function(e){var t=this.x,i=this.y,n=this.z,r=e.val;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this},applyMatrix4:function(e){var t=this.x,i=this.y,n=this.z,r=e.val,s=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*s,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*s,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*s,this},transformMat3:function(e){var t=this.x,i=this.y,n=this.z,r=e.val;return this.x=t*r[0]+i*r[3]+n*r[6],this.y=t*r[1]+i*r[4]+n*r[7],this.z=t*r[2]+i*r[5]+n*r[8],this},transformMat4:function(e){var t=this.x,i=this.y,n=this.z,r=e.val;return this.x=r[0]*t+r[4]*i+r[8]*n+r[12],this.y=r[1]*t+r[5]*i+r[9]*n+r[13],this.z=r[2]*t+r[6]*i+r[10]*n+r[14],this},transformCoordinates:function(e){var t=this.x,i=this.y,n=this.z,r=e.val,s=t*r[0]+i*r[4]+n*r[8]+r[12],a=t*r[1]+i*r[5]+n*r[9]+r[13],o=t*r[2]+i*r[6]+n*r[10]+r[14],l=t*r[3]+i*r[7]+n*r[11]+r[15];return this.x=s/l,this.y=a/l,this.z=o/l,this},transformQuat:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,s=e.y,a=e.z,o=e.w,l=o*t+s*n-a*i,h=o*i+a*t-r*n,u=o*n+r*i-s*t,c=-r*t-s*i-a*n;return this.x=l*o+-(c*r)+-(h*a)- -(u*s),this.y=h*o+-(c*s)+-(u*r)- -(l*a),this.z=u*o+-(c*a)+-(l*s)- -(h*r),this},project:function(e){var t=this.x,i=this.y,n=this.z,r=e.val,s=r[0],a=r[1],o=r[2],l=r[3],h=r[4],u=r[5],c=r[6],d=r[7],f=r[8],p=r[9],m=r[10],g=r[11],v=r[12],y=r[13],b=r[14],x=1/(t*l+i*d+n*g+r[15]);return this.x=(t*s+i*h+n*f+v)*x,this.y=(t*a+i*u+n*p+y)*x,this.z=(t*o+i*c+n*m+b)*x,this},projectViewMatrix:function(e,t){return this.applyMatrix4(e).applyMatrix4(t)},unprojectViewMatrix:function(e,t){return this.applyMatrix4(e).applyMatrix4(t)},unproject:function(e,t){var i=e.x,n=e.y,r=e.z,s=e.w,a=this.x-i,o=s-this.y-1-n,l=this.z;return this.x=2*a/r-1,this.y=2*o/s-1,this.z=2*l-1,this.project(t)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});n.ZERO=new n,n.RIGHT=new n(1,0,0),n.LEFT=new n(-1,0,0),n.UP=new n(0,-1,0),n.DOWN=new n(0,1,0),n.FORWARD=new n(0,0,1),n.BACK=new n(0,0,-1),n.ONE=new n(1,1,1),e.exports=n},61369:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=n||0)},clone:function(){return new n(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this.w=e.w||0,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w},set:function(e,t,i,n){return"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=n||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this.w+=e.w||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this.w-=e.w||0,this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},length:function(){var e=this.x,t=this.y,i=this.z,n=this.w;return Math.sqrt(e*e+t*t+i*i+n*n)},lengthSq:function(){var e=this.x,t=this.y,i=this.z,n=this.w;return e*e+t*t+i*i+n*n},normalize:function(){var e=this.x,t=this.y,i=this.z,n=this.w,r=e*e+t*t+i*i+n*n;return r>0&&(r=1/Math.sqrt(r),this.x=e*r,this.y=t*r,this.z=i*r,this.w=n*r),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,n=this.y,r=this.z,s=this.w;return this.x=i+t*(e.x-i),this.y=n+t*(e.y-n),this.z=r+t*(e.z-r),this.w=s+t*(e.w-s),this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this.w*=e.w||1,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this.w/=e.w||1,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y,n=e.z-this.z||0,r=e.w-this.w||0;return Math.sqrt(t*t+i*i+n*n+r*r)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y,n=e.z-this.z||0,r=e.w-this.w||0;return t*t+i*i+n*n+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(e){var t=this.x,i=this.y,n=this.z,r=this.w,s=e.val;return this.x=s[0]*t+s[4]*i+s[8]*n+s[12]*r,this.y=s[1]*t+s[5]*i+s[9]*n+s[13]*r,this.z=s[2]*t+s[6]*i+s[10]*n+s[14]*r,this.w=s[3]*t+s[7]*i+s[11]*n+s[15]*r,this},transformQuat:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,s=e.y,a=e.z,o=e.w,l=o*t+s*n-a*i,h=o*i+a*t-r*n,u=o*n+r*i-s*t,c=-r*t-s*i-a*n;return this.x=l*o+-(c*r)+-(h*a)- -(u*s),this.y=h*o+-(c*s)+-(u*r)- -(l*a),this.z=u*o+-(c*a)+-(l*s)- -(h*r),this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});n.prototype.sub=n.prototype.subtract,n.prototype.mul=n.prototype.multiply,n.prototype.div=n.prototype.divide,n.prototype.dist=n.prototype.distance,n.prototype.distSq=n.prototype.distanceSq,n.prototype.len=n.prototype.length,n.prototype.lenSq=n.prototype.lengthSq,e.exports=n},60417:e=>{e.exports=function(e,t,i){return Math.abs(e-t)<=i}},15994:e=>{e.exports=function(e,t,i){var n=i-t;return t+((e-t)%n+n)%n}},31040:e=>{e.exports=function(e,t,i,n){return Math.atan2(n-t,i-e)}},55495:e=>{e.exports=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}},128:e=>{e.exports=function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)}},41273:e=>{e.exports=function(e,t,i,n){return Math.atan2(i-e,n-t)}},1432:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383);e.exports=function(e){return e>Math.PI&&(e-=n.PI2),Math.abs(((e+n.TAU)%n.PI2-n.PI2)%n.PI2)}},12407:e=>{e.exports=function(e){return(e%=2*Math.PI)>=0?e:e+2*Math.PI}},53993:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99472);e.exports=function(){return n(-Math.PI,Math.PI)}},86564:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99472);e.exports=function(){return n(-180,180)}},90154:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(12407);e.exports=function(e){return n(e+Math.PI)}},48736:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383);e.exports=function(e,t,i){return void 0===i&&(i=.05),e===t||(Math.abs(t-e)<=i||Math.abs(t-e)>=n.PI2-i?e=t:(Math.abs(t-e)>Math.PI&&(t<e?t+=n.PI2:t-=n.PI2),t>e?e+=i:t<e&&(e-=i))),e}},61430:e=>{e.exports=function(e,t){var i=t-e;if(0===i)return 0;var n=Math.floor((i- -180)/360);return i-360*n}},86554:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15994);e.exports=function(e){return n(e,-Math.PI,Math.PI)}},30954:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15994);e.exports=function(e){return n(e,-180,180)}},25588:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-0x1fffffffffffff,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||0x1fffffffffffff};e.exports=t},20339:e=>{e.exports=function(e,t,i,n){var r=e-i,s=t-n;return Math.sqrt(r*r+s*s)}},52816:e=>{e.exports=function(e,t){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}},64559:e=>{e.exports=function(e,t){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},82340:e=>{e.exports=function(e,t,i,n){return Math.max(Math.abs(e-i),Math.abs(t-n))}},14390:e=>{e.exports=function(e,t,i,n,r){return void 0===r&&(r=2),Math.sqrt(Math.pow(i-e,r)+Math.pow(n-t,r))}},2243:e=>{e.exports=function(e,t,i,n){return Math.abs(e-i)+Math.abs(t-n)}},89774:e=>{e.exports=function(e,t,i,n){var r=e-i,s=t-n;return r*r+s*s}},50994:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54178),r=i(41521),s=i(79980),a=i(85433),o=i(99140),l=i(48857),h=i(81596),u=i(59133),c=i(98516),d=i(35248),f=i(82500),p=i(49752);e.exports={Power0:h,Power1:u.Out,Power2:a.Out,Power3:c.Out,Power4:d.Out,Linear:h,Quad:u.Out,Cubic:a.Out,Quart:c.Out,Quint:d.Out,Sine:f.Out,Expo:l.Out,Circ:s.Out,Elastic:o.Out,Back:n.Out,Bounce:r.Out,Stepped:p,"Quad.easeIn":u.In,"Cubic.easeIn":a.In,"Quart.easeIn":c.In,"Quint.easeIn":d.In,"Sine.easeIn":f.In,"Expo.easeIn":l.In,"Circ.easeIn":s.In,"Elastic.easeIn":o.In,"Back.easeIn":n.In,"Bounce.easeIn":r.In,"Quad.easeOut":u.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":c.Out,"Quint.easeOut":d.Out,"Sine.easeOut":f.Out,"Expo.easeOut":l.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":o.Out,"Back.easeOut":n.Out,"Bounce.easeOut":r.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":c.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":l.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":n.InOut,"Bounce.easeInOut":r.InOut}},1639:e=>{e.exports=function(e,t){return void 0===t&&(t=1.70158),e*e*((t+1)*e-t)}},50099:e=>{e.exports=function(e,t){void 0===t&&(t=1.70158);var i=1.525*t;return(e*=2)<1?e*e*((i+1)*e-i)*.5:.5*((e-=2)*e*((i+1)*e+i)+2)}},41286:e=>{e.exports=function(e,t){return void 0===t&&(t=1.70158),--e*e*((t+1)*e+t)+1}},54178:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:e=>{e.exports=function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}},41788:e=>{e.exports=function(e){var t=!1;return(e<.5?(e=1-2*e,t=!0):e=2*e-1,e=e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t)?(1-e)*.5:.5*e+.5}},69905:e=>{e.exports=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},41521:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:e=>{e.exports=function(e){return 1-Math.sqrt(1-e*e)}},4177:e=>{e.exports=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},57512:e=>{e.exports=function(e){return Math.sqrt(1- --e*e)}},79980:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:e=>{e.exports=function(e){return e*e*e}},82820:e=>{e.exports=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},35033:e=>{e.exports=function(e){return--e*e*e+1}},85433:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:e=>{e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var n=i/4;return t<1?t=1:n=i*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e-n)/i))}},50665:e=>{e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var n=i/4;return(t<1?t=1:n=i*Math.asin(1/t)/(2*Math.PI),(e*=2)<1)?-.5*(t*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e-n)/i)):t*Math.pow(2,-10*(e-=1))*Math.sin(2*Math.PI*(e-n)/i)*.5+1}},7744:e=>{e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var n=i/4;return t<1?t=1:n=i*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin(2*Math.PI*(e-n)/i)+1}},99140:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:e=>{e.exports=function(e){return Math.pow(2,10*(e-1))-.001}},87844:e=>{e.exports=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}},89433:e=>{e.exports=function(e){return 1-Math.pow(2,-10*e)}},48857:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:e=>{e.exports=function(e){return e}},81596:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports=i(7147)},34826:e=>{e.exports=function(e){return e*e}},20544:e=>{e.exports=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},92029:e=>{e.exports=function(e){return e*(2-e)}},59133:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:e=>{e.exports=function(e){return e*e*e*e}},78137:e=>{e.exports=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},45840:e=>{e.exports=function(e){return 1- --e*e*e*e}},98516:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:e=>{e.exports=function(e){return e*e*e*e*e}},16509:e=>{e.exports=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},17868:e=>{e.exports=function(e){return--e*e*e*e*e+1}},35248:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:e=>{e.exports=function(e){return 0===e?0:1===e?1:1-Math.cos(e*Math.PI/2)}},34025:e=>{e.exports=function(e){return 0===e?0:1===e?1:.5*(1-Math.cos(Math.PI*e))}},52768:e=>{e.exports=function(e){return 0===e?0:1===e?1:Math.sin(e*Math.PI/2)}},82500:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:e=>{e.exports=function(e,t){return(void 0===t&&(t=1),e<=0)?0:e>=1?1:1/t*((t*e|0)+1)}},49752:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports=i(72251)},75698:e=>{e.exports=function(e,t){return void 0===t&&(t=1e-4),Math.ceil(e-t)}},43855:e=>{e.exports=function(e,t,i){return void 0===i&&(i=1e-4),Math.abs(e-t)<i}},25777:e=>{e.exports=function(e,t){return void 0===t&&(t=1e-4),Math.floor(e+t)}},5470:e=>{e.exports=function(e,t,i){return void 0===i&&(i=1e-4),e>t-i}},94977:e=>{e.exports=function(e,t,i){return void 0===i&&(i=1e-4),e<t+i}},48379:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(79291),s={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};s=r(!1,s,n),e.exports=s},89318:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85710);e.exports=function(e,t){for(var i=0,r=e.length-1,s=0;s<=r;s++)i+=Math.pow(1-t,r-s)*Math.pow(t,s)*e[s]*n(r,s);return i}},77259:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87842);e.exports=function(e,t){var i=e.length-1,r=i*t,s=Math.floor(r);return e[0]===e[i]?(t<0&&(s=Math.floor(r=i*(1+t))),n(r-s,e[(s-1+i)%i],e[s],e[(s+1)%i],e[(s+2)%i])):t<0?e[0]-(n(-r,e[0],e[0],e[1],e[1])-e[0]):t>1?e[i]-(n(r-i,e[i],e[i],e[i-1],e[i-1])-e[i]):n(r-s,e[s?s-1:0],e[s],e[i<s+1?i:s+1],e[i<s+2?i:s+2])}},36316:e=>{e.exports=function(e,t,i,n,r){var s,a;return(s=1-e)*s*s*t+3*(a=1-e)*a*e*i+3*(1-e)*e*e*n+e*e*e*r}},28392:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28915);e.exports=function(e,t){var i=e.length-1,r=i*t,s=Math.floor(r);return t<0?n(e[0],e[1],r):t>1?n(e[i],e[i-1],i-r):n(e[s],e[s+1>i?i:s+1],r-s)}},32112:e=>{e.exports=function(e,t,i,n){var r;return(r=1-e)*r*t+2*(1-e)*e*i+e*e*n}},47235:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7602);e.exports=function(e,t,i){return t+(i-t)*n(e,0,1)}},50178:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54261);e.exports=function(e,t,i){return t+(i-t)*n(e,0,1)}},38289:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:e=>{e.exports=function(e){return 1<<Math.ceil(Math.log(e)/.6931471805599453)}},50030:e=>{e.exports=function(e,t){return e>0&&(e&e-1)==0&&t>0&&(t&t-1)==0}},81230:e=>{e.exports=function(e){return e>0&&(e&e-1)==0}},49001:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){void 0===e&&(e=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],e&&this.init(e)},rnd:function(){var e=2091639*this.s0+23283064365386963e-26*this.c;return this.c=0|e,this.s0=this.s1,this.s1=this.s2,this.s2=e-this.c,this.s2},hash:function(e){var t,i=this.n;e=e.toString();for(var n=0;n<e.length;n++)i+=e.charCodeAt(n),i=(t=.02519603282416938*i)>>>0,t-=i,t*=i,i=t>>>0,t-=i,i+=0x100000000*t;return this.n=i,(i>>>0)*23283064365386963e-26},init:function(e){"string"==typeof e?this.state(e):this.sow(e)},sow:function(e){if(this.n=0xefc8249d,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,e)for(var t=0;t<e.length&&null!=e[t];t++){var i=e[t];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 0x100000000*this.rnd()},frac:function(){return this.rnd()+(2097152*this.rnd()|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},between:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},realInRange:function(e,t){return this.frac()*(t-e)+e},normal:function(){return 1-2*this.frac()},uuid:function(){var e="",t="";for(t=e="";e++<36;t+=~e%5|3*e&4?(15^e?8^this.frac()*(20^e?16:4):4).toString(16):"-");return t},pick:function(e){return e[this.integerInRange(0,e.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(e){return e[~~(Math.pow(this.frac(),2)*(e.length-.5)+.5)]},timestamp:function(e,t){return this.realInRange(e||9466848e5,t||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(e){return"string"==typeof e&&e.match(/^!rnd/)&&(e=e.split(","),this.c=parseFloat(e[1]),this.s0=parseFloat(e[2]),this.s1=parseFloat(e[3]),this.s2=parseFloat(e[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(e){for(var t=e.length-1,i=t;i>0;i--){var n=Math.floor(this.frac()*(i+1)),r=e[n];e[n]=e[i],e[i]=r}return e}});e.exports=n},63448:e=>{e.exports=function(e,t,i,n){return(void 0===i&&(i=0),0===t)?e:(e-=i,e=t*Math.ceil(e/t),n?(i+e)/t:i+e)}},56583:e=>{e.exports=function(e,t,i,n){return(void 0===i&&(i=0),0===t)?e:(e-=i,e=t*Math.floor(e/t),n?(i+e)/t:i+e)}},77720:e=>{e.exports=function(e,t,i,n){return(void 0===i&&(i=0),0===t)?e:(e-=i,e=t*Math.round(e/t),n?(i+e)/t:i+e)}},73697:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i(63595);var n=i(8054),r=i(79291),s={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};s.Sound=i(23717),s=r(!1,s,n),e.exports=s,i.g.Phaser=s},71289:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92209),s=i(88571),a=new n({Extends:s,Mixins:[r.Acceleration,r.Angular,r.Bounce,r.Collision,r.Debug,r.Drag,r.Enable,r.Friction,r.Gravity,r.Immovable,r.Mass,r.Pushable,r.Size,r.Velocity],initialize:function(e,t,i,n,r){s.call(this,e,t,i,n,r),this.body=null}});e.exports=a},86689:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(39506),s=i(20339),a=i(89774),o=i(66022),l=i(95540),h=i(46975),u=i(72441),c=i(47956),d=i(37277),f=i(44594),p=i(26099),m=i(82248),g=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,e.sys.events.once(f.BOOT,this.boot,this),e.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new o(this.world));var e=this.systems.events;l(this.config,"customUpdate",!1)||e.on(f.UPDATE,this.world.update,this.world),e.on(f.POST_UPDATE,this.world.postUpdate,this.world),e.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var e=this.systems.game.config.physics;return h(l(this.systems.settings.physics,"arcade",{}),l(e,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(e,t,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.world.collideObjects(e,t,i,n,r,!0)},collide:function(e,t,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.world.collideObjects(e,t,i,n,r,!1)},collideTiles:function(e,t,i,n,r){return this.world.collideTiles(e,t,i,n,r)},overlapTiles:function(e,t,i,n,r){return this.world.overlapTiles(e,t,i,n,r)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(e,t,i,n,r,s){void 0===n&&(n=60);var a=Math.atan2(i-e.y,t-e.x);return e.body.acceleration.setToPolar(a,n),void 0!==r&&void 0!==s&&e.body.maxVelocity.set(r,s),a},accelerateToObject:function(e,t,i,n,r){return this.accelerateTo(e,t.x,t.y,i,n,r)},closest:function(e,t){t||(t=this.world.bodies.entries);for(var i=Number.MAX_VALUE,n=null,r=e.x,s=e.y,o=t.length,l=0;l<o;l++){var h=t[l],u=h.body||h;if(e!==h&&e!==u&&e!==u.gameObject&&e!==u.center){var c=a(r,s,u.center.x,u.center.y);c<i&&(n=h,i=c)}}return n},furthest:function(e,t){t||(t=this.world.bodies.entries);for(var i=-1,n=null,r=e.x,s=e.y,o=t.length,l=0;l<o;l++){var h=t[l],u=h.body||h;if(e!==h&&e!==u&&e!==u.gameObject&&e!==u.center){var c=a(r,s,u.center.x,u.center.y);c>i&&(n=h,i=c)}}return n},moveTo:function(e,t,i,n,r){void 0===n&&(n=60),void 0===r&&(r=0);var a=Math.atan2(i-e.y,t-e.x);return r>0&&(n=s(e.x,e.y,t,i)/(r/1e3)),e.body.velocity.setToPolar(a,n),a},moveToObject:function(e,t,i,n){return this.moveTo(e,t.x,t.y,i,n)},velocityFromAngle:function(e,t,i){return void 0===t&&(t=60),void 0===i&&(i=new p),i.setToPolar(r(e),t)},velocityFromRotation:function(e,t,i){return void 0===t&&(t=60),void 0===i&&(i=new p),i.setToPolar(e,t)},overlapRect:function(e,t,i,n,r,s){return c(this.world,e,t,i,n,r,s)},overlapCirc:function(e,t,i,n,r){return u(this.world,e,t,i,n,r)},shutdown:function(){if(this.world){var e=this.systems.events;e.off(f.UPDATE,this.world.update,this.world),e.off(f.POST_UPDATE,this.world.postUpdate,this.world),e.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",g,"arcadePhysics"),e.exports=g},13759:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92209),s=i(68287),a=new n({Extends:s,Mixins:[r.Acceleration,r.Angular,r.Bounce,r.Collision,r.Debug,r.Drag,r.Enable,r.Friction,r.Gravity,r.Immovable,r.Mass,r.Pushable,r.Size,r.Velocity],initialize:function(e,t,i,n,r){s.call(this,e,t,i,n,r),this.body=null}});e.exports=a},37742:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(78389),s=i(37747),a=i(63012),o=i(43396),l=i(87841),h=i(37303),u=i(95829),c=i(26099),d=new n({Mixins:[r],initialize:function(e,t){var i=64,n=64,r=void 0!==t;r&&t.displayWidth&&(i=t.displayWidth,n=t.displayHeight),r||(t={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=e,this.gameObject=r?t:void 0,this.isBody=!0,this.transform={x:t.x,y:t.y,rotation:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,displayOriginX:t.displayOriginX,displayOriginY:t.displayOriginY},this.debugShowBody=e.defaults.debugShowBody,this.debugShowVelocity=e.defaults.debugShowVelocity,this.debugBodyColor=e.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new c,this.position=new c(t.x-t.scaleX*t.displayOriginX,t.y-t.scaleY*t.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=t.angle,this.preRotation=t.angle,this.width=i,this.height=n,this.sourceWidth=i,this.sourceHeight=n,t.frame&&(this.sourceWidth=t.frame.realWidth,this.sourceHeight=t.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(n/2),this.center=new c(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new c,this.newVelocity=new c,this.deltaMax=new c,this.acceleration=new c,this.allowDrag=!0,this.drag=new c,this.allowGravity=!0,this.gravity=new c,this.bounce=new c,this.worldBounce=null,this.customBoundsRectangle=e.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new c(1e4,1e4),this.maxSpeed=-1,this.friction=new c(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=s.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new c(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=u(!1),this.touching=u(!0),this.wasTouching=u(!0),this.blocked=u(!0),this.syncBounds=!1,this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=t.scaleX,this._sy=t.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new l,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var e=this.gameObject,t=this.transform;if(e.parentContainer){var i=e.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);t.x=i.tx,t.y=i.ty,t.rotation=o(i.rotation),t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY}else t.x=e.x,t.y=e.y,t.rotation=e.angle,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY;var n=!1;if(this.syncBounds){var r=e.getBounds(this._bounds);this.width=r.width,this.height=r.height,n=!0}else{var s=Math.abs(t.scaleX),a=Math.abs(t.scaleY);(this._sx!==s||this._sy!==a)&&(this.width=this.sourceWidth*s,this.height=this.sourceHeight*a,this._sx=s,this._sy=a,n=!0)}n&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var e=this.transform;this.position.x=e.x+e.scaleX*(this.offset.x-e.displayOriginX),this.position.y=e.y+e.scaleY*(this.offset.y-e.displayOriginY),this.updateCenter()},resetFlags:function(e){void 0===e&&(e=!1);var t=this.wasTouching,i=this.touching,n=this.blocked;e?u(!0,t):(t.none=i.none,t.up=i.up,t.down=i.down,t.left=i.left,t.right=i.right),u(!0,i),u(!0,n),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(e,t){if(e&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var i=this.position;this.prev.x=i.x,this.prev.y=i.y,this.prevFrame.x=i.x,this.prevFrame.y=i.y}e&&this.update(t)},update:function(e){var t=this.prev,i=this.position,n=this.velocity;if(t.set(i.x,i.y),!this.moves){this._dx=i.x-t.x,this._dy=i.y-t.y;return}if(this.directControl){var r=this.autoFrame;n.set((i.x-r.x)/e,(i.y-r.y)/e),this.world.updateMotion(this,e),this._dx=i.x-r.x,this._dy=i.y-r.y}else this.world.updateMotion(this,e),this.newVelocity.set(n.x*e,n.y*e),i.add(this.newVelocity),this._dx=i.x-t.x,this._dy=i.y-t.y;var s=n.x,o=n.y;if(this.updateCenter(),this.angle=Math.atan2(o,s),this.speed=Math.sqrt(s*s+o*o),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var l=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,l.up,l.down,l.left,l.right)}},postUpdate:function(){var e=this.position,t=e.x-this.prevFrame.x,i=e.y-this.prevFrame.y,n=this.gameObject;if(this.moves){var r=this.deltaMax.x,a=this.deltaMax.y;0!==r&&0!==t&&(t<0&&t<-r?t=-r:t>0&&t>r&&(t=r)),0!==a&&0!==i&&(i<0&&i<-a?i=-a:i>0&&i>a&&(i=a)),n&&(n.x+=t,n.y+=i)}t<0?this.facing=s.FACING_LEFT:t>0&&(this.facing=s.FACING_RIGHT),i<0?this.facing=s.FACING_UP:i>0&&(this.facing=s.FACING_DOWN),this.allowRotation&&n&&(n.angle+=this.deltaZ()),this._tx=t,this._ty=i,this.autoFrame.set(e.x,e.y)},setBoundsRectangle:function(e){return this.customBoundsRectangle=e||this.world.bounds,this},checkWorldBounds:function(){var e=this.position,t=this.velocity,i=this.blocked,n=this.customBoundsRectangle,r=this.world.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,a=this.worldBounce?-this.worldBounce.y:-this.bounce.y,o=!1;return e.x<n.x&&r.left?(e.x=n.x,t.x*=s,i.left=!0,o=!0):this.right>n.right&&r.right&&(e.x=n.right-this.width,t.x*=s,i.right=!0,o=!0),e.y<n.y&&r.up?(e.y=n.y,t.y*=a,i.up=!0,o=!0):this.bottom>n.bottom&&r.down&&(e.y=n.bottom-this.height,t.y*=a,i.down=!0,o=!0),o&&(this.blocked.none=!1,this.updateCenter()),o},setOffset:function(e,t){return void 0===t&&(t=e),this.offset.set(e,t),this},setGameObject:function(e,t){return void 0===t&&(t=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=e,e.body&&(e.body=this),this.setSize(),this.world.add(this),this.enable=t,this},setSize:function(e,t,i){void 0===i&&(i=!0);var n=this.gameObject;if(n&&(!e&&n.frame&&(e=n.frame.realWidth),!t&&n.frame&&(t=n.frame.realHeight)),this.sourceWidth=e,this.sourceHeight=t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&n&&n.getCenter){var r=(n.width-e)/2,s=(n.height-t)/2;this.offset.set(r,s)}return this.isCircle=!1,this.radius=0,this},setCircle:function(e,t,i){return void 0===t&&(t=this.offset.x),void 0===i&&(i=this.offset.y),e>0?(this.isCircle=!0,this.radius=e,this.sourceWidth=2*e,this.sourceHeight=2*e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,i),this.updateCenter()):this.isCircle=!1,this},reset:function(e,t){this.stop();var i=this.gameObject;i&&(i.setPosition(e,t),this.rotation=i.angle,this.preRotation=i.angle);var n=this.position;i&&i.getTopLeft?i.getTopLeft(n):n.set(e,t),this.prev.copy(n),this.prevFrame.copy(n),this.autoFrame.copy(n),i&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?this.radius>0&&e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom&&(this.center.x-e)*(this.center.x-e)+(this.center.y-t)*(this.center.y-t)<=this.radius*this.radius:h(this,e,t)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,i=t.x+this.halfWidth,n=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor),this.isCircle?e.strokeCircle(i,n,this.width/2):(this.checkCollision.up&&e.lineBetween(t.x,t.y,t.x+this.width,t.y),this.checkCollision.right&&e.lineBetween(t.x+this.width,t.y,t.x+this.width,t.y+this.height),this.checkCollision.down&&e.lineBetween(t.x,t.y+this.height,t.x+this.width,t.y+this.height),this.checkCollision.left&&e.lineBetween(t.x,t.y,t.x,t.y+this.height))),this.debugShowVelocity&&(e.lineStyle(e.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),e.lineBetween(i,n,i+this.velocity.x/2,n+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(e){return void 0===e&&(e=!0),this.directControl=e,this},setCollideWorldBounds:function(e,t,i,n){void 0===e&&(e=!0),this.collideWorldBounds=e;var r=void 0!==t,s=void 0!==i;return(r||s)&&(this.worldBounce||(this.worldBounce=new c),r&&(this.worldBounce.x=t),s&&(this.worldBounce.y=i)),void 0!==n&&(this.onWorldBounds=n),this},setVelocity:function(e,t){return this.velocity.set(e,t),e=this.velocity.x,t=this.velocity.y,this.speed=Math.sqrt(e*e+t*t),this},setVelocityX:function(e){return this.setVelocity(e,this.velocity.y)},setVelocityY:function(e){return this.setVelocity(this.velocity.x,e)},setMaxVelocity:function(e,t){return this.maxVelocity.set(e,t),this},setMaxVelocityX:function(e){return this.maxVelocity.x=e,this},setMaxVelocityY:function(e){return this.maxVelocity.y=e,this},setMaxSpeed:function(e){return this.maxSpeed=e,this},setSlideFactor:function(e,t){return this.slideFactor.set(e,t),this},setBounce:function(e,t){return this.bounce.set(e,t),this},setBounceX:function(e){return this.bounce.x=e,this},setBounceY:function(e){return this.bounce.y=e,this},setAcceleration:function(e,t){return this.acceleration.set(e,t),this},setAccelerationX:function(e){return this.acceleration.x=e,this},setAccelerationY:function(e){return this.acceleration.y=e,this},setAllowDrag:function(e){return void 0===e&&(e=!0),this.allowDrag=e,this},setAllowGravity:function(e){return void 0===e&&(e=!0),this.allowGravity=e,this},setAllowRotation:function(e){return void 0===e&&(e=!0),this.allowRotation=e,this},setDrag:function(e,t){return this.drag.set(e,t),this},setDamping:function(e){return this.useDamping=e,this},setDragX:function(e){return this.drag.x=e,this},setDragY:function(e){return this.drag.y=e,this},setGravity:function(e,t){return this.gravity.set(e,t),this},setGravityX:function(e){return this.gravity.x=e,this},setGravityY:function(e){return this.gravity.y=e,this},setFriction:function(e,t){return this.friction.set(e,t),this},setFrictionX:function(e){return this.friction.x=e,this},setFrictionY:function(e){return this.friction.y=e,this},setAngularVelocity:function(e){return this.angularVelocity=e,this},setAngularAcceleration:function(e){return this.angularAcceleration=e,this},setAngularDrag:function(e){return this.angularDrag=e,this},setMass:function(e){return this.mass=e,this},setImmovable:function(e){return void 0===e&&(e=!0),this.immovable=e,this},setEnable:function(e){return void 0===e&&(e=!0),this.enable=e,this},processX:function(e,t,i,n){this.x+=e,this.updateCenter(),null!==t&&(this.velocity.x=t*this.slideFactor.x);var r=this.blocked;i&&(r.left=!0,r.none=!1),n&&(r.right=!0,r.none=!1)},processY:function(e,t,i,n){this.y+=e,this.updateCenter(),null!==t&&(this.velocity.y=t*this.slideFactor.y);var r=this.blocked;i&&(r.up=!0,r.none=!1),n&&(r.down=!0,r.none=!1)},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=d},79342:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n,r,s,a){this.world=e,this.name="",this.active=!0,this.overlapOnly=t,this.object1=i,this.object2=n,this.collideCallback=r,this.processCallback=s,this.callbackContext=a},setName:function(e){return this.name=e,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});e.exports=n},66022:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71289),r=i(13759),s=i(37742),a=i(83419),o=i(37747),l=i(60758),h=i(72624),u=i(71464),c=new a({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},collider:function(e,t,i,n,r){return this.world.addCollider(e,t,i,n,r)},overlap:function(e,t,i,n,r){return this.world.addOverlap(e,t,i,n,r)},existing:function(e,t){var i=t?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(e,i),e},staticImage:function(e,t,i,r){var s=new n(this.scene,e,t,i,r);return this.sys.displayList.add(s),this.world.enableBody(s,o.STATIC_BODY),s},image:function(e,t,i,r){var s=new n(this.scene,e,t,i,r);return this.sys.displayList.add(s),this.world.enableBody(s,o.DYNAMIC_BODY),s},staticSprite:function(e,t,i,n){var s=new r(this.scene,e,t,i,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,o.STATIC_BODY),s},sprite:function(e,t,i,n){var s=new r(this.scene,e,t,i,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,o.DYNAMIC_BODY),s},staticGroup:function(e,t){return this.sys.updateList.add(new u(this.world,this.world.scene,e,t))},group:function(e,t){return this.sys.updateList.add(new l(this.world,this.world.scene,e,t))},body:function(e,t,i,n){var r=new s(this.world);return r.position.set(e,t),i&&n&&r.setSize(i,n),this.world.add(r,o.DYNAMIC_BODY),r},staticBody:function(e,t,i,n){var r=new h(this.world);return r.position.set(e,t),i&&n&&r.setSize(i,n),this.world.add(r,o.STATIC_BODY),r},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=c},79599:e=>{e.exports=function(e){var t=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)t|=e[i];else t=e;return t}},64897:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37747);e.exports=function(e,t,i,r){var s=0,a=e.deltaAbsX()+t.deltaAbsX()+r;return 0===e._dx&&0===t._dx?(e.embedded=!0,t.embedded=!0):e._dx>t._dx?(s=e.right-t.x)>a&&!i||!1===e.checkCollision.right||!1===t.checkCollision.left?s=0:(e.touching.none=!1,e.touching.right=!0,t.touching.none=!1,t.touching.left=!0,t.physicsType!==n.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.right=!0),e.physicsType!==n.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.left=!0)):e._dx<t._dx&&(-(s=e.x-t.width-t.x)>a&&!i||!1===e.checkCollision.left||!1===t.checkCollision.right?s=0:(e.touching.none=!1,e.touching.left=!0,t.touching.none=!1,t.touching.right=!0,t.physicsType!==n.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.left=!0),e.physicsType!==n.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.right=!0))),e.overlapX=s,t.overlapX=s,s}},45170:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37747);e.exports=function(e,t,i,r){var s=0,a=e.deltaAbsY()+t.deltaAbsY()+r;return 0===e._dy&&0===t._dy?(e.embedded=!0,t.embedded=!0):e._dy>t._dy?(s=e.bottom-t.y)>a&&!i||!1===e.checkCollision.down||!1===t.checkCollision.up?s=0:(e.touching.none=!1,e.touching.down=!0,t.touching.none=!1,t.touching.up=!0,t.physicsType!==n.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.down=!0),e.physicsType!==n.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.up=!0)):e._dy<t._dy&&(-(s=e.y-t.bottom)>a&&!i||!1===e.checkCollision.up||!1===t.checkCollision.down?s=0:(e.touching.none=!1,e.touching.up=!0,t.touching.none=!1,t.touching.down=!0,t.physicsType!==n.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.up=!0),e.physicsType!==n.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.down=!0))),e.overlapY=s,t.overlapY=s,s}},60758:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13759),r=i(83419),s=i(78389),a=i(37747),o=i(95540),l=i(26479),h=i(41212),u=new r({Extends:l,Mixins:[s],initialize:function(e,t,i,r){if(i||r){if(h(i))r=i,i=null,r.internalCreateCallback=this.createCallbackHandler,r.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(i)&&h(i[0])){var s=this;i.forEach(function(e){e.internalCreateCallback=s.createCallbackHandler,e.internalRemoveCallback=s.removeCallbackHandler,e.classType=o(e,"classType",n)}),r=null}else r={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}}else r={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=e,r&&(r.classType=o(r,"classType",n)),this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=0x7fffffff,this.defaults={setCollideWorldBounds:o(r,"collideWorldBounds",!1),setBoundsRectangle:o(r,"customBoundsRectangle",null),setAccelerationX:o(r,"accelerationX",0),setAccelerationY:o(r,"accelerationY",0),setAllowDrag:o(r,"allowDrag",!0),setAllowGravity:o(r,"allowGravity",!0),setAllowRotation:o(r,"allowRotation",!0),setDamping:o(r,"useDamping",!1),setBounceX:o(r,"bounceX",0),setBounceY:o(r,"bounceY",0),setDragX:o(r,"dragX",0),setDragY:o(r,"dragY",0),setEnable:o(r,"enable",!0),setGravityX:o(r,"gravityX",0),setGravityY:o(r,"gravityY",0),setFrictionX:o(r,"frictionX",0),setFrictionY:o(r,"frictionY",0),setMaxSpeed:o(r,"maxSpeed",-1),setMaxVelocityX:o(r,"maxVelocityX",1e4),setMaxVelocityY:o(r,"maxVelocityY",1e4),setVelocityX:o(r,"velocityX",0),setVelocityY:o(r,"velocityY",0),setAngularVelocity:o(r,"angularVelocity",0),setAngularAcceleration:o(r,"angularAcceleration",0),setAngularDrag:o(r,"angularDrag",0),setMass:o(r,"mass",1),setImmovable:o(r,"immovable",!1)},l.call(this,t,i,r),this.type="PhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,a.DYNAMIC_BODY);var t=e.body;for(var i in this.defaults)t[i](this.defaults[i])},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},setVelocity:function(e,t,i){void 0===i&&(i=0);for(var n=this.getChildren(),r=0;r<n.length;r++)n[r].body.velocity.set(e+r*i,t+r*i);return this},setVelocityX:function(e,t){void 0===t&&(t=0);for(var i=this.getChildren(),n=0;n<i.length;n++)i[n].body.velocity.x=e+n*t;return this},setVelocityY:function(e,t){void 0===t&&(t=0);for(var i=this.getChildren(),n=0;n<i.length;n++)i[n].body.velocity.y=e+n*t;return this}});e.exports=u},3017:e=>{var t,i,n,r,s,a,o,l,h,u,c,d,f,p,m,g,v,y=function(){return u&&m&&i.blocked.right?(t.processX(-v,o,!1,!0),1):h&&g&&i.blocked.left?(t.processX(v,o,!0),1):f&&g&&t.blocked.right?(i.processX(-v,l,!1,!0),2):d&&m&&t.blocked.left?(i.processX(v,l,!0),2):0},b=function(e){if(n&&r)v*=.5,0===e||3===e?(t.processX(v,s),i.processX(-v,a)):(t.processX(-v,s),i.processX(v,a));else if(n&&!r)0===e||3===e?t.processX(v,o,!0):t.processX(-v,o,!1,!0);else if(!n&&r)0===e||3===e?i.processX(-v,l,!1,!0):i.processX(v,l,!0);else{var m=.5*v;0===e?p?(t.processX(v,0,!0),i.processX(0,null,!1,!0)):f?(t.processX(m,0,!0),i.processX(-m,0,!1,!0)):(t.processX(m,i.velocity.x,!0),i.processX(-m,null,!1,!0)):1===e?c?(t.processX(0,null,!1,!0),i.processX(v,0,!0)):u?(t.processX(-m,0,!1,!0),i.processX(m,0,!0)):(t.processX(-m,null,!1,!0),i.processX(m,t.velocity.x,!0)):2===e?p?(t.processX(-v,0,!1,!0),i.processX(0,null,!0)):d?(t.processX(-m,0,!1,!0),i.processX(m,0,!0)):(t.processX(-m,i.velocity.x,!1,!0),i.processX(m,null,!0)):3===e&&(c?(t.processX(0,null,!0),i.processX(-v,0,!1,!0)):h?(t.processX(m,0,!0),i.processX(-m,0,!1,!0)):(t.processX(m,i.velocity.y,!0),i.processX(-m,null,!1,!0)))}return!0};e.exports={BlockCheck:y,Check:function(){var e=t.velocity.x,n=i.velocity.x,r=Math.sqrt(n*n*i.mass/t.mass)*(n>0?1:-1),o=Math.sqrt(e*e*t.mass/i.mass)*(e>0?1:-1),l=(r+o)*.5;return(r-=l,o-=l,s=l+r*t.bounce.x,a=l+o*i.bounce.x,h&&g)?b(0):d&&m?b(1):u&&m?b(2):!!f&&!!g&&b(3)},Set:function(e,s,a){t=e,i=s;var b=t.velocity.x,x=i.velocity.x;return n=t.pushable,h=t._dx<0,u=t._dx>0,c=0===t._dx,m=Math.abs(t.right-i.x)<=Math.abs(i.right-t.x),o=x-b*t.bounce.x,r=i.pushable,d=i._dx<0,f=i._dx>0,p=0===i._dx,g=!m,l=b-x*i.bounce.x,v=Math.abs(a),y()},Run:b,RunImmovableBody1:function(e){if(1===e?i.velocity.x=0:m?i.processX(v,l,!0):i.processX(-v,l,!1,!0),t.moves){var n=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;i.y+=n*t.friction.y,i._dy=i.y-i.prev.y}},RunImmovableBody2:function(e){if(2===e?t.velocity.x=0:g?t.processX(v,o,!0):t.processX(-v,o,!1,!0),i.moves){var n=i.directControl?i.y-i.autoFrame.y:i.y-i.prev.y;t.y+=n*i.friction.y,t._dy=t.y-t.prev.y}}}},47962:e=>{var t,i,n,r,s,a,o,l,h,u,c,d,f,p,m,g,v,y=function(){return u&&m&&i.blocked.down?(t.processY(-v,o,!1,!0),1):h&&g&&i.blocked.up?(t.processY(v,o,!0),1):f&&g&&t.blocked.down?(i.processY(-v,l,!1,!0),2):d&&m&&t.blocked.up?(i.processY(v,l,!0),2):0},b=function(e){if(n&&r)v*=.5,0===e||3===e?(t.processY(v,s),i.processY(-v,a)):(t.processY(-v,s),i.processY(v,a));else if(n&&!r)0===e||3===e?t.processY(v,o,!0):t.processY(-v,o,!1,!0);else if(!n&&r)0===e||3===e?i.processY(-v,l,!1,!0):i.processY(v,l,!0);else{var m=.5*v;0===e?p?(t.processY(v,0,!0),i.processY(0,null,!1,!0)):f?(t.processY(m,0,!0),i.processY(-m,0,!1,!0)):(t.processY(m,i.velocity.y,!0),i.processY(-m,null,!1,!0)):1===e?c?(t.processY(0,null,!1,!0),i.processY(v,0,!0)):u?(t.processY(-m,0,!1,!0),i.processY(m,0,!0)):(t.processY(-m,null,!1,!0),i.processY(m,t.velocity.y,!0)):2===e?p?(t.processY(-v,0,!1,!0),i.processY(0,null,!0)):d?(t.processY(-m,0,!1,!0),i.processY(m,0,!0)):(t.processY(-m,i.velocity.y,!1,!0),i.processY(m,null,!0)):3===e&&(c?(t.processY(0,null,!0),i.processY(-v,0,!1,!0)):h?(t.processY(m,0,!0),i.processY(-m,0,!1,!0)):(t.processY(m,i.velocity.y,!0),i.processY(-m,null,!1,!0)))}return!0};e.exports={BlockCheck:y,Check:function(){var e=t.velocity.y,n=i.velocity.y,r=Math.sqrt(n*n*i.mass/t.mass)*(n>0?1:-1),o=Math.sqrt(e*e*t.mass/i.mass)*(e>0?1:-1),l=(r+o)*.5;return(r-=l,o-=l,s=l+r*t.bounce.y,a=l+o*i.bounce.y,h&&g)?b(0):d&&m?b(1):u&&m?b(2):!!f&&!!g&&b(3)},Set:function(e,s,a){t=e,i=s;var b=t.velocity.y,x=i.velocity.y;return n=t.pushable,h=t._dy<0,u=t._dy>0,c=0===t._dy,m=Math.abs(t.bottom-i.y)<=Math.abs(i.bottom-t.y),o=x-b*t.bounce.y,r=i.pushable,d=i._dy<0,f=i._dy>0,p=0===i._dy,g=!m,l=b-x*i.bounce.y,v=Math.abs(a),y()},Run:b,RunImmovableBody1:function(e){if(1===e?i.velocity.y=0:m?i.processY(v,l,!0):i.processY(-v,l,!1,!0),t.moves){var n=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;i.x+=n*t.friction.x,i._dx=i.x-i.prev.x}},RunImmovableBody2:function(e){if(2===e?t.velocity.y=0:g?t.processY(v,o,!0):t.processY(-v,o,!1,!0),i.moves){var n=i.directControl?i.x-i.autoFrame.x:i.x-i.prev.x;t.x+=n*i.friction.x,t._dx=t.x-t.prev.x}}}},14087:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(64897),r=i(3017);e.exports=function(e,t,i,s,a){void 0===a&&(a=n(e,t,i,s));var o=e.immovable,l=t.immovable;if(i||0===a||o&&l||e.customSeparateX||t.customSeparateX)return 0!==a||e.embedded&&t.embedded;var h=r.Set(e,t,a);return o||l?(o?r.RunImmovableBody1(h):l&&r.RunImmovableBody2(h),!0):h>0||r.Check()}},89936:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45170),r=i(47962);e.exports=function(e,t,i,s,a){void 0===a&&(a=n(e,t,i,s));var o=e.immovable,l=t.immovable;if(i||0===a||o&&l||e.customSeparateY||t.customSeparateY)return 0!==a||e.embedded&&t.embedded;var h=r.Set(e,t,a);return o||l?(o?r.RunImmovableBody1(h):l&&r.RunImmovableBody2(h),!0):h>0||r.Check()}},95829:e=>{e.exports=function(e,t){return void 0===t&&(t={}),t.none=e,t.up=!1,t.down=!1,t.left=!1,t.right=!1,e||(t.up=!0,t.down=!0,t.left=!0,t.right=!0),t}},72624:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87902),r=i(83419),s=i(78389),a=i(37747),o=i(37303),l=i(95829),h=i(26099),u=new r({Mixins:[s],initialize:function(e,t){var i=64,n=64,r=void 0!==t;r&&t.displayWidth&&(i=t.displayWidth,n=t.displayHeight),r||(t={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=e,this.gameObject=r?t:void 0,this.isBody=!0,this.debugShowBody=e.defaults.debugShowStaticBody,this.debugBodyColor=e.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(t.x-i*t.originX,t.y-n*t.originY),this.width=i,this.height=n,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(e,t){return e&&e!==this.gameObject&&(this.gameObject.body=null,e.body=this,this.gameObject=e),t&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var e=this.gameObject;return e.getTopLeft(this.position),this.width=e.displayWidth,this.height=e.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(e,t){return void 0===t&&(t=e),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(e,t),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(e,t,i){void 0===i&&(i=!0);var n=this.gameObject;if(n&&n.frame&&(e||(e=n.frame.realWidth),t||(t=n.frame.realHeight)),this.world.staticTree.remove(this),this.width=e,this.height=t,this.halfWidth=Math.floor(e/2),this.halfHeight=Math.floor(t/2),i&&n&&n.getCenter){var r=n.displayWidth/2,s=n.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r-this.halfWidth,s-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(e,t,i){return void 0===t&&(t=this.offset.x),void 0===i&&(i=this.offset.y),e>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=e,this.width=2*e,this.height=2*e,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(e,t){var i=this.gameObject;void 0===e&&(e=i.x),void 0===t&&(t=i.y),this.world.staticTree.remove(this),i.setPosition(e,t),i.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?n(this,e,t):o(this,e,t)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,i=t.x+this.halfWidth,n=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?e.strokeCircle(i,n,this.width/2):e.strokeRect(t.x,t.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(e){return e<=0&&(e=.1),this.mass=e,this},x:{get:function(){return this.position.x},set:function(e){this.world.staticTree.remove(this),this.position.x=e,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(e){this.world.staticTree.remove(this),this.position.y=e,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=u},71464:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13759),r=i(83419),s=i(78389),a=i(37747),o=i(95540),l=i(26479),h=i(41212),u=new r({Extends:l,Mixins:[s],initialize:function(e,t,i,r){i||r?h(i)?(r=i,i=null,r.internalCreateCallback=this.createCallbackHandler,r.internalRemoveCallback=this.removeCallbackHandler,r.createMultipleCallback=this.createMultipleCallbackHandler,r.classType=o(r,"classType",n)):Array.isArray(i)&&h(i[0])?(r=i,i=null,r.forEach(function(e){e.internalCreateCallback=this.createCallbackHandler,e.internalRemoveCallback=this.removeCallbackHandler,e.createMultipleCallback=this.createMultipleCallbackHandler,e.classType=o(e,"classType",n)})):r={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:r={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:n},this.world=e,this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,l.call(this,t,i,r),this.type="StaticPhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,a.STATIC_BODY)},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var e=this.children.entries,t=0;t<e.length;t++)e[t].body.reset();return this}});e.exports=u},82248:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(55495),r=i(37742),s=i(45319),a=i(83419),o=i(79342),l=i(37747),h=i(20339),u=i(52816),c=i(50792),d=i(63012),f=i(43855),p=i(5470),m=i(94977),g=i(64897),v=i(45170),y=i(96523),b=i(35154),x=i(36383),E=i(25774),w=i(96602),S=i(87841),T=i(59542),A=i(40012),_=i(14087),C=i(89936),I=i(35072),P=i(72624),R=i(2483),O=i(61340),M=i(26099),L=i(15994),D=new a({Extends:c,initialize:function(e,t){c.call(this),this.scene=e,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new E,this.gravity=new M(b(t,"gravity.x",0),b(t,"gravity.y",0)),this.bounds=new S(b(t,"x",0),b(t,"y",0),b(t,"width",e.sys.scale.width),b(t,"height",e.sys.scale.height)),this.checkCollision={up:b(t,"checkCollision.up",!0),down:b(t,"checkCollision.down",!0),left:b(t,"checkCollision.left",!0),right:b(t,"checkCollision.right",!0)},this.fps=b(t,"fps",60),this.fixedStep=b(t,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=b(t,"timeScale",1),this.OVERLAP_BIAS=b(t,"overlapBias",4),this.TILE_BIAS=b(t,"tileBias",16),this.forceX=b(t,"forceX",!1),this.isPaused=b(t,"isPaused",!1),this._total=0,this.drawDebug=b(t,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:b(t,"debugShowBody",!0),debugShowStaticBody:b(t,"debugShowStaticBody",!0),debugShowVelocity:b(t,"debugShowVelocity",!0),bodyDebugColor:b(t,"debugBodyColor",0xff00ff),staticBodyDebugColor:b(t,"debugStaticBodyColor",255),velocityDebugColor:b(t,"debugVelocityColor",65280)},this.maxEntries=b(t,"maxEntries",16),this.useTree=b(t,"useTree",!0),this.tree=new T(this.maxEntries),this.staticTree=new T(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new O,this._tempMatrix2=new O,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(e,t){void 0===t&&(t=l.DYNAMIC_BODY),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];if(n.isParent)for(var r=n.getChildren(),s=0;s<r.length;s++){var a=r[s];a.isParent?this.enable(a,t):this.enableBody(a,t)}else this.enableBody(n,t)}},enableBody:function(e,t){return void 0===t&&(t=l.DYNAMIC_BODY),e.hasTransformComponent&&(e.body||(t===l.DYNAMIC_BODY?e.body=new r(this,e):t===l.STATIC_BODY&&(e.body=new P(this,e))),this.add(e.body)),e},add:function(e){return e.physicsType===l.DYNAMIC_BODY?this.bodies.set(e):e.physicsType===l.STATIC_BODY&&(this.staticBodies.set(e),this.staticTree.insert(e)),e.enable=!0,e},disable:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];if(i.isParent)for(var n=i.getChildren(),r=0;r<n.length;r++){var s=n[r];s.isParent?this.disable(s):this.disableBody(s.body)}else this.disableBody(i.body)}},disableBody:function(e){this.remove(e),e.enable=!1},remove:function(e){e.physicsType===l.DYNAMIC_BODY?(this.tree.remove(e),this.bodies.delete(e)):e.physicsType===l.STATIC_BODY&&(this.staticBodies.delete(e),this.staticTree.remove(e))},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},setBounds:function(e,t,i,n,r,s,a,o){return this.bounds.setTo(e,t,i,n),void 0!==r&&this.setBoundsCollision(r,s,a,o),this},setBoundsCollision:function(e,t,i,n){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),this.checkCollision.left=e,this.checkCollision.right=t,this.checkCollision.up=i,this.checkCollision.down=n,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(e,t,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i);var s=new o(this,!1,e,t,i,n,r);return this.colliders.add(s),s},addOverlap:function(e,t,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i);var s=new o(this,!0,e,t,i,n,r);return this.colliders.add(s),s},removeCollider:function(e){return this.colliders.remove(e),this},setFPS:function(e){return this.fps=e,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(e,t){if(!this.isPaused&&0!==this.bodies.size){var i,n,r=this._frameTime,s=this._frameTimeMS*this.timeScale;this._elapsed+=t;var a=this.bodies.entries,o=this._elapsed>=s;for(this.fixedStep||(r=.001*t,o=!0,this._elapsed=0),i=0;i<a.length;i++)(n=a[i]).enable&&n.preUpdate(o,r);if(o){this._elapsed-=s,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(a));var l=this.colliders.update();for(i=0;i<l.length;i++){var h=l[i];h.active&&h.update()}this.emit(d.WORLD_STEP,r)}for(;this._elapsed>=s;)this._elapsed-=s,this.step(r)}},step:function(e){var t,i,n=this.bodies.entries,r=n.length;for(t=0;t<r;t++)(i=n[t]).enable&&i.update(e);this.useTree&&(this.tree.clear(),this.tree.load(n));var s=this.colliders.update();for(t=0;t<s.length;t++){var a=s[t];a.active&&a.update()}this.emit(d.WORLD_STEP,e),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var e,t,i=this.bodies.entries,n=i.length,r=this.bodies,s=this.staticBodies;if(this.stepsLastFrame)for(e=0,this.stepsLastFrame=0;e<n;e++)(t=i[e]).enable&&t.postUpdate();if(this.drawDebug){var a=this.debugGraphic;for(a.clear(),e=0;e<n;e++)(t=i[e]).willDrawDebug()&&t.drawDebug(a);for(e=0,n=(i=s.entries).length;e<n;e++)(t=i[e]).willDrawDebug()&&t.drawDebug(a)}var o=this.pendingDestroy;if(o.size>0){var h=this.tree,u=this.staticTree;for(e=0,n=(i=o.entries).length;e<n;e++)(t=i[e]).physicsType===l.DYNAMIC_BODY?(h.remove(t),r.delete(t)):t.physicsType===l.STATIC_BODY&&(u.remove(t),s.delete(t)),t.world=void 0,t.gameObject=void 0;o.clear()}},updateMotion:function(e,t){e.allowRotation&&this.computeAngularVelocity(e,t),this.computeVelocity(e,t)},computeAngularVelocity:function(e,t){var i=e.angularVelocity,n=e.angularAcceleration,r=e.angularDrag,a=e.maxAngular;n?i+=n*t:e.allowDrag&&r&&(p(i-(r*=t),0,.1)?i-=r:m(i+r,0,.1)?i+=r:i=0);var o=(i=s(i,-a,a))-e.angularVelocity;e.angularVelocity+=o,e.rotation+=e.angularVelocity*t},computeVelocity:function(e,t){var i=e.velocity.x,n=e.acceleration.x,r=e.drag.x,a=e.maxVelocity.x,o=e.velocity.y,l=e.acceleration.y,h=e.drag.y,u=e.maxVelocity.y,c=e.speed,d=e.maxSpeed,g=e.allowDrag,v=e.useDamping;e.allowGravity&&(i+=(this.gravity.x+e.gravity.x)*t,o+=(this.gravity.y+e.gravity.y)*t),n?i+=n*t:g&&r&&(v?(i*=r=Math.pow(r,t),f(c=Math.sqrt(i*i+o*o),0,.001)&&(i=0)):p(i-(r*=t),0,.01)?i-=r:m(i+r,0,.01)?i+=r:i=0),l?o+=l*t:g&&h&&(v?(o*=h=Math.pow(h,t),f(c=Math.sqrt(i*i+o*o),0,.001)&&(o=0)):p(o-(h*=t),0,.01)?o-=h:m(o+h,0,.01)?o+=h:o=0),i=s(i,-a,a),o=s(o,-u,u),e.velocity.set(i,o),d>-1&&e.velocity.length()>d&&(e.velocity.normalize().scale(d),c=d),e.speed=c},separate:function(e,t,i,n,r){var s,a,o=!1,l=!0;if(!e.enable||!t.enable||e.checkCollision.none||t.checkCollision.none||!this.intersects(e,t)||i&&!1===i.call(n,e.gameObject||e,t.gameObject||t))return o;if(e.isCircle||t.isCircle){var h=this.separateCircle(e,t,r);h.result?(o=!0,l=!1):(s=h.x,a=h.y,l=!0)}if(l){var u=!1,c=!1,f=this.OVERLAP_BIAS;r?(u=_(e,t,r,f,s),c=C(e,t,r,f,a)):this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(u=_(e,t,r,f,s),this.intersects(e,t)&&(c=C(e,t,r,f,a))):(c=C(e,t,r,f,a),this.intersects(e,t)&&(u=_(e,t,r,f,s))),o=u||c}return o&&(r?(e.onOverlap||t.onOverlap)&&this.emit(d.OVERLAP,e.gameObject,t.gameObject,e,t):(e.onCollide||t.onCollide)&&this.emit(d.COLLIDE,e.gameObject,t.gameObject,e,t)),o},separateCircle:function(e,t,i){g(e,t,!1,0),v(e,t,!1,0);var r=e.isCircle,s=t.isCircle,a=e.center,o=t.center,l=e.immovable,c=t.immovable,d=e.velocity,f=t.velocity,p=0,m=!0;if(r!==s){m=!1;var y=a.x,b=a.y,E=e.halfWidth,w=t.position.x,S=t.position.y,T=t.right,A=t.bottom;s&&(y=o.x,b=o.y,E=t.halfWidth,w=e.position.x,S=e.position.y,T=e.right,A=e.bottom),b<S?y<w?p=h(y,b,w,S)-E:y>T&&(p=h(y,b,T,S)-E):b>A&&(y<w?p=h(y,b,w,A)-E:y>T&&(p=h(y,b,T,A)-E)),p*=-1}else p=e.halfWidth+t.halfWidth-u(a,o);e.overlapR=p,t.overlapR=p;var _=n(a,o),C=(p+x.EPSILON)*Math.cos(_),I=(p+x.EPSILON)*Math.sin(_),P={overlap:p,result:!1,x:C,y:I};if(i&&(!m||m&&0!==p))return P.result=!0,P;if(!m&&0===p||l&&c||e.customSeparateX||t.customSeparateX)return P.x=void 0,P.y=void 0,P;var R=!e.pushable&&!t.pushable;if(m){var O=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),M=(o.x-a.x)/O||0,L=(o.y-a.y)/O||0,D=2*(d.x*M+d.y*L-f.x*M-f.y*L)/(e.mass+t.mass);(l||c||!e.pushable||!t.pushable)&&(D*=2),!l&&e.pushable&&(d.x=d.x-D/e.mass*M,d.y=d.y-D/e.mass*L,d.multiply(e.bounce)),!c&&t.pushable&&(f.x=f.x+D/t.mass*M,f.y=f.y+D/t.mass*L,f.multiply(t.bounce)),l||c||(C*=.5,I*=.5),!l||e.pushable||R?(e.x-=C,e.y-=I,e.updateCenter()):(!c||t.pushable||R)&&(t.x+=C,t.y+=I,t.updateCenter()),P.result=!0}else!l||e.pushable||R?(e.x-=C,e.y-=I,e.updateCenter()):(!c||t.pushable||R)&&(t.x+=C,t.y+=I,t.updateCenter()),P.x=void 0,P.y=void 0;return P},intersects:function(e,t){return e!==t&&(e.isCircle||t.isCircle?e.isCircle?t.isCircle?u(e.center,t.center)<=e.halfWidth+t.halfWidth:this.circleBodyIntersects(e,t):this.circleBodyIntersects(t,e):!(e.right<=t.left||e.bottom<=t.top||e.left>=t.right||e.top>=t.bottom))},circleBodyIntersects:function(e,t){var i=s(e.center.x,t.left,t.right),n=s(e.center.y,t.top,t.bottom);return(e.center.x-i)*(e.center.x-i)+(e.center.y-n)*(e.center.y-n)<=e.halfWidth*e.halfWidth},overlap:function(e,t,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.collideObjects(e,t,i,n,r,!0)},collide:function(e,t,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.collideObjects(e,t,i,n,r,!1)},collideObjects:function(e,t,i,n,r,s){e.isParent&&(void 0===e.physicsType||void 0===t||e===t)&&(e=e.children.entries),t&&t.isParent&&void 0===t.physicsType&&(t=t.children.entries);var a,o,l=Array.isArray(e),h=Array.isArray(t);if(this._total=0,l||h){if(!l&&h)for(a=0;a<t.length;a++)this.collideHandler(e,t[a],i,n,r,s);else if(l&&!h){if(t)for(a=0;a<e.length;a++)this.collideHandler(e[a],t,i,n,r,s);else for(a=0;a<e.length;a++){var u=e[a];for(o=a+1;o<e.length;o++)a!==o&&this.collideHandler(u,e[o],i,n,r,s)}}else for(a=0;a<e.length;a++)for(o=0;o<t.length;o++)this.collideHandler(e[a],t[o],i,n,r,s)}else this.collideHandler(e,t,i,n,r,s);return this._total>0},collideHandler:function(e,t,i,n,r,s){if(void 0===t&&e.isParent)return this.collideGroupVsGroup(e,e,i,n,r,s);if(!e||!t)return!1;if(e.body||e.isBody){if(t.body||t.isBody)return this.collideSpriteVsSprite(e,t,i,n,r,s);if(t.isParent)return this.collideSpriteVsGroup(e,t,i,n,r,s);if(t.isTilemap)return this.collideSpriteVsTilemapLayer(e,t,i,n,r,s)}else if(e.isParent){if(t.body||t.isBody)return this.collideSpriteVsGroup(t,e,i,n,r,s);if(t.isParent)return this.collideGroupVsGroup(e,t,i,n,r,s);if(t.isTilemap)return this.collideGroupVsTilemapLayer(e,t,i,n,r,s)}else if(e.isTilemap){if(t.body||t.isBody)return this.collideSpriteVsTilemapLayer(t,e,i,n,r,s);if(t.isParent)return this.collideGroupVsTilemapLayer(t,e,i,n,r,s)}},canCollide:function(e,t){return e&&t&&(e.collisionMask&t.collisionCategory)!=0&&(t.collisionMask&e.collisionCategory)!=0},collideSpriteVsSprite:function(e,t,i,n,r,s){var a=e.isBody?e:e.body,o=t.isBody?t:t.body;return!!this.canCollide(a,o)&&(this.separate(a,o,n,r,s)&&(i&&i.call(r,e,t),this._total++),!0)},collideSpriteVsGroup:function(e,t,i,n,r,s){var a,o,h,u=e.isBody?e:e.body;if(0!==t.getLength()&&u&&u.enable&&!u.checkCollision.none&&this.canCollide(u,t)){if(this.useTree||t.physicsType===l.STATIC_BODY){var c=this.treeMinMax;c.minX=u.left,c.minY=u.top,c.maxX=u.right,c.maxY=u.bottom;var d=t.physicsType===l.DYNAMIC_BODY?this.tree.search(c):this.staticTree.search(c);for(a=0,o=d.length;a<o;a++)u!==(h=d[a])&&h.enable&&!h.checkCollision.none&&t.contains(h.gameObject)&&this.separate(u,h,n,r,s)&&(i&&i.call(r,u.gameObject,h.gameObject),this._total++)}else{var f=t.getChildren(),p=t.children.entries.indexOf(e);for(a=0,o=f.length;a<o;a++)(h=f[a].body)&&a!==p&&h.enable&&this.separate(u,h,n,r,s)&&(i&&i.call(r,u.gameObject,h.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(e,t,i,n,r,s){if(!this.canCollide(e,t))return!1;var a=e.getChildren();if(0===a.length)return!1;for(var o=!1,l=0;l<a.length;l++)(a[l].body||a[l].isBody)&&this.collideSpriteVsTilemapLayer(a[l],t,i,n,r,s)&&(o=!0);return o},collideTiles:function(e,t,i,n,r){return 0!==t.length&&(!e.body||!!e.body.enable)&&(!e.isBody||!!e.enable)&&this.collideSpriteVsTilesHandler(e,t,i,n,r,!1,!1)},overlapTiles:function(e,t,i,n,r){return 0!==t.length&&(!e.body||!!e.body.enable)&&(!e.isBody||!!e.enable)&&this.collideSpriteVsTilesHandler(e,t,i,n,r,!0,!1)},collideSpriteVsTilemapLayer:function(e,t,i,n,r,s){var a=e.isBody?e:e.body;if(!a.enable||a.checkCollision.none||!this.canCollide(a,t))return!1;var o=t.layer,l=y(a.x-o.tileWidth*t.scaleX,a.y-o.tileHeight*t.scaleY,a.width+o.tileWidth*t.scaleX,a.height+o.tileHeight*t.scaleY,s?null:this.tileFilterOptions,t.scene.cameras.main,t.layer);return 0!==l.length&&this.collideSpriteVsTilesHandler(e,l,i,n,r,s,!0)},collideSpriteVsTilesHandler:function(e,t,i,n,r,s,a){for(var o,l,h=e.isBody?e:e.body,u={left:0,right:0,top:0,bottom:0},c=!1,f=0;f<t.length;f++){var p=(l=(o=t[f]).tilemapLayer).tileToWorldXY(o.x,o.y);u.left=p.x,u.top=p.y,u.right=u.left+o.width*l.scaleX,u.bottom=u.top+o.height*l.scaleY,R(u,h)&&(!n||n.call(r,e,o))&&w(o,e)&&(s||A(f,h,o,u,l,this.TILE_BIAS,a))&&(this._total++,c=!0,i&&i.call(r,e,o),s&&h.onOverlap?this.emit(d.TILE_OVERLAP,e,o,h):h.onCollide&&this.emit(d.TILE_COLLIDE,e,o,h))}return c},collideGroupVsGroup:function(e,t,i,n,r,s){if(0!==e.getLength()&&0!==t.getLength()&&this.canCollide(e,t))for(var a=e.getChildren(),o=0;o<a.length;o++)this.collideSpriteVsGroup(a[o],t,i,n,r,s)},wrap:function(e,t){e.body?this.wrapObject(e,t):e.getChildren?this.wrapArray(e.getChildren(),t):Array.isArray(e)?this.wrapArray(e,t):this.wrapObject(e,t)},wrapArray:function(e,t){for(var i=0;i<e.length;i++)this.wrapObject(e[i],t)},wrapObject:function(e,t){void 0===t&&(t=0),e.x=L(e.x,this.bounds.left-t,this.bounds.right+t),e.y=L(e.y,this.bounds.top-t,this.bounds.bottom+t)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});e.exports=D},1093:e=>{e.exports={setAcceleration:function(e,t){return this.body.acceleration.set(e,t),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}}},59023:e=>{e.exports={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}}},62069:e=>{e.exports={setBounce:function(e,t){return this.body.bounce.set(e,t),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,t,i,n){return this.body.setCollideWorldBounds(e,t,i,n),this}}},78389:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79599);e.exports={setCollisionCategory:function(e){return(this.body?this.body:this).collisionCategory=e,this},willCollideWith:function(e){return((this.body?this.body:this).collisionMask&e)!=0},addCollidesWith:function(e){var t=this.body?this.body:this;return t.collisionMask=t.collisionMask|e,this},removeCollidesWith:function(e){var t=this.body?this.body:this;return t.collisionMask=t.collisionMask&~e,this},setCollidesWith:function(e){return(this.body?this.body:this).collisionMask=n(e),this},resetCollisionCategory:function(){var e=this.body?this.body:this;return e.collisionCategory=1,e.collisionMask=0x7fffffff,this}}},87118:e=>{e.exports={setDebug:function(e,t,i){return this.debugShowBody=e,this.debugShowVelocity=t,this.debugBodyColor=i,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}}},52819:e=>{e.exports={setDrag:function(e,t){return this.body.drag.set(e,t),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}}},4074:e=>{e.exports={setDirectControl:function(e){return this.body.setDirectControl(e),this},enableBody:function(e,t,i,n,r){return e&&this.body.reset(t,i),n&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),t&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:e=>{e.exports={setFriction:function(e,t){return this.body.friction.set(e,t),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}}},26775:e=>{e.exports={setGravity:function(e,t){return this.body.gravity.set(e,t),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}}},9437:e=>{e.exports={setImmovable:function(e){return void 0===e&&(e=!0),this.body.immovable=e,this}}},30621:e=>{e.exports={setMass:function(e){return this.body.mass=e,this}}},72441:(e,t,i)=>{var n=i(47956),r=i(96503),s=i(2044),a=i(81491);e.exports=function(e,t,i,o,l,h){var u=n(e,t-o,i-o,2*o,2*o,l,h);if(0===u.length)return u;for(var c=new r(t,i,o),d=new r,f=[],p=0;p<u.length;p++){var m=u[p];m.isCircle?(d.setTo(m.center.x,m.center.y,m.halfWidth),s(c,d)&&f.push(m)):a(c,m)&&f.push(m)}return f}},47956:e=>{e.exports=function(e,t,i,n,r,s,a){void 0===s&&(s=!0),void 0===a&&(a=!1);var o=[],l=[],h=e.treeMinMax;if(h.minX=t,h.minY=i,h.maxX=t+n,h.maxY=i+r,a&&(l=e.staticTree.search(h)),s&&e.useTree)o=e.tree.search(h);else if(s){var u=e.bodies,c={position:{x:t,y:i},left:t,top:i,right:t+n,bottom:i+r,isCircle:!1},d=e.intersects;u.iterate(function(e){d(e,c)&&o.push(e)})}return l.concat(o)}},62121:e=>{e.exports={setPushable:function(e){return void 0===e&&(e=!0),this.body.pushable=e,this}}},29384:e=>{e.exports={setOffset:function(e,t){return this.body.setOffset(e,t),this},setSize:function(e,t,i){return this.body.setSize(e,t,i),this},setBodySize:function(e,t,i){return this.body.setSize(e,t,i),this},setCircle:function(e,t,i){return this.body.setCircle(e,t,i),this}}},15098:e=>{e.exports={setVelocity:function(e,t){return this.body.setVelocity(e,t),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,t){return this.body.maxVelocity.set(e,t),this}}},92209:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:e=>{e.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="collide"},36768:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="overlap"},60473:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},89954:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},61804:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="tilecollide"},7161:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="tileoverlap"},34689:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="worldbounds"},16006:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="worldstep"},63012:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37747),r=i(79291),s={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};s=r(!1,s,n),e.exports=s},96602:e=>{e.exports=function(e,t){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,t,e):!e.layer.callbacks[e.index]||!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,t,e)}},36294:e=>{e.exports=function(e,t){t<0?(e.blocked.none=!1,e.blocked.left=!0):t>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=t,e.updateCenter(),0===e.bounce.x?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x}},67013:e=>{e.exports=function(e,t){t<0?(e.blocked.none=!1,e.blocked.up=!0):t>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=t,e.updateCenter(),0===e.bounce.y?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y}},40012:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(21329),r=i(53442),s=i(2483);e.exports=function(e,t,i,a,o,l,h){var u=a.left,c=a.top,d=a.right,f=a.bottom,p=i.faceLeft||i.faceRight,m=i.faceTop||i.faceBottom;if(h||(p=!0,m=!0),!p&&!m)return!1;var g=0,v=0,y=0,b=1;if(t.deltaAbsX()>t.deltaAbsY()?y=-1:t.deltaAbsX()<t.deltaAbsY()&&(b=-1),0!==t.deltaX()&&0!==t.deltaY()&&p&&m&&(y=Math.min(Math.abs(t.position.x-d),Math.abs(t.right-u)),b=Math.min(Math.abs(t.position.y-f),Math.abs(t.bottom-c))),y<b){if(p&&0!==(g=n(t,i,u,d,l,h))&&!s(a,t))return!0;m&&(v=r(t,i,c,f,l,h))}else{if(m&&0!==(v=r(t,i,c,f,l,h))&&!s(a,t))return!0;p&&(g=n(t,i,u,d,l,h))}return 0!==g||0!==v}},21329:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36294);e.exports=function(e,t,i,r,s,a){var o=0,l=t.faceLeft,h=t.faceRight,u=t.collideLeft,c=t.collideRight;return a||(l=!0,h=!0,u=!0,c=!0),0>e.deltaX()&&c&&e.checkCollision.left?h&&e.x<r&&(o=e.x-r)<-s&&(o=0):e.deltaX()>0&&u&&e.checkCollision.right&&l&&e.right>i&&(o=e.right-i)>s&&(o=0),0!==o&&(e.customSeparateX?e.overlapX=o:n(e,o)),o}},53442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(67013);e.exports=function(e,t,i,r,s,a){var o=0,l=t.faceTop,h=t.faceBottom,u=t.collideUp,c=t.collideDown;return a||(l=!0,h=!0,u=!0,c=!0),0>e.deltaY()&&c&&e.checkCollision.up?h&&e.y<r&&(o=e.y-r)<-s&&(o=0):e.deltaY()>0&&u&&e.checkCollision.down&&l&&e.bottom>i&&(o=e.bottom-i)>s&&(o=0),0!==o&&(e.customSeparateY?e.overlapY=o:n(e,o)),o}},2483:e=>{e.exports=function(e,t){return!(t.right<=e.left||t.bottom<=e.top||t.position.x>=e.right||t.position.y>=e.bottom)}},55173:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};e.exports=n},44563:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Arcade:i(27064),Matter:i(3875)}},68174:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(26099),s=new n({initialize:function(){this.boundsCenter=new r,this.centerDiff=new r},parseBody:function(e){if(!(e=e.hasOwnProperty("body")?e.body:e).hasOwnProperty("bounds")||!e.hasOwnProperty("centerOfMass"))return!1;var t=this.boundsCenter,i=this.centerDiff,n=e.bounds.max.x-e.bounds.min.x,r=e.bounds.max.y-e.bounds.min.y,s=n*e.centerOfMass.x,a=r*e.centerOfMass.y;return t.set(n/2,r/2),i.set(s-t.x,a-t.y),!0},getTopLeft:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+n.x+s.x,i+n.y+s.y)}return!1},getTopCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+s.x,i+n.y+s.y)}return!1},getTopRight:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t-(n.x-s.x),i+n.y+s.y)}return!1},getLeftCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+n.x+s.x,i+s.y)}return!1},getCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.centerDiff;return new r(t+n.x,i+n.y)}return!1},getRightCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t-(n.x-s.x),i+s.y)}return!1},getBottomLeft:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+n.x+s.x,i-(n.y-s.y))}return!1},getBottomCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+s.x,i-(n.y-s.y))}return!1},getBottomRight:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t-(n.x-s.x),i-(n.y-s.y))}return!1}});e.exports=s},19933:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6790);n.Body=i(22562),n.Composite=i(69351),n.World=i(4372),n.Collision=i(52284),n.Detector=i(81388),n.Pairs=i(99561),n.Pair=i(4506),n.Query=i(73296),n.Resolver=i(66272),n.Constraint=i(48140),n.Common=i(53402),n.Engine=i(48413),n.Events=i(35810),n.Sleeping=i(53614),n.Plugin=i(73832),n.Bodies=i(66280),n.Composites=i(74116),n.Axes=i(66615),n.Bounds=i(15647),n.Svg=i(74058),n.Vector=i(31725),n.Vertices=i(41598),n.World.add=n.Composite.add,n.World.remove=n.Composite.remove,n.World.addComposite=n.Composite.addComposite,n.World.addBody=n.Composite.addBody,n.World.addConstraint=n.Composite.addConstraint,n.World.clear=n.Composite.clear,e.exports=n},28137:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(83419),s=i(74116),a=i(48140),o=i(74058),l=i(75803),h=i(23181),u=i(34803),c=i(73834),d=i(19496),f=i(85791),p=i(98713),m=i(41598),g=new r({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},rectangle:function(e,t,i,r,s){var a=n.rectangle(e,t,i,r,s);return this.world.add(a),a},trapezoid:function(e,t,i,r,s,a){var o=n.trapezoid(e,t,i,r,s,a);return this.world.add(o),o},circle:function(e,t,i,r,s){var a=n.circle(e,t,i,r,s);return this.world.add(a),a},polygon:function(e,t,i,r,s){var a=n.polygon(e,t,i,r,s);return this.world.add(a),a},fromVertices:function(e,t,i,r,s,a,o){"string"==typeof i&&(i=m.fromPath(i));var l=n.fromVertices(e,t,i,r,s,a,o);return this.world.add(l),l},fromPhysicsEditor:function(e,t,i,n,r){void 0===r&&(r=!0);var s=d.parseBody(e,t,i,n);return r&&!this.world.has(s)&&this.world.add(s),s},fromSVG:function(e,t,i,r,s,a){void 0===r&&(r=1),void 0===s&&(s={}),void 0===a&&(a=!0);for(var l=i.getElementsByTagName("path"),h=[],u=0;u<l.length;u++){var c=o.pathToVertices(l[u],30);1!==r&&m.scale(c,r,r),h.push(c)}var d=n.fromVertices(e,t,h,s);return a&&this.world.add(d),d},fromJSON:function(e,t,i,n,r){void 0===n&&(n={}),void 0===r&&(r=!0);var s=f.parseBody(e,t,i,n);return s&&r&&this.world.add(s),s},imageStack:function(e,t,i,n,r,a,o,l,u){void 0===o&&(o=0),void 0===l&&(l=0),void 0===u&&(u={});var c=this.world,d=this.sys.displayList;u.addToWorld=!1;var f=s.stack(i,n,r,a,o,l,function(i,n){var r=new h(c,i,n,e,t,u);return d.add(r),r.body});return c.add(f),f},stack:function(e,t,i,n,r,a,o){var l=s.stack(e,t,i,n,r,a,o);return this.world.add(l),l},pyramid:function(e,t,i,n,r,a,o){var l=s.pyramid(e,t,i,n,r,a,o);return this.world.add(l),l},chain:function(e,t,i,n,r,a){return s.chain(e,t,i,n,r,a)},mesh:function(e,t,i,n,r){return s.mesh(e,t,i,n,r)},newtonsCradle:function(e,t,i,n,r){var a=s.newtonsCradle(e,t,i,n,r);return this.world.add(a),a},car:function(e,t,i,n,r){var a=s.car(e,t,i,n,r);return this.world.add(a),a},softBody:function(e,t,i,n,r,a,o,l,h,u){var c=s.softBody(e,t,i,n,r,a,o,l,h,u);return this.world.add(c),c},joint:function(e,t,i,n,r){return this.constraint(e,t,i,n,r)},spring:function(e,t,i,n,r){return this.constraint(e,t,i,n,r)},constraint:function(e,t,i,n,r){void 0===n&&(n=1),void 0===r&&(r={}),r.bodyA="body"===e.type?e:e.body,r.bodyB="body"===t.type?t:t.body,isNaN(i)||(r.length=i),r.stiffness=n;var s=a.create(r);return this.world.add(s),s},worldConstraint:function(e,t,i,n){void 0===i&&(i=1),void 0===n&&(n={}),n.bodyB="body"===e.type?e:e.body,isNaN(t)||(n.length=t),n.stiffness=i;var r=a.create(n);return this.world.add(r),r},mouseSpring:function(e){return this.pointerConstraint(e)},pointerConstraint:function(e){void 0===e&&(e={}),e.hasOwnProperty("render")||(e.render={visible:!1});var t=new p(this.scene,this.world,e);return this.world.add(t.constraint),t},image:function(e,t,i,n,r){var s=new h(this.world,e,t,i,n,r);return this.sys.displayList.add(s),s},tileBody:function(e,t){return new c(this.world,e,t)},sprite:function(e,t,i,n,r){var s=new u(this.world,e,t,i,n,r);return this.sys.displayList.add(s),this.sys.updateList.add(s),s},gameObject:function(e,t,i){return l(this.world,e,t,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=g},75803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(31884),r=i(95540),s=i(26099);e.exports=function(e,t,i,a){void 0===i&&(i={}),void 0===a&&(a=!0);var o=t.x,l=t.y;if(t.body={temp:!0,position:{x:o,y:l}},[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity].forEach(function(e){for(var i in e){var n;(n=e[i]).get&&"function"==typeof n.get||n.set&&"function"==typeof n.set?Object.defineProperty(t,i,{get:e[i].get,set:e[i].set}):Object.defineProperty(t,i,{value:e[i]})}}),t.world=e,t._tempVec2=new s(o,l),i.hasOwnProperty("type")&&"body"===i.type)t.setExistingBody(i,a);else{var h=r(i,"shape",null);h||(h="rectangle"),i.addToWorld=a,t.setBody(h,i)}return t}},23181:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31884),s=i(95643),a=i(95540),o=i(88571),l=i(72699),h=i(26099),u=new n({Extends:o,Mixins:[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity,l],initialize:function(e,t,i,n,r,o){s.call(this,e.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,r),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new h(t,i);var l=a(o,"shape",null);l?this.setBody(l,o):this.setRectangle(this.width,this.height,o),this.setPosition(t,i),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=u},42045:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60461),r=i(66615),s=i(66280),a=i(22562),o=i(68174),l=i(15647),h=i(83419),u=i(52284),c=i(53402),d=i(69351),f=i(74116),p=i(48140),m=i(81388),g=i(20339),v=i(28137),y=i(95540),b=i(35154),x=i(46975),E=i(4506),w=i(99561),S=i(37277),T=i(73296),A=i(66272),_=i(44594),C=i(74058),I=i(31725),P=i(41598),R=i(68243);c.setDecomp(i(55973));var O=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=d,this.collision=u,this.detector=m,this.pair=E,this.pairs=w,this.query=T,this.resolver=A,this.constraint=p,this.bodies=s,this.composites=f,this.axes=r,this.bounds=l,this.svg=C,this.vector=I,this.vertices=P,this.verts=P,this._tempVec2=I.create(),A._restingThresh=b(this.config,"restingThresh",4),A._restingThreshTangent=b(this.config,"restingThreshTangent",6),A._positionDampen=b(this.config,"positionDampen",.9),A._positionWarming=b(this.config,"positionWarming",.8),A._frictionNormalMultiplier=b(this.config,"frictionNormalMultiplier",5),e.sys.events.once(_.BOOT,this.boot,this),e.sys.events.on(_.START,this.start,this)},boot:function(){this.world=new R(this.scene,this.config),this.add=new v(this.world),this.bodyBounds=new o,this.systems.events.once(_.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new R(this.scene,this.config),this.add=new v(this.world));var e=this.systems.events;e.on(_.UPDATE,this.world.update,this.world),e.on(_.POST_UPDATE,this.world.postUpdate,this.world),e.once(_.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics;return x(y(this.systems.settings.physics,"matter",{}),y(e,"matter",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(e,t){this.world.step(e,t)},containsPoint:function(e,t,i){e=this.getMatterBodies(e);var n=I.create(t,i);return T.point(e,n).length>0},intersectPoint:function(e,t,i){i=this.getMatterBodies(i);var n=I.create(e,t),r=[];return T.point(i,n).forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r},intersectRect:function(e,t,i,n,r,s){void 0===r&&(r=!1),s=this.getMatterBodies(s);var a=[];return T.region(s,{min:{x:e,y:t},max:{x:e+i,y:t+n}},r).forEach(function(e){-1===a.indexOf(e)&&a.push(e)}),a},intersectRay:function(e,t,i,n,r,s){void 0===r&&(r=1),s=this.getMatterBodies(s);for(var a=[],o=T.ray(s,I.create(e,t),I.create(i,n),r),l=0;l<o.length;l++)a.push(o[l].body);return a},intersectBody:function(e,t){t=this.getMatterBodies(t);for(var i=[],n=T.collides(e,t),r=0;r<n.length;r++){var s=n[r];s.bodyA===e?i.push(s.bodyB):i.push(s.bodyA)}return i},overlap:function(e,t,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),Array.isArray(e)||(e=[e]),e=this.getMatterBodies(e),t=this.getMatterBodies(t);for(var s=!1,a=0;a<e.length;a++)for(var o=e[a],l=T.collides(o,t),h=0;h<l.length;h++){var u=l[h],c=u.bodyA.id===o.id?u.bodyB:u.bodyA;if(!n||n.call(r,o,c,u)){if(s=!0,i)i.call(r,o,c,u);else if(!n)return!0}}return s},setCollisionCategory:function(e,t){return(e=this.getMatterBodies(e)).forEach(function(e){e.collisionFilter.category=t}),this},setCollisionGroup:function(e,t){return(e=this.getMatterBodies(e)).forEach(function(e){e.collisionFilter.group=t}),this},setCollidesWith:function(e,t){e=this.getMatterBodies(e);var i=0;if(Array.isArray(t))for(var n=0;n<t.length;n++)i|=t[n];else i=t;return e.forEach(function(e){e.collisionFilter.mask=i}),this},getMatterBodies:function(e){if(!e)return this.world.getAllBodies();Array.isArray(e)||(e=[e]);for(var t=[],i=0;i<e.length;i++){var n=e[i].hasOwnProperty("body")?e[i].body:e[i];t.push(n)}return t},setVelocity:function(e,t,i){e=this.getMatterBodies(e);var n=this._tempVec2;return n.x=t,n.y=i,e.forEach(function(e){a.setVelocity(e,n)}),this},setVelocityX:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return i.x=t,e.forEach(function(e){i.y=e.velocity.y,a.setVelocity(e,i)}),this},setVelocityY:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return i.y=t,e.forEach(function(e){i.x=e.velocity.x,a.setVelocity(e,i)}),this},setAngularVelocity:function(e,t){return(e=this.getMatterBodies(e)).forEach(function(e){a.setAngularVelocity(e,t)}),this},applyForce:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return e.forEach(function(e){i.x=e.position.x,i.y=e.position.y,a.applyForce(e,i,t)}),this},applyForceFromPosition:function(e,t,i,n){e=this.getMatterBodies(e);var r=this._tempVec2;return e.forEach(function(e){void 0===n&&(n=e.angle),r.x=i*Math.cos(n),r.y=i*Math.sin(n),a.applyForce(e,t,r)}),this},applyForceFromAngle:function(e,t,i){e=this.getMatterBodies(e);var n=this._tempVec2;return e.forEach(function(e){void 0===i&&(i=e.angle),n.x=t*Math.cos(i),n.y=t*Math.sin(i),a.applyForce(e,{x:e.position.x,y:e.position.y},n)}),this},getConstraintLength:function(e){var t=e.pointA.x,i=e.pointA.y,n=e.pointB.x,r=e.pointB.y;return e.bodyA&&(t+=e.bodyA.position.x,i+=e.bodyA.position.y),e.bodyB&&(n+=e.bodyB.position.x,r+=e.bodyB.position.y),g(t,i,n,r)},alignBody:function(e,t,i,r){var s;switch(e=e.hasOwnProperty("body")?e.body:e,r){case n.TOP_LEFT:case n.LEFT_TOP:s=this.bodyBounds.getTopLeft(e,t,i);break;case n.TOP_CENTER:s=this.bodyBounds.getTopCenter(e,t,i);break;case n.TOP_RIGHT:case n.RIGHT_TOP:s=this.bodyBounds.getTopRight(e,t,i);break;case n.LEFT_CENTER:s=this.bodyBounds.getLeftCenter(e,t,i);break;case n.CENTER:s=this.bodyBounds.getCenter(e,t,i);break;case n.RIGHT_CENTER:s=this.bodyBounds.getRightCenter(e,t,i);break;case n.LEFT_BOTTOM:case n.BOTTOM_LEFT:s=this.bodyBounds.getBottomLeft(e,t,i);break;case n.BOTTOM_CENTER:s=this.bodyBounds.getBottomCenter(e,t,i);break;case n.BOTTOM_RIGHT:case n.RIGHT_BOTTOM:s=this.bodyBounds.getBottomRight(e,t,i)}return s&&a.setPosition(e,s),this},shutdown:function(){var e=this.systems.events;this.world&&(e.off(_.UPDATE,this.world.update,this.world),e.off(_.POST_UPDATE,this.world.postUpdate,this.world)),e.off(_.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(_.START,this.start,this),this.scene=null,this.systems=null}});S.register("MatterPhysics",O,"matterPhysics"),e.exports=O},34803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(83419),s=i(31884),a=i(95643),o=i(95540),l=i(72699),h=i(68287),u=i(26099),c=new r({Extends:h,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,l],initialize:function(e,t,i,r,s,l){a.call(this,e.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new n(this),this.setTexture(r,s),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new u(t,i);var h=o(l,"shape",null);h?this.setBody(h,l):this.setRectangle(this.width,this.height,l),this.setPosition(t,i),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=c},73834:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562),s=i(83419),a=i(31884),o=i(62644),l=i(50792),h=i(95540),u=i(97022),c=i(41598),d=new s({Extends:l,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(e,t,i){l.call(this),this.tile=t,this.world=e,t.physics.matterBody&&t.physics.matterBody.destroy(),t.physics.matterBody=this;var n=h(i,"body",null),s=h(i,"addToWorld",!0);if(n?this.setBody(n,s):h(t.getCollisionGroup(),"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i),t.flipX||t.flipY){var a={x:t.getCenterX(),y:t.getCenterY()},o=t.flipX?-1:1,u=t.flipY?-1:1;r.scale(n,o,u,a)}},setFromTileRectangle:function(e){void 0===e&&(e={}),u(e,"isStatic")||(e.isStatic=!0),u(e,"addToWorld")||(e.addToWorld=!0);var t=this.tile.getBounds(),i=t.x+t.width/2,r=t.y+t.height/2,s=n.rectangle(i,r,t.width,t.height,e);return this.setBody(s,e.addToWorld),this},setFromTileCollision:function(e){void 0===e&&(e={}),u(e,"isStatic")||(e.isStatic=!0),u(e,"addToWorld")||(e.addToWorld=!0);for(var t=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,s=this.tile.getLeft(),a=this.tile.getTop(),l=h(this.tile.getCollisionGroup(),"objects",[]),d=[],f=0;f<l.length;f++){var p=l[f],m=s+p.x*t,g=a+p.y*i,v=p.width*t,y=p.height*i,b=null;if(p.rectangle)b=n.rectangle(m+v/2,g+y/2,v,y,e);else if(p.ellipse)b=n.circle(m+v/2,g+y/2,v/2,e);else if(p.polygon||p.polyline){var x=(p.polygon?p.polygon:p.polyline).map(function(e){return{x:e.x*t,y:e.y*i}}),E=c.create(x),w=c.centre(E);m+=w.x,g+=w.y,b=n.fromVertices(m,g,E,e)}b&&d.push(b)}if(1===d.length)this.setBody(d[0],e.addToWorld);else if(d.length>1){var S=o(e);S.parts=d,this.setBody(r.create(S),S.addToWorld)}return this},setBody:function(e,t){return void 0===t&&(t=!0),this.body&&this.removeBody(),this.body=e,this.body.gameObject=this,t&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});e.exports=d},19496:(e,t,i)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562),s=i(53402),a=i(95540),o=i(41598);e.exports={parseBody:function(e,t,i,n){void 0===n&&(n={});for(var o=a(i,"fixtures",[]),l=[],h=0;h<o.length;h++)for(var u=this.parseFixture(o[h]),c=0;c<u.length;c++)l.push(u[c]);var d=s.clone(i,!0);s.extend(d,n,!0),delete d.fixtures,delete d.type;var f=r.create(d);return r.setParts(f,l),r.setPosition(f,{x:e,y:t}),f},parseFixture:function(e){var t,i=s.extend({},!1,e);if(delete i.circle,delete i.vertices,e.circle){var r=a(e.circle,"x"),o=a(e.circle,"y"),l=a(e.circle,"radius");t=[n.circle(r,o,l,i)]}else e.vertices&&(t=this.parseVertices(e.vertices,i));return t},parseVertices:function(e,t){void 0===t&&(t={});for(var i=[],a=0;a<e.length;a++)o.clockwiseSort(e[a]),i.push(r.create(s.extend({position:o.centre(e[a]),vertices:e[a]},t)));return n.flagCoincidentParts(i)}}},85791:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562);e.exports={parseBody:function(e,t,i,s){void 0===s&&(s={});var a,o=i.vertices;if(1===o.length)s.vertices=o[0],a=r.create(s),n.flagCoincidentParts(a.parts);else{for(var l=[],h=0;h<o.length;h++){var u=r.create({vertices:o[h]});l.push(u)}n.flagCoincidentParts(l),s.parts=l,a=r.create(s)}return a.label=i.label,r.setPosition(a,{x:e,y:t}),a}}},98713:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15647),r=i(83419),s=i(69351),a=i(48140),o=i(81388),l=i(1121),h=i(8214),u=i(46975),c=i(53614),d=i(26099),f=i(41598),p=new r({initialize:function(e,t,i){void 0===i&&(i={}),this.scene=e,this.world=t,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=a.create(u(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:0xffffffff,group:0}})),this.world.on(l.BEFORE_UPDATE,this.update,this),e.sys.input.on(h.POINTER_DOWN,this.onDown,this),e.sys.input.on(h.POINTER_UP,this.onUp,this)},onDown:function(e){this.pointer||(this.pointer=e,this.camera=e.camera)},onUp:function(e){e===this.pointer&&(this.pointer=null)},getBody:function(e){var t=this.position,i=this.constraint;this.camera.getWorldPoint(e.x,e.y,t);for(var r=s.allBodies(this.world.localWorld),a=0;a<r.length;a++){var h=r[a];if(!h.ignorePointer&&n.contains(h.bounds,t)&&o.canCollide(h.collisionFilter,i.collisionFilter)&&this.hitTestBody(h,t))return this.world.emit(l.DRAG_START,h,this.part,this),!0}return!1},hitTestBody:function(e,t){for(var i=this.constraint,n=e.parts.length,r=n>1?1:0,s=r;s<n;s++){var a=e.parts[s];if(f.contains(a.vertices,t))return i.pointA=t,i.pointB={x:t.x-e.position.x,y:t.y-e.position.y},i.bodyB=e,i.angleB=e.angle,c.set(e,!1),this.part=a,this.body=e,!0}return!1},update:function(){var e=this.pointer,t=this.body;if(!this.active||!e){t&&this.stopDrag();return}if(!e.isDown&&t){this.stopDrag();return}if(e.isDown){if(!this.camera||!t&&!this.getBody(e))return;t=this.body;var i=this.position,n=this.constraint;this.camera.getWorldPoint(e.x,e.y,i),n.pointA.x=i.x,n.pointA.y=i.y,c.set(t,!1),this.world.emit(l.DRAG,t,this)}},stopDrag:function(){var e=this.body,t=this.constraint;t.bodyB=null,t.pointB=null,this.pointer=null,this.body=null,this.part=null,e&&this.world.emit(l.DRAG_END,e,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(l.BEFORE_UPDATE,this.update),this.scene.sys.input.off(h.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(h.POINTER_UP,this.onUp,this)}});e.exports=p},68243:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562),s=i(83419),a=i(53402),o=i(69351),l=i(48413),h=i(50792),u=i(1121),c=i(95540),d=i(35154),f=i(22562),p=i(35810),m=i(73834),g=i(4372),v=i(13037),y=i(31725),b=new s({Extends:h,initialize:function(e,t){h.call(this),this.scene=e,this.engine=l.create(t),this.localWorld=this.engine.world;var i=d(t,"gravity",null);i?this.setGravity(i.x,i.y,i.scale):!1===i&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(t,"enabled",!0),this.getDelta=d(t,"getDelta",this.update60Hz);var n=c(t,"runner",{}),r=c(n,"fps",!1),s=c(n,"fps",60),a=c(n,"delta",1e3/s),o=c(n,"deltaMin",1e3/s),u=c(n,"deltaMax",1e3/(.5*s));r||(s=1e3/a),this.runner={fps:s,deltaSampleSize:c(n,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:c(n,"isFixed",!1),delta:a,deltaMin:o,deltaMax:u},this.autoUpdate=d(t,"autoUpdate",!0);var f=d(t,"debug",!1);if(this.drawDebug="object"==typeof f||f,this.debugGraphic,this.debugConfig={showAxes:c(f,"showAxes",!1),showAngleIndicator:c(f,"showAngleIndicator",!1),angleColor:c(f,"angleColor",0xe81153),showBroadphase:c(f,"showBroadphase",!1),broadphaseColor:c(f,"broadphaseColor",0xffb400),showBounds:c(f,"showBounds",!1),boundsColor:c(f,"boundsColor",0xffffff),showVelocity:c(f,"showVelocity",!1),velocityColor:c(f,"velocityColor",44783),showCollisions:c(f,"showCollisions",!1),collisionColor:c(f,"collisionColor",0xf5950c),showSeparations:c(f,"showSeparations",!1),separationColor:c(f,"separationColor",0xffa500),showBody:c(f,"showBody",!0),showStaticBody:c(f,"showStaticBody",!0),showInternalEdges:c(f,"showInternalEdges",!1),renderFill:c(f,"renderFill",!1),renderLine:c(f,"renderLine",!0),fillColor:c(f,"fillColor",1075465),fillOpacity:c(f,"fillOpacity",1),lineColor:c(f,"lineColor",2678297),lineOpacity:c(f,"lineOpacity",1),lineThickness:c(f,"lineThickness",1),staticFillColor:c(f,"staticFillColor",857979),staticLineColor:c(f,"staticLineColor",1255396),showSleeping:c(f,"showSleeping",!1),staticBodySleepOpacity:c(f,"staticBodySleepOpacity",.7),sleepFillColor:c(f,"sleepFillColor",4605510),sleepLineColor:c(f,"sleepLineColor",0x999a99),showSensors:c(f,"showSensors",!0),sensorFillColor:c(f,"sensorFillColor",857979),sensorLineColor:c(f,"sensorLineColor",1255396),showPositions:c(f,"showPositions",!0),positionSize:c(f,"positionSize",4),positionColor:c(f,"positionColor",0xe042da),showJoint:c(f,"showJoint",!0),jointColor:c(f,"jointColor",0xe0e042),jointLineOpacity:c(f,"jointLineOpacity",1),jointLineThickness:c(f,"jointLineThickness",2),pinSize:c(f,"pinSize",4),pinColor:c(f,"pinColor",4382944),springColor:c(f,"springColor",0xe042e0),anchorColor:c(f,"anchorColor",0xefefef),anchorSize:c(f,"anchorSize",4),showConvexHulls:c(f,"showConvexHulls",!1),hullColor:c(f,"hullColor",0xd703d0)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),c(t,"setBounds",!1)){var p=t.setBounds;if("boolean"==typeof p)this.setBounds();else{var m=c(p,"x",0),g=c(p,"y",0),v=c(p,"width",e.sys.scale.width),y=c(p,"height",e.sys.scale.height),b=c(p,"thickness",64),x=c(p,"left",!0),E=c(p,"right",!0),w=c(p,"top",!0),S=c(p,"bottom",!0);this.setBounds(m,g,v,y,b,x,E,w,S)}}},setCompositeRenderStyle:function(e){var t,i,n,r=e.bodies,s=e.constraints,a=e.composites;for(t=0;t<r.length;t++)n=(i=r[t]).render,this.setBodyRenderStyle(i,n.lineColor,n.lineOpacity,n.lineThickness,n.fillColor,n.fillOpacity);for(t=0;t<s.length;t++)n=(i=s[t]).render,this.setConstraintRenderStyle(i,n.lineColor,n.lineOpacity,n.lineThickness,n.pinSize,n.anchorColor,n.anchorSize);for(t=0;t<a.length;t++)i=a[t],this.setCompositeRenderStyle(i);return this},setBodyRenderStyle:function(e,t,i,n,r,s){var a=e.render,o=this.debugConfig;return a&&(null==t&&(t=e.isStatic?o.staticLineColor:o.lineColor),null==i&&(i=o.lineOpacity),null==n&&(n=o.lineThickness),null==r&&(r=e.isStatic?o.staticFillColor:o.fillColor),null==s&&(s=o.fillOpacity),!1!==t&&(a.lineColor=t),!1!==i&&(a.lineOpacity=i),!1!==n&&(a.lineThickness=n),!1!==r&&(a.fillColor=r),!1!==s&&(a.fillOpacity=s)),this},setConstraintRenderStyle:function(e,t,i,n,r,s,a){var o=e.render,l=this.debugConfig;if(!o)return this;if(null==t){var h=o.type;"line"===h?t=l.jointColor:"pin"===h?t=l.pinColor:"spring"===h&&(t=l.springColor)}return null==i&&(i=l.jointLineOpacity),null==n&&(n=l.jointLineThickness),null==r&&(r=l.pinSize),null==s&&(s=l.anchorColor),null==a&&(a=l.anchorSize),!1!==t&&(o.lineColor=t),!1!==i&&(o.lineOpacity=i),!1!==n&&(o.lineThickness=n),!1!==r&&(o.pinSize=r),!1!==s&&(o.anchorColor=s),!1!==a&&(o.anchorSize=a),this},setEventsProxy:function(){var e=this,t=this.engine,i=this.localWorld;this.drawDebug&&(p.on(i,"compositeModified",function(t){e.setCompositeRenderStyle(t)}),p.on(i,"beforeAdd",function(t){for(var i=[].concat(t.object),n=0;n<i.length;n++){var r=i[n],s=r.render;"body"===r.type?e.setBodyRenderStyle(r,s.lineColor,s.lineOpacity,s.lineThickness,s.fillColor,s.fillOpacity):"composite"===r.type?e.setCompositeRenderStyle(r):"constraint"===r.type&&e.setConstraintRenderStyle(r,s.lineColor,s.lineOpacity,s.lineThickness,s.pinSize,s.anchorColor,s.anchorSize)}})),p.on(i,"beforeAdd",function(t){e.emit(u.BEFORE_ADD,t)}),p.on(i,"afterAdd",function(t){e.emit(u.AFTER_ADD,t)}),p.on(i,"beforeRemove",function(t){e.emit(u.BEFORE_REMOVE,t)}),p.on(i,"afterRemove",function(t){e.emit(u.AFTER_REMOVE,t)}),p.on(t,"beforeUpdate",function(t){e.emit(u.BEFORE_UPDATE,t)}),p.on(t,"afterUpdate",function(t){e.emit(u.AFTER_UPDATE,t)}),p.on(t,"collisionStart",function(t){var i,n,r=t.pairs;r.length>0&&r.map(function(e){i=e.bodyA,n=e.bodyB,i.gameObject&&i.gameObject.emit("collide",i,n,e),n.gameObject&&n.gameObject.emit("collide",n,i,e),p.trigger(i,"onCollide",{pair:e}),p.trigger(n,"onCollide",{pair:e}),i.onCollideCallback&&i.onCollideCallback(e),n.onCollideCallback&&n.onCollideCallback(e),i.onCollideWith[n.id]&&i.onCollideWith[n.id](n,e),n.onCollideWith[i.id]&&n.onCollideWith[i.id](i,e)}),e.emit(u.COLLISION_START,t,i,n)}),p.on(t,"collisionActive",function(t){var i,n,r=t.pairs;r.length>0&&r.map(function(e){i=e.bodyA,n=e.bodyB,i.gameObject&&i.gameObject.emit("collideActive",i,n,e),n.gameObject&&n.gameObject.emit("collideActive",n,i,e),p.trigger(i,"onCollideActive",{pair:e}),p.trigger(n,"onCollideActive",{pair:e}),i.onCollideActiveCallback&&i.onCollideActiveCallback(e),n.onCollideActiveCallback&&n.onCollideActiveCallback(e)}),e.emit(u.COLLISION_ACTIVE,t,i,n)}),p.on(t,"collisionEnd",function(t){var i,n,r=t.pairs;r.length>0&&r.map(function(e){i=e.bodyA,n=e.bodyB,i.gameObject&&i.gameObject.emit("collideEnd",i,n,e),n.gameObject&&n.gameObject.emit("collideEnd",n,i,e),p.trigger(i,"onCollideEnd",{pair:e}),p.trigger(n,"onCollideEnd",{pair:e}),i.onCollideEndCallback&&i.onCollideEndCallback(e),n.onCollideEndCallback&&n.onCollideEndCallback(e)}),e.emit(u.COLLISION_END,t,i,n)})},setBounds:function(e,t,i,n,r,s,a,o,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),void 0===r&&(r=64),void 0===s&&(s=!0),void 0===a&&(a=!0),void 0===o&&(o=!0),void 0===l&&(l=!0),this.updateWall(s,"left",e-r,t-r,r,n+2*r),this.updateWall(a,"right",e+i,t-r,r,n+2*r),this.updateWall(o,"top",e,t-r,i,r),this.updateWall(l,"bottom",e,t+n,i,r),this},updateWall:function(e,t,i,n,r,s){var a=this.walls[t];e?(a&&g.remove(this.localWorld,a),i+=r/2,n+=s/2,this.walls[t]=this.create(i,n,r,s,{isStatic:!0,friction:0,frictionStatic:0})):(a&&g.remove(this.localWorld,a),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=1),void 0===i&&(i=.001),this.localWorld.gravity.x=e,this.localWorld.gravity.y=t,this.localWorld.gravity.scale=i,this},create:function(e,t,i,r,s){var a=n.rectangle(e,t,i,r,s);return g.add(this.localWorld,a),a},add:function(e){return g.add(this.localWorld,e),this},remove:function(e,t){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i],r=n.body?n.body:n;o.remove(this.localWorld,r,t)}return this},removeConstraint:function(e,t){return o.remove(this.localWorld,e,t),this},convertTilemapLayer:function(e,t){var i=e.layer,n=e.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(n,t),this},convertTiles:function(e,t){if(0===e.length)return this;for(var i=0;i<e.length;i++)new m(this,e[i],t);return this},nextGroup:function(e){return f.nextGroup(e)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=a.now(),this.emit(u.RESUME),this},update:function(e){if(this.enabled&&this.autoUpdate){var t=this.engine,i=this.runner,n=a.now(),r=i.delta,s=0,o=e-i.timeLastTick;if((!o||!i.timeLastTick||o>Math.max(v._maxFrameDelta,i.maxFrameTime))&&(o=i.frameDelta||v._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(o),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var h=i.frameDeltaHistory.slice(0).sort(),u=i.frameDeltaHistory.slice(h.length*v._smoothingLowerBound,h.length*v._smoothingUpperBound);o=v._mean(u)||o}i.frameDeltaSnapping&&(o=1e3/Math.round(1e3/o)),i.frameDelta=o,i.timeLastTick=e,i.timeBuffer+=i.frameDelta,i.timeBuffer=a.clamp(i.timeBuffer,0,i.frameDelta+r*v._timeBufferMargin),i.lastUpdatesDeferred=0;for(var c=i.maxUpdates||Math.ceil(i.maxFrameTime/r),d=a.now();r>0&&i.timeBuffer>=r*v._timeBufferMargin;){l.update(t,r),i.timeBuffer-=r,s+=1;var f=a.now()-n,p=a.now()-d,m=f+v._elapsedNextEstimate*p/s;if(s>=c||m>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/r-v._timeBufferMargin));break}}}},step:function(e){l.update(this.engine,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(e){var t=e.hasOwnProperty("body")?e.body:e;return null!==o.get(this.localWorld,t.id,t.type)},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var e=this.debugConfig,t=this.engine,i=this.debugGraphic,n=o.allBodies(this.localWorld);this.debugGraphic.clear(),e.showBroadphase&&t.broadphase.controller&&this.renderGrid(t.broadphase,i,e.broadphaseColor,.5),e.showBounds&&this.renderBodyBounds(n,i,e.boundsColor,.5),(e.showBody||e.showStaticBody)&&this.renderBodies(n),e.showJoint&&this.renderJoints(),(e.showAxes||e.showAngleIndicator)&&this.renderBodyAxes(n,i,e.showAxes,e.angleColor,.5),e.showVelocity&&this.renderBodyVelocity(n,i,e.velocityColor,1,2),e.showSeparations&&this.renderSeparations(t.pairs.list,i,e.separationColor),e.showCollisions&&this.renderCollisions(t.pairs.list,i,e.collisionColor)}},renderGrid:function(e,t,i,n){t.lineStyle(1,i,n);for(var r=a.keys(e.buckets),s=0;s<r.length;s++){var o=r[s];if(!(e.buckets[o].length<2)){var l=o.split(/C|R/);t.strokeRect(parseInt(l[1],10)*e.bucketWidth,parseInt(l[2],10)*e.bucketHeight,e.bucketWidth,e.bucketHeight)}}return this},renderSeparations:function(e,t,i){t.lineStyle(1,i,1);for(var n=0;n<e.length;n++){var r=e[n];if(r.isActive){var s=r.collision,a=s.bodyA,o=s.bodyB,l=a.position,h=o.position,u=s.penetration,c=a.isStatic||o.isStatic?1:4;o.isStatic&&(c=0),t.lineBetween(h.x,h.y,h.x-u.x*c,h.y-u.y*c),c=a.isStatic||o.isStatic?1:4,a.isStatic&&(c=0),t.lineBetween(l.x,l.y,l.x-u.x*c,l.y-u.y*c)}}return this},renderCollisions:function(e,t,i){for(t.lineStyle(1,i,.5),t.fillStyle(i,1),n=0;n<e.length;n++)if((r=e[n]).isActive)for(var n,r,s=0;s<r.contactCount;s++){var a=r.contacts[s].vertex;a&&t.fillRect(a.x-2,a.y-2,5,5)}for(n=0;n<e.length;n++)if((r=e[n]).isActive){var o=r.collision,l=r.contacts;if(r.contactCount>0){var h=l[0].vertex.x,u=l[0].vertex.y;2===r.contactCount&&(h=(l[0].vertex.x+l[1].vertex.x)/2,u=(l[0].vertex.y+l[1].vertex.y)/2),o.bodyB===o.supports[0].body||o.bodyA.isStatic?t.lineBetween(h-8*o.normal.x,u-8*o.normal.y,h,u):t.lineBetween(h+8*o.normal.x,u+8*o.normal.y,h,u)}}return this},renderBodyBounds:function(e,t,i,n){t.lineStyle(1,i,n);for(var r=0;r<e.length;r++){var s=e[r];if(s.render.visible){var a=s.bounds;if(a)t.strokeRect(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y);else for(var o=s.parts,l=o.length>1?1:0;l<o.length;l++){var h=o[l];t.strokeRect(h.bounds.min.x,h.bounds.min.y,h.bounds.max.x-h.bounds.min.x,h.bounds.max.y-h.bounds.min.y)}}}return this},renderBodyAxes:function(e,t,i,n,r){t.lineStyle(1,n,r);for(var s=0;s<e.length;s++){var a,o,l,h=e[s],u=h.parts;if(h.render.visible){if(i)for(o=u.length>1?1:0;o<u.length;o++)for(l=0,a=u[o];l<a.axes.length;l++){var c=a.axes[l];t.lineBetween(a.position.x,a.position.y,a.position.x+20*c.x,a.position.y+20*c.y)}else for(o=u.length>1?1:0;o<u.length;o++)for(l=0,a=u[o];l<a.axes.length;l++)t.lineBetween(a.position.x,a.position.y,(a.vertices[0].x+a.vertices[a.vertices.length-1].x)/2,(a.vertices[0].y+a.vertices[a.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(e,t,i,n,r){t.lineStyle(r,i,n);for(var s=0;s<e.length;s++){var a=e[s];a.render.visible&&t.lineBetween(a.position.x,a.position.y,a.position.x+(a.position.x-a.positionPrev.x)*2,a.position.y+(a.position.y-a.positionPrev.y)*2)}return this},renderBodies:function(e){for(var t=this.debugGraphic,i=this.debugConfig,n=i.showBody,r=i.showStaticBody,s=i.showSleeping,a=i.showInternalEdges,o=i.showConvexHulls,l=i.renderFill,h=i.renderLine,u=i.staticBodySleepOpacity,c=i.sleepFillColor,d=i.sleepLineColor,f=i.hullColor,p=0;p<e.length;p++){var m=e[p];if(m.render.visible&&(r||!m.isStatic)&&(n||m.isStatic)){var g=m.render.lineColor,v=m.render.lineOpacity,y=m.render.lineThickness,b=m.render.fillColor,x=m.render.fillOpacity;s&&m.isSleeping&&(m.isStatic?(v*=u,x*=u):(g=d,b=c)),l||(b=null),h||(g=null),this.renderBody(m,t,a,g,v,y,b,x);var E=m.parts.length;o&&E>1&&this.renderConvexHull(m,t,f,y)}}},renderBody:function(e,t,i,n,r,s,a,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===s&&(s=1),void 0===a&&(a=null),void 0===o&&(o=null);for(var l=this.debugConfig,h=l.sensorFillColor,u=l.sensorLineColor,c=e.parts,d=c.length,f=d>1?1:0;f<d;f++){var p=c[f],m=p.render,g=m.opacity;if(m.visible&&0!==g&&(!p.isSensor||l.showSensors)){var v=p.circleRadius;if(t.beginPath(),p.isSensor?(null!==a&&t.fillStyle(h,o*g),null!==n&&t.lineStyle(s,u,r*g)):(null!==a&&t.fillStyle(a,o*g),null!==n&&t.lineStyle(s,n,r*g)),v)t.arc(p.position.x,p.position.y,v,0,2*Math.PI);else{var y=p.vertices,b=y.length;t.moveTo(y[0].x,y[0].y);for(var x=1;x<b;x++){var E=y[x];if(!y[x-1].isInternal||i?t.lineTo(E.x,E.y):t.moveTo(E.x,E.y),x<b&&E.isInternal&&!i){var w=(x+1)%b;t.moveTo(y[w].x,y[w].y)}}t.closePath()}null!==a&&t.fillPath(),null!==n&&t.strokePath()}}if(l.showPositions&&!e.isStatic){var S=e.position.x,T=e.position.y,A=Math.ceil(l.positionSize/2);t.fillStyle(l.positionColor,1),t.fillRect(S-A,T-A,l.positionSize,l.positionSize)}return this},renderConvexHull:function(e,t,i,n){if(void 0===n&&(n=1),e.parts.length>1){var r=e.vertices;t.lineStyle(n,i),t.beginPath(),t.moveTo(r[0].x,r[0].y);for(var s=1;s<r.length;s++)t.lineTo(r[s].x,r[s].y);t.lineTo(r[0].x,r[0].y),t.strokePath()}return this},renderJoints:function(){for(var e=this.debugGraphic,t=o.allConstraints(this.localWorld),i=0;i<t.length;i++){var n=t[i].render,r=n.lineColor,s=n.lineOpacity,a=n.lineThickness,l=n.pinSize,h=n.anchorColor,u=n.anchorSize;this.renderConstraint(t[i],e,r,s,a,l,h,u)}},renderConstraint:function(e,t,i,n,r,s,o,l){var h=e.render;if(!h.visible||!e.pointA||!e.pointB)return this;t.lineStyle(r,i,n);var u=e.bodyA,c=e.bodyB;if(d=u?y.add(u.position,e.pointA):e.pointA,"pin"===h.type)t.strokeCircle(d.x,d.y,s);else{if(f=c?y.add(c.position,e.pointB):e.pointB,t.beginPath(),t.moveTo(d.x,d.y),"spring"===h.type)for(var d,f,p,m=y.sub(f,d),g=y.perp(y.normalise(m)),v=Math.ceil(a.clamp(e.length/5,12,20)),b=1;b<v;b+=1)p=b%2==0?1:-1,t.lineTo(d.x+m.x*(b/v)+g.x*p*4,d.y+m.y*(b/v)+g.y*p*4);t.lineTo(f.x,f.y)}return t.strokePath(),h.anchors&&l>0&&(t.fillStyle(o),t.fillCircle(d.x,d.y,l),t.fillCircle(f.x,f.y,l)),this},resetCollisionIDs:function(){return r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,this},shutdown:function(){p.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),l.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});e.exports=b},70410:e=>{e.exports={setBounce:function(e){return this.body.restitution=e,this}}},66968:e=>{e.exports={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var t=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)t|=e[i];else t=e;return this.body.collisionFilter.mask=t,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,t){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i].hasOwnProperty("body")?e[i].body:e[i];this.body.setOnCollideWith(n,t)}return this}}},51607:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562);e.exports={applyForce:function(e){return this._tempVec2.set(this.body.position.x,this.body.position.y),n.applyForce(this.body,this._tempVec2,e),this},applyForceFrom:function(e,t){return n.applyForce(this.body,e,t),this},thrust:function(e){var t=this.body.angle;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(e){var t=this.body.angle-Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(e){var t=this.body.angle+Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(e){var t=this.body.angle-Math.PI;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},5436:e=>{e.exports={setFriction:function(e,t,i){return this.body.friction=e,void 0!==t&&(this.body.frictionAir=t),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}}},39858:e=>{e.exports={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}}},37302:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562),r=i(26099);e.exports={setMass:function(e){return n.setMass(this.body,e),this},setDensity:function(e){return n.setDensity(this.body,e),this},centerOfMass:{get:function(){return new r(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},39132:e=>{e.exports={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}}},57772:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562),s=i(43855),a=i(95540),o=i(19496),l=i(85791),h=i(41598);e.exports={setRectangle:function(e,t,i){return this.setBody({type:"rectangle",width:e,height:t},i)},setCircle:function(e,t){return this.setBody({type:"circle",radius:e},t)},setPolygon:function(e,t,i){return this.setBody({type:"polygon",sides:t,radius:e},i)},setTrapezoid:function(e,t,i,n){return this.setBody({type:"trapezoid",width:e,height:t,slope:i},n)},setExistingBody:function(e,t){void 0===t&&(t=!0),this.body&&this.world.remove(this.body,!0),this.body=e;for(var i=0;i<e.parts.length;i++)e.parts[i].gameObject=this;var n=this;if(e.destroy=function(){n.world.remove(n.body,!0),n.body.gameObject=null},t&&(this.world.has(e)&&this.world.remove(e,!0),this.world.add(e)),this._originComponent){var r=e.render.sprite.xOffset,a=e.render.sprite.yOffset,o=e.centerOfMass.x,l=e.centerOfMass.y;if(s(o,.5)&&s(l,.5))this.setOrigin(r+.5,a+.5);else{var h=e.centerOffset.x,u=e.centerOffset.y;this.setOrigin(r+h/this.displayWidth,a+u/this.displayHeight)}}return this},setBody:function(e,t){if(!e)return this;"string"==typeof e&&(e={type:e});var i,s=a(e,"type","rectangle"),u=a(e,"x",this._tempVec2.x),c=a(e,"y",this._tempVec2.y),d=a(e,"width",this.width),f=a(e,"height",this.height);switch(s){case"rectangle":i=n.rectangle(u,c,d,f,t);break;case"circle":var p=a(e,"radius",Math.max(d,f)/2),m=a(e,"maxSides",25);i=n.circle(u,c,p,t,m);break;case"trapezoid":var g=a(e,"slope",.5);i=n.trapezoid(u,c,d,f,g,t);break;case"polygon":var v=a(e,"sides",5),y=a(e,"radius",Math.max(d,f)/2);i=n.polygon(u,c,v,y,t);break;case"fromVertices":case"fromVerts":var b=a(e,"verts",null);if(b){if("string"==typeof b&&(b=h.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))r.setVertices(this.body,b),i=this.body;else{var x=a(e,"flagInternal",!1),E=a(e,"removeCollinear",.01),w=a(e,"minimumArea",10);i=n.fromVertices(u,c,b,t,x,E,w)}}break;case"fromPhysicsEditor":i=o.parseBody(u,c,e,t);break;case"fromPhysicsTracer":i=l.parseBody(u,c,e,t)}return i&&this.setExistingBody(i,e.addToWorld),this}}},38083:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(1121),r=i(53614),s=i(35810);e.exports={setToSleep:function(){return r.set(this.body,!0),this},setAwake:function(){return r.set(this.body,!1),this},setSleepThreshold:function(e){return void 0===e&&(e=60),this.body.sleepThreshold=e,this},setSleepEvents:function(e,t){return this.setSleepStartEvent(e),this.setSleepEndEvent(t),this},setSleepStartEvent:function(e){if(e){var t=this.world;s.on(this.body,"sleepStart",function(e){t.emit(n.SLEEP_START,e,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(e){if(e){var t=this.world;s.on(this.body,"sleepEnd",function(e){t.emit(n.SLEEP_END,e,this)})}else s.off(this.body,"sleepEnd");return this}}},90556:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562);e.exports={setStatic:function(e){return n.setStatic(this.body,e),this},isStatic:function(){return this.body.isStatic}}},85436:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562),r=i(36383),s=i(86554),a=i(30954);e.exports={x:{get:function(){return this.body.position.x},set:function(e){this._tempVec2.set(e,this.y),n.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(e){this._tempVec2.set(this.x,e),n.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(e){var t=1/this._scaleX,i=1/this._scaleY;this._scaleX=e,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,n.scale(this.body,t,i),n.scale(this.body,e,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(e){var t=1/this._scaleX,i=1/this._scaleY;this._scaleY=e,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,n.scale(this.body,t,i),n.scale(this.body,this._scaleX,e)}},angle:{get:function(){return a(this.body.angle*r.RAD_TO_DEG)},set:function(e){this.rotation=a(e)*r.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(e){this._rotation=s(e),n.setAngle(this.body,this._rotation)}},setPosition:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._tempVec2.set(e,t),n.setPosition(this.body,this._tempVec2),this},setRotation:function(e){return void 0===e&&(e=0),this._rotation=s(e),n.setAngle(this.body,e),this},setFixedRotation:function(){return n.setInertia(this.body,1/0),this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,n.setAngle(this.body,this.rotation),this},setScale:function(e,t,i){void 0===e&&(e=1),void 0===t&&(t=e);var r=1/this._scaleX,s=1/this._scaleY;return this._scaleX=e,this._scaleY=t,n.scale(this.body,r,s,i),n.scale(this.body,e,t,i),this}}},42081:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562);e.exports={setVelocityX:function(e){return this._tempVec2.set(e,this.body.velocity.y),n.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(e){return this._tempVec2.set(this.body.velocity.x,e),n.setVelocity(this.body,this._tempVec2),this},setVelocity:function(e,t){return this._tempVec2.set(e,t),n.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return n.getVelocity(this.body)},setAngularVelocity:function(e){return n.setAngularVelocity(this.body,e),this},getAngularVelocity:function(){return n.getAngularVelocity(this.body)},setAngularSpeed:function(e){return n.setAngularSpeed(this.body,e),this},getAngularSpeed:function(){return n.getAngularSpeed(this.body)}}},31884:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="afteradd"},1213:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="afterremove"},25968:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="afterupdate"},67205:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="beforeadd"},39438:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="beforeremove"},44823:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="beforeupdate"},92593:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="collisionactive"},60128:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="collisionend"},76861:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="collisionstart"},92362:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragend"},76408:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drag"},93971:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragstart"},5656:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},47861:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},79099:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="sleepend"},35906:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="sleepstart"},1121:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(e,t,i)=>{var n,r={};e.exports=r;var s=i(41598),a=i(31725),o=i(53614),l=i(53402),h=i(15647),u=i(66615);r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(e){var t={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:e.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:0xffffffff,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:1e3/60,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=s.centre(e.vertices):e.hasOwnProperty("vertices")||(t.vertices=s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var i=l.extend(t,e);return n(i,e),i.setOnCollideWith=function(e,t){return t?this.onCollideWith[e.id]=t:delete this.onCollideWith[e.id],this},i},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory},n=function(e,t){if(t=t||{},r.set(e,{bounds:e.bounds||h.create(e.vertices),positionPrev:e.positionPrev||a.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),s.rotate(e.vertices,e.angle,e.position),u.rotate(e.axes,e.angle),h.update(e.bounds,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia}),1===e.parts.length){var i=e.bounds,n=e.centerOfMass,o=e.centerOffset,l=i.max.x-i.min.x,c=i.max.y-i.min.y;n.x=-(i.min.x-e.position.x)/l,n.y=-(i.min.y-e.position.y)/c,o.x=l*n.x,o.y=c*n.y}},r.set=function(e,t,i){var n;for(n in"string"==typeof t&&(n=t,(t={})[n]=i),t)if(Object.prototype.hasOwnProperty.call(t,n))switch(i=t[n],n){case"isStatic":r.setStatic(e,i);break;case"isSleeping":o.set(e,i);break;case"mass":r.setMass(e,i);break;case"density":r.setDensity(e,i);break;case"inertia":r.setInertia(e,i);break;case"vertices":r.setVertices(e,i);break;case"position":r.setPosition(e,i);break;case"angle":r.setAngle(e,i);break;case"velocity":r.setVelocity(e,i);break;case"angularVelocity":r.setAngularVelocity(e,i);break;case"speed":r.setSpeed(e,i);break;case"angularSpeed":r.setAngularSpeed(e,i);break;case"parts":r.setParts(e,i);break;case"centre":r.setCentre(e,i);break;default:e[n]=i}},r.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var n=e.parts[i];t?(n.isStatic||(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia}),n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null),n.isStatic=t}},r.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=t/6*i,e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=s.create(t,e),e.axes=u.fromVertices(e.vertices),e.area=s.area(e.vertices),r.setMass(e,e.density*e.area);var i=s.centre(e.vertices);s.translate(e.vertices,i,-1),r.setInertia(e,r._inertiaScale*s.inertia(e.vertices,e.mass)),s.translate(e.vertices,e.position),h.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,i){for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,n=0;n<t.length;n++){var n,a=t[n];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(i=void 0===i||i){var o=[];for(n=0;n<t.length;n++)o=o.concat(t[n].vertices);s.clockwiseSort(o);var l=s.hull(o),u=s.centre(l);r.setVertices(e,l),s.translate(e.vertices,u)}var c=r._totalProperties(e),d=c.centre.x,f=c.centre.y,p=e.bounds,m=e.centerOfMass,g=e.centerOffset;h.update(p,e.vertices,e.velocity),m.x=-(p.min.x-d)/(p.max.x-p.min.x),m.y=-(p.min.y-f)/(p.max.y-p.min.y),g.x=d,g.y=f,e.area=c.area,e.parent=e,e.position.x=d,e.position.y=f,e.positionPrev.x=d,e.positionPrev.y=f,r.setMass(e,c.mass),r.setInertia(e,c.inertia),r.setPosition(e,c.centre)}},r.setCentre=function(e,t,i){i?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},r.setPosition=function(e,t,i){var n=a.sub(t,e.position);i?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=n.x,e.velocity.y=n.y,e.speed=a.magnitude(n)):(e.positionPrev.x+=n.x,e.positionPrev.y+=n.y);for(var r=0;r<e.parts.length;r++){var o=e.parts[r];o.position.x+=n.x,o.position.y+=n.y,s.translate(o.vertices,n),h.update(o.bounds,o.vertices,e.velocity)}},r.setAngle=function(e,t,i){var n=t-e.angle;i?(e.anglePrev=e.angle,e.angularVelocity=n,e.angularSpeed=Math.abs(n)):e.anglePrev+=n;for(var r=0;r<e.parts.length;r++){var o=e.parts[r];o.angle+=n,s.rotate(o.vertices,n,e.position),u.rotate(o.axes,n),h.update(o.bounds,o.vertices,e.velocity),r>0&&a.rotateAbout(o.position,n,e.position,o.position)}},r.setVelocity=function(e,t){var i=e.deltaTime/r._baseDelta;e.positionPrev.x=e.position.x-t.x*i,e.positionPrev.y=e.position.y-t.y*i,e.velocity.x=(e.position.x-e.positionPrev.x)/i,e.velocity.y=(e.position.y-e.positionPrev.y)/i,e.speed=a.magnitude(e.velocity)},r.getVelocity=function(e){var t=r._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},r.getSpeed=function(e){return a.magnitude(r.getVelocity(e))},r.setSpeed=function(e,t){r.setVelocity(e,a.mult(a.normalise(r.getVelocity(e)),t))},r.setAngularVelocity=function(e,t){var i=e.deltaTime/r._baseDelta;e.anglePrev=e.angle-t*i,e.angularVelocity=(e.angle-e.anglePrev)/i,e.angularSpeed=Math.abs(e.angularVelocity)},r.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*r._baseDelta/e.deltaTime},r.getAngularSpeed=function(e){return Math.abs(r.getAngularVelocity(e))},r.setAngularSpeed=function(e,t){r.setAngularVelocity(e,l.sign(r.getAngularVelocity(e))*t)},r.translate=function(e,t,i){r.setPosition(e,a.add(e.position,t),i)},r.rotate=function(e,t,i,n){if(i){var s=Math.cos(t),a=Math.sin(t),o=e.position.x-i.x,l=e.position.y-i.y;r.setPosition(e,{x:i.x+(o*s-l*a),y:i.y+(o*a+l*s)},n),r.setAngle(e,e.angle+t,n)}else r.setAngle(e,e.angle+t,n)},r.scale=function(e,t,i,n){var a=0,o=0;n=n||e.position;for(var l=e.inertia===1/0,c=0;c<e.parts.length;c++){var d=e.parts[c];d.scale.x=t,d.scale.y=i,s.scale(d.vertices,t,i,n),d.axes=u.fromVertices(d.vertices),d.area=s.area(d.vertices),r.setMass(d,e.density*d.area),s.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),r.setInertia(d,r._inertiaScale*s.inertia(d.vertices,d.mass)),s.translate(d.vertices,{x:d.position.x,y:d.position.y}),c>0&&(a+=d.area,o+=d.inertia),d.position.x=n.x+(d.position.x-n.x)*t,d.position.y=n.y+(d.position.y-n.y)*i,h.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(r.setMass(e,e.density*a),r.setInertia(e,o))),e.circleRadius&&(t===i?e.circleRadius*=t:e.circleRadius=null),l&&r.setInertia(e,1/0)},r.update=function(e,t){var i=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,n=r._timeCorrection?t/(e.deltaTime||t):1,o=1-e.frictionAir*(t/l._baseDelta),c=(e.position.x-e.positionPrev.x)*n,d=(e.position.y-e.positionPrev.y)*n;e.velocity.x=c*o+e.force.x/e.mass*i,e.velocity.y=d*o+e.force.y/e.mass*i,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*o*n+e.torque/e.inertia*i,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=a.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var f=0;f<e.parts.length;f++){var p=e.parts[f];s.translate(p.vertices,e.velocity),f>0&&(p.position.x+=e.velocity.x,p.position.y+=e.velocity.y),0!==e.angularVelocity&&(s.rotate(p.vertices,e.angularVelocity,e.position),u.rotate(p.axes,e.angularVelocity),f>0&&a.rotateAbout(p.position,e.angularVelocity,e.position,p.position)),h.update(p.bounds,p.vertices,e.velocity)}},r.updateVelocities=function(e){var t=r._baseDelta/e.deltaTime,i=e.velocity;i.x=(e.position.x-e.positionPrev.x)*t,i.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(i.x*i.x+i.y*i.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},r.applyForce=function(e,t,i){var n={x:t.x-e.position.x,y:t.y-e.position.y};e.force.x+=i.x,e.force.y+=i.y,e.torque+=n.x*i.y-n.y*i.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===e.parts.length?0:1;i<e.parts.length;i++){var n=e.parts[i],r=n.mass!==1/0?n.mass:1;t.mass+=r,t.area+=n.area,t.inertia+=n.inertia,t.centre=a.add(t.centre,a.mult(n.position,r))}return t.centre=a.div(t.centre,t.mass),t},r.wrap=function(e,t){var i=h.wrap(e.bounds,t);return i&&r.translate(e,i),i}},69351:(e,t,i)=>{var n={};e.exports=n;var r=i(35810),s=i(53402),a=i(15647),o=i(22562);n.create=function(e){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},n.setModified=function(e,t,i,s){if(r.trigger(e,"compositeModified",e),e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),i&&e.parent&&n.setModified(e.parent,t,i,s),s)for(var a=0;a<e.composites.length;a++){var o=e.composites[a];n.setModified(o,t,i,s)}},n.add=function(e,t){var i=[].concat(t);r.trigger(e,"beforeAdd",{object:t});for(var a=0;a<i.length;a++){var o=i[a];switch(o.type){case"body":if(o.parent!==o){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(e,o);break;case"constraint":n.addConstraint(e,o);break;case"composite":n.addComposite(e,o);break;case"mouseConstraint":n.addConstraint(e,o.constraint)}}return r.trigger(e,"afterAdd",{object:t}),e},n.remove=function(e,t,i){var s=[].concat(t);r.trigger(e,"beforeRemove",{object:t});for(var a=0;a<s.length;a++){var o=s[a];switch(o.type){case"body":n.removeBody(e,o,i);break;case"constraint":n.removeConstraint(e,o,i);break;case"composite":n.removeComposite(e,o,i);break;case"mouseConstraint":n.removeConstraint(e,o.constraint)}}return r.trigger(e,"afterRemove",{object:t}),e},n.addComposite=function(e,t){return e.composites.push(t),t.parent=e,n.setModified(e,!0,!0,!1),e},n.removeComposite=function(e,t,i){var r=s.indexOf(e.composites,t);if(-1!==r){var a=n.allBodies(t);n.removeCompositeAt(e,r);for(var o=0;o<a.length;o++)a[o].sleepCounter=0}if(i)for(var o=0;o<e.composites.length;o++)n.removeComposite(e.composites[o],t,!0);return e},n.removeCompositeAt=function(e,t){return e.composites.splice(t,1),n.setModified(e,!0,!0,!1),e},n.addBody=function(e,t){return e.bodies.push(t),n.setModified(e,!0,!0,!1),e},n.removeBody=function(e,t,i){var r=s.indexOf(e.bodies,t);if(-1!==r&&(n.removeBodyAt(e,r),t.sleepCounter=0),i)for(var a=0;a<e.composites.length;a++)n.removeBody(e.composites[a],t,!0);return e},n.removeBodyAt=function(e,t){return e.bodies.splice(t,1),n.setModified(e,!0,!0,!1),e},n.addConstraint=function(e,t){return e.constraints.push(t),n.setModified(e,!0,!0,!1),e},n.removeConstraint=function(e,t,i){var r=s.indexOf(e.constraints,t);if(-1!==r&&n.removeConstraintAt(e,r),i)for(var a=0;a<e.composites.length;a++)n.removeConstraint(e.composites[a],t,!0);return e},n.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),n.setModified(e,!0,!0,!1),e},n.clear=function(e,t,i){if(i)for(var r=0;r<e.composites.length;r++)n.clear(e.composites[r],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,n.setModified(e,!0,!0,!1),e},n.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(n.allBodies(e.composites[i]));return e.cache&&(e.cache.allBodies=t),t},n.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(n.allConstraints(e.composites[i]));return e.cache&&(e.cache.allConstraints=t),t},n.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(n.allComposites(e.composites[i]));return e.cache&&(e.cache.allComposites=t),t},n.get=function(e,t,i){var r,s;switch(i){case"body":r=n.allBodies(e);break;case"constraint":r=n.allConstraints(e);break;case"composite":r=n.allComposites(e).concat(e)}return r?0===(s=r.filter(function(e){return e.id.toString()===t.toString()})).length?null:s[0]:null},n.move=function(e,t,i){return n.remove(e,t),n.add(i,t),e},n.rebase=function(e){for(var t=n.allBodies(e).concat(n.allConstraints(e)).concat(n.allComposites(e)),i=0;i<t.length;i++)t[i].id=s.nextId();return e},n.translate=function(e,t,i){for(var r=i?n.allBodies(e):e.bodies,s=0;s<r.length;s++)o.translate(r[s],t);return e},n.rotate=function(e,t,i,r){for(var s=Math.cos(t),a=Math.sin(t),l=r?n.allBodies(e):e.bodies,h=0;h<l.length;h++){var u=l[h],c=u.position.x-i.x,d=u.position.y-i.y;o.setPosition(u,{x:i.x+(c*s-d*a),y:i.y+(c*a+d*s)}),o.rotate(u,t)}return e},n.scale=function(e,t,i,r,s){for(var a=s?n.allBodies(e):e.bodies,l=0;l<a.length;l++){var h=a[l],u=h.position.x-r.x,c=h.position.y-r.y;o.setPosition(h,{x:r.x+u*t,y:r.y+c*i}),o.scale(h,t,i)}return e},n.bounds=function(e){for(var t=n.allBodies(e),i=[],r=0;r<t.length;r+=1){var s=t[r];i.push(s.bounds.min,s.bounds.max)}return a.create(i)},n.wrap=function(e,t){var i=a.wrap(n.bounds(e),t);return i&&n.translate(e,i),i}},4372:(e,t,i)=>{var n={};e.exports=n;var r=i(69351);n.create=r.create,n.add=r.add,n.remove=r.remove,n.clear=r.clear,n.addComposite=r.addComposite,n.addBody=r.addBody,n.addConstraint=r.addConstraint},52284:(e,t,i)=>{var n,r,s,a={};e.exports=a;var o=i(41598),l=i(4506);n=[],r={overlap:0,axis:null},s={overlap:0,axis:null},a.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(e,t,i){if(a._overlapAxes(r,e.vertices,t.vertices,e.axes),r.overlap<=0||(a._overlapAxes(s,t.vertices,e.vertices,t.axes),s.overlap<=0))return null;var n,h,u=i&&i.table[l.id(e,t)];u?h=u.collision:((h=a.create(e,t)).collided=!0,h.bodyA=e.id<t.id?e:t,h.bodyB=e.id<t.id?t:e,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent),e=h.bodyA,t=h.bodyB,n=r.overlap<s.overlap?r:s;var c=h.normal,d=h.tangent,f=h.penetration,p=h.supports,m=n.overlap,g=n.axis,v=g.x,y=g.y;v*(t.position.x-e.position.x)+y*(t.position.y-e.position.y)>=0&&(v=-v,y=-y),c.x=v,c.y=y,d.x=-y,d.y=v,f.x=v*m,f.y=y*m,h.depth=m;var b=a._findSupports(e,t,c,1),x=0;if(o.contains(e.vertices,b[0])&&(p[x++]=b[0]),o.contains(e.vertices,b[1])&&(p[x++]=b[1]),x<2){var E=a._findSupports(t,e,c,-1);o.contains(t.vertices,E[0])&&(p[x++]=E[0]),x<2&&o.contains(t.vertices,E[1])&&(p[x++]=E[1])}return 0===x&&(p[x++]=b[0]),h.supportCount=x,h},a._overlapAxes=function(e,t,i,n){var r,s,a,o,l,h,u=t.length,c=i.length,d=t[0].x,f=t[0].y,p=i[0].x,m=i[0].y,g=n.length,v=Number.MAX_VALUE,y=0;for(l=0;l<g;l++){var b=n[l],x=b.x,E=b.y,w=d*x+f*E,S=p*x+m*E,T=w,A=S;for(h=1;h<u;h+=1)(o=t[h].x*x+t[h].y*E)>T?T=o:o<w&&(w=o);for(h=1;h<c;h+=1)(o=i[h].x*x+i[h].y*E)>A?A=o:o<S&&(S=o);if((r=(s=T-S)<(a=A-w)?s:a)<v&&(v=r,y=l,r<=0))break}e.axis=n[y],e.overlap=v},a._findSupports=function(e,t,i,r){var s,a,o,l=t.vertices,h=l.length,u=e.position.x,c=e.position.y,d=i.x*r,f=i.y*r,p=l[0],m=p,g=d*(u-m.x)+f*(c-m.y);for(o=1;o<h;o+=1)(a=d*(u-(m=l[o]).x)+f*(c-m.y))<g&&(g=a,p=m);return(g=d*(u-(s=l[(h+p.index-1)%h]).x)+f*(c-s.y),d*(u-(m=l[(p.index+1)%h]).x)+f*(c-m.y)<g)?(n[0]=p,n[1]=m):(n[0]=p,n[1]=s),n}},43424:e=>{var t={};e.exports=t,t.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},81388:(e,t,i)=>{var n={};e.exports=n;var r=i(53402),s=i(52284);n.create=function(e){return r.extend({bodies:[],collisions:[],pairs:null},e)},n.setBodies=function(e,t){e.bodies=t.slice(0)},n.clear=function(e){e.bodies=[],e.collisions=[]},n.collisions=function(e){var t,i,r=e.pairs,a=e.bodies,o=a.length,l=n.canCollide,h=s.collides,u=e.collisions,c=0;for(a.sort(n._compareBoundsX),t=0;t<o;t++){var d=a[t],f=d.bounds,p=d.bounds.max.x,m=d.bounds.max.y,g=d.bounds.min.y,v=d.isStatic||d.isSleeping,y=d.parts.length,b=1===y;for(i=t+1;i<o;i++){var x=a[i],E=x.bounds;if(E.min.x>p)break;if(!(m<E.min.y)&&!(g>E.max.y)&&(!v||!x.isStatic&&!x.isSleeping)&&l(d.collisionFilter,x.collisionFilter)){var w=x.parts.length;if(b&&1===w){var S=h(d,x,r);S&&(u[c++]=S)}else for(var T=y>1?1:0,A=w>1?1:0,_=T;_<y;_++)for(var C=d.parts[_],f=C.bounds,I=A;I<w;I++){var P=x.parts[I],E=P.bounds;if(!(f.min.x>E.max.x)&&!(f.max.x<E.min.x)&&!(f.max.y<E.min.y)&&!(f.min.y>E.max.y)){var S=h(C,P,r);S&&(u[c++]=S)}}}}}return u.length!==c&&(u.length=c),u},n.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:(e.mask&t.category)!=0&&(t.mask&e.category)!=0},n._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},4506:(e,t,i)=>{var n={};e.exports=n;var r=i(43424);n.create=function(e,t){var i=e.bodyA,s=e.bodyB,a={id:n.id(i,s),bodyA:i,bodyB:s,collision:e,contacts:[r.create(),r.create()],contactCount:0,separation:0,isActive:!0,isSensor:i.isSensor||s.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(a,e,t),a},n.update=function(e,t,i){var n=t.supports,r=t.supportCount,s=e.contacts,a=t.parentA,o=t.parentB;e.isActive=!0,e.timeUpdated=i,e.collision=t,e.separation=t.depth,e.inverseMass=a.inverseMass+o.inverseMass,e.friction=a.friction<o.friction?a.friction:o.friction,e.frictionStatic=a.frictionStatic>o.frictionStatic?a.frictionStatic:o.frictionStatic,e.restitution=a.restitution>o.restitution?a.restitution:o.restitution,e.slop=a.slop>o.slop?a.slop:o.slop,e.contactCount=r,t.pair=e;var l=n[0],h=s[0],u=n[1],c=s[1];(c.vertex===l||h.vertex===u)&&(s[1]=h,s[0]=h=c,c=s[1]),h.vertex=l,c.vertex=u},n.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.contactCount=0)},n.id=function(e,t){return e.id<t.id?e.id.toString(36)+":"+t.id.toString(36):t.id.toString(36)+":"+e.id.toString(36)}},99561:(e,t,i)=>{var n={};e.exports=n;var r=i(4506),s=i(53402);n.create=function(e){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},n.update=function(e,t,i){var n,s,a,o=r.update,l=r.create,h=r.setActive,u=e.table,c=e.list,d=c.length,f=d,p=e.collisionStart,m=e.collisionEnd,g=e.collisionActive,v=t.length,y=0,b=0,x=0;for(a=0;a<v;a++)(s=(n=t[a]).pair)?(s.isActive&&(g[x++]=s),o(s,n,i)):(u[(s=l(n,i)).id]=s,p[y++]=s,c[f++]=s);for(a=0,f=0,d=c.length;a<d;a++)(s=c[a]).timeUpdated>=i?c[f++]=s:(h(s,!1,i),s.collision.bodyA.sleepCounter>0&&s.collision.bodyB.sleepCounter>0?c[f++]=s:(m[b++]=s,delete u[s.id]));c.length!==f&&(c.length=f),p.length!==y&&(p.length=y),m.length!==b&&(m.length=b),g.length!==x&&(g.length=x)},n.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},73296:(e,t,i)=>{var n={};e.exports=n;var r=i(31725),s=i(52284),a=i(15647),o=i(66280),l=i(41598);n.collides=function(e,t){for(var i=[],n=t.length,r=e.bounds,o=s.collides,l=a.overlaps,h=0;h<n;h++){var u=t[h],c=u.parts.length,d=1===c?0:1;if(e!==u&&l(u.bounds,r))for(var f=d;f<c;f++){var p=u.parts[f];if(l(p.bounds,r)){var m=o(p,e);if(m){i.push(m);break}}}}return i},n.ray=function(e,t,i,s){s=s||1e-100;for(var a=r.angle(t,i),l=r.magnitude(r.sub(t,i)),h=(i.x+t.x)*.5,u=(i.y+t.y)*.5,c=o.rectangle(h,u,l,s,{angle:a}),d=n.collides(c,e),f=0;f<d.length;f+=1){var p=d[f];p.body=p.bodyB=p.bodyA}return d},n.region=function(e,t,i){for(var n=[],r=0;r<e.length;r++){var s=e[r],o=a.overlaps(s.bounds,t);(o&&!i||!o&&i)&&n.push(s)}return n},n.point=function(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n];if(a.contains(r.bounds,t))for(var s=1===r.parts.length?0:1;s<r.parts.length;s++){var o=r.parts[s];if(a.contains(o.bounds,t)&&l.contains(o.vertices,t)){i.push(r);break}}}return i}},66272:(e,t,i)=>{var n={};e.exports=n;var r=i(41598),s=i(53402),a=i(15647);n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(e){var t,i,n,r=e.length;for(t=0;t<r;t++)(i=e[t]).isActive&&(n=i.contactCount,i.collision.parentA.totalContacts+=n,i.collision.parentB.totalContacts+=n)},n.solvePosition=function(e,t,i){var r,a,o,l,h,u,c,d,f=n._positionDampen*(i||1),p=s.clamp(t/s._baseDelta,0,1),m=e.length;for(r=0;r<m;r++)(a=e[r]).isActive&&!a.isSensor&&(l=(o=a.collision).parentA,h=o.parentB,u=o.normal,a.separation=o.depth+u.x*(h.positionImpulse.x-l.positionImpulse.x)+u.y*(h.positionImpulse.y-l.positionImpulse.y));for(r=0;r<m;r++)!(a=e[r]).isActive||a.isSensor||(l=(o=a.collision).parentA,h=o.parentB,u=o.normal,d=a.separation-a.slop*p,(l.isStatic||h.isStatic)&&(d*=2),l.isStatic||l.isSleeping||(c=f/l.totalContacts,l.positionImpulse.x+=u.x*d*c,l.positionImpulse.y+=u.y*d*c),h.isStatic||h.isSleeping||(c=f/h.totalContacts,h.positionImpulse.x-=u.x*d*c,h.positionImpulse.y-=u.y*d*c))},n.postSolvePosition=function(e){for(var t=n._positionWarming,i=e.length,s=r.translate,o=a.update,l=0;l<i;l++){var h=e[l],u=h.positionImpulse,c=u.x,d=u.y,f=h.velocity;if(h.totalContacts=0,0!==c||0!==d){for(var p=0;p<h.parts.length;p++){var m=h.parts[p];s(m.vertices,u),o(m.bounds,m.vertices,f),m.position.x+=c,m.position.y+=d}h.positionPrev.x+=c,h.positionPrev.y+=d,c*f.x+d*f.y<0?(u.x=0,u.y=0):(u.x*=t,u.y*=t)}}},n.preSolveVelocity=function(e){var t,i,n=e.length;for(t=0;t<n;t++){var r=e[t];if(r.isActive&&!r.isSensor){var s=r.contacts,a=r.contactCount,o=r.collision,l=o.parentA,h=o.parentB,u=o.normal,c=o.tangent;for(i=0;i<a;i++){var d=s[i],f=d.vertex,p=d.normalImpulse,m=d.tangentImpulse;if(0!==p||0!==m){var g=u.x*p+c.x*m,v=u.y*p+c.y*m;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=v*l.inverseMass,l.anglePrev+=l.inverseInertia*((f.x-l.position.x)*v-(f.y-l.position.y)*g)),h.isStatic||h.isSleeping||(h.positionPrev.x-=g*h.inverseMass,h.positionPrev.y-=v*h.inverseMass,h.anglePrev-=h.inverseInertia*((f.x-h.position.x)*v-(f.y-h.position.y)*g))}}}}},n.solveVelocity=function(e,t){var i,r,a,o,l=t/s._baseDelta,h=l*l*l,u=-n._restingThresh*l,c=n._restingThreshTangent,d=n._frictionNormalMultiplier*l,f=n._frictionMaxStatic,p=e.length;for(a=0;a<p;a++){var m=e[a];if(m.isActive&&!m.isSensor){var g=m.collision,v=g.parentA,y=g.parentB,b=g.normal.x,x=g.normal.y,E=g.tangent.x,w=g.tangent.y,S=m.inverseMass,T=m.friction*m.frictionStatic*d,A=m.contacts,_=m.contactCount,C=1/_,I=v.position.x-v.positionPrev.x,P=v.position.y-v.positionPrev.y,R=v.angle-v.anglePrev,O=y.position.x-y.positionPrev.x,M=y.position.y-y.positionPrev.y,L=y.angle-y.anglePrev;for(o=0;o<_;o++){var D=A[o],k=D.vertex,N=k.x-v.position.x,F=k.y-v.position.y,B=k.x-y.position.x,U=k.y-y.position.y,j=I-F*R-(O-U*L),V=P+N*R-(M+B*L),G=b*j+x*V,W=E*j+w*V,z=m.separation+G,Y=Math.min(z,1),H=(Y=z<0?0:Y)*T;W<-H||W>H?(r=W>0?W:-W,(i=m.friction*(W>0?1:-1)*h)<-r?i=-r:i>r&&(i=r)):(i=W,r=f);var X=N*x-F*b,q=B*x-U*b,K=C/(S+v.inverseInertia*X*X+y.inverseInertia*q*q),$=(1+m.restitution)*G*K;if(i*=K,G<u)D.normalImpulse=0;else{var Q=D.normalImpulse;D.normalImpulse+=$,D.normalImpulse>0&&(D.normalImpulse=0),$=D.normalImpulse-Q}if(W<-c||W>c)D.tangentImpulse=0;else{var J=D.tangentImpulse;D.tangentImpulse+=i,D.tangentImpulse<-r&&(D.tangentImpulse=-r),D.tangentImpulse>r&&(D.tangentImpulse=r),i=D.tangentImpulse-J}var Z=b*$+E*i,ee=x*$+w*i;v.isStatic||v.isSleeping||(v.positionPrev.x+=Z*v.inverseMass,v.positionPrev.y+=ee*v.inverseMass,v.anglePrev+=(N*ee-F*Z)*v.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=Z*y.inverseMass,y.positionPrev.y-=ee*y.inverseMass,y.anglePrev-=(B*ee-U*Z)*y.inverseInertia)}}}}},48140:(e,t,i)=>{var n={};e.exports=n;var r=i(41598),s=i(31725),a=i(53614),o=i(15647),l=i(66615),h=i(53402);n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(e){e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var t=e.bodyA?s.add(e.bodyA.position,e.pointA):e.pointA,i=e.bodyB?s.add(e.bodyB.position,e.pointB):e.pointB,n=s.magnitude(s.sub(t,i));e.length=void 0!==e.length?e.length:n,e.id=e.id||h.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var r={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===e.length&&e.stiffness>.1?(r.type="pin",r.anchors=!1):e.stiffness<.9&&(r.type="spring"),e.render=h.extend(r,e.render),e},n.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],n=i.constraintImpulse;i.isStatic||0===n.x&&0===n.y&&0===n.angle||(i.position.x+=n.x,i.position.y+=n.y,i.angle+=n.angle)}},n.solveAll=function(e,t){for(var i=h.clamp(t/h._baseDelta,0,1),r=0;r<e.length;r+=1){var s=e[r],a=!s.bodyA||s.bodyA&&s.bodyA.isStatic,o=!s.bodyB||s.bodyB&&s.bodyB.isStatic;(a||o)&&n.solve(e[r],i)}for(r=0;r<e.length;r+=1)a=!(s=e[r]).bodyA||s.bodyA&&s.bodyA.isStatic,o=!s.bodyB||s.bodyB&&s.bodyB.isStatic,a||o||n.solve(e[r],i)},n.solve=function(e,t){var i=e.bodyA,r=e.bodyB,a=e.pointA,o=e.pointB;if(i||r){i&&!i.isStatic&&(s.rotate(a,i.angle-e.angleA,a),e.angleA=i.angle),r&&!r.isStatic&&(s.rotate(o,r.angle-e.angleB,o),e.angleB=r.angle);var l=a,h=o;if(i&&(l=s.add(i.position,a)),r&&(h=s.add(r.position,o)),l&&h){var u=s.sub(l,h),c=s.magnitude(u);c<n._minLength&&(c=n._minLength);var d,f,p,m,g,v=(c-e.length)/c,y=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,b=e.damping*t,x=s.mult(u,v*y),E=(i?i.inverseMass:0)+(r?r.inverseMass:0),w=E+((i?i.inverseInertia:0)+(r?r.inverseInertia:0));if(b>0){var S=s.create();p=s.div(u,c),g=s.sub(r&&s.sub(r.position,r.positionPrev)||S,i&&s.sub(i.position,i.positionPrev)||S),m=s.dot(p,g)}i&&!i.isStatic&&(f=i.inverseMass/E,i.constraintImpulse.x-=x.x*f,i.constraintImpulse.y-=x.y*f,i.position.x-=x.x*f,i.position.y-=x.y*f,b>0&&(i.positionPrev.x-=b*p.x*m*f,i.positionPrev.y-=b*p.y*m*f),d=s.cross(a,x)/w*n._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),r&&!r.isStatic&&(f=r.inverseMass/E,r.constraintImpulse.x+=x.x*f,r.constraintImpulse.y+=x.y*f,r.position.x+=x.x*f,r.position.y+=x.y*f,b>0&&(r.positionPrev.x+=b*p.x*m*f,r.positionPrev.y+=b*p.y*m*f),d=s.cross(o,x)/w*n._torqueDampen*r.inverseInertia*(1-e.angularStiffness),r.constraintImpulse.angle+=d,r.angle+=d)}}},n.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],h=i.constraintImpulse;if(!i.isStatic&&(0!==h.x||0!==h.y||0!==h.angle)){a.set(i,!1);for(var u=0;u<i.parts.length;u++){var c=i.parts[u];r.translate(c.vertices,h),u>0&&(c.position.x+=h.x,c.position.y+=h.y),0!==h.angle&&(r.rotate(c.vertices,h.angle,i.position),l.rotate(c.axes,h.angle),u>0&&s.rotateAbout(c.position,h.angle,i.position,c.position)),o.update(c.bounds,c.vertices,i.velocity)}h.angle*=n._warming,h.x*=n._warming,h.y*=n._warming}}},n.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},n.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}},n.currentLength=function(e){var t=(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),i=(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0),n=(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),r=(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0),s=t-n,a=i-r;return Math.sqrt(s*s+a*a)}},53402:(e,t,i)=>{var n,r={};e.exports=r,r._baseDelta=1e3/60,r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(e,t){var i,n;"boolean"==typeof t?(i=2,n=t):(i=1,n=!0);for(var s=i;s<arguments.length;s++){var a=arguments[s];if(a)for(var o in a)n&&a[o]&&a[o].constructor===Object?e[o]&&e[o].constructor!==Object?e[o]=a[o]:(e[o]=e[o]||{},r.extend(e[o],n,a[o])):e[o]=a[o]}return e},r.clone=function(e,t){return r.extend({},t,e)},r.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},r.values=function(e){var t=[];if(Object.keys){for(var i=Object.keys(e),n=0;n<i.length;n++)t.push(e[i[n]]);return t}for(var r in e)t.push(e[r]);return t},r.get=function(e,t,i,n){t=t.split(".").slice(i,n);for(var r=0;r<t.length;r+=1)e=e[t[r]];return e},r.set=function(e,t,i,n,s){var a=t.split(".").slice(n,s);return r.get(e,t,0,-1)[a[a.length-1]]=i,i},r.shuffle=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(r.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}return e},r.choose=function(e){return e[Math.floor(r.random()*e.length)]},r.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isFunction=function(e){return"function"==typeof e},r.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},r.isString=function(e){return"[object String]"===toString.call(e)},r.clamp=function(e,t,i){return e<t?t:e>i?i:e},r.sign=function(e){return e<0?-1:1},r.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)},n=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280},r.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[e]||(r.warn(e),r._warnedOnce[e]=!0)},r.deprecated=function(e,t,i){e[t]=r.chain(function(){r.warnOnce("\uD83D\uDD05 deprecated \uD83D\uDD05",i)},e[t])},r.nextId=function(){return r._nextId++},r.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return -1},r.map=function(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i},r.topologicalSort=function(e){var t=[],i=[],n=[];for(var s in e)i[s]||n[s]||r._topologicalSort(s,i,n,e,t);return t},r._topologicalSort=function(e,t,i,n,s){var a=n[e]||[];i[e]=!0;for(var o=0;o<a.length;o+=1){var l=a[o];i[l]||t[l]||r._topologicalSort(l,t,i,n,s)}i[e]=!1,t[e]=!0,s.push(e)},r.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var i=arguments[t];i._chained?e.push.apply(e,i._chained):e.push(i)}var n=function(){for(var t,i=Array(arguments.length),n=0,r=arguments.length;n<r;n++)i[n]=arguments[n];for(n=0;n<e.length;n+=1){var s=e[n].apply(t,i);void 0!==s&&(t=s)}return t};return n._chained=e,n},r.chainPathBefore=function(e,t,i){return r.set(e,t,r.chain(i,r.get(e,t)))},r.chainPathAfter=function(e,t,i){return r.set(e,t,r.chain(r.get(e,t),i))},r.setDecomp=function(e){r._decomp=e},r.getDecomp=function(){var e=r._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||void 0===i.g||(e=i.g.decomp)}catch(t){e=null}return e}},48413:(e,t,i)=>{var n={};e.exports=n;var r=i(53614),s=i(66272),a=i(81388),o=i(99561),l=i(35810),h=i(69351),u=i(48140),c=i(53402),d=i(22562);n._deltaMax=1e3/60,n.create=function(e){e=e||{};var t=c.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},e);return t.world=e.world||h.create({label:"World"}),t.pairs=e.pairs||o.create(),t.detector=e.detector||a.create(),t.detector.pairs=t.pairs,t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},n.update=function(e,t){var i,d=c.now(),f=e.world,p=e.detector,m=e.pairs,g=e.timing,v=g.timestamp;t>n._deltaMax&&c.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",n._deltaMax.toFixed(3),"ms."),t=(void 0!==t?t:c._baseDelta)*g.timeScale,g.timestamp+=t,g.lastDelta=t;var y={timestamp:g.timestamp,delta:t};l.trigger(e,"beforeUpdate",y);var b=h.allBodies(f),x=h.allConstraints(f),E=h.allComposites(f);for(f.isModified&&(a.setBodies(p,b),h.setModified(f,!1,!1,!0)),e.enableSleeping&&r.update(b,t),n._bodiesApplyGravity(b,e.gravity),n.wrap(b,E),n.attractors(b),t>0&&n._bodiesUpdate(b,t),l.trigger(e,"beforeSolve",y),u.preSolveAll(b),i=0;i<e.constraintIterations;i++)u.solveAll(x,t);u.postSolveAll(b);var w=a.collisions(p);o.update(m,w,v),e.enableSleeping&&r.afterCollisions(m.list),m.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:m.collisionStart,timestamp:g.timestamp,delta:t});var S=c.clamp(20/e.positionIterations,0,1);for(s.preSolvePosition(m.list),i=0;i<e.positionIterations;i++)s.solvePosition(m.list,t,S);for(s.postSolvePosition(b),u.preSolveAll(b),i=0;i<e.constraintIterations;i++)u.solveAll(x,t);for(u.postSolveAll(b),s.preSolveVelocity(m.list),i=0;i<e.velocityIterations;i++)s.solveVelocity(m.list,t);return n._bodiesUpdateVelocities(b),m.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:m.collisionActive,timestamp:g.timestamp,delta:t}),m.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:m.collisionEnd,timestamp:g.timestamp,delta:t}),n._bodiesClearForces(b),l.trigger(e,"afterUpdate",y),e.timing.lastElapsed=c.now()-d,e},n.merge=function(e,t){if(c.extend(e,t),t.world){e.world=t.world,n.clear(e);for(var i=h.allBodies(e.world),s=0;s<i.length;s++){var a=i[s];r.set(a,!1),a.id=c.nextId()}}},n.clear=function(e){o.clear(e.pairs),a.clear(e.detector)},n._bodiesClearForces=function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];n.force.x=0,n.force.y=0,n.torque=0}},n._bodiesApplyGravity=function(e,t){var i=void 0!==t.scale?t.scale:.001,n=e.length;if((0!==t.x||0!==t.y)&&0!==i)for(var r=0;r<n;r++){var s=e[r];s.ignoreGravity||s.isStatic||s.isSleeping||(s.force.y+=s.mass*t.y*i,s.force.x+=s.mass*t.x*i)}},n._bodiesUpdate=function(e,t){for(var i=e.length,n=0;n<i;n++){var r=e[n];r.isStatic||r.isSleeping||d.update(r,t)}},n._bodiesUpdateVelocities=function(e){for(var t=e.length,i=0;i<t;i++)d.updateVelocities(e[i])},n.wrap=function(e,t){for(var i=0;i<e.length;i+=1){var n=e[i];null!==n.wrapBounds&&d.wrap(n,n.wrapBounds)}for(i=0;i<t.length;i+=1){var r=t[i];null!==r.wrapBounds&&h.wrap(r,r.wrapBounds)}},n.attractors=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i.attractors;if(n&&n.length>0)for(var r=0;r<e.length;r++){var s=e[r];if(t!==r)for(var a=0;a<n.length;a++){var o=n[a],l=o;c.isFunction(o)&&(l=o(i,s)),l&&d.applyForce(s,s.position,l)}}}}},35810:(e,t,i)=>{var n={};e.exports=n;var r=i(53402);n.on=function(e,t,i){for(var n,r=t.split(" "),s=0;s<r.length;s++)n=r[s],e.events=e.events||{},e.events[n]=e.events[n]||[],e.events[n].push(i);return i},n.off=function(e,t,i){if(!t){e.events={};return}"function"==typeof t&&(i=t,t=r.keys(e.events).join(" "));for(var n=t.split(" "),s=0;s<n.length;s++){var a=e.events[n[s]],o=[];if(i&&a)for(var l=0;l<a.length;l++)a[l]!==i&&o.push(a[l]);e.events[n[s]]=o}},n.trigger=function(e,t,i){var n,s,a,o,l=e.events;if(l&&r.keys(l).length>0){i||(i={}),n=t.split(" ");for(var h=0;h<n.length;h++)if(a=l[s=n[h]]){(o=r.clone(i,!1)).name=s,o.source=e;for(var u=0;u<a.length;u++)a[u].apply(e,[o])}}}},6790:(e,t,i)=>{var n={};e.exports=n;var r=i(73832),s=i(53402);n.name="matter-js",n.version="0.20.0",n.uses=[],n.used=[],n.use=function(){r.use(n,Array.prototype.slice.call(arguments))},n.before=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathBefore(n,e,t)},n.after=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathAfter(n,e,t)}},73832:(e,t,i)=>{var n={};e.exports=n;var r=i(53402);n._registry={},n.register=function(e){if(n.isPlugin(e)||r.warn("Plugin.register:",n.toString(e),"does not implement all required fields."),e.name in n._registry){var t=n._registry[e.name],i=n.versionParse(e.version).number,s=n.versionParse(t.version).number;i>s?(r.warn("Plugin.register:",n.toString(t),"was upgraded to",n.toString(e)),n._registry[e.name]=e):i<s?r.warn("Plugin.register:",n.toString(t),"can not be downgraded to",n.toString(e)):e!==t&&r.warn("Plugin.register:",n.toString(e),"is already registered to different plugin object")}else n._registry[e.name]=e;return e},n.resolve=function(e){return n._registry[n.dependencyParse(e).name]},n.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},n.isPlugin=function(e){return e&&e.name&&e.version&&e.install},n.isUsed=function(e,t){return e.used.indexOf(t)>-1},n.isFor=function(e,t){var i=e.for&&n.dependencyParse(e.for);return!e.for||t.name===i.name&&n.versionSatisfies(t.version,i.range)},n.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0===e.uses.length){r.warn("Plugin.use:",n.toString(e),"does not specify any dependencies to install.");return}for(var i=n.dependencies(e),s=r.topologicalSort(i),a=[],o=0;o<s.length;o+=1)if(s[o]!==e.name){var l=n.resolve(s[o]);if(!l){a.push("❌ "+s[o]);continue}n.isUsed(e,l.name)||(n.isFor(l,e)||(r.warn("Plugin.use:",n.toString(l),"is for",l.for,"but installed on",n.toString(e)+"."),l._warned=!0),l.install?l.install(e):(r.warn("Plugin.use:",n.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(a.push("\uD83D\uDD36 "+n.toString(l)),delete l._warned):a.push("✅ "+n.toString(l)),e.used.push(l.name))}a.length>0&&!l.silent&&r.info(a.join("  "))},n.dependencies=function(e,t){var i=n.dependencyParse(e),s=i.name;if(!(s in(t=t||{}))){e=n.resolve(e)||e,t[s]=r.map(e.uses||[],function(t){n.isPlugin(t)&&n.register(t);var s=n.dependencyParse(t),a=n.resolve(t);return a&&!n.versionSatisfies(a.version,s.range)?(r.warn("Plugin.dependencies:",n.toString(a),"does not satisfy",n.toString(s),"used by",n.toString(i)+"."),a._warned=!0,e._warned=!0):a||(r.warn("Plugin.dependencies:",n.toString(t),"used by",n.toString(i),"could not be resolved."),e._warned=!0),s.name});for(var a=0;a<t[s].length;a+=1)n.dependencies(t[s][a],t);return t}},n.dependencyParse=function(e){return r.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||r.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},n.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||r.warn("Plugin.versionParse:",e,"is not a valid version or range.");var i=t.exec(e),n=Number(i[4]),s=Number(i[5]),a=Number(i[6]);return{isRange:!!(i[1]||i[2]),version:i[3],range:e,operator:i[1]||i[2]||"",major:n,minor:s,patch:a,parts:[n,s,a],prerelease:i[7],number:1e8*n+1e4*s+a}},n.versionSatisfies=function(e,t){t=t||"*";var i=n.versionParse(t),r=n.versionParse(e);if(i.isRange){if("*"===i.operator||"*"===e)return!0;if(">"===i.operator)return r.number>i.number;if(">="===i.operator)return r.number>=i.number;if("~"===i.operator)return r.major===i.major&&r.minor===i.minor&&r.patch>=i.patch;if("^"===i.operator)return i.major>0?r.major===i.major&&r.number>=i.number:i.minor>0?r.minor===i.minor&&r.patch>=i.patch:r.patch===i.patch}return e===t||"*"===e}},13037:(e,t,i)=>{var n,r={};e.exports=r;var s=i(35810),a=i(48413),o=i(53402);r._maxFrameDelta=1e3/15,r._frameDeltaFallback=1e3/60,r._timeBufferMargin=1.5,r._elapsedNextEstimate=1,r._smoothingLowerBound=.1,r._smoothingUpperBound=.9,r.create=function(e){var t=o.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},e);return t.fps=0,t},r.run=function(e,t){return e.timeBuffer=r._frameDeltaFallback,function i(n){e.frameRequestId=r._onNextFrame(e,i),n&&e.enabled&&r.tick(e,t,n)}(),e},r.tick=function(e,t,i){var l=o.now(),h=e.delta,u=0,c=i-e.timeLastTick;if((!c||!e.timeLastTick||c>Math.max(r._maxFrameDelta,e.maxFrameTime))&&(c=e.frameDelta||r._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(c),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var d=e.frameDeltaHistory.slice(0).sort();c=n(e.frameDeltaHistory.slice(d.length*r._smoothingLowerBound,d.length*r._smoothingUpperBound))||c}e.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),e.frameDelta=c,e.timeLastTick=i,e.timeBuffer+=e.frameDelta,e.timeBuffer=o.clamp(e.timeBuffer,0,e.frameDelta+h*r._timeBufferMargin),e.lastUpdatesDeferred=0;var f=e.maxUpdates||Math.ceil(e.maxFrameTime/h),p={timestamp:t.timing.timestamp};s.trigger(e,"beforeTick",p),s.trigger(e,"tick",p);for(var m=o.now();h>0&&e.timeBuffer>=h*r._timeBufferMargin;){s.trigger(e,"beforeUpdate",p),a.update(t,h),s.trigger(e,"afterUpdate",p),e.timeBuffer-=h,u+=1;var g=o.now()-l,v=o.now()-m,y=g+r._elapsedNextEstimate*v/u;if(u>=f||y>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/h-r._timeBufferMargin));break}}t.timing.lastUpdatesPerFrame=u,s.trigger(e,"afterTick",p),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/h)>f?o.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&o.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==e.isFixed&&o.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&o.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==e.fps&&o.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},r.stop=function(e){r._cancelNextFrame(e)},r._onNextFrame=function(e,t){if("undefined"!=typeof window&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(t);else throw Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},r._cancelNextFrame=function(e){if("undefined"!=typeof window&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw Error("Matter.Runner: missing required global window.cancelAnimationFrame.")},n=function(e){for(var t=0,i=e.length,n=0;n<i;n+=1)t+=e[n];return t/i||0}},53614:(e,t,i)=>{var n={};e.exports=n;var r=i(22562),s=i(35810),a=i(53402);n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(e,t){for(var i=t/a._baseDelta,s=n._motionSleepThreshold,o=0;o<e.length;o++){var l=e[o],h=r.getSpeed(l),u=r.getAngularSpeed(l),c=h*h+u*u;if(0!==l.force.x||0!==l.force.y){n.set(l,!1);continue}var d=Math.min(l.motion,c),f=Math.max(l.motion,c);l.motion=n._minBias*d+(1-n._minBias)*f,l.sleepThreshold>0&&l.motion<s?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/i&&n.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},n.afterCollisions=function(e){for(var t=n._motionSleepThreshold,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var s=r.collision,a=s.bodyA.parent,o=s.bodyB.parent;if((!a.isSleeping||!o.isSleeping)&&!a.isStatic&&!o.isStatic&&(a.isSleeping||o.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:o,h=l===a?o:a;!l.isStatic&&h.motion>t&&n.set(l,!1)}}}},n.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||s.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&s.trigger(e,"sleepEnd"))}},66280:(e,t,i)=>{var n={};e.exports=n;var r=i(41598),s=i(53402),a=i(22562),o=i(15647),l=i(31725);n.rectangle=function(e,t,i,n,o){o=o||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:r.fromPath("L 0 0 L "+i+" 0 L "+i+" "+n+" L 0 "+n)};if(o.chamfer){var h=o.chamfer;l.vertices=r.chamfer(l.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete o.chamfer}return a.create(s.extend({},l,o))},n.trapezoid=function(e,t,i,n,o,l){l=l||{},o>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1.");var h,u=(1-2*(o*=.5))*i,c=i*o,d=c+u,f=d+c;h=o<.5?"L 0 0 L "+c+" "+-n+" L "+d+" "+-n+" L "+f+" 0":"L 0 0 L "+d+" "+-n+" L "+f+" 0";var p={label:"Trapezoid Body",position:{x:e,y:t},vertices:r.fromPath(h)};if(l.chamfer){var m=l.chamfer;p.vertices=r.chamfer(p.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete l.chamfer}return a.create(s.extend({},p,l))},n.circle=function(e,t,i,r,a){r=r||{};var o=Math.ceil(Math.max(10,Math.min(a=a||25,i)));return o%2==1&&(o+=1),n.polygon(e,t,o,i,s.extend({},{label:"Circle Body",circleRadius:i},r))},n.polygon=function(e,t,i,o,l){if(l=l||{},i<3)return n.circle(e,t,o,l);for(var h=2*Math.PI/i,u="",c=.5*h,d=0;d<i;d+=1){var f=c+d*h,p=Math.cos(f)*o,m=Math.sin(f)*o;u+="L "+p.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:r.fromPath(u)};if(l.chamfer){var v=l.chamfer;g.vertices=r.chamfer(g.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return a.create(s.extend({},g,l))},n.fromVertices=function(e,t,i,n,h,u,c,d){var f,p,m,g,v,y,b,x,E,w,S=s.getDecomp();for(f=!!(S&&S.quickDecomp),n=n||{},m=[],h=void 0!==h&&h,u=void 0!==u?u:.01,c=void 0!==c?c:10,d=void 0!==d?d:.01,s.isArray(i[0])||(i=[i]),E=0;E<i.length;E+=1)if(v=i[E],(g=r.isConvex(v))||f||s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!f)v=g?r.clockwiseSort(v):r.hull(v),m.push({position:{x:e,y:t},vertices:v});else{var T=v.map(function(e){return[e.x,e.y]});S.makeCCW(T),!1!==u&&S.removeCollinearPoints(T,u),!1!==d&&S.removeDuplicatePoints&&S.removeDuplicatePoints(T,d);var A=S.quickDecomp(T);for(y=0;y<A.length;y++){var _=A[y].map(function(e){return{x:e[0],y:e[1]}});c>0&&r.area(_)<c||m.push({position:r.centre(_),vertices:_})}}for(y=0;y<m.length;y++)m[y]=a.create(s.extend(m[y],n));if(h)for(y=0;y<m.length;y++){var C=m[y];for(b=y+1;b<m.length;b++){var I=m[b];if(o.overlaps(C.bounds,I.bounds)){var P=C.vertices,R=I.vertices;for(x=0;x<C.vertices.length;x++)for(w=0;w<I.vertices.length;w++){var O=l.magnitudeSquared(l.sub(P[(x+1)%P.length],R[w])),M=l.magnitudeSquared(l.sub(P[x],R[(w+1)%R.length]));O<5&&M<5&&(P[x].isInternal=!0,R[w].isInternal=!0)}}}}return m.length>1?(p=a.create(s.extend({parts:m.slice(0)},n)),a.setPosition(p,{x:e,y:t}),p):m[0]},n.flagCoincidentParts=function(e,t){void 0===t&&(t=5);for(var i=0;i<e.length;i++)for(var n=e[i],r=i+1;r<e.length;r++){var s=e[r];if(o.overlaps(n.bounds,s.bounds))for(var a=n.vertices,h=s.vertices,u=0;u<n.vertices.length;u++)for(var c=0;c<s.vertices.length;c++){var d=l.magnitudeSquared(l.sub(a[(u+1)%a.length],h[c])),f=l.magnitudeSquared(l.sub(a[u],h[(c+1)%h.length]));d<t&&f<t&&(a[u].isInternal=!0,h[c].isInternal=!0)}}return e}},74116:(e,t,i)=>{var n={};e.exports=n;var r=i(69351),s=i(48140),a=i(53402),o=i(22562),l=i(66280);n.stack=function(e,t,i,n,s,a,l){for(var h,u=r.create({label:"Stack"}),c=e,d=t,f=0,p=0;p<n;p++){for(var m=0,g=0;g<i;g++){var v=l(c,d,g,p,h,f);if(v){var y=v.bounds.max.y-v.bounds.min.y,b=v.bounds.max.x-v.bounds.min.x;y>m&&(m=y),o.translate(v,{x:.5*b,y:.5*y}),c=v.bounds.max.x+s,r.addBody(u,v),h=v,f+=1}else c+=s}d+=m+a,c=e}return u},n.chain=function(e,t,i,n,o,l){for(var h=e.bodies,u=1;u<h.length;u++){var c=h[u-1],d=h[u],f=c.bounds.max.y-c.bounds.min.y,p=c.bounds.max.x-c.bounds.min.x,m=d.bounds.max.y-d.bounds.min.y,g=d.bounds.max.x-d.bounds.min.x,v={bodyA:c,pointA:{x:p*t,y:f*i},bodyB:d,pointB:{x:g*n,y:m*o}},y=a.extend(v,l);r.addConstraint(e,s.create(y))}return e.label+=" Chain",e},n.mesh=function(e,t,i,n,o){var l,h,u,c,d,f=e.bodies;for(l=0;l<i;l++){for(h=1;h<t;h++)u=f[h-1+l*t],c=f[h+l*t],r.addConstraint(e,s.create(a.extend({bodyA:u,bodyB:c},o)));if(l>0)for(h=0;h<t;h++)u=f[h+(l-1)*t],c=f[h+l*t],r.addConstraint(e,s.create(a.extend({bodyA:u,bodyB:c},o))),n&&h>0&&(d=f[h-1+(l-1)*t],r.addConstraint(e,s.create(a.extend({bodyA:d,bodyB:c},o)))),n&&h<t-1&&(d=f[h+1+(l-1)*t],r.addConstraint(e,s.create(a.extend({bodyA:d,bodyB:c},o))))}return e.label+=" Mesh",e},n.pyramid=function(e,t,i,r,s,a,l){return n.stack(e,t,i,r,s,a,function(t,n,a,h,u,c){var d=Math.min(r,Math.ceil(i/2)),f=u?u.bounds.max.x-u.bounds.min.x:0;if(!(h>d)){var p=h=d-h,m=i-1-h;if(!(a<p)&&!(a>m))return 1===c&&o.translate(u,{x:(a+(i%2==1?1:-1))*f,y:0}),l(e+(u?a*f:0)+a*s,n,a,h,u,c)}})},n.newtonsCradle=function(e,t,i,n,a){for(var o=r.create({label:"Newtons Cradle"}),h=0;h<i;h++){var u=l.circle(e+1.9*n*h,t+a,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),c=s.create({pointA:{x:e+1.9*n*h,y:t},bodyB:u});r.addBody(o,u),r.addConstraint(o,c)}return o},n.car=function(e,t,i,n,a){var h=o.nextGroup(!0),u=-(.5*i)+20,c=.5*i-20,d=r.create({label:"Car"}),f=l.rectangle(e,t,i,n,{collisionFilter:{group:h},chamfer:{radius:.5*n},density:2e-4}),p=l.circle(e+u,t+0,a,{collisionFilter:{group:h},friction:.8}),m=l.circle(e+c,t+0,a,{collisionFilter:{group:h},friction:.8}),g=s.create({bodyB:f,pointB:{x:u,y:0},bodyA:p,stiffness:1,length:0}),v=s.create({bodyB:f,pointB:{x:c,y:0},bodyA:m,stiffness:1,length:0});return r.addBody(d,f),r.addBody(d,p),r.addBody(d,m),r.addConstraint(d,g),r.addConstraint(d,v),d},n.softBody=function(e,t,i,r,s,o,h,u,c,d){c=a.extend({inertia:1/0},c),d=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var f=n.stack(e,t,i,r,s,o,function(e,t){return l.circle(e,t,u,c)});return n.mesh(f,i,r,h,d),f.label="Soft Body",f}},66615:(e,t,i)=>{var n={};e.exports=n;var r=i(31725),s=i(53402);n.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var n=(i+1)%e.length,a=r.normalise({x:e[n].y-e[i].y,y:e[i].x-e[n].x}),o=0===a.y?1/0:a.x/a.y;t[o=o.toFixed(3).toString()]=a}return s.values(t)},n.rotate=function(e,t){if(0!==t)for(var i=Math.cos(t),n=Math.sin(t),r=0;r<e.length;r++){var s,a=e[r];s=a.x*i-a.y*n,a.y=a.x*n+a.y*i,a.x=s}}},15647:e=>{var t={};e.exports=t,t.create=function(e){var i={min:{x:0,y:0},max:{x:0,y:0}};return e&&t.update(i,e),i},t.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<t.length;n++){var r=t[n];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},t.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},t.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},t.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},t.shift=function(e,t){var i=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+n},t.wrap=function(e,t,i){var n=null,r=null;if(void 0!==t.min.x&&void 0!==t.max.x&&(e.min.x>t.max.x?n=t.min.x-e.max.x:e.max.x<t.min.x&&(n=t.max.x-e.min.x)),void 0!==t.min.y&&void 0!==t.max.y&&(e.min.y>t.max.y?r=t.min.y-e.max.y:e.max.y<t.min.y&&(r=t.max.y-e.min.y)),null!==n||null!==r)return{x:n||0,y:r||0}}},74058:(e,t,i)=>{var n={};e.exports=n,i(15647);var r=i(53402);n.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||r.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,a,o,l,h,u,c,d,f,p,m=[],g=0,v=0,y=0;t=t||15;var b=function(e,t,i){var n=i%2==1&&i>1;if(!d||e!=d.x||t!=d.y){d&&n?(f=d.x,p=d.y):(f=0,p=0);var r={x:f+e,y:p+t};(n||!d)&&(d=r),m.push(r),v=f+e,y=p+t}},x=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":v=e.x,y=e.y;break;case"H":v=e.x;break;case"V":y=e.y}b(v,y,e.pathSegType)}};for(n._svgPathToAbsolute(e),a=e.getTotalLength(),h=[],i=0;i<e.pathSegList.numberOfItems;i+=1)h.push(e.pathSegList.getItem(i));for(u=h.concat();g<a;){if((l=h[e.getPathSegAtLength(g)])!=c){for(;u.length&&u[0]!=l;)x(u.shift());c=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":b((o=e.getPointAtLength(g)).x,o.y,0)}g+=t}for(i=0,s=u.length;i<s;++i)x(u[i]);return m},n._svgPathToAbsolute=function(e){for(var t,i,n,r,s,a,o=e.pathSegList,l=0,h=0,u=o.numberOfItems,c=0;c<u;++c){var d=o.getItem(c),f=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in d&&(l=d.x),"y"in d&&(h=d.y);else switch("x1"in d&&(n=l+d.x1),"x2"in d&&(s=l+d.x2),"y1"in d&&(r=h+d.y1),"y2"in d&&(a=h+d.y2),"x"in d&&(l+=d.x),"y"in d&&(h+=d.y),f){case"m":o.replaceItem(e.createSVGPathSegMovetoAbs(l,h),c);break;case"l":o.replaceItem(e.createSVGPathSegLinetoAbs(l,h),c);break;case"h":o.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),c);break;case"v":o.replaceItem(e.createSVGPathSegLinetoVerticalAbs(h),c);break;case"c":o.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,h,n,r,s,a),c);break;case"s":o.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,h,s,a),c);break;case"q":o.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,h,n,r),c);break;case"t":o.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,h),c);break;case"a":o.replaceItem(e.createSVGPathSegArcAbs(l,h,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),c);break;case"z":case"Z":l=t,h=i}("M"==f||"m"==f)&&(t=l,i=h)}}},31725:e=>{var t={};e.exports=t,t.create=function(e,t){return{x:e||0,y:t||0}},t.clone=function(e){return{x:e.x,y:e.y}},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},t.rotate=function(e,t,i){var n=Math.cos(t),r=Math.sin(t);i||(i={});var s=e.x*n-e.y*r;return i.y=e.x*r+e.y*n,i.x=s,i},t.rotateAbout=function(e,t,i,n){var r=Math.cos(t),s=Math.sin(t);n||(n={});var a=i.x+((e.x-i.x)*r-(e.y-i.y)*s);return n.y=i.y+((e.x-i.x)*s+(e.y-i.y)*r),n.x=a,n},t.normalise=function(e){var i=t.magnitude(e);return 0===i?{x:0,y:0}:{x:e.x/i,y:e.y/i}},t.dot=function(e,t){return e.x*t.x+e.y*t.y},t.cross=function(e,t){return e.x*t.y-e.y*t.x},t.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},t.add=function(e,t,i){return i||(i={}),i.x=e.x+t.x,i.y=e.y+t.y,i},t.sub=function(e,t,i){return i||(i={}),i.x=e.x-t.x,i.y=e.y-t.y,i},t.mult=function(e,t){return{x:e.x*t,y:e.y*t}},t.div=function(e,t){return{x:e.x/t,y:e.y/t}},t.perp=function(e,t){return{x:-((t=!0===t?-1:1)*e.y),y:t*e.x}},t.neg=function(e){return{x:-e.x,y:-e.y}},t.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]},41598:(e,t,i)=>{var n={};e.exports=n;var r=i(31725),s=i(53402);n.create=function(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n],s={x:r.x,y:r.y,index:n,body:t,isInternal:!1};i.push(s)}return i},n.fromPath=function(e,t){var i=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,function(e,t,n){i.push({x:parseFloat(t),y:parseFloat(n)})}),n.create(i,t)},n.centre=function(e){for(var t,i,s,a=n.area(e,!0),o={x:0,y:0},l=0;l<e.length;l++)s=(l+1)%e.length,t=r.cross(e[l],e[s]),i=r.mult(r.add(e[l],e[s]),t),o=r.add(o,i);return r.div(o,6*a)},n.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return r.div(t,e.length)},n.area=function(e,t){for(var i=0,n=e.length-1,r=0;r<e.length;r++)i+=(e[n].x-e[r].x)*(e[n].y+e[r].y),n=r;return t?i/2:Math.abs(i)/2},n.inertia=function(e,t){for(var i,n,s=0,a=0,o=0;o<e.length;o++)n=(o+1)%e.length,s+=(i=Math.abs(r.cross(e[n],e[o])))*(r.dot(e[n],e[n])+r.dot(e[n],e[o])+r.dot(e[o],e[o])),a+=i;return t/6*(s/a)},n.translate=function(e,t,i){i=void 0!==i?i:1;var n,r=e.length,s=t.x*i,a=t.y*i;for(n=0;n<r;n++)e[n].x+=s,e[n].y+=a;return e},n.rotate=function(e,t,i){if(0!==t){var n,r,s,a,o=Math.cos(t),l=Math.sin(t),h=i.x,u=i.y,c=e.length;for(a=0;a<c;a++)r=(n=e[a]).x-h,s=n.y-u,n.x=h+(r*o-s*l),n.y=u+(r*l+s*o);return e}},n.contains=function(e,t){for(var i,n=t.x,r=t.y,s=e.length,a=e[s-1],o=0;o<s;o++){if(i=e[o],(n-a.x)*(i.y-a.y)+(r-a.y)*(a.x-i.x)>0)return!1;a=i}return!0},n.scale=function(e,t,i,s){if(1===t&&1===i)return e;s=s||n.centre(e);for(var a,o,l=0;l<e.length;l++)a=e[l],o=r.sub(a,s),e[l].x=s.x+o.x*t,e[l].y=s.y+o.y*i;return e},n.chamfer=function(e,t,i,n,a){t="number"==typeof t?[t]:t||[8],i=void 0!==i?i:-1,n=n||2,a=a||14;for(var o=[],l=0;l<e.length;l++){var h=e[l-1>=0?l-1:e.length-1],u=e[l],c=e[(l+1)%e.length],d=t[l<t.length?l:t.length-1];if(0===d){o.push(u);continue}var f=r.normalise({x:u.y-h.y,y:h.x-u.x}),p=r.normalise({x:c.y-u.y,y:u.x-c.x}),m=Math.sqrt(2*Math.pow(d,2)),g=r.mult(s.clone(f),d),v=r.normalise(r.mult(r.add(f,p),.5)),y=r.sub(u,r.mult(v,m)),b=i;-1===i&&(b=1.75*Math.pow(d,.32)),(b=s.clamp(b,n,a))%2==1&&(b+=1);for(var x=Math.acos(r.dot(f,p))/b,E=0;E<b;E++)o.push(r.add(r.rotate(g,x*E),y))}return o},n.clockwiseSort=function(e){var t=n.mean(e);return e.sort(function(e,i){return r.angle(t,e)-r.angle(t,i)}),e},n.isConvex=function(e){var t,i,n,r,s=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(i=(t+1)%a,n=(t+2)%a,(r=(e[i].x-e[t].x)*(e[n].y-e[i].y)-(e[i].y-e[t].y)*(e[n].x-e[i].x))<0?s|=1:r>0&&(s|=2),3===s)return!1;return 0!==s||null},n.hull=function(e){var t,i,n=[],s=[];for((e=e.slice(0)).sort(function(e,t){var i=e.x-t.x;return 0!==i?i:e.y-t.y}),i=0;i<e.length;i+=1){for(t=e[i];s.length>=2&&0>=r.cross3(s[s.length-2],s[s.length-1],t);)s.pop();s.push(t)}for(i=e.length-1;i>=0;i-=1){for(t=e[i];n.length>=2&&0>=r.cross3(n[n.length-2],n[n.length-1],t);)n.pop();n.push(t)}return n.pop(),s.pop(),n.concat(s)}},55973:e=>{function t(e,t,i,n){var r=t[0]-e[0],s=t[1]-e[1],a=n[0]-i[0],o=n[1]-i[1];if(a*s-o*r==0)return!1;var l=(r*(i[1]-e[1])+s*(e[0]-i[0]))/(a*s-o*r),h=(a*(e[1]-i[1])+o*(i[0]-e[0]))/(o*r-a*s);return l>=0&&l<=1&&h>=0&&h<=1}function i(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}function n(e,t,n){return 0>=i(e,t,n)}/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={decomp:function(e){var t=function e(t){for(var r=[],s=[],l=[],f=[],m=Number.MAX_VALUE,g=0;g<t.length;++g)if(h(t,g)){for(var v=0;v<t.length;++v)if(function(e,t,r){if(i(o(e,t+1),o(e,t),o(e,r))>=0&&n(o(e,t-1),o(e,t),o(e,r)))return!1;l=a(o(e,t),o(e,r));for(var s,l,h=0;h!==e.length;++h)if((h+1)%e.length!==t&&h!==t&&i(o(e,t),o(e,r),o(e,h+1))>=0&&n(o(e,t),o(e,r),o(e,h))&&(u[0]=o(e,t),u[1]=o(e,r),c[0]=o(e,h),c[1]=o(e,h+1),s=function(e,t,i){i=i||0;var n,r,s,a,o,l,h,u=[0,0];return n=e[1][1]-e[0][1],r=e[0][0]-e[1][0],s=n*e[0][0]+r*e[0][1],a=t[1][1]-t[0][1],o=t[0][0]-t[1][0],l=a*t[0][0]+o*t[0][1],p(h=n*o-a*r,0,i)||(u[0]=(o*s-r*l)/h,u[1]=(n*l-a*s)/h),u}(u,c),a(o(e,t),s)<l))return!1;return!0}(t,g,v)){s=e(d(t,g,v,f)),l=e(d(t,v,g,f));for(var y=0;y<l.length;y++)s.push(l[y]);s.length<m&&(r=s,m=s.length,r.push([o(t,g),o(t,v)]))}}return r}(e);return t.length>0?function e(t,i){if(0===i.length)return[t];if(i instanceof Array&&i.length&&i[0]instanceof Array&&2===i[0].length&&i[0][0]instanceof Array){for(var n=[t],r=0;r<i.length;r++)for(var s=i[r],a=0;a<n.length;a++){var o=e(n[a],s);if(o){n.splice(a,1),n.push(o[0],o[1]);break}}return n}var s=i,r=t.indexOf(s[0]),a=t.indexOf(s[1]);return -1!==r&&-1!==a&&[d(t,r,a),d(t,a,r)]}(e,t):[e]},quickDecomp:function e(r,s,u,c,d,p,m){p=p||100,m=m||0,d=d||25,s=void 0!==s?s:[],u=u||[],c=c||[];var g=[0,0],v=[0,0],y=[0,0],b=0,x=0,E=0,w=0,S=0,T=0,A=0,_=[],C=[];if(r.length<3)return s;if(++m>p)return console.warn("quickDecomp: max level ("+p+") reached."),s;for(var I=0;I<r.length;++I)if(h(r,I)){u.push(r[I]),b=x=Number.MAX_VALUE;for(var P=0;P<r.length;++P)i(o(r,I-1),o(r,I),o(r,P))>0&&n(o(r,I-1),o(r,I),o(r,P-1))&&(y=f(o(r,I-1),o(r,I),o(r,P),o(r,P-1)),0>i(o(r,I+1),o(r,I),y)&&(E=a(r[I],y))<x&&(x=E,v=y,T=P)),i(o(r,I+1),o(r,I),o(r,P+1))>0&&n(o(r,I+1),o(r,I),o(r,P))&&(y=f(o(r,I+1),o(r,I),o(r,P),o(r,P+1)),i(o(r,I-1),o(r,I),y)>0&&(E=a(r[I],y))<b&&(b=E,g=y,S=P));if(T===(S+1)%r.length)y[0]=(v[0]+g[0])/2,y[1]=(v[1]+g[1])/2,c.push(y),I<S?(l(_,r,I,S+1),_.push(y),C.push(y),0!==T&&l(C,r,T,r.length),l(C,r,0,I+1)):(0!==I&&l(_,r,I,r.length),l(_,r,0,S+1),_.push(y),C.push(y),l(C,r,T,I+1));else{if(T>S&&(S+=r.length),w=Number.MAX_VALUE,S<T)return s;for(var P=T;P<=S;++P)i(o(r,I-1),o(r,I),o(r,P))>=0&&n(o(r,I+1),o(r,I),o(r,P))&&(E=a(o(r,I),o(r,P)))<w&&function(e,i,n){for(var r=0;r!==e.length;++r)if(r!==i&&r!==n&&(r+1)%e.length!==i&&(r+1)%e.length!==n&&t(o(e,i),o(e,n),o(e,r),o(e,r+1)))return!1;return!0}(r,I,P)&&(w=E,A=P%r.length);I<A?(l(_,r,I,A+1),0!==A&&l(C,r,A,r.length),l(C,r,0,I+1)):(0!==I&&l(_,r,I,r.length),l(_,r,0,A+1),l(C,r,A,I+1))}return _.length<C.length?(e(_,s,u,c,d,p,m),e(C,s,u,c,d,p,m)):(e(C,s,u,c,d,p,m),e(_,s,u,c,d,p,m)),s}return s.push(r),s},isSimple:function(e){var i;for(i=0;i<e.length-1;i++)for(var n=0;n<i-1;n++)if(t(e[i],e[i+1],e[n],e[n+1]))return!1;for(i=1;i<e.length-2;i++)if(t(e[0],e[e.length-1],e[i],e[i+1]))return!1;return!0},removeCollinearPoints:function(e,t){for(var n,a,l,h=0,u=e.length-1;e.length>3&&u>=0;--u)n=o(e,u-1),a=o(e,u),l=o(e,u+1),(t?(r[0]=a[0]-n[0],r[1]=a[1]-n[1],s[0]=l[0]-a[0],s[1]=l[1]-a[1],Math.acos((r[0]*s[0]+r[1]*s[1])/(Math.sqrt(r[0]*r[0]+r[1]*r[1])*Math.sqrt(s[0]*s[0]+s[1]*s[1])))<t):0===i(n,a,l))&&(e.splice(u%e.length,1),h++);return h},removeDuplicatePoints:function(e,t){for(var i,n=e.length-1;n>=1;--n)for(var r=e[n],s=n-1;s>=0;--s)if(i=e[s],p(r[0],i[0],t)&&p(r[1],i[1],t)){e.splice(n,1);continue}},makeCCW:function(e){for(var t=0,n=1;n<e.length;++n)(e[n][1]<e[t][1]||e[n][1]===e[t][1]&&e[n][0]>e[t][0])&&(t=n);return!(i(o(e,t-1),o(e,t),o(e,t+1))>0)&&(function(e){for(var t=[],i=e.length,n=0;n!==i;n++)t.push(e.pop());for(var n=0;n!==i;n++)e[n]=t[n]}(e),!0)}};var r=[],s=[];function a(e,t){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function o(e,t){var i=e.length;return e[t<0?t%i+i:t%i]}function l(e,t,i,n){for(var r=i;r<n;r++)e.push(t[r])}function h(e,t){return 0>i(o(e,t-1),o(e,t),o(e,t+1))}var u=[],c=[];function d(e,t,i,n){var r=n||[];if(r.length=0,t<i)for(var s=t;s<=i;s++)r.push(e[s]);else{for(var s=0;s<=i;s++)r.push(e[s]);for(var s=t;s<e.length;s++)r.push(e[s])}return r}function f(e,t,i,n,r){r=r||0;var s=t[1]-e[1],a=e[0]-t[0],o=s*e[0]+a*e[1],l=n[1]-i[1],h=i[0]-n[0],u=l*i[0]+h*i[1],c=s*h-l*a;return p(c,0,r)?[0,0]:[(h*o-a*u)/c,(s*u-l*o)/c]}function p(e,t,i){return Math.abs(e-t)<=(i=i||0)}},52018:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){this.pluginManager=e,this.game=e.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=n},42363:e=>{e.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},i={},n={};n.register=function(e,i,n,r){void 0===r&&(r=!1),t[e]={plugin:i,mapping:n,custom:r}},n.registerCustom=function(e,t,n,r){i[e]={plugin:t,mapping:n,data:r}},n.hasCore=function(e){return t.hasOwnProperty(e)},n.hasCustom=function(e){return i.hasOwnProperty(e)},n.getCore=function(e){return t[e]},n.getCustom=function(e){return i[e]},n.getCustomClass=function(e){return i.hasOwnProperty(e)?i[e].plugin:null},n.remove=function(e){t.hasOwnProperty(e)&&delete t[e]},n.removeCustom=function(e){i.hasOwnProperty(e)&&delete i[e]},n.destroyCorePlugins=function(){for(var e in t)t.hasOwnProperty(e)&&delete t[e]},n.destroyCustomPlugins=function(){for(var e in i)i.hasOwnProperty(e)&&delete i[e]},e.exports=n},77332:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(8443),s=i(50792),a=i(74099),o=i(44603),l=i(39429),h=i(95540),u=i(37277),c=i(72905),d=new n({Extends:s,initialize:function(e){s.call(this),this.game=e,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],e.isBooted?this.boot():e.events.once(r.BOOT,this.boot,this)},boot:function(){var e,t,i,n,s,a,o,l=this.game.config,u=l.installGlobalPlugins;for(e=0,u=u.concat(this._pendingGlobal);e<u.length;e++)i=h(t=u[e],"key",null),n=h(t,"plugin",null),s=h(t,"start",!1),a=h(t,"mapping",null),o=h(t,"data",null),i&&(n?this.install(i,n,s,a,o):console.warn("Missing `plugin` for key: "+i));for(e=0,u=(u=l.installScenePlugins).concat(this._pendingScene);e<u.length;e++)i=h(t=u[e],"key",null),n=h(t,"plugin",null),a=h(t,"mapping",null),i&&(n?this.installScenePlugin(i,n,a):console.warn("Missing `plugin` for key: "+i));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(r.DESTROY,this.destroy,this)},addToScene:function(e,t,i){var n,r,s,a=this.game,o=e.scene,l=e.settings.map,h=e.settings.isBooted;for(n=0;n<t.length;n++)a[r=t[n]]?(e[r]=a[r],l.hasOwnProperty(r)&&(o[l[r]]=e[r])):"game"===r&&l.hasOwnProperty(r)&&(o[l[r]]=a);for(var c=0;c<i.length;c++)for(n=0,s=i[c];n<s.length;n++)if(r=s[n],u.hasCore(r)){var d=u.getCore(r),f=d.mapping,p=new d.plugin(o,this,f);e[f]=p,d.custom?o[f]=p:l.hasOwnProperty(f)&&(o[l[f]]=p),h&&p.boot()}for(n=0,s=this.plugins;n<s.length;n++){var m=s[n];m.mapping&&(o[m.mapping]=m.plugin)}},getDefaultScenePlugins:function(){return this.game.config.defaultPlugins.concat(this.scenePlugins)},installScenePlugin:function(e,t,i,n,r){if(void 0===r&&(r=!1),"function"!=typeof t){console.warn("Invalid Scene Plugin: "+e);return}if(u.hasCore(e)||u.register(e,t,i,!0),-1===this.scenePlugins.indexOf(e))this.scenePlugins.push(e);else if(!r&&u.hasCore(e)){console.warn("Scene Plugin key in use: "+e);return}if(n){var s=new t(n,this,e);n.sys[e]=s,i&&""!==i&&(n[i]=s),s.boot()}},install:function(e,t,i,n,r){if(void 0===i&&(i=!1),void 0===n&&(n=null),void 0===r&&(r=null),"function"!=typeof t)return console.warn("Invalid Plugin: "+e),null;if(u.hasCustom(e))return console.warn("Plugin key in use: "+e),null;if(null!==n&&(i=!0),this.game.isBooted){if(u.registerCustom(e,t,n,r),i)return this.start(e)}else this._pendingGlobal.push({key:e,plugin:t,start:i,mapping:n,data:r});return null},getIndex:function(e){for(var t=this.plugins,i=0;i<t.length;i++)if(t[i].key===e)return i;return -1},getEntry:function(e){var t=this.getIndex(e);if(-1!==t)return this.plugins[t]},isActive:function(e){var t=this.getEntry(e);return t&&t.active},start:function(e,t){void 0===t&&(t=e);var i=this.getEntry(t);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(e,t)),i?i.plugin:null},createEntry:function(e,t){var i=u.getCustom(e);if(i){var n=new i.plugin(this);i={key:t,plugin:n,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),n.init(i.data),n.start()}return i},stop:function(e){var t=this.getEntry(e);return t&&t.active&&(t.active=!1,t.plugin.stop()),this},get:function(e,t){void 0===t&&(t=!0);var i=this.getEntry(e);if(i)return i.plugin;var n=this.getClass(e);return n&&t?(i=this.createEntry(e,e))?i.plugin:null:n||null},getClass:function(e){return u.getCustomClass(e)},removeGlobalPlugin:function(e){var t=this.getEntry(e);t&&c(this.plugins,t),u.removeCustom(e)},removeScenePlugin:function(e){c(this.scenePlugins,e),u.remove(e)},registerGameObject:function(e,t,i){return t&&l.register(e,t),i&&o.register(e,i),this},removeGameObject:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),t&&l.remove(e),i&&o.remove(e),this},registerFileType:function(e,t,i){a.register(e,t),i&&i.sys.load&&(i.sys.load[e]=t)},destroy:function(){for(var e=0;e<this.plugins.length;e++)this.plugins[e].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});e.exports=d},45145:(e,t,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var n=i(52018),r=i(83419),s=i(44594),a=new r({Extends:n,initialize:function(e,t,i){n.call(this,t),this.scene=e,this.systems=e.sys,this.pluginKey=i,e.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=a},18922:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{"undefined"!=typeof HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(e){let t=performance.now(),i=this.getVideoPlaybackQuality(),n=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,r=(s,a)=>{let o=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||o.totalVideoFrames-o.droppedVideoFrames;if(l>n){let n=this.mozFrameDelay||o.totalFrameDelay-i.totalFrameDelay||0,r=a-s;e(a,{presentationTime:a+1e3*n,expectedDisplayTime:a+r,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+r/1e3,presentedFrames:l,processingDuration:n}),delete this._rvfcpolyfillmap[t]}else this._rvfcpolyfillmap[t]=requestAnimationFrame(e=>r(a,e))};return this._rvfcpolyfillmap[t]=requestAnimationFrame(e=>r(t,e)),t},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(e){cancelAnimationFrame(this._rvfcpolyfillmap[e]),delete this._rvfcpolyfillmap[e]})},10312:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:e=>{e.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19715),r=i(32880),s=i(83419),a=i(8054),o=i(50792),l=i(92503),h=i(56373),u=i(97480),c=i(69442),d=i(61340),f=new s({Extends:o,initialize:function(e){o.call(this);var t=e.config;this.config={clearBeforeRender:t.clearBeforeRender,backgroundColor:t.backgroundColor,antialias:t.antialias,roundPixels:t.roundPixels},this.game=e,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=e.canvas;var i={alpha:e.config.transparent,desynchronized:e.config.desynchronized,willReadFrequently:!1};this.gameContext=t.context?t.context:this.gameCanvas.getContext("2d",i),this.currentContext=this.gameContext,this.antialias=e.config.antialias,this.blendModes=h(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(c.READY,this.boot,this)},boot:function(){var e=this.game,t=e.scale.baseSize;this.width=t.width,this.height=t.height,this.isBooted=!0,e.scale.on(u.RESIZE,this.onResize,this),this.resize(t.width,t.height)},onResize:function(e,t){(t.width!==this.width||t.height!==this.height)&&this.resize(t.width,t.height)},resize:function(e,t){this.width=e,this.height=t,this.emit(l.RESIZE,e,t)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(e){return this.currentContext.globalCompositeOperation=e,this},setContext:function(e){return this.currentContext=e||this.gameContext,this},setAlpha:function(e){return this.currentContext.globalAlpha=e,this},preRender:function(){var e=this.gameContext,t=this.config,i=this.width,n=this.height;e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),this.emit(l.PRE_RENDER_CLEAR),t.clearBeforeRender&&(e.clearRect(0,0,i,n),t.transparent||(e.fillStyle=t.backgroundColor.rgba,e.fillRect(0,0,i,n))),e.save(),this.drawCount=0,this.emit(l.PRE_RENDER)},render:function(e,t,i){var r=t.length;this.emit(l.RENDER,e,i);var s=i.x,a=i.y,o=i.width,h=i.height,u=i.renderToTexture?i.context:e.sys.context;u.save(),this.game.scene.customViewports&&(u.beginPath(),u.rect(s,a,o,h),u.clip()),i.emit(n.PRE_RENDER,i),this.currentContext=u;var c=i.mask;c&&c.preRenderCanvas(this,null,i._maskCamera),i.transparent||(u.fillStyle=i.backgroundColor.rgba,u.fillRect(s,a,o,h)),u.globalAlpha=i.alpha,u.globalCompositeOperation="source-over",this.drawCount+=r,i.renderToTexture&&i.emit(n.PRE_RENDER,i),i.matrix.copyToContext(u);for(var d=0;d<r;d++){var f=t[d];f.mask&&f.mask.preRenderCanvas(this,f,i),f.renderCanvas(this,f,i),f.mask&&f.mask.postRenderCanvas(this,f,i)}u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.globalAlpha=1,i.flashEffect.postRenderCanvas(u),i.fadeEffect.postRenderCanvas(u),i.dirty=!1,c&&c.postRenderCanvas(this),u.restore(),i.renderToTexture&&(i.emit(n.POST_RENDER,i),i.renderToGame&&e.sys.context.drawImage(i.canvas,s,a)),i.emit(n.POST_RENDER,i)},postRender:function(){this.gameContext.restore(),this.emit(l.POST_RENDER);var e=this.snapshotState;e.callback&&(r(this.gameCanvas,e),e.callback=null)},snapshotCanvas:function(e,t,i,n,s,a,o,l,h){void 0===i&&(i=!1),this.snapshotArea(n,s,a,o,t,l,h);var u=this.snapshotState;return u.getPixel=i,r(e,u),u.callback=null,this},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,e,t,i)},snapshotArea:function(e,t,i,n,r,s,a){var o=this.snapshotState;return o.callback=r,o.type=s,o.encoder=a,o.getPixel=!1,o.x=e,o.y=t,o.width=Math.min(i,this.gameCanvas.width),o.height=Math.min(n,this.gameCanvas.height),this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},batchSprite:function(e,t,i,n){var r=i.alpha*e.alpha;if(0!==r){var s=this.currentContext,a=this._tempMatrix1,o=this._tempMatrix2,l=t.canvasData,h=l.x,u=l.y,c=t.cutWidth,d=t.cutHeight,f=t.customPivot,p=t.source.resolution,m=e.displayOriginX,g=e.displayOriginY,v=-m+t.x,y=-g+t.y;if(e.isCropped){var b=e._crop;(b.flipX!==e.flipX||b.flipY!==e.flipY)&&t.updateCropUVs(b,e.flipX,e.flipY),c=b.cw,d=b.ch,h=b.cx,u=b.cy,v=-m+b.x,y=-g+b.y,e.flipX&&(v>=0?v=-(v+c):v<0&&(v=Math.abs(v)-c)),e.flipY&&(y>=0?y=-(y+d):y<0&&(y=Math.abs(y)-d))}var x=1,E=1;e.flipX&&(f||(v+=-t.realWidth+2*m),x=-1),e.flipY&&(f||(y+=-t.realHeight+2*g),E=-1);var w=e.x,S=e.y;if(i.roundPixels&&(w=Math.floor(w),S=Math.floor(S)),o.applyITRS(w,S,e.rotation,e.scaleX*x,e.scaleY*E),a.copyFrom(i.matrix),n?(a.multiplyWithOffset(n,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),o.e=w,o.f=S):(o.e-=i.scrollX*e.scrollFactorX,o.f-=i.scrollY*e.scrollFactorY),a.multiply(o),i.renderRoundPixels&&(a.e=Math.floor(a.e+.5),a.f=Math.floor(a.f+.5)),s.save(),a.setToContext(s),s.globalCompositeOperation=this.blendModes[e.blendMode],s.globalAlpha=r,s.imageSmoothingEnabled=!t.source.scaleMode,e.mask&&e.mask.preRenderCanvas(this,e,i),c>0&&d>0){var T=c/p,A=d/p;i.roundPixels&&(v=Math.floor(v+.5),y=Math.floor(y+.5),T+=.5,A+=.5),s.drawImage(t.source.image,h,u,c,d,v,y,T,A)}e.mask&&e.mask.postRenderCanvas(this,e,i),s.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});e.exports=f},55830:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(89289);e.exports=function(){var e=[],t=r.supportNewBlendModes,i="source-over";return e[n.NORMAL]=i,e[n.ADD]="lighter",e[n.MULTIPLY]=t?"multiply":i,e[n.SCREEN]=t?"screen":i,e[n.OVERLAY]=t?"overlay":i,e[n.DARKEN]=t?"darken":i,e[n.LIGHTEN]=t?"lighten":i,e[n.COLOR_DODGE]=t?"color-dodge":i,e[n.COLOR_BURN]=t?"color-burn":i,e[n.HARD_LIGHT]=t?"hard-light":i,e[n.SOFT_LIGHT]=t?"soft-light":i,e[n.DIFFERENCE]=t?"difference":i,e[n.EXCLUSION]=t?"exclusion":i,e[n.HUE]=t?"hue":i,e[n.SATURATION]=t?"saturation":i,e[n.COLOR]=t?"color":i,e[n.LUMINOSITY]=t?"luminosity":i,e[n.ERASE]="destination-out",e[n.SOURCE_IN]="source-in",e[n.SOURCE_OUT]="source-out",e[n.SOURCE_ATOP]="source-atop",e[n.DESTINATION_OVER]="destination-over",e[n.DESTINATION_IN]="destination-in",e[n.DESTINATION_OUT]="destination-out",e[n.DESTINATION_ATOP]="destination-atop",e[n.LIGHTER]="lighter",e[n.COPY]="copy",e[n.XOR]="xor",e}},20926:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r,s){var a=r.alpha*i.alpha;if(a<=0)return!1;var o=n(i,r,s).calc;return t.globalCompositeOperation=e.blendModes[i.blendMode],t.globalAlpha=a,t.save(),o.setToContext(t),t.imageSmoothingEnabled=i.frame?!i.frame.source.scaleMode:e.antialias,!0}},63899:e=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="losewebgl"},6119:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postrender"},48070:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prerender"},15640:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="render"},8912:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resize"},87124:e=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="restorewebgl"},92503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Events:i(92503),Snapshot:i(89966)},e.exports.Canvas=i(55830),e.exports.WebGL=i(4159)},32880:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(40987),s=i(95540);e.exports=function(e,t){var i=s(t,"callback"),a=s(t,"type","image/png"),o=s(t,"encoder",.92),l=Math.abs(Math.round(s(t,"x",0))),h=Math.abs(Math.round(s(t,"y",0))),u=Math.floor(s(t,"width",e.width)),c=Math.floor(s(t,"height",e.height));if(s(t,"getPixel",!1)){var d=e.getContext("2d",{willReadFrequently:!1}).getImageData(l,h,1,1).data;i.call(null,new r(d[0],d[1],d[2],d[3]))}else if(0!==l||0!==h||u!==e.width||c!==e.height){var f=n.createWebGL(this,u,c),p=f.getContext("2d",{willReadFrequently:!0});u>0&&c>0&&p.drawImage(e,l,h,u,c,0,0,u,c);var m=new Image;m.onerror=function(){i.call(null),n.remove(f)},m.onload=function(){i.call(null,m),n.remove(f)},m.src=f.toDataURL(a,o)}else{var g=new Image;g.onerror=function(){i.call(null)},g.onload=function(){i.call(null,g)},g.src=e.toDataURL(a,o)}}},88815:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(40987),s=i(95540);e.exports=function(e,t){var i=s(t,"callback"),a=s(t,"type","image/png"),o=s(t,"encoder",.92),l=Math.abs(Math.round(s(t,"x",0))),h=Math.abs(Math.round(s(t,"y",0))),u=s(t,"getPixel",!1),c=s(t,"isFramebuffer",!1),d=c?s(t,"bufferWidth",1):e.drawingBufferWidth,f=c?s(t,"bufferHeight",1):e.drawingBufferHeight;if(u){var p=new Uint8Array(4),m=c?h:f-h;e.readPixels(l,m,1,1,e.RGBA,e.UNSIGNED_BYTE,p),i.call(null,new r(p[0],p[1],p[2],p[3]))}else{var g=Math.floor(s(t,"width",d)),v=Math.floor(s(t,"height",f)),y=g*v*4,b=new Uint8Array(y);e.readPixels(l,f-h-v,g,v,e.RGBA,e.UNSIGNED_BYTE,b);for(var x=n.createWebGL(this,g,v),E=x.getContext("2d",{willReadFrequently:!0}),w=E.getImageData(0,0,g,v),S=w.data,T=0;T<v;T++)for(var A=0;A<g;A++){var _=((v-T-1)*g+A)*4,C=c?y-(T*g+(g-A))*4:(T*g+A)*4;S[C+0]=b[_+0],S[C+1]=b[_+1],S[C+2]=b[_+2],S[C+3]=b[_+3]}E.putImageData(w,0,0);var I=new Image;I.onerror=function(){i.call(null),n.remove(x)},I.onload=function(){i.call(null,I),n.remove(x)},I.src=x.toDataURL(a,o)}}},89966:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(36060),s=i(90330),a=i(82264),o=i(95540),l=i(32302),h=i(63448),u=i(31302),c=i(58918),d=i(14811),f=i(92651),p=i(96569),m=i(56527),g=i(57516),v=i(43439),y=i(81041),b=i(12385),x=i(7589),E=i(95428),w=i(72905),S=new n({initialize:function(e){this.game=e.game,this.renderer=e,this.classes=new s([[r.UTILITY_PIPELINE,x],[r.MULTI_PIPELINE,g],[r.BITMAPMASK_PIPELINE,u],[r.SINGLE_PIPELINE,b],[r.ROPE_PIPELINE,y],[r.LIGHT_PIPELINE,p],[r.POINTLIGHT_PIPELINE,v],[r.MOBILE_PIPELINE,m]]),this.postPipelineClasses=new s,this.pipelines=new s,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(e,t,i){var n,s,h=this.renderer,u=this.renderTargets;this.frameInc=Math.floor(o(e,"frameInc",32));var p=h.width,m=h.height,g=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(d.BARREL),c.Barrel],[String(d.BLOOM),c.Bloom],[String(d.BLUR),c.Blur],[String(d.BOKEH),c.Bokeh],[String(d.CIRCLE),c.Circle],[String(d.COLOR_MATRIX),c.ColorMatrix],[String(d.DISPLACEMENT),c.Displacement],[String(d.GLOW),c.Glow],[String(d.GRADIENT),c.Gradient],[String(d.PIXELATE),c.Pixelate],[String(d.SHADOW),c.Shadow],[String(d.SHINE),c.Shine],[String(d.VIGNETTE),c.Vignette],[String(d.WIPE),c.Wipe]]),!g){this.classes.set(r.FX_PIPELINE,f);for(var v=Math.ceil(Math.min(p,m)/this.frameInc),y=1;y<v;y++){var b=y*this.frameInc;u.push(new l(h,b,b)),u.push(new l(h,b,b)),u.push(new l(h,b,b)),this.maxDimension=b}u.push(new l(h,p,m,1,0,!0,!0)),u.push(new l(h,p,m,1,0,!0,!0)),u.push(new l(h,p,m,1,0,!0,!0))}var x=this,E=this.game;if(this.classes.each(function(e,t){n=x.add(e,new t({game:E})),e===r.UTILITY_PIPELINE&&(x.UTILITY_PIPELINE=n,x.fullFrame1=n.fullFrame1,x.fullFrame2=n.fullFrame2,x.halfFrame1=n.halfFrame1,x.halfFrame2=n.halfFrame2)}),this.MULTI_PIPELINE=this.get(r.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(r.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(r.MOBILE_PIPELINE),g||(this.FX_PIPELINE=this.get(r.FX_PIPELINE)),e)for(s in e){var w=e[s];(n=new w(E)).name=s,n.isPostFX?this.postPipelineClasses.set(s,w):this.has(s)||(this.classes.set(s,w),this.add(s,n))}this.default=this.get(t),i&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(e){var t=this.get(e);return t&&(this.default=t),t},add:function(e,t){if(t.isPostFX){console.warn(e+" is a Post Pipeline. Use `addPostPipeline` instead");return}var i=this.pipelines,n=this.renderer;return i.has(e)?console.warn("Pipeline exists: "+e):(t.name=e,t.manager=this,i.set(e,t)),t.hasBooted||t.boot(),0===n.width||0===n.height||t.isPreFX||t.resize(n.width,n.height),t},addPostPipeline:function(e,t){this.postPipelineClasses.has(e)||this.postPipelineClasses.set(e,t)},flush:function(){this.current&&this.current.flush()},has:function(e){var t=this.pipelines;return"string"==typeof e?t.has(e):!!t.contains(e)},get:function(e){var t=this.pipelines;return"string"==typeof e?t.get(e):t.contains(e)?e:void 0},getPostPipeline:function(e,t,i){var n,r=this.postPipelineClasses,s="",a=typeof e;if("string"===a||"number"===a?(n=r.get(e),s=e):"function"===a?(r.contains(e)&&(n=e),s=e.name):"object"===a&&(n=r.get(e.name),s=e.name),n){var o=new n(this.game,i);return o.name=s,t&&(o.gameObject=t),this.postPipelineInstances.push(o),o}},removePostPipeline:function(e){w(this.postPipelineInstances,e)},remove:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this.pipelines.delete(e),t&&this.classes.delete(e),i&&this.postPipelineClasses.delete(e)},set:function(e,t,i){if(!e.isPostFX)return this.isCurrent(e,i)||(this.flush(),this.current&&this.current.unbind(),this.current=e,e.bind(i)),e.updateProjectionMatrix(),e.onBind(t),e},preBatch:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,i=t.length-1;i>=0;i--){var n=t[i];n.active&&n.preBatch(e)}}},postBatch:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,i=0;i<t.length;i++){var n=t[i];n.active&&n.postBatch(e)}}},preBatchCamera:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,i=t.length-1;i>=0;i--){var n=t[i];n.active&&n.preBatch(e)}}},postBatchCamera:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,i=0;i<t.length;i++){var n=t[i];n.active&&n.postBatch(e)}}},isCurrent:function(e,t){var i=this.renderer,n=this.current;return n&&!t&&(t=n.currentShader),!(n!==e||t.program!==i.currentProgram)},copyFrame:function(e,t,i,n,r){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(e,t,i,n,r),this},copyToGame:function(e){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(e),this},drawFrame:function(e,t,i,n){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(e,t,i,n),this},blendFrames:function(e,t,i,n,r){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(e,t,i,n,r),this},blendFramesAdditive:function(e,t,i,n,r){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(e,t,i,n,r),this},clearFrame:function(e,t){return this.UTILITY_PIPELINE.clearFrame(e,t),this},blitFrame:function(e,t,i,n,r,s){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(e,t,i,n,r,s),this},copyFrameRect:function(e,t,i,n,r,s,a,o){return this.UTILITY_PIPELINE.copyFrameRect(e,t,i,n,r,s,a,o),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(e){return this.UTILITY_PIPELINE.bind(e)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(e,t){t.restoreContext()}),E(this.postPipelineInstances,function(e){e.restoreContext()})},rebind:function(e){void 0===e&&this.previous&&(e=this.previous);var t=this.renderer,i=t.gl;i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),t.hasActiveStencilMask()?i.clear(i.DEPTH_BUFFER_BIT):(i.disable(i.STENCIL_TEST),i.clear(i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT)),i.viewport(0,0,t.width,t.height),t.currentProgram=null,t.setBlendMode(0,!0);var n=t.vaoExtension;n&&n.bindVertexArrayOES(null);var r=this.pipelines.entries;for(var s in r)r[s].glReset=!0;e&&(this.current=e,e.rebind())},clear:function(){var e=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,e.currentProgram=null,e.setBlendMode(0,!0);var t=e.vaoExtension;t&&t.bindVertexArrayOES(null)},getRenderTarget:function(e){var t=this.renderTargets;if(e>this.maxDimension)return this.targetIndex=t.length-3,t[this.targetIndex];var i=(h(e,this.frameInc,0,!0)-1)*3;return this.targetIndex=i,t[i]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});e.exports=S},32302:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92503),s=new n({initialize:function(e,t,i,n,s,a,o,l,h){void 0===n&&(n=1),void 0===s&&(s=0),void 0===a&&(a=!0),void 0===o&&(o=!1),void 0===l&&(l=!0),void 0===h&&(h=!0),this.renderer=e,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=n,this.minFilter=s,this.autoClear=a,this.autoResize=!0,this.hasDepthBuffer=l,this.forceClamp=h,this.init(t,i),o?this.renderer.on(r.RESIZE,this.resize,this):this.autoResize=!1},init:function(e,t){var i=this.renderer;this.texture=i.createTextureFromSource(null,e,t,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(e,t,this.texture,this.hasDepthBuffer),this.width=e,this.height=t},setAutoResize:function(e){return e&&!this.autoResize?(this.renderer.on(r.RESIZE,this.resize,this),this.autoResize=!0):!e&&this.autoResize&&(this.renderer.off(r.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(e,t){if(this.autoResize&&this.willResize(e,t)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.texture=i.createTextureFromSource(null,e,t,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(e,t,this.texture,this.hasDepthBuffer),this.width=e,this.height=t}return this},willResize:function(e,t){return"number"==typeof e&&"number"==typeof t&&(e=Math.round(e*this.scale),t=Math.round(t*this.scale),e=Math.max(e,1),t=Math.max(t,1),e!==this.width||t!==this.height)},bind:function(e,t,i){void 0===e&&(e=!1);var n=this.renderer;if(e&&n.flush(),t&&i&&this.resize(t,i),n.pushFramebuffer(this.framebuffer,!1,!1),e&&this.adjustViewport(),this.autoClear){var r=this.renderer.gl;r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var e=this.renderer.gl;e.viewport(0,0,this.width,this.height),e.disable(e.SCISSOR_TEST)},clear:function(e,t,i,n){var r=this.renderer,s=r.gl;r.pushFramebuffer(this.framebuffer),void 0!==e&&void 0!==t&&void 0!==i&&void 0!==n?(s.enable(s.SCISSOR_TEST),s.scissor(e,t,i,n)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(e){void 0===e&&(e=!1);var t=this.renderer;return e&&t.flush(),t.popFramebuffer()},destroy:function(){var e=this.renderer;e.off(r.RESIZE,this.resize,this),e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});e.exports=s},70554:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={getTintFromFloats:function(e,t,i,n){return(((255*n|0)&255)<<24|((255*e|0)&255)<<16|((255*t|0)&255)<<8|(255*i|0)&255)>>>0},getTintAppendFloatAlpha:function(e,t){return(((255*t|0)&255)<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,t){return(((255*t|0)&255)<<24|((0|e)&255)<<16|((e>>8|0)&255)<<8|(e>>16|0)&255)>>>0},getFloatsFromUintRGB:function(e){return[((e>>16|0)&255)/255,((e>>8|0)&255)/255,((0|e)&255)/255]},checkShaderMax:function(e,t){var i=Math.min(16,e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));return t&&-1!==t?Math.min(i,t):i},parseFragmentShaderMaxTextures:function(e,t){if(!e)return"";for(var i="",n=0;n<t;n++)n>0&&(i+="\n	else "),n<t-1&&(i+="if (outTexId < "+n+".5)"),i+="\n	{\n		texture = texture2D(uMainSampler["+n+"], outTexCoord);\n	}";return(e=e.replace(/%count%/gi,t.toString())).replace(/%forloop%/gi,i)},setGlowQuality:function(e,t,i,n){return void 0===i&&(i=t.config.glowFXQuality),void 0===n&&(n=t.config.glowFXDistance),e=(e=e.replace(/__SIZE__/gi,(1/i/n).toFixed(7))).replace(/__DIST__/gi,n.toFixed(0)+".0")}}},29100:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(62644),s=i(50792),a=i(77085),o=i(95540),l=i(37867),h=i(92503),u=i(32302),c=i(70554),d=i(38683),f=new n({Extends:s,initialize:function(e){s.call(this);var t=e.game,i=t.renderer,n=i.gl;this.name=o(e,"name","WebGLPipeline"),this.game=t,this.renderer=i,this.manager,this.gl=n,this.view=t.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=o(e,"topology",n.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=o(e,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=e,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=o(e,"resizeUniform","")},boot:function(){var e,t=this.gl,i=this.config,n=this.renderer;this.isPostFX||(this.projectionMatrix=new l().identity());var r=this.renderTargets,s=o(i,"renderTarget",!1);"boolean"==typeof s&&s&&(s=1);var c=n.width,d=n.height;if("number"==typeof s)for(e=0;e<s;e++)r.push(new u(n,c,d,1,0,!0));else if(Array.isArray(s))for(e=0;e<s.length;e++){var f=o(s[e],"scale",1),p=o(s[e],"minFilter",0),m=o(s[e],"autoClear",1),g=o(s[e],"autoResize",!1),v=o(s[e],"width",null),y=o(s[e],"height",v);v?r.push(new u(n,v,y,1,p,m,g)):r.push(new u(n,c,d,f,p,m,g))}r.length&&(this.currentRenderTarget=r[0]),this.setShadersFromConfig(i);var b=this.shaders,x=0;for(e=0;e<b.length;e++)b[e].vertexSize>x&&(x=b[e].vertexSize);var E=o(i,"batchSize",n.config.batchSize);this.vertexCapacity=6*E;var w=new ArrayBuffer(this.vertexCapacity*x);this.vertexData=w,this.bytes=new Uint8Array(w),this.vertexViewF32=new Float32Array(w),this.vertexViewU32=new Uint32Array(w);var S=o(i,"vertices",null);for(S?(this.vertexViewF32.set(S),this.vertexBuffer=n.createVertexBuffer(w,t.STATIC_DRAW)):this.vertexBuffer=n.createVertexBuffer(w.byteLength,t.DYNAMIC_DRAW),this.setVertexBuffer(),e=b.length-1;e>=0;e--)b[e].rebind();this.hasBooted=!0,n.on(h.RESIZE,this.resize,this),n.on(h.PRE_RENDER,this.onPreRender,this),n.on(h.RENDER,this.onRender,this),n.on(h.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(e,t,i){var n=this.renderer;return(e!==this.currentShader||n.currentProgram!==this.currentShader.program)&&(this.flush(),this.setVertexBuffer(i)&&!t&&(t=!0),e.bind(t,!1),this.currentShader=e),this},getShaderByName:function(e){for(var t=this.shaders,i=0;i<t.length;i++)if(t[i].name===e)return t[i]},setShadersFromConfig:function(e){var t=this.shaders,i=this.renderer;for(g=0;g<t.length;g++)t[g].destroy();var n="vertShader",s="fragShader",a="attributes",l=o(e,n,null),h=c.parseFragmentShaderMaxTextures(o(e,s,null),i.maxTextures),u=o(e,a,null),f=o(e,"shaders",[]),p=f.length;if(0===p)l&&h&&(this.shaders=[new d(this,"default",l,h,r(u))]);else{var m=[];for(g=0;g<p;g++){var g,v,y,b,x,E=f[g];if("string"==typeof E?(v="default",y=l,b=c.parseFragmentShaderMaxTextures(E,i.maxTextures),x=u):(v=o(E,"name","default"),y=o(E,n,l),b=c.parseFragmentShaderMaxTextures(o(E,s,h),i.maxTextures),x=o(E,a,u)),"default"===v){var w=b.split("\n")[0].trim();w.indexOf("#define SHADER_NAME")>-1&&(v=w.substring(20))}y&&b&&m.push(new d(this,v,y,b,r(x)))}this.shaders=m}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(e){return this.currentBatch={start:this.vertexCount,count:0,texture:[e],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=e,this.batch.push(this.currentBatch),0},addTextureToBatch:function(e){var t=this.currentBatch;t&&(t.texture.push(e),t.unit++,t.maxUnit++)},pushBatch:function(e){if(!this.currentBatch||this.forceZero&&e!==this.currentTexture)return this.createBatch(e);if(e===this.currentTexture)return this.currentUnit;var t=this.currentBatch,i=t.texture.indexOf(e);return -1!==i?(this.currentUnit=i,this.currentTexture=e,i):t.texture.length===this.renderer.maxTextures?this.createBatch(e):(t.unit++,t.maxUnit++,t.texture.push(e),this.currentUnit=t.unit,this.currentTexture=e,t.unit)},setGameObject:function(e,t){return void 0===t&&(t=e.frame),this.pushBatch(t.source.glTexture)},shouldFlush:function(e){return void 0===e&&(e=0),this.vertexCount+e>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(e,t){(e!==this.width||t!==this.height)&&this.flush(),this.width=e,this.height=t;for(var i=this.renderTargets,n=0;n<i.length;n++)i[n].resize(e,t);return this.setProjectionMatrix(e,t),this.resizeUniform&&this.set2f(this.resizeUniform,e,t),this.emit(a.RESIZE,e,t,this),this.onResize(e,t),this},setProjectionMatrix:function(e,t){var i=this.projectionMatrix;if(!i)return this;this.projectionWidth=e,this.projectionHeight=t,i.ortho(0,e,t,0,-1e3,1e3);for(var n=this.shaders,r="uProjectionMatrix",s=0;s<n.length;s++){var a=n[s];a.hasUniform(r)&&(a.resetUniform(r),a.setMatrix4fv(r,!1,i.val,a))}return this},flipProjectionMatrix:function(e){void 0===e&&(e=!0);var t=this.projectionMatrix;if(!t)return this;var i=this.projectionWidth,n=this.projectionHeight;e?t.ortho(0,i,0,n,-1e3,1e3):t.ortho(0,i,n,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,t.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var e=this.renderer.projectionWidth,t=this.renderer.projectionHeight;(this.projectionWidth!==e||this.projectionHeight!==t)&&this.setProjectionMatrix(e,t)}},bind:function(e){if(void 0===e&&(e=this.currentShader),this.glReset)return this.rebind(e);var t=!1,i=this.gl;return i.getParameter(i.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,t=!0),e.bind(t),this.currentShader=e,this.activeTextures.length=0,this.emit(a.BIND,this,e),this.onActive(e),this},rebind:function(e){this.activeBuffer=null,this.setVertexBuffer();for(var t=this.shaders,i=t.length-1;i>=0;i--){var n=t[i].rebind();e&&n!==e||(this.currentShader=n)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var e=this.shaders,t=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,t&&this.setVertexBuffer();for(var i=0;i<e.length;i++){var n=e[i];n.syncUniforms(),t&&n.rebind()}},setVertexBuffer:function(e){if(void 0===e&&(e=this.vertexBuffer),e!==this.activeBuffer){var t=this.gl;return this.gl.bindBuffer(t.ARRAY_BUFFER,e.webGLBuffer),this.activeBuffer=e,!0}return!1},preBatch:function(e){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(e),this},postBatch:function(e){return this.onDraw(this.currentRenderTarget),this.onPostBatch(e),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(e){if(void 0===e&&(e=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,e),this.onBeforeFlush(e);var t=this.gl,i=this.vertexCount,n=this.currentShader.vertexSize,r=this.topology;if(this.active){this.setVertexBuffer(),i===this.vertexCapacity?t.bufferData(t.ARRAY_BUFFER,this.vertexData,t.DYNAMIC_DRAW):t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,i*n));var s,o,l,h=this.batch,u=this.activeTextures;if(this.forceZero)for(u[0]||t.activeTexture(t.TEXTURE0),s=0;s<h.length;s++)l=(o=h[s]).texture[0],u[0]!==l&&(t.bindTexture(t.TEXTURE_2D,l.webGLTexture),u[0]=l),t.drawArrays(r,o.start,o.count);else for(s=0;s<h.length;s++){o=h[s];for(var c=0;c<=o.maxUnit;c++)l=o.texture[c],u[c]!==l&&(t.activeTexture(t.TEXTURE0+c),t.bindTexture(t.TEXTURE_2D,l.webGLTexture),u[c]=l);t.drawArrays(r,o.start,o.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,e),this.onAfterFlush(e)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(e,t,i,n,r,s,a){var o=this.vertexViewF32,l=this.vertexViewU32,h=this.vertexCount*this.currentShader.vertexComponentCount-1;o[++h]=e,o[++h]=t,o[++h]=i,o[++h]=n,o[++h]=r,o[++h]=s,l[++h]=a,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(e,t,i,n,r,s,a,o,l,h,u,c,d,f,p,m,g,v,y,b){void 0===b&&(b=this.currentUnit);var x=!1;this.shouldFlush(6)&&(this.flush(),x=!0),this.currentBatch||(b=this.setTexture2D(y));var E=this.vertexViewF32,w=this.vertexViewU32,S=this.vertexCount*this.currentShader.vertexComponentCount-1;return E[++S]=t,E[++S]=i,E[++S]=h,E[++S]=u,E[++S]=b,E[++S]=v,w[++S]=f,E[++S]=n,E[++S]=r,E[++S]=h,E[++S]=d,E[++S]=b,E[++S]=v,w[++S]=m,E[++S]=s,E[++S]=a,E[++S]=c,E[++S]=d,E[++S]=b,E[++S]=v,w[++S]=g,E[++S]=t,E[++S]=i,E[++S]=h,E[++S]=u,E[++S]=b,E[++S]=v,w[++S]=f,E[++S]=s,E[++S]=a,E[++S]=c,E[++S]=d,E[++S]=b,E[++S]=v,w[++S]=g,E[++S]=o,E[++S]=l,E[++S]=c,E[++S]=u,E[++S]=b,E[++S]=v,w[++S]=p,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(e),x},batchTri:function(e,t,i,n,r,s,a,o,l,h,u,c,d,f,p,m,g){void 0===g&&(g=this.currentUnit);var v=!1;this.shouldFlush(3)&&(this.flush(),v=!0),this.currentBatch||(g=this.setTexture2D(m));var y=this.vertexViewF32,b=this.vertexViewU32,x=this.vertexCount*this.currentShader.vertexComponentCount-1;return y[++x]=t,y[++x]=i,y[++x]=o,y[++x]=l,y[++x]=g,y[++x]=p,b[++x]=c,y[++x]=n,y[++x]=r,y[++x]=o,y[++x]=u,y[++x]=g,y[++x]=p,b[++x]=d,y[++x]=s,y[++x]=a,y[++x]=h,y[++x]=u,y[++x]=g,y[++x]=p,b[++x]=f,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(e),v},drawFillRect:function(e,t,i,n,r,s,a,o){void 0===a&&(a=this.renderer.whiteTexture),void 0===o&&(o=!0);var l=Math.floor((e=Math.floor(e))+i),h=Math.floor((t=Math.floor(t))+n),u=this.setTexture2D(a),d=c.getTintAppendFloatAlphaAndSwap(r,s),f=0,p=1;o&&(f=1,p=0),this.batchQuad(null,e,t,e,h,l,h,l,t,0,f,1,p,d,d,d,d,0,a,u)},setTexture2D:function(e){return void 0===e&&(e=this.renderer.whiteTexture),this.pushBatch(e)},bindTexture:function(e,t){void 0===t&&(t=0);var i=this.gl;return i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,e.webGLTexture),this},bindRenderTarget:function(e,t){return this.bindTexture(e.texture,t)},setTime:function(e,t){return this.set1f(e,this.game.loop.getDuration(),t),this},setBoolean:function(e,t,i){return void 0===i&&(i=this.currentShader),i.setBoolean(e,t),this},set1f:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set1f(e,t),this},set2f:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.set2f(e,t,i),this},set3f:function(e,t,i,n,r){return void 0===r&&(r=this.currentShader),r.set3f(e,t,i,n),this},set4f:function(e,t,i,n,r,s){return void 0===s&&(s=this.currentShader),s.set4f(e,t,i,n,r),this},set1fv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set1fv(e,t),this},set2fv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set2fv(e,t),this},set3fv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set3fv(e,t),this},set4fv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set4fv(e,t),this},set1iv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set1iv(e,t),this},set2iv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set2iv(e,t),this},set3iv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set3iv(e,t),this},set4iv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set4iv(e,t),this},set1i:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set1i(e,t),this},set2i:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.set2i(e,t,i),this},set3i:function(e,t,i,n,r){return void 0===r&&(r=this.currentShader),r.set3i(e,t,i,n),this},set4i:function(e,t,i,n,r,s){return void 0===s&&(s=this.currentShader),s.set4i(e,t,i,n,r),this},setMatrix2fv:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.setMatrix2fv(e,t,i),this},setMatrix3fv:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.setMatrix3fv(e,t,i),this},setMatrix4fv:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.setMatrix4fv(e,t,i),this},destroy:function(){this.emit(a.DESTROY,this);var e,t=this.shaders;for(e=0;e<t.length;e++)t[e].destroy();var i=this.renderTargets;for(e=0;e<i.length;e++)i[e].destroy();var n=this.renderer;return n.deleteBuffer(this.vertexBuffer),n.off(h.RESIZE,this.resize,this),n.off(h.PRE_RENDER,this.onPreRender,this),n.off(h.RENDER,this.onRender,this),n.off(h.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});e.exports=f},74797:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95428),r=i(72905),s=i(19715),a=i(83419),o=i(8054),l=i(50792),h=i(92503),u=i(50030),c=i(37867),d=i(29747),f=i(7530),p=i(32302),m=i(97480),g=i(69442),v=i(70554),y=i(88815),b=i(26128),x=i(1482),E=i(82751),w=i(84387),S=i(93567),T=i(57183),A=new a({Extends:l,initialize:function(e){l.call(this);var t=e.config,i={alpha:t.transparent,desynchronized:t.desynchronized,depth:!0,antialias:t.antialiasGL,premultipliedAlpha:t.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:t.failIfMajorPerformanceCaveat,powerPreference:t.powerPreference,preserveDrawingBuffer:t.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:t.clearBeforeRender,antialias:t.antialias,backgroundColor:t.backgroundColor,contextCreation:i,roundPixels:t.roundPixels,maxTextures:t.maxTextures,maxTextureSize:t.maxTextureSize,batchSize:t.batchSize,maxLights:t.maxLights,mipmapFilter:t.mipmapFilter},this.game=e,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=e.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=d,this.contextRestoredHandler=d,this.previousContextLostHandler=d,this.previousContextRestoredHandler=d,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(e){var t,i=this.game,n=this.canvas,r=e.backgroundColor;if(!(t=i.config.context?i.config.context:n.getContext("webgl",e.contextCreation)||n.getContext("experimental-webgl",e.contextCreation))||t.isContextLost())throw this.contextLost=!0,Error("WebGL unsupported");this.gl=t,this.setExtensions(),this.setContextHandlers(),i.context=t;for(var s=0;s<=27;s++)this.blendModes.push({func:[t.ONE,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_ADD});return this.blendModes[1].func=[t.ONE,t.DST_ALPHA],this.blendModes[2].func=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[t.ZERO,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_REVERSE_SUBTRACT},this.glFormats=[t.BYTE,t.SHORT,t.UNSIGNED_BYTE,t.UNSIGNED_SHORT,t.FLOAT],this.glFuncMap={mat2:{func:t.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:t.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:t.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:t.uniform1f,length:1},"1fv":{func:t.uniform1fv,length:1},"1i":{func:t.uniform1i,length:1},"1iv":{func:t.uniform1iv,length:1},"2f":{func:t.uniform2f,length:2},"2fv":{func:t.uniform2fv,length:1},"2i":{func:t.uniform2i,length:2},"2iv":{func:t.uniform2iv,length:1},"3f":{func:t.uniform3f,length:3},"3fv":{func:t.uniform3fv,length:1},"3i":{func:t.uniform3i,length:3},"3iv":{func:t.uniform3iv,length:1},"4f":{func:t.uniform4f,length:4},"4fv":{func:t.uniform4fv,length:1},"4i":{func:t.uniform4i,length:4},"4iv":{func:t.uniform4iv,length:1}},e.maxTextures&&-1!==e.maxTextures||(e.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),e.maxTextureSize||(e.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.clearColor(r.redGL,r.greenGL,r.blueGL,r.alphaGL),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(e.mipmapFilter)&&(this.mipmapFilter=t[e.mipmapFilter]),this.maxTextures=v.checkShaderMax(t,e.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=new c().identity(),i.textures.once(g.READY,this.boot,this),this},boot:function(){var e=this.game,t=this.pipelines,i=e.scale.baseSize,n=i.width,r=i.height;this.width=n,this.height=r,this.isBooted=!0,this.renderTarget=new p(this,n,r,1,0,!0,!0),this.maskTarget=new p(this,n,r,1,0,!0,!0),this.maskSource=new p(this,n,r,1,0,!0,!0);var s=e.config;t.boot(s.pipeline,s.defaultPipeline,s.autoMobilePipeline),this.blankTexture=e.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=e.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=e.textures.getFrame("__WHITE").glTexture;var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,null),a.enable(a.SCISSOR_TEST),e.scale.on(m.RESIZE,this.onResize,this),this.resize(n,r)},setExtensions:function(){var e=this.gl,t=e.getSupportedExtensions();this.supportedExtensions=t;var i="ANGLE_instanced_arrays";this.instancedArraysExtension=t.indexOf(i)>-1?e.getExtension(i):null;var n="OES_vertex_array_object";this.vaoExtension=t.indexOf(n)>-1?e.getExtension(n):null},setContextHandlers:function(e,t){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),"function"==typeof e?this.contextLostHandler=e.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),"function"==typeof t?this.contextRestoredHandler=t.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(e){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(h.LOSE_WEBGL,this),e.preventDefault()},dispatchContextRestored:function(e){var t=this.gl;if(t.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(o.BlendModes.NORMAL),t.disable(t.BLEND),t.disable(t.DEPTH_TEST),t.enable(t.CULL_FACE),this.compression=this.getCompressedTextures();var i=function(e){e.createResource()};n(this.glTextureWrappers,i),n(this.glBufferWrappers,i),n(this.glFramebufferWrappers,i),n(this.glProgramWrappers,i),n(this.glAttribLocationWrappers,i),n(this.glUniformLocationWrappers,i),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(h.RESTORE_WEBGL,this),e.preventDefault()},createTemporaryTextures:function(){for(var e=this.gl,t=0;t<this.maxTextures;t++){var i=e.createTexture();e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(t)}},captureFrame:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1)},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=!1),void 0===i&&(i=!1)},stopCapture:function(){},onCapture:function(e){},onResize:function(e,t){(t.width!==this.width||t.height!==this.height)&&this.resize(t.width,t.height)},beginCapture:function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.renderTarget.bind(!0,e,t),this.setProjectionMatrix(e,t)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(e,t){var i=this.gl;return this.width=e,this.height=t,this.setProjectionMatrix(e,t),i.viewport(0,0,e,t),this.drawingBufferHeight=i.drawingBufferHeight,i.scissor(0,i.drawingBufferHeight-t,e,t),this.defaultScissor[2]=e,this.defaultScissor[3]=t,this.emit(h.RESIZE,e,t),this},getCompressedTextures:function(){var e="WEBGL_compressed_texture_",t="WEBKIT_"+e,i=function(i,n){var r=i.getExtension(e+n)||i.getExtension(t+n)||i.getExtension("EXT_texture_compression_"+n);if(r){var s={};for(var a in r)s[r[a]]=a;return s}},n=this.gl;return{ETC:i(n,"etc"),ETC1:i(n,"etc1"),ATC:i(n,"atc"),ASTC:i(n,"astc"),BPTC:i(n,"bptc"),RGTC:i(n,"rgtc"),PVRTC:i(n,"pvrtc"),S3TC:i(n,"s3tc"),S3TCSRGB:i(n,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(e,t){var i=this.compression[e.toUpperCase()];if(t in i)return i[t]},supportsCompressedTexture:function(e,t){var i=this.compression[e.toUpperCase()];return!!i&&(!t||t in i)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(e,t){return(e!==this.projectionWidth||t!==this.projectionHeight)&&(this.projectionWidth=e,this.projectionHeight=t,this.projectionMatrix.ortho(0,e,t,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(e){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(e)},getExtension:function(e){return this.hasExtension(e)?(e in this.extensions||(this.extensions[e]=this.gl.getExtension(e)),this.extensions[e]):null},flush:function(){this.pipelines.flush()},pushScissor:function(e,t,i,n,r){void 0===r&&(r=this.drawingBufferHeight);var s=this.scissorStack,a=[e,t,i,n];return s.push(a),this.setScissor(e,t,i,n,r),this.currentScissor=a,a},setScissor:function(e,t,i,n,r){void 0===r&&(r=this.drawingBufferHeight);var s=this.gl,a=this.currentScissor,o=i>0&&n>0;if(a&&o){var l=a[0],h=a[1],u=a[2],c=a[3];o=l!==e||h!==t||u!==i||c!==n}o&&(this.flush(),s.scissor(e,r-t-n,i,n))},resetScissor:function(){var e=this.gl;e.enable(e.SCISSOR_TEST);var t=this.currentScissor;if(t){var i=t[0],n=t[1],r=t[2],s=t[3];r>0&&s>0&&e.scissor(i,this.drawingBufferHeight-n-s,r,s)}},popScissor:function(){var e=this.scissorStack;e.pop();var t=e[e.length-1];t&&this.setScissor(t[0],t[1],t[2],t[3]),this.currentScissor=t},hasActiveStencilMask:function(){var e=this.currentMask.mask,t=this.currentCameraMask.mask;return e&&e.isStencil||t&&t.isStencil},resetViewport:function(){var e=this.gl;e.viewport(0,0,this.width,this.height),this.drawingBufferHeight=e.drawingBufferHeight},setBlendMode:function(e,t){void 0===t&&(t=!1);var i=this.gl,n=this.blendModes[e];return(!!t||e!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==e)&&(this.flush(),i.enable(i.BLEND),i.blendEquation(n.equation),n.func.length>2?i.blendFuncSeparate(n.func[0],n.func[1],n.func[2],n.func[3]):i.blendFunc(n.func[0],n.func[1]),this.currentBlendMode=e,!0)},addBlendMode:function(e,t){return this.blendModes.push({func:e,equation:t})-1},updateBlendMode:function(e,t,i){return this.blendModes[e]&&(this.blendModes[e].func=t,i&&(this.blendModes[e].equation=i)),this},removeBlendMode:function(e){return e>17&&this.blendModes[e]&&this.blendModes.splice(e,1),this},pushFramebuffer:function(e,t,i,n,r){return e===this.currentFramebuffer?this:(this.fboStack.push(e),this.setFramebuffer(e,t,i,n,r))},setFramebuffer:function(e,t,i,n,r){if(void 0===t&&(t=!1),void 0===i&&(i=!0),void 0===n&&(n=null),void 0===r&&(r=!1),e===this.currentFramebuffer)return this;var s=this.gl,a=this.width,o=this.height;return e&&e.renderTexture&&i?(a=e.renderTexture.width,o=e.renderTexture.height):this.flush(),e?s.bindFramebuffer(s.FRAMEBUFFER,e.webGLFramebuffer):s.bindFramebuffer(s.FRAMEBUFFER,null),i&&s.viewport(0,0,a,o),n&&s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,n.webGLTexture,0),r&&(s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT)),t&&(e?(this.drawingBufferHeight=o,this.pushScissor(0,0,a,o)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=e,this},popFramebuffer:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0);var i=this.fboStack;i.pop();var n=i[i.length-1];return n||(n=null),this.setFramebuffer(n,e,t),n},restoreFramebuffer:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0);var i=this.fboStack,n=i[i.length-1];n||(n=null),this.currentFramebuffer=null,this.setFramebuffer(n,e,t)},setProgram:function(e){return e!==this.currentProgram&&(this.flush(),this.gl.useProgram(e.webGLProgram),this.currentProgram=e,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(e,t,i,n,r){void 0===r&&(r=!1);var s=this.gl,a=s.NEAREST,l=s.NEAREST,h=s.CLAMP_TO_EDGE,c=u(t=e?e.width:t,i=e?e.height:i);if(c&&!r&&(h=s.REPEAT),n===o.ScaleModes.LINEAR&&this.config.antialias){var d=e&&e.compressed,f=!d&&c||d&&e.mipmaps.length>1;a=this.mipmapFilter&&f?this.mipmapFilter:s.LINEAR,l=s.LINEAR}return e||"number"!=typeof t||"number"!=typeof i?this.createTexture2D(0,a,l,h,h,s.RGBA,e):this.createTexture2D(0,a,l,h,h,s.RGBA,null,t,i)},createTexture2D:function(e,t,i,n,r,s,a,o,l,h,u,c){"number"!=typeof o&&(o=a?a.width:1),"number"!=typeof l&&(l=a?a.height:1);var d=new E(this.gl,e,t,i,n,r,s,a,o,l,h,u,c);return this.glTextureWrappers.push(d),d},createFramebuffer:function(e,t,i,n){this.currentFramebuffer=null;var r=new w(this.gl,e,t,i,n);return this.glFramebufferWrappers.push(r),r},beginBitmapMask:function(e,t){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==e&&(this.currentMask.mask=e,this.currentMask.camera=t))},drawBitmapMask:function(e,t,i){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),e.renderWebGL(this,e,t),this.maskSource.unbind(!0),this.maskTarget.unbind();var n=this.gl,r=this.getCurrentStencilMask();r?(n.enable(n.STENCIL_TEST),r.mask.applyStencil(this,r.camera,!0)):this.currentMask.mask=null,this.pipelines.set(i),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this.maskTarget.texture.webGLTexture),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(e,t){var i=new x(this.gl,e,t);return this.glProgramWrappers.push(i),i},createVertexBuffer:function(e,t){var i=this.gl,n=new b(i,e,i.ARRAY_BUFFER,t);return this.glBufferWrappers.push(n),n},createAttribLocation:function(e,t){var i=new S(this.gl,e,t);return this.glAttribLocationWrappers.push(i),i},createUniformLocation:function(e,t){var i=new T(this.gl,e,t);return this.glUniformLocationWrappers.push(i),i},createIndexBuffer:function(e,t){var i=this.gl,n=new b(i,e,i.ELEMENT_ARRAY_BUFFER,t);return this.glBufferWrappers.push(n),n},deleteTexture:function(e){if(e)return r(this.glTextureWrappers,e),e.destroy(),this},deleteFramebuffer:function(e){return e&&(r(this.fboStack,e),r(this.glFramebufferWrappers,e),e.destroy()),this},deleteProgram:function(e){return e&&(r(this.glProgramWrappers,e),e.destroy()),this},deleteAttribLocation:function(e){return e&&(r(this.glAttribLocationWrappers,e),e.destroy()),this},deleteUniformLocation:function(e){return e&&(r(this.glUniformLocationWrappers,e),e.destroy()),this},deleteBuffer:function(e){return e&&(r(this.glBufferWrappers,e),e.destroy()),this},preRenderCamera:function(e){var t=e.x,i=e.y,n=e.width,r=e.height,a=e.backgroundColor;e.emit(s.PRE_RENDER,e),this.pipelines.preBatchCamera(e),this.pushScissor(t,i,n,r),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),a.alphaGL>0&&this.pipelines.setMulti().drawFillRect(t,i,n,r,v.getTintFromFloats(a.blueGL,a.greenGL,a.redGL,1),a.alphaGL)},getCurrentStencilMask:function(){var e=null,t=this.maskStack,i=this.currentCameraMask;return t.length>0?e=t[t.length-1]:i.mask&&i.mask.isStencil&&(e=i),e},postRenderCamera:function(e){var t=e.flashEffect,i=e.fadeEffect;if(t.isRunning||i.isRunning||i.isComplete){var n=this.pipelines.setMulti();t.postRenderWebGL(n,v.getTintFromFloats),i.postRenderWebGL(n,v.getTintFromFloats)}e.dirty=!1,this.popScissor(),e.mask&&(this.currentCameraMask.mask=null,e.mask.postRenderWebGL(this,e._maskCamera)),this.pipelines.postBatchCamera(e),e.emit(s.POST_RENDER,e)},preRender:function(){if(!this.contextLost){var e=this.gl;if(e.bindFramebuffer(e.FRAMEBUFFER,null),this.emit(h.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var t=this.config.backgroundColor;e.clearColor(t.redGL,t.greenGL,t.blueGL,t.alphaGL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT)}e.enable(e.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&e.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(h.PRE_RENDER)}},render:function(e,t,i){if(!this.contextLost){var n=t.length;if(this.emit(h.RENDER,e,i),this.preRenderCamera(i),0===n){this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(i);return}this.currentType="";for(var r=this.currentMask,s=0;s<n;s++){this.finalType=s===n-1;var a=t[s],l=a.mask;(r=this.currentMask).mask&&r.mask!==l&&r.mask.postRenderWebGL(this,r.camera),l&&r.mask!==l&&l.preRenderWebGL(this,a,i),a.blendMode!==this.currentBlendMode&&this.setBlendMode(a.blendMode);var u=a.type;u!==this.currentType&&(this.newType=!0,this.currentType=u),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=t[s+1].type===this.currentType,a.renderWebGL(this,a,i),this.newType=!1}(r=this.currentMask).mask&&r.mask.postRenderWebGL(this,r.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(i)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(h.POST_RENDER);var e=this.snapshotState;e.callback&&(y(this.gl,e),e.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var e=this.gl,t=this.getCurrentStencilMask();if(t){var i=t.mask;e.enable(e.STENCIL_TEST),i.invertAlpha?e.stencilFunc(e.NOTEQUAL,i.level,255):e.stencilFunc(e.EQUAL,i.level,255)}},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,e,t,i)},snapshotArea:function(e,t,i,n,r,s,a){var o=this.snapshotState;return o.callback=r,o.type=s,o.encoder=a,o.getPixel=!1,o.x=e,o.y=t,o.width=i,o.height=n,this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(e,t,i,n,r,s,a,o,l,h,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===a&&(a=0),void 0===o&&(o=t),void 0===l&&(l=i),"pixel"===h&&(r=!0,h="image/png");var c=this.currentFramebuffer;this.snapshotArea(s,a,o,l,n,h,u);var d=this.snapshotState;return d.getPixel=r,d.isFramebuffer=!0,d.bufferWidth=t,d.bufferHeight=i,d.width=Math.min(d.width,t),d.height=Math.min(d.height,i),this.setFramebuffer(e),y(this.gl,d),this.setFramebuffer(c),d.callback=null,d.isFramebuffer=!1,this},canvasToTexture:function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=this.gl,s=r.NEAREST,a=r.NEAREST,o=e.width,l=e.height,h=r.CLAMP_TO_EDGE,c=u(o,l);return(!i&&c&&(h=r.REPEAT),this.config.antialias&&(s=c&&this.mipmapFilter?this.mipmapFilter:r.LINEAR,a=r.LINEAR),t)?(t.update(e,o,l,n,h,h,s,a,t.format),t):this.createTexture2D(0,s,a,h,h,r.RGBA,e,o,l,!0,!1,n)},createCanvasTexture:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),this.canvasToTexture(e,null,t,i)},updateCanvasTexture:function(e,t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),this.canvasToTexture(e,t,n,i)},videoToTexture:function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=this.gl,s=r.NEAREST,a=r.NEAREST,o=e.videoWidth,l=e.videoHeight,h=r.CLAMP_TO_EDGE,c=u(o,l);return(!i&&c&&(h=r.REPEAT),this.config.antialias&&(s=c&&this.mipmapFilter?this.mipmapFilter:r.LINEAR,a=r.LINEAR),t)?(t.update(e,o,l,n,h,h,s,a,t.format),t):this.createTexture2D(0,s,a,h,h,r.RGBA,e,o,l,!0,!0,n)},createVideoTexture:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),this.videoToTexture(e,null,t,i)},updateVideoTexture:function(e,t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),this.videoToTexture(e,t,n,i)},createUint8ArrayTexture:function(e,t,i){var n=this.gl,r=n.NEAREST,s=n.NEAREST,a=n.CLAMP_TO_EDGE;return u(t,i)&&(a=n.REPEAT),this.createTexture2D(0,r,s,a,a,n.RGBA,e,t,i)},setTextureFilter:function(e,t){var i=this.gl,n=0===t?i.LINEAR:i.NEAREST;i.activeTexture(i.TEXTURE0);var r=i.getParameter(i.TEXTURE_BINDING_2D);return i.bindTexture(i.TEXTURE_2D,e.webGLTexture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,n),e.minFilter=n,e.magFilter=n,r&&i.bindTexture(i.TEXTURE_2D,r),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var e=function(e){e.destroy()};n(this.glAttribLocationWrappers,e),n(this.glBufferWrappers,e),n(this.glFramebufferWrappers,e),n(this.glProgramWrappers,e),n(this.glTextureWrappers,e),n(this.glUniformLocationWrappers,e),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});e.exports=A},38683:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95428),s=i(95540),a=i(14500),o=new n({initialize:function(e,t,i,n,r){this.pipeline=e,this.name=t,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=n,this.vertSrc=i,this.program=this.renderer.createProgram(i,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(r),this.createUniforms()},createAttributes:function(e){var t=0,i=0,n=[];this.vertexComponentCount=0;for(var r=0;r<e.length;r++){var o=e[r],l=o.name,h=s(o,"size",1),u=s(o,"type",a.FLOAT),c=u.enum,d=u.size,f=!!o.normalized;n.push({name:l,size:h,type:c,normalized:f,offset:i,enabled:!1,location:-1}),4===d?t+=h:t++,i+=h*d}this.vertexSize=i,this.vertexComponentCount=t,this.attributes=n},bind:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),t&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){void 0===e&&(e=!1);for(var t=this.gl,i=this.renderer,n=this.vertexSize,r=this.attributes,s=this.program,a=0;a<r.length;a++){var o=r[a],l=o.size,h=o.type,u=o.offset,c=o.enabled,d=o.location,f=!!o.normalized;if(e){-1!==d&&i.deleteAttribLocation(d);var p=this.renderer.createAttribLocation(s,o.name);p.webGLAttribLocation>=0?(t.enableVertexAttribArray(p.webGLAttribLocation),t.vertexAttribPointer(p.webGLAttribLocation,l,h,f,n,u),o.enabled=!0,o.location=p):-1!==p.webGLAttribLocation&&t.disableVertexAttribArray(p.webGLAttribLocation)}else c?t.vertexAttribPointer(d.webGLAttribLocation,l,h,f,n,u):!c&&-1!==d&&d.webGLAttribLocation>-1&&(t.disableVertexAttribArray(d.webGLAttribLocation),o.location=-1)}return this},createUniforms:function(){var e,t,i,n=this.gl,r=this.program,s=this.uniforms,a=n.getProgramParameter(r.webGLProgram,n.ACTIVE_UNIFORMS);for(e=0;e<a;e++){var o=n.getActiveUniform(r.webGLProgram,e);if(o){t=o.name,null!==(i=this.renderer.createUniformLocation(r,t))&&(s[t]={name:t,location:i,setter:null,value1:null,value2:null,value3:null,value4:null});var l=t.indexOf("[");l>0&&(t=t.substr(0,l),s.hasOwnProperty(t)||null===(i=this.renderer.createUniformLocation(r,t))||(s[t]={name:t,location:i,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var e=this.gl;for(var t in this.renderer.setProgram(this.program),this.uniforms){var i=this.uniforms[t];i.setter&&i.setter.call(e,i.location.webGLUniformLocation,i.value1,i.value2,i.value3,i.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var t=this.uniforms[e];return t&&(t.value1=null,t.value2=null,t.value3=null,t.value4=null),this},setUniform1:function(e,t,i,n){var r=this.uniforms[t];return r&&(n||r.value1!==i)&&(r.setter||(r.setter=e),r.value1=i,this.renderer.setProgram(this.program),e.call(this.gl,r.location.webGLUniformLocation,i),this.pipeline.currentShader=this),this},setUniform2:function(e,t,i,n,r){var s=this.uniforms[t];return s&&(r||s.value1!==i||s.value2!==n)&&(s.setter||(s.setter=e),s.value1=i,s.value2=n,this.renderer.setProgram(this.program),e.call(this.gl,s.location.webGLUniformLocation,i,n),this.pipeline.currentShader=this),this},setUniform3:function(e,t,i,n,r,s){var a=this.uniforms[t];return a&&(s||a.value1!==i||a.value2!==n||a.value3!==r)&&(a.setter||(a.setter=e),a.value1=i,a.value2=n,a.value3=r,this.renderer.setProgram(this.program),e.call(this.gl,a.location.webGLUniformLocation,i,n,r),this.pipeline.currentShader=this),this},setUniform4:function(e,t,i,n,r,s,a){var o=this.uniforms[t];return o&&(a||o.value1!==i||o.value2!==n||o.value3!==r||o.value4!==s)&&(o.setter||(o.setter=e),o.value1=i,o.value2=n,o.value3=r,o.value4=s,this.renderer.setProgram(this.program),e.call(this.gl,o.location.webGLUniformLocation,i,n,r,s),this.pipeline.currentShader=this),this},setBoolean:function(e,t){return this.setUniform1(this.gl.uniform1i,e,Number(t))},set1f:function(e,t){return this.setUniform1(this.gl.uniform1f,e,t)},set2f:function(e,t,i){return this.setUniform2(this.gl.uniform2f,e,t,i)},set3f:function(e,t,i,n){return this.setUniform3(this.gl.uniform3f,e,t,i,n)},set4f:function(e,t,i,n,r){return this.setUniform4(this.gl.uniform4f,e,t,i,n,r)},set1fv:function(e,t){return this.setUniform1(this.gl.uniform1fv,e,t,!0)},set2fv:function(e,t){return this.setUniform1(this.gl.uniform2fv,e,t,!0)},set3fv:function(e,t){return this.setUniform1(this.gl.uniform3fv,e,t,!0)},set4fv:function(e,t){return this.setUniform1(this.gl.uniform4fv,e,t,!0)},set1iv:function(e,t){return this.setUniform1(this.gl.uniform1iv,e,t,!0)},set2iv:function(e,t){return this.setUniform1(this.gl.uniform2iv,e,t,!0)},set3iv:function(e,t){return this.setUniform1(this.gl.uniform3iv,e,t,!0)},set4iv:function(e,t){return this.setUniform1(this.gl.uniform4iv,e,t,!0)},set1i:function(e,t){return this.setUniform1(this.gl.uniform1i,e,t)},set2i:function(e,t,i){return this.setUniform2(this.gl.uniform2i,e,t,i)},set3i:function(e,t,i,n){return this.setUniform3(this.gl.uniform3i,e,t,i,n)},set4i:function(e,t,i,n,r){return this.setUniform4(this.gl.uniform4i,e,t,i,n,r)},setMatrix2fv:function(e,t,i){return this.setUniform2(this.gl.uniformMatrix2fv,e,t,i,!0)},setMatrix3fv:function(e,t,i){return this.setUniform2(this.gl.uniformMatrix3fv,e,t,i,!0)},setMatrix4fv:function(e,t,i){return this.setUniform2(this.gl.uniformMatrix4fv,e,t,i,!0)},createProgram:function(e,t){return void 0===e&&(e=this.vertSrc),void 0===t&&(t=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=t,this.program=this.renderer.createProgram(e,t),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;r(this.uniforms,function(t){e.deleteUniformLocation(t.location)}),this.uniforms=null,r(this.attributes,function(t){e.deleteAttribLocation(t.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});e.exports=o},14500:e=>{e.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(14500),r=i(79291),s={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};s=r(!1,s,n),e.exports=s},31302:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(78908),a=i(85191),o=i(14500),l=i(29100),h=new n({Extends:l,initialize:function(e){e.fragShader=r(e,"fragShader",s),e.vertShader=r(e,"vertShader",a),e.batchSize=r(e,"batchSize",1),e.vertices=r(e,"vertices",[-1,1,-1,-7,7,1]),e.attributes=r(e,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]),l.call(this,e)},boot:function(){l.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(e,t){l.prototype.resize.call(this,e,t),this.set2f("uResolution",e,t)},beginMask:function(e,t,i){this.renderer.beginBitmapMask(e,i)},endMask:function(e,t,i){var n=this.gl,r=this.renderer,s=e.bitmapMask;s&&n&&(r.drawBitmapMask(s,t,this),i&&this.set2f("uResolution",i.width,i.height),this.set1i("uInvertMaskAlpha",e.invertAlpha),n.drawArrays(this.topology,0,3),i&&this.set2f("uResolution",this.width,this.height),n.bindTexture(n.TEXTURE_2D,null))}});e.exports=h},92651:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(58918),s=i(14811),a=i(95540),o=i(43558),l=i(89350),h=i(70554),u=new n({Extends:o,initialize:function(e){e.shaders=[h.setGlowQuality(l.FXGlowFrag,e.game),l.FXShadowFrag,l.FXPixelateFrag,l.FXVignetteFrag,l.FXShineFrag,l.FXBlurLowFrag,l.FXBlurMedFrag,l.FXBlurHighFrag,l.FXGradientFrag,l.FXBloomFrag,l.ColorMatrixFrag,l.FXCircleFrag,l.FXBarrelFrag,l.FXDisplacementFrag,l.FXWipeFrag,l.FXBokehFrag],o.call(this,e);var t=this.game;this.glow=new r.Glow(t),this.shadow=new r.Shadow(t),this.pixelate=new r.Pixelate(t),this.vignette=new r.Vignette(t),this.shine=new r.Shine(t),this.gradient=new r.Gradient(t),this.circle=new r.Circle(t),this.barrel=new r.Barrel(t),this.wipe=new r.Wipe(t),this.bokeh=new r.Bokeh(t);var i=[];i[s.GLOW]=this.onGlow,i[s.SHADOW]=this.onShadow,i[s.PIXELATE]=this.onPixelate,i[s.VIGNETTE]=this.onVignette,i[s.SHINE]=this.onShine,i[s.BLUR]=this.onBlur,i[s.GRADIENT]=this.onGradient,i[s.BLOOM]=this.onBloom,i[s.COLOR_MATRIX]=this.onColorMatrix,i[s.CIRCLE]=this.onCircle,i[s.BARREL]=this.onBarrel,i[s.DISPLACEMENT]=this.onDisplacement,i[s.WIPE]=this.onWipe,i[s.BOKEH]=this.onBokeh,this.fxHandlers=i,this.source,this.target,this.swap},onDraw:function(e,t,i){this.source=e,this.target=t,this.swap=i;var n=e.width,r=e.height,s=this.tempSprite,a=this.fxHandlers;if(s&&s.preFX)for(var o=s.preFX.list,l=0;l<o.length;l++){var h=o[l];h.active&&a[h.type].call(this,h,n,r)}this.drawToGame(this.source)},runDraw:function(){var e=this.source,t=this.target;this.copy(e,t),this.source=t,this.target=e},onGlow:function(e,t,i){var n=this.shaders[s.GLOW];this.setShader(n),this.glow.onPreRender(e,n,t,i),this.runDraw()},onShadow:function(e){var t=this.shaders[s.SHADOW];this.setShader(t),this.shadow.onPreRender(e,t),this.runDraw()},onPixelate:function(e,t,i){var n=this.shaders[s.PIXELATE];this.setShader(n),this.pixelate.onPreRender(e,n,t,i),this.runDraw()},onVignette:function(e){var t=this.shaders[s.VIGNETTE];this.setShader(t),this.vignette.onPreRender(e,t),this.runDraw()},onShine:function(e,t,i){var n=this.shaders[s.SHINE];this.setShader(n),this.shine.onPreRender(e,n,t,i),this.runDraw()},onBlur:function(e,t,i){var n=a(e,"quality"),r=this.shaders[s.BLUR+n];this.setShader(r),this.set1i("uMainSampler",0),this.set2f("resolution",t,i),this.set1f("strength",a(e,"strength")),this.set3fv("color",a(e,"glcolor"));for(var o=a(e,"x"),l=a(e,"y"),h=a(e,"steps"),u=0;u<h;u++)this.set2f("offset",o,0),this.runDraw(),this.set2f("offset",0,l),this.runDraw()},onGradient:function(e){var t=this.shaders[s.GRADIENT];this.setShader(t),this.gradient.onPreRender(e,t),this.runDraw()},onBloom:function(e,t,i){var n=this.shaders[s.BLOOM];this.copySprite(this.source,this.swap),this.setShader(n),this.set1i("uMainSampler",0),this.set1f("strength",a(e,"blurStrength")),this.set3fv("color",a(e,"glcolor"));for(var r=2/t*a(e,"offsetX"),o=2/i*a(e,"offsetY"),l=a(e,"steps"),h=0;h<l;h++)this.set2f("offset",r,0),this.runDraw(),this.set2f("offset",0,o),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(e,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(e){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",e.getData()),this.set1f("uAlpha",e.alpha),this.runDraw()},onCircle:function(e,t,i){var n=this.shaders[s.CIRCLE];this.setShader(n),this.circle.onPreRender(e,n,t,i),this.runDraw()},onBarrel:function(e){var t=this.shaders[s.BARREL];this.setShader(t),this.barrel.onPreRender(e,t),this.runDraw()},onDisplacement:function(e){this.setShader(this.shaders[s.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.runDraw()},onWipe:function(e){var t=this.shaders[s.WIPE];this.setShader(t),this.wipe.onPreRender(e,t),this.runDraw()},onBokeh:function(e,t,i){var n=this.shaders[s.BOKEH];this.setShader(n),this.bokeh.onPreRender(e,n,t,i),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,o.prototype.destroy.call(this),this}});e.exports=u},96569:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(31063),a=i(57516),o=i(61340),l=i(26099),h=i(29100),u=new n({Extends:a,initialize:function(e){var t=r(e,"fragShader",s);e.fragShader=t.replace("%LIGHT_COUNT%",e.game.renderer.config.maxLights),a.call(this,e),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new l,this._tempMatrix=new o,this._tempMatrix2=new o},boot:function(){h.prototype.boot.call(this)},onRender:function(e,t){var i,n=e.sys.lights;if(this.lightsActive=!1,n&&n.active){var r=n.getLights(t),s=r.length;this.lightsActive=!0;var a=this.renderer.height,o=t.matrix,l=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",t.x,t.y,t.rotation,t.zoom),this.set3f("uAmbientLightColor",n.ambientColor.r,n.ambientColor.g,n.ambientColor.b),this.set1i("uLightCount",s),i=0;i<s;i++){var h=r[i].light,u=h.color,c="uLights["+i+"].";o.transformPoint(h.x,h.y,l),this.set2f(c+"position",l.x-t.scrollX*h.scrollFactorX*t.zoom,a-(l.y-t.scrollY*h.scrollFactorY*t.zoom)),this.set3f(c+"color",u.r,u.g,u.b),this.set1f(c+"intensity",h.intensity),this.set1f(c+"radius",h.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(e){if(e!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var t=this.inverseRotationMatrix;if(e){var i=-e,n=Math.cos(i),r=Math.sin(i);t[1]=r,t[3]=-r,t[0]=t[4]=n}else t[0]=t[4]=1,t[1]=t[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,t),this.currentNormalMapRotation=e}},setTexture2D:function(e,t){var i=this.renderer;void 0===e&&(e=i.whiteTexture);var n=this.getNormalMap(t);this.isNewNormalMap(e,n)&&(this.flush(),this.createBatch(e),this.addTextureToBatch(n),this.currentNormalMap=n);var r=0;return t&&t.parentContainer?r=t.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:t&&(r=t.rotation),null===this.currentBatch&&(this.createBatch(e),this.addTextureToBatch(n)),this.setNormalMapRotation(r),0},setGameObject:function(e,t){void 0===t&&(t=e.frame);var i=t.glTexture,n=this.getNormalMap(e);if(this.isNewNormalMap(i,n)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(n),this.currentNormalMap=n),e.parentContainer){var r=e.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(r.rotationNormalized)}else this.setNormalMapRotation(e.rotation);return null===this.currentBatch&&(this.createBatch(i),this.addTextureToBatch(n)),0},isNewNormalMap:function(e,t){return this.currentTexture!==e||this.currentNormalMap!==t},getNormalMap:function(e){var t;return e&&(e.displayTexture?t=e.displayTexture.dataSource[e.displayFrame.sourceIndex]:e.texture?t=e.texture.dataSource[e.frame.sourceIndex]:e.tileset&&(t=Array.isArray(e.tileset)?e.tileset[0].image.dataSource[0]:e.tileset.image.dataSource[0]),t)?t.glTexture:this.renderer.normalTexture},batchSprite:function(e,t,i){this.lightsActive&&a.prototype.batchSprite.call(this,e,t,i)},batchTexture:function(e,t,i,n,r,s,o,l,h,u,c,d,f,p,m,g,v,y,b,x,E,w,S,T,A,_,C,I,P,R,O,M){this.lightsActive&&a.prototype.batchTexture.call(this,e,t,i,n,r,s,o,l,h,u,c,d,f,p,m,g,v,y,b,x,E,w,S,T,A,_,C,I,P,R,O,M)},batchTextureFrame:function(e,t,i,n,r,s,o){this.lightsActive&&a.prototype.batchTextureFrame.call(this,e,t,i,n,r,s,o)}});e.exports=u},56527:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(57516),a=i(45561),o=i(60722),l=i(14500),h=i(29100),u=new n({Extends:s,initialize:function(e){e.fragShader=r(e,"fragShader",a),e.vertShader=r(e,"vertShader",o),e.attributes=r(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),e.forceZero=!0,e.resizeUniform="uResolution",s.call(this,e)},boot:function(){h.prototype.boot.call(this);var e=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",e.width,e.height)}});e.exports=u},57516:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(94811),s=i(95540),a=i(98840),o=i(44667),l=i(61340),h=i(70554),u=i(14500),c=i(29100),d=new n({Extends:c,initialize:function(e){var t=e.game.renderer,i=s(e,"fragShader",a);e.fragShader=h.parseFragmentShaderMaxTextures(i,t.maxTextures),e.vertShader=s(e,"vertShader",o),e.attributes=s(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),e.resizeUniform="uResolution",c.call(this,e),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.calcMatrix=new l,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){c.prototype.boot.call(this);var e=this.renderer;this.set1iv("uMainSampler",e.textureIndexes),this.set2f("uResolution",e.width,e.height)},batchSprite:function(e,t,i){this.manager.set(this,e);var n=this._tempMatrix1,r=this._tempMatrix2,s=this._tempMatrix3,a=e.frame,o=a.glTexture,l=a.u0,u=a.v0,c=a.u1,d=a.v1,f=a.x,p=a.y,m=a.cutWidth,g=a.cutHeight,v=a.customPivot,y=e.displayOriginX,b=e.displayOriginY,x=-y+f,E=-b+p;if(e.isCropped){var w=e._crop;(w.flipX!==e.flipX||w.flipY!==e.flipY)&&a.updateCropUVs(w,e.flipX,e.flipY),l=w.u0,u=w.v0,c=w.u1,d=w.v1,m=w.width,g=w.height,f=w.x,p=w.y,x=-y+f,E=-b+p}var S=1,T=1;e.flipX&&(v||(x+=-a.realWidth+2*y),S=-1),e.flipY&&(v||(E+=-a.realHeight+2*b),T=-1);var A=e.x,_=e.y;t.roundPixels&&(A=Math.floor(A),_=Math.floor(_)),r.applyITRS(A,_,e.rotation,e.scaleX*S,e.scaleY*T),n.copyFrom(t.matrix),i?(n.multiplyWithOffset(i,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),r.e=A,r.f=_):(r.e-=t.scrollX*e.scrollFactorX,r.f-=t.scrollY*e.scrollFactorY),n.multiply(r,s);var C=s.setQuad(x,E,x+m,E+g,t.renderRoundPixels),I=h.getTintAppendFloatAlpha,P=t.alpha,R=I(e.tintTopLeft,P*e._alphaTL),O=I(e.tintTopRight,P*e._alphaTR),M=I(e.tintBottomLeft,P*e._alphaBL),L=I(e.tintBottomRight,P*e._alphaBR);this.shouldFlush(6)&&this.flush();var D=this.setGameObject(e,a);this.manager.preBatch(e),this.batchQuad(e,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],l,u,c,d,R,O,M,L,e.tintFill,o,D),this.manager.postBatch(e)},batchTexture:function(e,t,i,n,r,s,a,o,l,h,u,c,d,f,p,m,g,v,y,b,x,E,w,S,T,A,_,C,I,P,R,O,M){void 0===M&&(M=!1),this.manager.set(this,e);var L=this._tempMatrix1,D=this._tempMatrix2,k=this._tempMatrix3,N=v/i+_,F=y/n+C,B=(v+b)/i+_,U=(y+x)/n+C,j=a,V=o,G=-m,W=-g;if(e.isCropped){var z=e._crop,Y=z.width,H=z.height;j=Y,V=H,a=Y,o=H,v=z.x,y=z.y;var X=v,q=y;c&&(X=b-z.x-Y),d&&(q=x-z.y-H),N=X/i+_,F=q/n+C,B=(X+Y)/i+_,U=(q+H)/n+C,G=-m+v,W=-g+y}d^=!R&&t.isRenderTexture?1:0,c&&(j*=-1,G+=a),d&&(V*=-1,W+=o),I.roundPixels&&(r=Math.floor(r),s=Math.floor(s)),D.applyITRS(r,s,u,l,h),L.copyFrom(I.matrix),P?(L.multiplyWithOffset(P,-I.scrollX*f,-I.scrollY*p),D.e=r,D.f=s):(D.e-=I.scrollX*f,D.f-=I.scrollY*p),L.multiply(D,k);var K=k.setQuad(G,W,G+j,W+V,I.renderRoundPixels);null==O&&(O=this.setTexture2D(t)),e&&!M&&this.manager.preBatch(e),this.batchQuad(e,K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],N,F,B,U,E,w,S,T,A,t,O),e&&!M&&this.manager.postBatch(e)},batchTextureFrame:function(e,t,i,n,r,s,a){this.manager.set(this);var o=this._tempMatrix1.copyFrom(s),l=this._tempMatrix2;a?o.multiply(a,l):l=o;var u=l.setQuad(t,i,t+e.width,i+e.height),c=this.setTexture2D(e.source.glTexture);n=h.getTintAppendFloatAlpha(n,r),this.batchQuad(null,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],e.u0,e.v0,e.u1,e.v1,n,n,n,n,0,e.glTexture,c)},batchFillRect:function(e,t,i,n,r,s){this.renderer.pipelines.set(this);var a=this.calcMatrix;s&&s.multiply(r,a);var o=a.setQuad(e,t,e+i,t+n),l=this.fillTint;this.batchQuad(null,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],0,0,1,1,l.TL,l.TR,l.BL,l.BR,2)},batchFillTriangle:function(e,t,i,n,r,s,a,o){this.renderer.pipelines.set(this);var l=this.calcMatrix;o&&o.multiply(a,l);var h=l.getX(e,t),u=l.getY(e,t),c=l.getX(i,n),d=l.getY(i,n),f=l.getX(r,s),p=l.getY(r,s),m=this.fillTint;this.batchTri(null,h,u,c,d,f,p,0,0,1,1,m.TL,m.TR,m.BL,2)},batchStrokeTriangle:function(e,t,i,n,r,s,a,o,l){var h=this.tempTriangle;h[0].x=e,h[0].y=t,h[0].width=a,h[1].x=i,h[1].y=n,h[1].width=a,h[2].x=r,h[2].y=s,h[2].width=a,h[3].x=e,h[3].y=t,h[3].width=a,this.batchStrokePath(h,a,!1,o,l)},batchFillPath:function(e,t,i){this.renderer.pipelines.set(this);var n,s,a=this.calcMatrix;i&&i.multiply(t,a);for(var o=e.length,l=this.polygonCache,h=this.fillTint.TL,u=this.fillTint.TR,c=this.fillTint.BL,d=0;d<o;++d)s=e[d],l.push(s.x,s.y);o=(n=r(l)).length;for(var f=0;f<o;f+=3){var p=2*n[f+0],m=2*n[f+1],g=2*n[f+2],v=l[p+0],y=l[p+1],b=l[m+0],x=l[m+1],E=l[g+0],w=l[g+1],S=a.getX(v,y),T=a.getY(v,y),A=a.getX(b,x),_=a.getY(b,x),C=a.getX(E,w),I=a.getY(E,w);this.batchTri(null,S,T,A,_,C,I,0,0,1,1,h,u,c,2)}l.length=0},batchStrokePath:function(e,t,i,n,r){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var s=e.length-1,a=0;a<s;a++){var o=e[a],l=e[a+1];this.batchLine(o.x,o.y,l.x,l.y,o.width/2,l.width/2,t,a,!i&&a===s-1,n,r)}},batchLine:function(e,t,i,n,r,s,a,o,l,h,u){this.renderer.pipelines.set(this);var c=this.calcMatrix;u&&u.multiply(h,c);var d=i-e,f=n-t,p=Math.sqrt(d*d+f*f);if(0!==p){var m=r*(n-t)/p,g=r*(e-i)/p,v=s*(n-t)/p,y=s*(e-i)/p,b=i-v,x=n-y,E=e-m,w=t-g,S=i+v,T=n+y,A=e+m,_=t+g,C=c.getX(b,x),I=c.getY(b,x),P=c.getX(E,w),R=c.getY(E,w),O=c.getX(S,T),M=c.getY(S,T),L=c.getX(A,_),D=c.getY(A,_),k=this.strokeTint,N=k.TL,F=k.TR,B=k.BL,U=k.BR;if(this.batchQuad(null,L,D,P,R,C,I,O,M,0,0,1,1,N,F,B,U,2),!(a<=2)){var j=this.prevQuad,V=this.firstQuad;o>0&&j[4]?this.batchQuad(null,L,D,P,R,j[0],j[1],j[2],j[3],0,0,1,1,N,F,B,U,2):(V[0]=L,V[1]=D,V[2]=P,V[3]=R,V[4]=1),l&&V[4]?this.batchQuad(null,C,I,O,M,V[0],V[1],V[2],V[3],0,0,1,1,N,F,B,U,2):(j[0]=C,j[1]=I,j[2]=O,j[3]=M,j[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,c.prototype.destroy.call(this),this}});e.exports=d},43439:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(4127),a=i(89924),o=i(29100),l=new n({Extends:o,initialize:function(e){e.vertShader=r(e,"vertShader",a),e.fragShader=r(e,"fragShader",s),e.attributes=r(e,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),o.call(this,e)},onRender:function(e,t){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",t.zoom)},batchPointLight:function(e,t,i,n,r,s,a,o,l,h,u,c){var d=e.color,f=e.intensity,p=e.radius,m=e.attenuation,g=d.r*f,v=d.g*f,y=d.b*f,b=t.alpha*e.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,n,u,c,p,m,g,v,y,b),this.batchLightVert(r,s,u,c,p,m,g,v,y,b),this.batchLightVert(a,o,u,c,p,m,g,v,y,b),this.batchLightVert(i,n,u,c,p,m,g,v,y,b),this.batchLightVert(a,o,u,c,p,m,g,v,y,b),this.batchLightVert(l,h,u,c,p,m,g,v,y,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(e,t,i,n,r,s,a,o,l,h){var u=this.vertexViewF32,c=this.vertexCount*this.currentShader.vertexComponentCount-1;u[++c]=e,u[++c]=t,u[++c]=i,u[++c]=n,u[++c]=r,u[++c]=s,u[++c]=a,u[++c]=o,u[++c]=l,u[++c]=h,this.vertexCount++}});e.exports=l},84057:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89422),s=i(95540),a=i(27681),o=i(49627),l=i(29100),h=new n({Extends:l,initialize:function(e){e.renderTarget=s(e,"renderTarget",1),e.fragShader=s(e,"fragShader",a),e.vertShader=s(e,"vertShader",o),e.attributes=s(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),e.batchSize=1,e.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],l.call(this,e),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new r,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){l.prototype.boot.call(this);var e=this.manager.UTILITY_PIPELINE;this.fullFrame1=e.fullFrame1,this.fullFrame2=e.fullFrame2,this.halfFrame1=e.halfFrame1,this.halfFrame2=e.halfFrame2;var t=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",t.width,t.height);for(var i=this.renderTargets,n=0;n<i.length;n++)i[n].autoResize=!0},postBatch:function(e){return!this.hasBooted&&(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(e),this},onDraw:function(e){this.bindAndDraw(e)},getController:function(e){return void 0!==e?e:this.controller?this.controller:this},copySprite:function(e,t,i){void 0===i&&(i=!1);var n=this.gl;n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.texture.webGLTexture);var r=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.texture.webGLTexture,0),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.bufferData(n.ARRAY_BUFFER,this.vertexData,n.STATIC_DRAW),n.drawArrays(n.TRIANGLES,0,6),i&&(n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,r))},copyFrame:function(e,t,i,n,r){this.manager.copyFrame(e,t,i,n,r)},copyToGame:function(e){this.manager.copyToGame(e)},drawFrame:function(e,t,i){this.manager.drawFrame(e,t,i,this.colorMatrix)},blendFrames:function(e,t,i,n,r){this.manager.blendFrames(e,t,i,n,r)},blendFramesAdditive:function(e,t,i,n,r){this.manager.blendFramesAdditive(e,t,i,n,r)},clearFrame:function(e,t){this.manager.clearFrame(e,t)},blitFrame:function(e,t,i,n,r,s){this.manager.blitFrame(e,t,i,n,r,s)},copyFrameRect:function(e,t,i,n,r,s,a,o){this.manager.copyFrameRect(e,t,i,n,r,s,a,o)},bindAndDraw:function(e,t,i,n,r){void 0===i&&(i=!0),void 0===n&&(n=!0);var s=this.gl,a=this.renderer;this.bind(r),this.set1i("uMainSampler",0),t?(s.viewport(0,0,t.width,t.height),s.bindFramebuffer(s.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,t.texture.webGLTexture,0),i&&(n?s.clearColor(0,0,0,0):s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT))):(a.popFramebuffer(!1,!1),a.currentFramebuffer||s.viewport(0,0,a.width,a.height)),a.restoreStencilMask(),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,e.texture.webGLTexture),s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW),s.drawArrays(s.TRIANGLES,0,6),t&&(s.bindTexture(s.TEXTURE_2D,null),s.bindFramebuffer(s.FRAMEBUFFER,a.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),l.prototype.destroy.call(this),this}});e.exports=h},43558:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(67502),s=i(83419),a=i(96293),o=i(95540),l=i(57516),h=i(27681),u=i(87841),c=i(32302),d=i(45561),f=i(60722),p=i(29100),m=new s({Extends:l,initialize:function(e){var t=o(e,"fragShader",h),i=o(e,"vertShader",f),n=[{name:"DrawSprite",fragShader:d,vertShader:f},{name:"CopySprite",fragShader:t,vertShader:i},{name:"DrawGame",fragShader:o(e,"drawShader",h),vertShader:f},{name:"ColorMatrix",fragShader:a}],r=o(e,"shaders",[]);e.shaders=n.concat(r),e.vertShader||(e.vertShader=i),e.batchSize=1,l.call(this,e),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new u,this.targetBounds=new u,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){p.prototype.boot.call(this);var e=this.shaders,t=this.renderer;this.drawSpriteShader=e[0],this.copyShader=e[1],this.gameShader=e[2],this.colorMatrixShader=e[3],this.fsTarget=new c(t,t.width,t.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var i=new ArrayBuffer(168);this.quadVertexData=i,this.quadVertexViewF32=new Float32Array(i),this.quadVertexBuffer=t.createVertexBuffer(i,this.gl.STATIC_DRAW),this.onResize(t.width,t.height),this.currentShader=this.copyShader,this.set2f("uResolution",t.width,t.height)},onResize:function(e,t){var i=this.quadVertexViewF32;i[1]=t,i[22]=t,i[14]=e,i[28]=e,i[35]=e,i[36]=t},batchQuad:function(e,t,i,n,s,a,o,l,h,u,c,d,f,p,m,g,v,y,b){var x=Math.min(t,n,a,l),E=Math.min(i,s,o,h),w=Math.max(t,n,a,l)-x,S=Math.max(i,s,o,h)-E,T=this.spriteBounds.setTo(x,E,w,S),A=e?e.preFX.padding:0,_=Math.abs(Math.max(w+2*A,S+2*A)),C=this.manager.getRenderTarget(_),I=this.targetBounds.setTo(0,0,C.width,C.height);r(I,Math.round(T.centerX),Math.round(T.centerY)),this.tempSprite=e;var P=this.gl,R=this.renderer;R.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",R.width,R.height),this.flipProjectionMatrix(!0),e&&(this.onDrawSprite(e,C),e.preFX.onFX(this));var O=this.fsTarget;return this.flush(),P.viewport(0,0,R.width,R.height),P.bindFramebuffer(P.FRAMEBUFFER,O.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,O.texture.webGLTexture,0),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT),this.setTexture2D(b),this.batchVert(t,i,u,c,0,y,p),this.batchVert(n,s,u,f,0,y,g),this.batchVert(a,o,d,f,0,y,v),this.batchVert(t,i,u,c,0,y,p),this.batchVert(a,o,d,f,0,y,v),this.batchVert(l,h,d,c,0,y,m),this.flush(),this.flipProjectionMatrix(!1),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,C.texture.webGLTexture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,I.x,I.y,I.width,I.height),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.onBatch(e),this.currentShader=this.copyShader,this.onDraw(C,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(e,t,i,r,s,a,o){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===s&&(s=!1),void 0===o&&(o=this.copyShader);var l=this.gl,h=this.tempSprite;a&&(o=this.colorMatrixShader),this.currentShader=o;var u=this.setVertexBuffer(this.quadVertexBuffer);o.bind(u,!1);var c=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height),h.preFX.onFXCopy(this),this.onCopySprite(e,t,h),a&&(this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha)),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,e.texture.webGLTexture),e.height>t.height)l.viewport(0,0,e.width,e.height),this.setTargetUVs(e,t);else{var d=t.height-e.height;l.viewport(0,d,e.width,e.height),this.resetUVs()}if(l.bindFramebuffer(l.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,t.texture.webGLTexture,0),i&&(l.clearColor(0,0,0,Number(!r)),l.clear(l.COLOR_BUFFER_BIT)),s){var f=this.renderer.currentBlendMode;this.renderer.setBlendMode(n.ERASE)}l.bufferData(l.ARRAY_BUFFER,this.quadVertexData,l.STATIC_DRAW),l.drawArrays(l.TRIANGLES,0,6),s&&this.renderer.setBlendMode(f),l.bindFramebuffer(l.FRAMEBUFFER,null)},copy:function(e,t){var i=this.gl;this.set1i("uMainSampler",0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e.texture.webGLTexture),i.viewport(0,0,e.width,e.height),this.setUVs(0,0,0,1,1,1,1,0),i.bindFramebuffer(i.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.texture.webGLTexture,0),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.bufferData(i.ARRAY_BUFFER,this.quadVertexData,i.STATIC_DRAW),i.drawArrays(i.TRIANGLES,0,6),i.bindFramebuffer(i.FRAMEBUFFER,null)},blendFrames:function(e,t,i,n,r){this.manager.blendFrames(e,t,i,n,r)},blendFramesAdditive:function(e,t,i,n,r){this.manager.blendFramesAdditive(e,t,i,n,r)},drawToGame:function(e){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(e)},copyToGame:function(e){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(e)},bindAndDraw:function(e){var t=this.gl,i=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(e.texture);var n=this._tempMatrix1.loadIdentity(),r=this.targetBounds.x,s=this.targetBounds.y,a=r+e.width,o=s+e.height,l=n.getX(r,s),h=n.getX(r,o),u=n.getX(a,o),c=n.getX(a,s),d=n.getY(r,s),f=n.getY(r,o),p=n.getY(a,o),m=n.getY(a,s);this.batchVert(l,d,0,0,0,0,0xffffff),this.batchVert(h,f,0,1,0,0,0xffffff),this.batchVert(u,p,1,1,0,0,0xffffff),this.batchVert(l,d,0,0,0,0,0xffffff),this.batchVert(u,p,1,1,0,0,0xffffff),this.batchVert(c,m,1,0,0,0,0xffffff),i.restoreFramebuffer(!1,!0),i.currentFramebuffer||t.viewport(0,0,i.width,i.height),i.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(e){this.drawToGame(e)},setUVs:function(e,t,i,n,r,s,a,o){var l=this.quadVertexViewF32;l[2]=e,l[3]=t,l[9]=i,l[10]=n,l[16]=r,l[17]=s,l[23]=e,l[24]=t,l[30]=r,l[31]=s,l[37]=a,l[38]=o},setTargetUVs:function(e,t){var i=t.height/e.height;i=i>.5?.5-(i-.5):.5+(.5-i),this.setUVs(0,i,0,1+i,1,1+i,1,i)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,l.prototype.destroy.call(this),this}});e.exports=m},81041:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(57516),a=new n({Extends:s,initialize:function(e){e.topology=5,e.batchSize=r(e,"batchSize",256),s.call(this,e)}});e.exports=a},12385:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(57516),a=i(45561),o=i(60722),l=i(29100),h=new n({Extends:s,initialize:function(e){e.fragShader=r(e,"fragShader",a),e.vertShader=r(e,"vertShader",o),e.forceZero=!0,s.call(this,e)},boot:function(){l.prototype.boot.call(this);var e=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",e.width,e.height)}});e.exports=h},7589:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35407),r=i(10312),s=i(83419),a=i(89422),o=i(96293),l=i(36682),h=i(95540),u=i(48247),c=i(49627),d=i(29100),f=new s({Extends:d,initialize:function(e){e.renderTarget=h(e,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),e.vertShader=h(e,"vertShader",c),e.shaders=h(e,"shaders",[{name:"Copy",fragShader:l},{name:"AddBlend",fragShader:n},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:o}]),e.attributes=h(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),e.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.batchSize=1,d.call(this,e),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var e=this.shaders,t=this.renderTargets;this.copyShader=e[0],this.addShader=e[1],this.linearShader=e[2],this.colorMatrixShader=e[3],this.fullFrame1=t[0],this.fullFrame2=t[1],this.halfFrame1=t[2],this.halfFrame2=t[3]},copyFrame:function(e,t,i,n,r){void 0===i&&(i=1),void 0===n&&(n=!0),void 0===r&&(r=!0);var s=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",i),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,e.texture.webGLTexture),t?(s.viewport(0,0,t.width,t.height),s.bindFramebuffer(s.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,t.texture.webGLTexture,0)):s.viewport(0,0,e.width,e.height),n&&(r?s.clearColor(0,0,0,0):s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT)),s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW),s.drawArrays(s.TRIANGLES,0,6),s.bindFramebuffer(s.FRAMEBUFFER,null),s.bindTexture(s.TEXTURE_2D,null)},blitFrame:function(e,t,i,n,s,a,o){void 0===i&&(i=1),void 0===n&&(n=!0),void 0===s&&(s=!0),void 0===a&&(a=!1),void 0===o&&(o=!1);var l=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",i),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,e.texture.webGLTexture),e.height>t.height)l.viewport(0,0,e.width,e.height),this.setTargetUVs(e,t);else{var h=t.height-e.height;l.viewport(0,h,e.width,e.height)}if(l.bindFramebuffer(l.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,t.texture.webGLTexture,0),n&&(s?l.clearColor(0,0,0,0):l.clearColor(0,0,0,1),l.clear(l.COLOR_BUFFER_BIT)),a){var u=this.renderer.currentBlendMode;this.renderer.setBlendMode(r.ERASE)}o&&this.flipY(),l.bufferData(l.ARRAY_BUFFER,this.vertexData,l.STATIC_DRAW),l.drawArrays(l.TRIANGLES,0,6),a&&this.renderer.setBlendMode(u),l.bindFramebuffer(l.FRAMEBUFFER,null),l.bindTexture(l.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(e,t,i,n,r,s,a,o){void 0===a&&(a=!0),void 0===o&&(o=!0);var l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,e.texture.webGLTexture,0),a&&(o?l.clearColor(0,0,0,0):l.clearColor(0,0,0,1),l.clear(l.COLOR_BUFFER_BIT)),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,t.texture.webGLTexture),l.copyTexSubImage2D(l.TEXTURE_2D,0,0,0,i,n,r,s),l.bindFramebuffer(l.FRAMEBUFFER,null),l.bindTexture(l.TEXTURE_2D,null)},copyToGame:function(e){var t=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e.texture.webGLTexture),t.bufferData(t.ARRAY_BUFFER,this.vertexData,t.STATIC_DRAW),t.drawArrays(t.TRIANGLES,0,6)},drawFrame:function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=this.colorMatrix);var r=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e.texture.webGLTexture),t?(r.viewport(0,0,t.width,t.height),r.bindFramebuffer(r.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.texture.webGLTexture,0)):r.viewport(0,0,e.width,e.height),i?r.clearColor(0,0,0,0):r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r.bufferData(r.ARRAY_BUFFER,this.vertexData,r.STATIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindTexture(r.TEXTURE_2D,null)},blendFrames:function(e,t,i,n,r,s){void 0===n&&(n=1),void 0===r&&(r=!0),void 0===s&&(s=this.linearShader);var a=this.gl;this.setShader(s),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",n),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,e.texture.webGLTexture),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,t.texture.webGLTexture),i?(a.bindFramebuffer(a.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,i.texture.webGLTexture,0),a.viewport(0,0,i.width,i.height)):a.viewport(0,0,e.width,e.height),r?a.clearColor(0,0,0,0):a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT),a.bufferData(a.ARRAY_BUFFER,this.vertexData,a.STATIC_DRAW),a.drawArrays(a.TRIANGLES,0,6),a.bindFramebuffer(a.FRAMEBUFFER,null),a.bindTexture(a.TEXTURE_2D,null)},blendFramesAdditive:function(e,t,i,n,r){this.blendFrames(e,t,i,n,r,this.addShader)},clearFrame:function(e,t){void 0===t&&(t=!0);var i=this.gl;i.viewport(0,0,e.width,e.height),i.bindFramebuffer(i.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),t?i.clearColor(0,0,0,0):i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT);var n=this.renderer.currentFramebuffer;i.bindFramebuffer(i.FRAMEBUFFER,n.webGLFramebuffer)},setUVs:function(e,t,i,n,r,s,a,o){var l=this.vertexViewF32;l[2]=e,l[3]=t,l[6]=i,l[7]=n,l[10]=r,l[11]=s,l[14]=e,l[15]=t,l[18]=r,l[19]=s,l[22]=a,l[23]=o},setTargetUVs:function(e,t){var i=t.height/e.height;i=i>.5?.5-(i-.5):.5+(.5-i),this.setUVs(0,i,0,1+i,1,1+i,1,i)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});e.exports=f},36060:e=>{e.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelineafterflush"},36712:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelinebeforeflush"},40285:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelinebind"},65918:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelineboot"},92852:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelinedestroy"},56072:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelinerebind"},57566:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelineresize"},77085:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(99155),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.amount=1},onPreRender:function(e,t){e=this.getController(e),this.set1f("amount",e.amount,t)}});e.exports=a},67329:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(24400),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(e){e=this.getController(e),this.set1f("strength",e.blurStrength),this.set3fv("color",e.glcolor)},onDraw:function(e){var t=this.getController(),i=this.fullFrame1,n=this.fullFrame2;this.copyFrame(e,n);for(var r=2/e.width*t.offsetX,s=2/e.height*t.offsetY,a=0;a<t.steps;a++)this.set2f("offset",r,0),this.copySprite(e,i),this.set2f("offset",0,s),this.copySprite(i,e);this.blendFrames(n,e,i,t.strength),this.copyToGame(i)}});e.exports=a},8861:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(41514),s=i(51078),a=i(94328),o=i(84057),l=new n({Extends:o,initialize:function(e){o.call(this,{game:e,shaders:[{name:"Gaussian5",fragShader:r},{name:"Gaussian9",fragShader:s},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(e){var t=this.getController(),i=this.gl,n=this.fullFrame1,r=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[t.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,e.width,e.height),this.set1i("uMainSampler",0),this.set2f("resolution",e.width,e.height),this.set1f("strength",t.strength),this.set3fv("color",t.glcolor);for(var s=0;s<t.steps;s++)this.set2f("offset",t.x,0),this.copySprite(e,n),this.set2f("offset",0,t.y),this.copySprite(n,e);i.bindFramebuffer(i.FRAMEBUFFER,r),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(e)}});e.exports=l},51051:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(90610),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(e,t,i,n){e=this.getController(e),this.set1f("radius",e.radius,t),this.set1f("amount",e.amount,t),this.set1f("contrast",e.contrast,t),this.set1f("strength",e.strength,t),this.set2f("blur",e.blurX,e.blurY,t),this.setBoolean("isTiltShift",e.isTiltShift,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=a},89428:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(91899),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(e,t,i,n){e=this.getController(e),this.set1f("scale",e.scale,t),this.set1f("feather",e.feather,t),this.set1f("thickness",e.thickness,t),this.set3fv("color",e.glcolor,t),this.set4fv("backgroundColor",e.glcolor2,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=a},88904:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(84057),s=new n({Extends:r,initialize:function(e){r.call(this,{game:e})},onDraw:function(e){var t=this.fullFrame1;this.controller?this.manager.drawFrame(e,t,!0,this.controller):this.drawFrame(e,t),this.copyToGame(t)}});e.exports=s},63563:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(47838),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(e){var t=this.game.textures.getFrame(e);t&&(this.glTexture=t.glTexture)},onDraw:function(e){var t=this.getController(),i=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",t.x,t.y),this.bindTexture(t.glTexture,1),this.copySprite(e,i),this.copyToGame(i)}});e.exports=a},94045:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(98656),a=i(84057),o=i(70554),l=new n({Extends:a,initialize:function(e,t){var i=r(t,"quality",.1),n=r(t,"distance",10);a.call(this,{game:e,fragShader:o.setGlowQuality(s,e,i,n)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(e,t,i,n){e=this.getController(e),this.set1f("outerStrength",e.outerStrength,t),this.set1f("innerStrength",e.innerStrength,t),this.set4fv("glowColor",e.glcolor,t),this.setBoolean("knockout",e.knockout,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=l},74088:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(70463),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(e,t){e=this.getController(e),this.set1f("alpha",e.alpha,t),this.set1i("size",e.size,t),this.set3fv("color1",e.glcolor1,t),this.set3fv("color2",e.glcolor2,t),this.set2f("positionFrom",e.fromX,e.fromY,t),this.set2f("positionTo",e.toX,e.toY,t)}});e.exports=a},99636:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50831),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.amount=1},onPreRender:function(e,t,i,n){e=this.getController(e),this.set1f("amount",e.amount,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=a},34700:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92595),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(e,t){var i=(e=this.getController(e)).samples;this.set1i("samples",i,t),this.set1f("intensity",e.intensity,t),this.set1f("decay",e.decay,t),this.set1f("power",e.power/i,t),this.set2f("lightPosition",e.x,e.y,t),this.set4fv("color",e.glcolor,t)}});e.exports=a},91157:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72464),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(e,t,i,n){e=this.getController(e),this.setTime("time",t),this.set1f("speed",e.speed,t),this.set1f("lineWidth",e.lineWidth,t),this.set1f("gradient",e.gradient,t),this.setBoolean("reveal",e.reveal,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=a},27797:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(39249),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(e,t){e=this.getController(e),this.set1f("radius",e.radius,t),this.set1f("strength",e.strength,t),this.set2f("position",e.x,e.y,t)}});e.exports=a},67603:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(2878),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(e,t){var i=(e=this.getController(e)).progress,n=e.wipeWidth,r=e.direction,s=e.axis;this.set4f("config",i,n,r,s,t),this.setBoolean("reveal",e.reveal,t)}});e.exports=a},58918:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};e.exports=n},96615:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36060),r=i(79291),s={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};s=r(!1,s,n),e.exports=s},35407:e=>{e.exports="#define SHADER_NAME PHASER_ADD_BLEND_FS\nprecision mediump float;\nuniform sampler2D uMainSampler1;\nuniform sampler2D uMainSampler2;\nuniform float uStrength;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);\n    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);\n    gl_FragColor = frame1 + frame2 * uStrength;\n}"},78908:e=>{e.exports="#define SHADER_NAME PHASER_BITMAP_MASK_FS\nprecision mediump float;\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uMaskSampler;\nuniform bool uInvertMaskAlpha;\nvoid main ()\n{\n    vec2 uv = gl_FragCoord.xy / uResolution;\n    vec4 mainColor = texture2D(uMainSampler, uv);\n    vec4 maskColor = texture2D(uMaskSampler, uv);\n    if (!uInvertMaskAlpha)\n    {\n        mainColor *= maskColor.a;\n    }\n    else\n    {\n        mainColor *= (1.0 - maskColor.a);\n    }\n    gl_FragColor = mainColor;\n}"},85191:e=>{e.exports="#define SHADER_NAME PHASER_BITMAP_MASK_VS\nprecision mediump float;\nattribute vec2 inPosition;\nvoid main ()\n{\n    gl_Position = vec4(inPosition, 0.0, 1.0);\n}"},96293:e=>{e.exports="#define SHADER_NAME PHASER_COLORMATRIX_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float uColorMatrix[20];\nuniform float uAlpha;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 c = texture2D(uMainSampler, outTexCoord);\n    if (uAlpha == 0.0)\n    {\n        gl_FragColor = c;\n        return;\n    }\n    if (c.a > 0.0)\n    {\n        c.rgb /= c.a;\n    }\n    vec4 result;\n    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];\n    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];\n    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];\n    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n    rgb *= result.a;\n    gl_FragColor = vec4(rgb, result.a);\n}"},36682:e=>{e.exports="#define SHADER_NAME PHASER_COPY_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float uBrightness;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;\n}"},99155:e=>{e.exports="#define SHADER_NAME BARREL_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float amount;\nvarying vec2 outTexCoord;\nvec2 Distort(vec2 p)\n{\n    float theta  = atan(p.y, p.x);\n    float radius = length(p);\n    radius = pow(radius, amount);\n    p.x = radius * cos(theta);\n    p.y = radius * sin(theta);\n    return 0.5 * (p + 1.0);\n}\nvoid main()\n{\n    vec2 xy = 2.0 * outTexCoord - 1.0;\n    vec2 texCoord = outTexCoord;\n    if (length(xy) < 1.0)\n    {\n        texCoord = Distort(xy);\n    }\n    gl_FragColor = texture2D(uMainSampler, texCoord);\n}"},24400:e=>{e.exports="#define SHADER_NAME BLOOM_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;\n    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;\n    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;\n    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;\n    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);\n}"},94328:e=>{e.exports="#define SHADER_NAME BLUR_HIGH_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv = outTexCoord;\n    vec4 col = vec4(0.0);\n    vec2 off1 = vec2(1.411764705882353) * offset * strength;\n    vec2 off2 = vec2(3.2941176470588234) * offset * strength;\n    vec2 off3 = vec2(5.176470588235294) * offset * strength;\n    col += texture2D(uMainSampler, uv) * 0.1964825501511404;\n    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;\n    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;\n    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;\n    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;\n    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;\n    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;\n    gl_FragColor = col * vec4(color, 1.0);\n}"},41514:e=>{e.exports="#define SHADER_NAME BLUR_LOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv = outTexCoord;\n    vec4 col = vec4(0.0);\n    vec2 offset = vec2(1.333) * offset * strength;\n    col += texture2D(uMainSampler, uv) * 0.29411764705882354;\n    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;\n    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;\n    gl_FragColor = col * vec4(color, 1.0);\n}"},51078:e=>{e.exports="#define SHADER_NAME BLUR_MED_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv = outTexCoord;\n    vec4 col = vec4(0.0);\n    vec2 off1 = vec2(1.3846153846) * offset * strength;\n    vec2 off2 = vec2(3.2307692308) * offset * strength;\n    col += texture2D(uMainSampler, uv) * 0.2270270270;\n    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;\n    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;\n    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;\n    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;\n    gl_FragColor = col * vec4(color, 1.0);\n}"},90610:e=>{e.exports="#define SHADER_NAME BOKEH_FS\nprecision mediump float;\n#define ITERATIONS 100.0\n#define ONEOVER_ITR 1.0 / ITERATIONS\n#define PI 3.141596\n#define GOLDEN_ANGLE 2.39996323\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform float radius;\nuniform float amount;\nuniform float contrast;\nuniform bool isTiltShift;\nuniform float strength;\nuniform vec2 blur;\nvarying vec2 outTexCoord;\nvec2 Sample (in float theta, inout float r)\n{\n    r += 1.0 / r;\n    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;\n}\nvec3 Bokeh (sampler2D tex, vec2 uv, float radius)\n{\n    vec3 acc = vec3(0.0);\n    vec3 div = vec3(0.0);\n    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;\n    float r = 1.0;\n    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)\n    {\n        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;\n        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;\n        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;\n        acc += col * bokeh;\n        div += bokeh;\n    }\n    return acc / div;\n}\nvoid main ()\n{\n    float shift = 1.0;\n    if (isTiltShift)\n    {\n        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;\n        float centerStrength = 1.0;\n        shift = length(uv * blur * strength) * centerStrength;\n    }\n    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);\n}"},91899:e=>{e.exports="#define SHADER_NAME CIRCLE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec3 color;\nuniform vec4 backgroundColor;\nuniform float thickness;\nuniform float scale;\nuniform float feather;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;\n    float aspectRatio = resolution.x / resolution.y;\n    position.x *= aspectRatio;\n    float grad = length(position);\n    float outer = aspectRatio;\n    float inner = outer - (thickness * 2.0 / resolution.y);\n    if (aspectRatio >= 1.0)\n    {\n        float f = 2.0 + (resolution.y / resolution.x);\n        outer = 1.0;\n        inner = 1.0 - (thickness * f / resolution.x);\n    }\n    outer *= scale;\n    inner *= scale;\n    float circle = smoothstep(outer, outer - 0.01, grad);\n    float ring = circle - smoothstep(inner, inner - feather, grad);\n    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);\n    texture = (texture * (circle - ring));\n    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);\n}"},47838:e=>{e.exports="#define SHADER_NAME DISPLACEMENT_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform sampler2D uDisplacementSampler;\nuniform vec2 amount;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;\n    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;\n}"},98656:e=>{e.exports="#define SHADER_NAME GLOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec2 resolution;\nuniform vec4 glowColor;\nuniform bool knockout;\nconst float PI = 3.14159265358979323846264;\nconst float DIST = __DIST__;\nconst float SIZE = min(__SIZE__, PI * 2.0);\nconst float STEP = ceil(PI * 2.0 / SIZE);\nconst float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;\nvoid main ()\n{\n    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    float totalAlpha = 0.0;\n    vec2 direction;\n    vec2 displaced;\n    vec4 color;\n    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)\n    {\n        direction = vec2(cos(angle), sin(angle)) * px;\n        for (float curDistance = 0.0; curDistance < DIST; curDistance++)\n        {\n            displaced = outTexCoord + direction * (curDistance + 1.0);\n            color = texture2D(uMainSampler, displaced);\n            totalAlpha += (DIST - curDistance) * color.a;\n        }\n    }\n    color = texture2D(uMainSampler, outTexCoord);\n    float alphaRatio = (totalAlpha / MAX_ALPHA);\n    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;\n    float innerGlowStrength = min(1.0, innerGlowAlpha);\n    vec4 innerColor = mix(color, glowColor, innerGlowStrength);\n    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);\n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);\n    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;\n    if (knockout)\n    {\n        float resultAlpha = outerGlowAlpha + innerGlowAlpha;\n        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);\n    }\n    else\n    {\n        gl_FragColor = innerColor + outerGlowColor;\n    }\n}"},70463:e=>{e.exports="#define SHADER_NAME GRADIENT_FS\n#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))\n#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))\n#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 positionFrom;\nuniform vec2 positionTo;\nuniform vec3 color1;\nuniform vec3 color2;\nuniform float alpha;\nuniform int size;\nvarying vec2 outTexCoord;\nfloat gradientNoise(in vec2 uv)\n{\n    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);\n    return fract(magic.z * fract(dot(uv, magic.xy)));\n}\nfloat stepped (in float s, in float scale, in int steps)\n{\n    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;\n}\nvoid main ()\n{\n    vec2 a = positionFrom;\n    vec2 b = positionTo;\n    vec2 ba = b - a;\n    float d = dot(outTexCoord - a, ba) / dot(ba, ba);\n    float t = size > 0 ? stepped(d, 1.0, size) : d;\n    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));\n    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);\n    color = LINEAR_TO_SRGB(color);\n    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;\n}"},50831:e=>{e.exports="#define SHADER_NAME PIXELATE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform float amount;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    float pixelSize = floor(2.0 + amount);\n    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);\n    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);\n    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);\n    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);\n    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);\n    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);\n    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);\n    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);\n    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);\n    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);\n    gl_FragColor = pixel;\n}"},92595:e=>{e.exports="#define SHADER_NAME SHADOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nuniform vec2 lightPosition;\nuniform vec4 color;\nuniform float decay;\nuniform float power;\nuniform float intensity;\nuniform int samples;\nconst int MAX = 12;\nvoid main ()\n{\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec2 pc = (lightPosition - outTexCoord) * intensity;\n    float shadow = 0.0;\n    float limit = max(float(MAX), float(samples));\n    for (int i = 0; i < MAX; ++i)\n    {\n        if (i >= samples)\n        {\n            break;\n        }\n        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;\n    }\n    float mask = 1.0 - texture.a;\n    gl_FragColor = mix(texture, color, shadow * mask);\n}"},72464:e=>{e.exports="#define SHADER_NAME SHINE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform bool reveal;\nuniform float speed;\nuniform float time;\nuniform float lineWidth;\nuniform float gradient;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n	vec2 uv = gl_FragCoord.xy / resolution.xy;\n    vec4 tex = texture2D(uMainSampler, outTexCoord);\n    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);\n    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);\n    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;\n    float y = uv.x * gradient;\n    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);\n    gl_FragColor = (((s * col1) + (s * col2)) * tex);\n    if (!reveal)\n    {\n        gl_FragColor += tex;\n    }\n}"},39249:e=>{e.exports="#define SHADER_NAME VIGNETTE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float radius;\nuniform float strength;\nuniform vec2 position;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 col = vec4(1.0);\n    float d = length(outTexCoord - position);\n    if (d <= radius)\n    {\n        float g = d / radius;\n        g = sin(g * 3.14 * strength);\n    	col = vec4(g * g * g);\n    }\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    gl_FragColor = texture * (1.0 - col);\n}"},2878:e=>{e.exports="#define SHADER_NAME WIPE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec4 config;\nuniform bool reveal;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv = outTexCoord;\n    vec4 color0;\n    vec4 color1;\n    if (reveal)\n    {\n        color0 = vec4(0);\n        color1 = texture2D(uMainSampler, uv);\n    }\n    else\n    {\n        color0 = texture2D(uMainSampler, uv);\n        color1 = vec4(0);\n    }\n    float distance = config.x;\n    float width = config.y;\n    float direction = config.z;\n    float axis = uv.x;\n    if (config.w == 1.0)\n    {\n        axis = uv.y;\n    }\n    float adjust = mix(width, -width, distance);\n    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);\n    gl_FragColor = mix(color1, color0, value);\n}"},31063:e=>{e.exports="#define SHADER_NAME PHASER_LIGHT_FS\nprecision mediump float;\nstruct Light\n{\n    vec2 position;\n    vec3 color;\n    float intensity;\n    float radius;\n};\nconst int kMaxLights = %LIGHT_COUNT%;\nuniform vec4 uCamera; /* x, y, rotation, zoom */\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uNormSampler;\nuniform vec3 uAmbientLightColor;\nuniform Light uLights[kMaxLights];\nuniform mat3 uInverseRotationMatrix;\nuniform int uLightCount;\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec3 finalColor = vec3(0.0, 0.0, 0.0);\n    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec4 color = texture * texel;\n    if (outTintEffect == 1.0)\n    {\n        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect == 2.0)\n    {\n        color = texel;\n    }\n    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;\n    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));\n    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;\n    for (int index = 0; index < kMaxLights; ++index)\n    {\n        if (index < uLightCount)\n        {\n            Light light = uLights[index];\n            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);\n            vec3 lightNormal = normalize(lightDir);\n            float distToSurf = length(lightDir) * uCamera.w;\n            float diffuseFactor = max(dot(normal, lightNormal), 0.0);\n            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;\n            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);\n            vec3 diffuse = light.color * diffuseFactor;\n            finalColor += (attenuation * diffuse) * light.intensity;\n        }\n    }\n    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);\n    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);\n}"},48247:e=>{e.exports="#define SHADER_NAME PHASER_LINEAR_BLEND_FS\nprecision mediump float;\nuniform sampler2D uMainSampler1;\nuniform sampler2D uMainSampler2;\nuniform float uStrength;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);\n    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);\n    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);\n}"},41214:e=>{e.exports="#define SHADER_NAME PHASER_MESH_FS\nprecision mediump float;\nuniform vec3 uLightPosition;\nuniform vec3 uLightAmbient;\nuniform vec3 uLightDiffuse;\nuniform vec3 uLightSpecular;\nuniform vec3 uFogColor;\nuniform float uFogNear;\nuniform float uFogFar;\nuniform vec3 uMaterialAmbient;\nuniform vec3 uMaterialDiffuse;\nuniform vec3 uMaterialSpecular;\nuniform float uMaterialShine;\nuniform vec3 uCameraPosition;\nuniform sampler2D uTexture;\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvoid main (void)\n{\n    vec4 color = texture2D(uTexture, vTextureCoord);\n    vec3 ambient = uLightAmbient * uMaterialAmbient;\n    vec3 norm = normalize(vNormal);\n    vec3 lightDir = normalize(uLightPosition - vPosition);\n    float diff = max(dot(norm, lightDir), 0.0);\n    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);\n    vec3 viewDir = normalize(uCameraPosition - vPosition);\n    vec3 reflectDir = reflect(-lightDir, norm);\n    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);\n    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);\n    vec3 result = (ambient + diffuse + specular) * color.rgb;\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep(uFogNear, uFogFar, depth);\n    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);\n    gl_FragColor.a = color.a;\n}"},39653:e=>{e.exports="#define SHADER_NAME PHASER_MESH_VS\nprecision mediump float;\nattribute vec3 aVertexPosition;\nattribute vec3 aVertexNormal;\nattribute vec2 aTextureCoord;\nuniform mat4 uViewProjectionMatrix;\nuniform mat4 uModelMatrix;\nuniform mat4 uNormalMatrix;\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvoid main ()\n{\n    vTextureCoord = aTextureCoord;\n    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));\n    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));\n    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n}"},62143:e=>{e.exports="#define SHADER_NAME PHASER_MOBILE_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec4 color = texture * texel;\n    if (outTintEffect == 1.0)\n    {\n        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect == 2.0)\n    {\n        color = texel;\n    }\n    gl_FragColor = color;\n}"},47940:e=>{e.exports="#define SHADER_NAME PHASER_MOBILE_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    outTexCoord = inTexCoord;\n    outTint = inTint;\n    outTintEffect = inTintEffect;\n}"},98840:e=>{e.exports="#define SHADER_NAME PHASER_MULTI_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler[%count%];\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texture;\n    %forloop%\n    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 color = texture * texel;\n    if (outTintEffect == 1.0)\n    {\n        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect == 2.0)\n    {\n        color = texel;\n    }\n    gl_FragColor = color;\n}"},44667:e=>{e.exports="#define SHADER_NAME PHASER_MULTI_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    outTexCoord = inTexCoord;\n    outTexId = inTexId;\n    outTint = inTint;\n    outTintEffect = inTintEffect;\n}"},4127:e=>{e.exports="#define SHADER_NAME PHASER_POINTLIGHT_FS\nprecision mediump float;\nuniform vec2 uResolution;\nuniform float uCameraZoom;\nvarying vec4 lightPosition;\nvarying vec4 lightColor;\nvarying float lightRadius;\nvarying float lightAttenuation;\nvoid main ()\n{\n    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);\n    float distToSurf = length(center - gl_FragCoord.xy);\n    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);\n    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);\n    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;\n    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);\n}"},89924:e=>{e.exports="#define SHADER_NAME PHASER_POINTLIGHT_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nattribute vec2 inPosition;\nattribute vec2 inLightPosition;\nattribute vec4 inLightColor;\nattribute float inLightRadius;\nattribute float inLightAttenuation;\nvarying vec4 lightPosition;\nvarying vec4 lightColor;\nvarying float lightRadius;\nvarying float lightAttenuation;\nvoid main ()\n{\n    lightColor = inLightColor;\n    lightRadius = inLightRadius;\n    lightAttenuation = inLightAttenuation;\n    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);\n    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n}"},27681:e=>{e.exports="#define SHADER_NAME PHASER_POSTFX_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    gl_FragColor = texture2D(uMainSampler, outTexCoord);\n}"},49627:e=>{e.exports="#define SHADER_NAME PHASER_QUAD_VS\nprecision mediump float;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nvarying vec2 outFragCoord;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    outFragCoord = inPosition.xy * 0.5 + 0.5;\n    outTexCoord = inTexCoord;\n    gl_Position = vec4(inPosition, 0, 1);\n}"},45561:e=>{e.exports="#define SHADER_NAME PHASER_SINGLE_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 color = texture * texel;\n    if (outTintEffect == 1.0)\n    {\n        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect == 2.0)\n    {\n        color = texel;\n    }\n    gl_FragColor = color;\n}"},60722:e=>{e.exports="#define SHADER_NAME PHASER_SINGLE_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    outTexCoord = inTexCoord;\n    outTint = inTint;\n    outTintEffect = inTintEffect;\n}"},89350:(e,t,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){this.webGLAttribLocation=-1,this.gl=e,this.program=t,this.name=i,this.createResource()},createResource:function(){if(null===this.program.webGLProgram){this.webGLAttribLocation=-1;return}var e=this.gl;e.isContextLost()||(this.webGLAttribLocation=e.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});e.exports=n},26128:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n){this.webGLBuffer=null,this.gl=e,this.initialDataOrSize=t,this.bufferType=i,this.bufferUsage=n,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var e=this.gl;if(!e.isContextLost()){var t=this.bufferType,i=e.createBuffer();this.webGLBuffer=i,e.bindBuffer(t,this.webGLBuffer),e.bufferData(t,this.initialDataOrSize,this.bufferUsage),e.bindBuffer(t,null)}}},destroy:function(){var e=this.gl;e.isContextLost()||e.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});e.exports=n},84387:(e,t,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},s=new n({initialize:function(e,t,i,n,r){this.webGLFramebuffer=null,this.gl=e,this.width=t,this.height=i,this.renderTexture=n,this.addDepthStencilBuffer=!!r,this.createResource()},createResource:function(){var e=this.gl;if(!e.isContextLost()){var t=this.renderTexture,i=0,n=e.createFramebuffer();if(this.webGLFramebuffer=n,e.bindFramebuffer(e.FRAMEBUFFER,n),t.isRenderTexture=!0,t.isAlphaPremultiplied=!1,e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.webGLTexture,0),(i=e.checkFramebufferStatus(e.FRAMEBUFFER))!==e.FRAMEBUFFER_COMPLETE)throw Error("Framebuffer status: "+(r[i]||i));if(this.addDepthStencilBuffer){var s=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,s),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,s)}e.bindFramebuffer(e.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var e=this.gl;if(!e.isContextLost()){e.bindFramebuffer(e.FRAMEBUFFER,this.webGLFramebuffer);var t=e.getFramebufferAttachmentParameter(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==t&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),e.deleteTexture(t));var i=e.getFramebufferAttachmentParameter(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==i&&e.deleteRenderbuffer(i),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});e.exports=s},1482:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){this.webGLProgram=null,this.gl=e,this.vertexSource=t,this.fragmentSource=i,this.createResource()},createResource:function(){var e=this.gl;if(!e.isContextLost()){var t=e.createProgram(),i=e.createShader(e.VERTEX_SHADER),n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,this.vertexSource),e.shaderSource(n,this.fragmentSource),e.compileShader(i),e.compileShader(n);var r="Shader failed:\n";if(!e.getShaderParameter(i,e.COMPILE_STATUS))throw Error("Vertex "+r+e.getShaderInfoLog(i));if(!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Fragment "+r+e.getShaderInfoLog(n));if(e.attachShader(t,i),e.attachShader(t,n),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw Error("Link "+r+e.getProgramInfoLog(t));e.useProgram(t),this.webGLProgram=t}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});e.exports=n},82751:(e,t,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50030),s=new n({initialize:function(e,t,i,n,r,s,a,o,l,h,u,c,d){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=e,this.mipLevel=t,this.minFilter=i,this.magFilter=n,this.wrapT=r,this.wrapS=s,this.format=a,this.pixels=o,this.width=l,this.height=h,this.pma=null==u||u,this.forceSize=!!c,this.flipY=!!d,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var e=this.gl;if(!e.isContextLost()){if(this.pixels instanceof s){this.webGLTexture=this.pixels.webGLTexture;return}var t=e.createTexture();t.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=t,this._processTexture()}},update:function(e,t,i,n,r,s,a,o,l){0!==t&&0!==i&&(this.pixels=e,this.width=t,this.height=i,this.flipY=n,this.wrapS=r,this.wrapT=s,this.minFilter=a,this.magFilter=o,this.format=l,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var e=this.gl;e.activeTexture(e.TEXTURE0);var t=e.getParameter(e.TEXTURE_BINDING_2D);e.bindTexture(e.TEXTURE_2D,this.webGLTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,this.minFilter),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,this.magFilter),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this.wrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this.wrapT),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels,n=this.mipLevel,s=this.width,a=this.height,o=this.format,l=!1;if(null==i)e.texImage2D(e.TEXTURE_2D,n,o,s,a,0,o,e.UNSIGNED_BYTE,null),l=r(s,a);else if(i.compressed){s=i.width,a=i.height,l=i.generateMipmap;for(var h=0;h<i.mipmaps.length;h++)e.compressedTexImage2D(e.TEXTURE_2D,h,i.internalFormat,i.mipmaps[h].width,i.mipmaps[h].height,0,i.mipmaps[h].data)}else i instanceof Uint8Array?e.texImage2D(e.TEXTURE_2D,n,o,s,a,0,o,e.UNSIGNED_BYTE,i):(this.forceSize||(s=i.width,a=i.height),e.texImage2D(e.TEXTURE_2D,n,o,o,e.UNSIGNED_BYTE,i)),l=r(s,a);l&&e.generateMipmap(e.TEXTURE_2D),t?e.bindTexture(e.TEXTURE_2D,t):e.bindTexture(e.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(e){this.__SPECTOR_Metadata=e,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=e)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof s||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});e.exports=s},57183:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){this.webGLUniformLocation=null,this.gl=e,this.program=t,this.name=i,this.createResource()},createResource:function(){if(null===this.program.webGLProgram){this.webGLUniformLocation=null;return}var e=this.gl;e.isContextLost()||(this.webGLUniformLocation=e.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});e.exports=n},9503:(e,t,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};e.exports=n},76531:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13560),r=i(83419),s=i(50792),a=i(97480),o=i(8443),l=i(57811),h=i(74403),u=i(45818),c=i(29747),d=i(87841),f=i(86555),p=i(56583),m=i(26099),g=i(38058),v=new r({Extends:s,initialize:function(e){s.call(this),this.game=e,this.canvas,this.canvasBounds=new d,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=n.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=n.CENTER.NO_CENTER,this.orientation=n.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:c,windowResize:c,fullScreenChange:c,fullScreenError:c}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var e=this.game;this.canvas=e.canvas,this.fullscreen=e.device.fullscreen;var t=this.scaleMode;t!==n.SCALE_MODE.RESIZE&&t!==n.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(t),t===n.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),e.events.on(o.PRE_STEP,this.step,this),e.events.once(o.READY,this.refresh,this),e.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(e){this.getParent(e),this.getParentBounds();var t=e.width,i=e.height,r=e.scaleMode,s=e.zoom,a=e.autoRound;if("string"==typeof t){if("%"!==t.substr(-1))t=parseInt(t,10);else{var o=this.parentSize.width;0===o&&(o=window.innerWidth),t=Math.floor(o*(parseInt(t,10)/100))}}if("string"==typeof i){if("%"!==i.substr(-1))i=parseInt(i,10);else{var l=this.parentSize.height;0===l&&(l=window.innerHeight),i=Math.floor(l*(parseInt(i,10)/100))}}this.scaleMode=r,this.autoRound=a,this.autoCenter=e.autoCenter,this.resizeInterval=e.resizeInterval,a&&(t=Math.floor(t),i=Math.floor(i)),this.gameSize.setSize(t,i),s===n.ZOOM.MAX_ZOOM&&(s=this.getMaxZoom()),this.zoom=s,1!==s&&(this._resetZoom=!0),this.baseSize.setSize(t,i),a&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),e.minWidth>0&&this.displaySize.setMin(e.minWidth*s,e.minHeight*s),e.maxWidth>0&&this.displaySize.setMax(e.maxWidth*s,e.maxHeight*s),this.displaySize.setSize(t,i),(e.snapWidth>0||e.snapHeight>0)&&this.displaySize.setSnap(e.snapWidth,e.snapHeight),this.orientation=u(t,i)},getParent:function(e){var t=e.parent;if(null!==t){if(this.parent=h(t),this.parentIsWindow=this.parent===document.body,e.expandParent&&e.scaleMode!==n.SCALE_MODE.NONE){var i=this.parent.getBoundingClientRect();(this.parentIsWindow||0===i.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",i=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==i.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}e.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=h(e.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var e=this.parentSize,t=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(t.height=l(!0));var i=t.width,n=t.height;if(e.width!==i||e.height!==n)return e.setSize(i,n),!0;if(this.canvas){var r=this.canvasBounds,s=this.canvas.getBoundingClientRect();if(s.x!==r.x||s.y!==r.y)return!0}return!1},lockOrientation:function(e){var t=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!t&&t.call(screen,e)},setParentSize:function(e,t){return this.parentSize.setSize(e,t),this.refresh()},setGameSize:function(e,t){var i=this.autoRound;i&&(e=Math.floor(e),t=Math.floor(t));var n=this.width,r=this.height;return this.gameSize.resize(e,t),this.baseSize.resize(e,t),i&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(e/t),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(n,r)},resize:function(e,t){var i=this.zoom,n=this.autoRound;n&&(e=Math.floor(e),t=Math.floor(t));var r=this.width,s=this.height;this.gameSize.resize(e,t),this.baseSize.resize(e,t),n&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(e*i,t*i),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var a=this.canvas.style,o=e*i,l=t*i;return n&&(o=Math.floor(o),l=Math.floor(l)),(o!==e||l!==t)&&(a.width=o+"px",a.height=l+"px"),this.refresh(r,s)},setZoom:function(e){return this.zoom=e,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.displaySize.setSnap(e,t),this.refresh()},refresh:function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var n=this.canvas.style,r=i.style;r.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",r.marginLeft=n.marginLeft,r.marginTop=n.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,e,t),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var e=u(this.width,this.height);e!==this.orientation&&(this.orientation=e,this.emit(a.ORIENTATION_CHANGE,e))}},updateScale:function(){var e,t,i=this.canvas.style,r=this.gameSize.width,s=this.gameSize.height,a=this.zoom,o=this.autoRound;if(this.scaleMode===n.SCALE_MODE.NONE)this.displaySize.setSize(r*a,s*a),e=this.displaySize.width,t=this.displaySize.height,o&&(e=Math.floor(e),t=Math.floor(t)),this._resetZoom&&(i.width=e+"px",i.height=t+"px",this._resetZoom=!1);else if(this.scaleMode===n.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),e=this.displaySize.width,t=this.displaySize.height,o&&(e=Math.floor(e),t=Math.floor(t)),this.canvas.width=e,this.canvas.height=t;else if(this.scaleMode===n.SCALE_MODE.EXPAND){var l=this.game.config.width,h=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),e=this.displaySize.width,t=this.displaySize.height,o&&(e=Math.floor(e),t=Math.floor(t)),i.width=e+"px",i.height=t+"px";var u=this.parentSize.width/l,c=this.parentSize.height/h;u<c&&0!==u?this.baseSize.setSize(l,this.parentSize.height/u):0!==c&&this.baseSize.setSize(this.displaySize.width/c,h),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),e=this.baseSize.width,t=this.baseSize.height,o&&(e=Math.floor(e),t=Math.floor(t)),this.canvas.width=e,this.canvas.height=t}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),e=this.displaySize.width,t=this.displaySize.height,o&&(e=Math.floor(e),t=Math.floor(t)),i.width=e+"px",i.height=t+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){return Math.max(Math.min(p(this.parentSize.width,this.gameSize.width,0,!0),p(this.parentSize.height,this.gameSize.height,0,!0)),1)},updateCenter:function(){var e=this.autoCenter;if(e!==n.CENTER.NO_CENTER){var t=this.canvas,i=t.style,r=t.getBoundingClientRect(),s=r.width,a=r.height,o=Math.floor((this.parentSize.width-s)/2),l=Math.floor((this.parentSize.height-a)/2);e===n.CENTER.CENTER_HORIZONTALLY?l=0:e===n.CENTER.CENTER_VERTICALLY&&(o=0),i.marginLeft=o+"px",i.marginTop=l+"px"}},updateBounds:function(){var e=this.canvasBounds,t=this.canvas.getBoundingClientRect();e.x=t.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),e.y=t.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),e.width=t.width,e.height=t.height},transformX:function(e){return(e-this.canvasBounds.left)*this.displayScale.x},transformY:function(e){return(e-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(e){void 0===e&&(e={navigationUI:"hide"});var t=this.fullscreen;if(!t.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!t.active){var i=this.getFullscreenTarget();t.keyboard?i[t.request](Element.ALLOW_KEYBOARD_INPUT):i[t.request](e)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(e){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,e)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var e=document.createElement("div");e.style.margin="0",e.style.padding="0",e.style.width="100%",e.style.height="100%",this.fullscreenTarget=e,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var e=this.fullscreenTarget;if(e&&e.parentNode){var t=e.parentNode;t.insertBefore(this.canvas,e),t.removeChild(e)}}},stopFullscreen:function(){var e=this.fullscreen;if(!e.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;e.active&&document[e.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(e){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(e)},startListeners:function(){var e=this,t=this.domlisteners;t.orientationChange=function(){e.updateBounds(),e._checkOrientation=!0,e.dirty=!0,e.refresh()},t.windowResize=function(){e.updateBounds(),e.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",t.orientationChange,!1):window.addEventListener("orientationchange",t.orientationChange,!1),window.addEventListener("resize",t.windowResize,!1),this.fullscreen.available&&(t.fullScreenChange=function(t){return e.onFullScreenChange(t)},t.fullScreenError=function(t){return e.onFullScreenError(t)},["webkit","moz",""].forEach(function(e){document.addEventListener(e+"fullscreenchange",t.fullScreenChange,!1),document.addEventListener(e+"fullscreenerror",t.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.addEventListener("MSFullscreenError",t.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(e,t){e instanceof g||(t=e,e=void 0),void 0===t&&(t=new d);var i,n,r=this.baseSize,s=this.parentSize,a=this.canvasBounds,o=this.displayScale,l=a.x>=0?0:-(a.x*o.x),h=a.y>=0?0:-(a.y*o.y);return i=s.width>=a.width?r.width:r.width-(a.width-s.width)*o.x,n=s.height>=a.height?r.height:r.height-(a.height-s.height)*o.y,t.setTo(l,h,i,n),e&&(t.width/=e.zoomX,t.height/=e.zoomY,t.centerX=e.centerX+e.scrollX,t.centerY=e.centerY+e.scrollY),t},step:function(e,t){this.parent&&(this._lastCheck+=t,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var e=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",e.orientationChange,!1):window.removeEventListener("orientationchange",e.orientationChange,!1),window.removeEventListener("resize",e.windowResize,!1),["webkit","moz",""].forEach(function(t){document.removeEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.removeEventListener(t+"fullscreenerror",e.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",e.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===n.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===n.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});e.exports=v},64743:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};e.exports=n},56139:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="enterfullscreen"},2336:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="fullscreenfailed"},47412:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="fullscreenunsupported"},51452:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="leavefullscreen"},20666:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="orientationchange"},47945:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resize"},97480:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(13560),s={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};s=n(!1,s,r.CENTER),s=n(!1,s,r.ORIENTATION),s=n(!1,s,r.SCALE_MODE),s=n(!1,s,r.ZOOM),e.exports=s},27397:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540),r=i(35355);e.exports=function(e){var t=e.game.config.defaultPhysicsSystem,i=n(e.settings,"physics",!1);if(t||i){var s=[];if(t&&s.push(r(t+"Physics")),i)for(var a in i)a=r(a.concat("Physics")),-1===s.indexOf(a)&&s.push(a);return s}}},52106:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e){var t=e.plugins.getDefaultScenePlugins(),i=n(e.settings,"plugins",!1);return Array.isArray(i)?i:t||[]}},87033:e=>{e.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(2368),s=new n({initialize:function(e){this.sys=new r(this,e),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});e.exports=s},60903:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89993),s=i(44594),a=i(8443),o=i(35154),l=i(54899),h=i(29747),u=i(97482),c=i(2368),d=new n({initialize:function(e,t){if(this.game=e,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)this._pending.push({key:"default",scene:t[i],autoStart:0===i,data:{}})}e.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){var e,t,i,n,r;if(!this.isBooted){for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new u),this.game.events.emit(a.SYSTEM_READY,this.systemScene,this),e=0;e<this._pending.length;e++)i=(t=this._pending[e]).key,(n=t.scene)instanceof u?r=this.createSceneFromInstance(i,n):"object"==typeof n?r=this.createSceneFromObject(i,n):"function"==typeof n&&(r=this.createSceneFromFunction(i,n)),i=r.sys.settings.key,this.keys[i]=r,this.scenes.push(r),this._data[i]&&(r.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(t.autoStart=!0)),(t.autoStart||r.sys.settings.active)&&this._start.push(i);for(e=0,this._pending.length=0,this._data={},this.isBooted=!0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0}},processQueue:function(){var e,t,i=this._pending.length,n=this._queue.length;if(0!==i||0!==n){if(i){for(e=0;e<i;e++)t=this._pending[e],this.add(t.key,t.scene,t.autoStart,t.data);for(e=0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0,this._pending.length=0}for(e=0;e<this._queue.length;e++)this[(t=this._queue[e]).op](t.keyA,t.keyB,t.data);this._queue.length=0}},add:function(e,t,i,n){var r;return(void 0===i&&(i=!1),void 0===n&&(n={}),this.isProcessing||!this.isBooted)?(this._pending.push({key:e,scene:t,autoStart:i,data:n}),this.isBooted||(this._data[e]={data:n}),null):(e=this.getKey(e,t),t instanceof u?r=this.createSceneFromInstance(e,t):"object"==typeof t?(t.key=e,r=this.createSceneFromObject(e,t)):"function"==typeof t&&(r=this.createSceneFromFunction(e,t)),r.sys.settings.data=n,e=r.sys.settings.key,this.keys[e]=r,this.scenes.push(r),(i||r.sys.settings.active)&&(this._pending.length?this._start.push(e):this.start(e)),r)},remove:function(e){if(this.isProcessing)return this.queueOp("remove",e);var t=this.getScene(e);if(!t||t.sys.isTransitioning())return this;var i=this.scenes.indexOf(t),n=t.sys.settings.key;return i>-1&&(delete this.keys[n],this.scenes.splice(i,1),this._start.indexOf(n)>-1&&(i=this._start.indexOf(n),this._start.splice(i,1)),t.sys.destroy()),this},bootScene:function(e){var t,i=e.sys,n=i.settings;i.sceneUpdate=h,e.init&&(e.init.call(e,n.data),n.status=r.INIT,n.isTransition&&i.events.emit(s.TRANSITION_INIT,n.transitionFrom,n.transitionDuration)),i.load&&(t=i.load).reset(),t&&e.preload?(e.preload.call(e),n.status=r.LOADING,t.once(l.COMPLETE,this.loadComplete,this),t.start()):this.create(e)},loadComplete:function(e){this.create(e.scene)},payloadComplete:function(e){this.bootScene(e.scene)},update:function(e,t){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var n=this.scenes[i].sys;n.settings.status>r.START&&n.settings.status<=r.RUNNING&&n.step(e,t),n.scenePlugin&&n.scenePlugin._target&&n.scenePlugin.step(e,t)}},render:function(e){for(var t=0;t<this.scenes.length;t++){var i=this.scenes[t].sys;i.settings.visible&&i.settings.status>=r.LOADING&&i.settings.status<r.SLEEPING&&i.render(e)}this.isProcessing=!1},create:function(e){var t=e.sys,i=t.settings;e.create&&(i.status=r.CREATING,e.create.call(e,i.data),i.status===r.DESTROYED)||(i.isTransition&&t.events.emit(s.TRANSITION_START,i.transitionFrom,i.transitionDuration),e.update&&(t.sceneUpdate=e.update),i.status=r.RUNNING,t.events.emit(s.CREATE,e))},createSceneFromFunction:function(e,t){var i=new t;if(!(i instanceof u))return i.sys=new c(i),i.sys.settings.key=e,i.sys.init(this.game),i;var n=i.sys.settings.key;if(""!==n&&(e=n),this.keys.hasOwnProperty(e))throw Error("Cannot add Scene with duplicate key: "+e);return this.createSceneFromInstance(e,i)},createSceneFromInstance:function(e,t){return""===t.sys.settings.key&&(t.sys.settings.key=e),t.sys.init(this.game),t},createSceneFromObject:function(e,t){var i=new u(t),n=i.sys.settings.key;""!==n?e=n:i.sys.settings.key=e,i.sys.init(this.game);for(var r=["init","preload","create","update","render"],s=0;s<r.length;s++){var a=o(t,r[s],null);a&&(i[r[s]]=a)}if(t.hasOwnProperty("extend")){for(var l in t.extend)if(t.extend.hasOwnProperty(l)){var h=t.extend[l];"data"===l&&i.hasOwnProperty("data")&&"object"==typeof h?i.data.merge(h):"sys"!==l&&(i[l]=h)}}return i},getKey:function(e,t){if(e||(e="default"),"function"==typeof t||(t instanceof u?e=t.sys.settings.key:"object"==typeof t&&t.hasOwnProperty("key")&&(e=t.key),!this.keys.hasOwnProperty(e)))return e;throw Error("Cannot add Scene with duplicate key: "+e)},getScenes:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);for(var i=[],n=this.scenes,r=0;r<n.length;r++){var s=n[r];s&&(!e||e&&s.sys.isActive())&&i.push(s)}return t?i.reverse():i},getScene:function(e){if("string"==typeof e){if(this.keys[e])return this.keys[e]}else for(var t=0;t<this.scenes.length;t++)if(e===this.scenes[t])return e;return null},isActive:function(e){var t=this.getScene(e);return t?t.sys.isActive():null},isPaused:function(e){var t=this.getScene(e);return t?t.sys.isPaused():null},isVisible:function(e){var t=this.getScene(e);return t?t.sys.isVisible():null},isSleeping:function(e){var t=this.getScene(e);return t?t.sys.isSleeping():null},pause:function(e,t){var i=this.getScene(e);return i&&i.sys.pause(t),this},resume:function(e,t){var i=this.getScene(e);return i&&i.sys.resume(t),this},sleep:function(e,t){var i=this.getScene(e);return i&&!i.sys.isTransitioning()&&i.sys.sleep(t),this},wake:function(e,t){var i=this.getScene(e);return i&&i.sys.wake(t),this},run:function(e,t){var i=this.getScene(e);if(!i){for(var n=0;n<this._pending.length;n++)if(this._pending[n].key===e){this.queueOp("start",e,t);break}return this}i.sys.isSleeping()?i.sys.wake(t):i.sys.isPaused()?i.sys.resume(t):this.start(e,t)},start:function(e,t){if(!this.isBooted)return this._data[e]={autoStart:!0,data:t},this;var i,n=this.getScene(e);if(!n)return console.warn("Scene key not found: "+e),this;var s=n.sys,a=s.settings.status;if(a>=r.START&&a<=r.CREATING)return this;if(a>=r.RUNNING&&a<=r.SLEEPING)s.shutdown(),s.sceneUpdate=h,s.start(t);else if(s.sceneUpdate=h,s.start(t),s.load&&(i=s.load),i&&s.settings.hasOwnProperty("pack")&&(i.reset(),i.addPack({payload:s.settings.pack})))return s.settings.status=r.LOADING,i.once(l.COMPLETE,this.payloadComplete,this),i.start(),this;return this.bootScene(n),this},stop:function(e,t){var i=this.getScene(e);if(i&&!i.sys.isTransitioning()&&i.sys.settings.status!==r.SHUTDOWN){var n=i.sys.load;n&&(n.off(l.COMPLETE,this.loadComplete,this),n.off(l.COMPLETE,this.payloadComplete,this)),i.sys.shutdown(t)}return this},switch:function(e,t,i){var n=this.getScene(e),r=this.getScene(t);return n&&r&&n!==r&&(this.sleep(e),this.isSleeping(t)?this.wake(t,i):this.start(t,i)),this},getAt:function(e){return this.scenes[e]},getIndex:function(e){var t=this.getScene(e);return this.scenes.indexOf(t)},bringToTop:function(e){if(this.isProcessing)return this.queueOp("bringToTop",e);var t=this.getIndex(e),i=this.scenes;if(-1!==t&&t<i.length){var n=this.getScene(e);i.splice(t,1),i.push(n)}return this},sendToBack:function(e){if(this.isProcessing)return this.queueOp("sendToBack",e);var t=this.getIndex(e);if(-1!==t&&t>0){var i=this.getScene(e);this.scenes.splice(t,1),this.scenes.unshift(i)}return this},moveDown:function(e){if(this.isProcessing)return this.queueOp("moveDown",e);var t=this.getIndex(e);if(t>0){var i=t-1,n=this.getScene(e),r=this.getAt(i);this.scenes[t]=r,this.scenes[i]=n}return this},moveUp:function(e){if(this.isProcessing)return this.queueOp("moveUp",e);var t=this.getIndex(e);if(t<this.scenes.length-1){var i=t+1,n=this.getScene(e),r=this.getAt(i);this.scenes[t]=r,this.scenes[i]=n}return this},moveAbove:function(e,t){if(e===t)return this;if(this.isProcessing)return this.queueOp("moveAbove",e,t);var i=this.getIndex(e),n=this.getIndex(t);if(-1!==i&&-1!==n&&n<i){var r=this.getAt(n);this.scenes.splice(n,1),this.scenes.splice(i+(n>i),0,r)}return this},moveBelow:function(e,t){if(e===t)return this;if(this.isProcessing)return this.queueOp("moveBelow",e,t);var i=this.getIndex(e),n=this.getIndex(t);if(-1!==i&&-1!==n&&n>i){var r=this.getAt(n);this.scenes.splice(n,1),0===i?this.scenes.unshift(r):this.scenes.splice(i-(n<i),0,r)}return this},queueOp:function(e,t,i,n){return this._queue.push({op:e,keyA:t,keyB:i,data:n}),this},swapPosition:function(e,t){if(e===t)return this;if(this.isProcessing)return this.queueOp("swapPosition",e,t);var i=this.getIndex(e),n=this.getIndex(t);if(i!==n&&-1!==i&&-1!==n){var r=this.getAt(i);this.scenes[i]=this.scenes[n],this.scenes[n]=r}return this},dump:function(){for(var e=[],t=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var n=this.scenes[i].sys,s=n.settings.visible&&(n.settings.status===r.RUNNING||n.settings.status===r.PAUSED)?"[*] ":"[-] ";s+=n.settings.key+" ("+t[n.settings.status]+")",e.push(s)}console.log(e.join("\n"))},destroy:function(){for(var e=0;e<this.scenes.length;e++)this.scenes[e].sys.destroy();this.systemScene.sys.destroy(),this.update=h,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});e.exports=d},52209:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(44594),a=i(95540),o=i(37277),l=new r({initialize:function(e){this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.key=e.sys.settings.key,this.manager=e.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,e.sys.events.once(s.BOOT,this.boot,this),e.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",e,t),this},restart:function(e){var t=this.key;return this.manager.queueOp("stop",t),this.manager.queueOp("start",t,e),this},transition:function(e){void 0===e&&(e={});var t=a(e,"target",!1),i=this.manager.getScene(t);if(!t||!this.checkValidTransition(i))return!1;var n=a(e,"duration",1e3);this._elapsed=0,this._target=i,this._duration=n,this._willSleep=a(e,"sleep",!1),this._willRemove=a(e,"remove",!1);var r=a(e,"onUpdate",null);r&&(this._onUpdate=r,this._onUpdateScope=a(e,"onUpdateScope",this.scene));var o=a(e,"allowInput",!1);this.settings.transitionAllowInput=o;var l=i.sys.settings;l.isTransition=!0,l.transitionFrom=this.scene,l.transitionDuration=n,l.transitionAllowInput=o,a(e,"moveAbove",!1)?this.manager.moveAbove(this.key,t):a(e,"moveBelow",!1)&&this.manager.moveBelow(this.key,t),i.sys.isSleeping()?i.sys.wake(a(e,"data")):this.manager.start(t,a(e,"data"));var h=a(e,"onStart",null),u=a(e,"onStartScope",this.scene);return h&&h.call(u,this.scene,i,n),this.systems.events.emit(s.TRANSITION_OUT,i,n),!0},checkValidTransition:function(e){return!(!e||e.sys.isActive()||e.sys.isTransitioning()||e===this.scene||this.systems.isTransitioning())},step:function(e,t){this._elapsed+=t,this.transitionProgress=n(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var e=this._target.sys,t=this._target.sys.settings;e.events.emit(s.TRANSITION_COMPLETE,this.scene),t.isTransition=!1,t.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(e,t,i,n){return this.manager.add(e,t,i,n)},launch:function(e,t){return e&&e!==this.key&&this.manager.queueOp("start",e,t),this},run:function(e,t){return e&&e!==this.key&&this.manager.queueOp("run",e,t),this},pause:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("pause",e,t),this},resume:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("resume",e,t),this},sleep:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("sleep",e,t),this},wake:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("wake",e,t),this},switch:function(e,t){return e!==this.key&&this.manager.queueOp("switch",this.key,e,t),this},stop:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("stop",e,t),this},setActive:function(e,t,i){void 0===t&&(t=this.key);var n=this.manager.getScene(t);return n&&n.sys.setActive(e,i),this},setVisible:function(e,t){void 0===t&&(t=this.key);var i=this.manager.getScene(t);return i&&i.sys.setVisible(e),this},isSleeping:function(e){return void 0===e&&(e=this.key),this.manager.isSleeping(e)},isActive:function(e){return void 0===e&&(e=this.key),this.manager.isActive(e)},isPaused:function(e){return void 0===e&&(e=this.key),this.manager.isPaused(e)},isVisible:function(e){return void 0===e&&(e=this.key),this.manager.isVisible(e)},swapPosition:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.swapPosition(e,t),this},moveAbove:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.moveAbove(e,t),this},moveBelow:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.moveBelow(e,t),this},remove:function(e){return void 0===e&&(e=this.key),this.manager.remove(e),this},moveUp:function(e){return void 0===e&&(e=this.key),this.manager.moveUp(e),this},moveDown:function(e){return void 0===e&&(e=this.key),this.manager.moveDown(e),this},bringToTop:function(e){return void 0===e&&(e=this.key),this.manager.bringToTop(e),this},sendToBack:function(e){return void 0===e&&(e=this.key),this.manager.sendToBack(e),this},get:function(e){return this.manager.getScene(e)},getStatus:function(e){var t=this.manager.getScene(e);if(t)return t.sys.getStatus()},getIndex:function(e){return void 0===e&&(e=this.key),this.manager.getIndex(e)},shutdown:function(){var e=this.systems.events;e.off(s.SHUTDOWN,this.shutdown,this),e.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",l,"scenePlugin"),e.exports=l},55681:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(89993),r=i(35154),s=i(46975),a=i(87033);e.exports={create:function(e){return"string"==typeof e?e={key:e}:void 0===e&&(e={}),{status:n.PENDING,key:r(e,"key",""),active:r(e,"active",!1),visible:r(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:r(e,"pack",!1),cameras:r(e,"cameras",null),map:r(e,"map",s(a,r(e,"mapAdd",{}))),physics:r(e,"physics",{}),loader:r(e,"loader",{}),plugins:r(e,"plugins",!1),input:r(e,"input",{})}}}},2368:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89993),s=i(42363),a=i(44594),o=i(27397),l=i(52106),h=i(29747),u=i(55681),c=new n({initialize:function(e,t){this.scene=e,this.game,this.renderer,this.config=t,this.settings=u.create(t),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=h},init:function(e){this.settings.status=r.INIT,this.sceneUpdate=h,this.game=e,this.renderer=e.renderer,this.canvas=e.canvas,this.context=e.context;var t=e.plugins;this.plugins=t,t.addToScene(this,s.Global,[s.CoreScene,l(this),o(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(e,t){var i=this.events;i.emit(a.PRE_UPDATE,e,t),i.emit(a.UPDATE,e,t),this.sceneUpdate.call(this.scene,e,t),i.emit(a.POST_UPDATE,e,t)},render:function(e){var t=this.displayList;t.depthSort(),this.events.emit(a.PRE_RENDER,e),this.cameras.render(e,t),this.events.emit(a.RENDER,e)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(e){var t=this.settings,i=this.getStatus();return i!==r.CREATING&&i!==r.RUNNING?console.warn("Cannot pause non-running Scene",t.key):this.settings.active&&(t.status=r.PAUSED,t.active=!1,this.events.emit(a.PAUSE,this,e)),this},resume:function(e){var t=this.events,i=this.settings;return this.settings.active||(i.status=r.RUNNING,i.active=!0,t.emit(a.RESUME,this,e)),this},sleep:function(e){var t=this.settings,i=this.getStatus();return i!==r.CREATING&&i!==r.RUNNING?console.warn("Cannot sleep non-running Scene",t.key):(t.status=r.SLEEPING,t.active=!1,t.visible=!1,this.events.emit(a.SLEEP,this,e)),this},wake:function(e){var t=this.events,i=this.settings;return i.status=r.RUNNING,i.active=!0,i.visible=!0,t.emit(a.WAKE,this,e),i.isTransition&&t.emit(a.TRANSITION_WAKE,i.transitionFrom,i.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var e=this.settings.status;return e>r.PENDING&&e<=r.RUNNING},isSleeping:function(){return this.settings.status===r.SLEEPING},isActive:function(){return this.settings.status===r.RUNNING},isPaused:function(){return this.settings.status===r.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(e){return this.settings.visible=e,this},setActive:function(e,t){return e?this.resume(t):this.pause(t)},start:function(e){var t=this.events,i=this.settings;e&&(i.data=e),i.status=r.START,i.active=!0,i.visible=!0,t.emit(a.START,this),t.emit(a.READY,this,e)},shutdown:function(e){var t=this.events,i=this.settings;t.off(a.TRANSITION_INIT),t.off(a.TRANSITION_START),t.off(a.TRANSITION_COMPLETE),t.off(a.TRANSITION_OUT),i.status=r.SHUTDOWN,i.active=!1,i.visible=!1,t.emit(a.SHUTDOWN,this,e)},destroy:function(){var e=this.events,t=this.settings;t.status=r.DESTROYED,t.active=!1,t.visible=!1,e.emit(a.DESTROY,this),e.removeAllListeners();for(var i=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],n=0;n<i.length;n++)this[i[n]]=null}});e.exports=c},89993:e=>{e.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addedtoscene"},7919:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="boot"},46763:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="create"},11763:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},71555:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},36735:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postupdate"},3809:e=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prerender"},90716:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="preupdate"},58262:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="ready"},91633:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removedfromscene"},10319:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="render"},87132:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},81961:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="shutdown"},90194:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="sleep"},6265:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},33178:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitioncomplete"},43063:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitioninit"},11259:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitionout"},61611:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitionstart"},45209:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitionwake"},22966:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="update"},21747:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="wake"},44594:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(89993),r=i(79291),s={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};s=r(!1,s,n),e.exports=s},30341:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(14463),a=i(79291),o=new n({Extends:r,initialize:function(e,t,i){r.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,i),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(e){return!!e&&!!e.name&&"string"==typeof e.name&&(this.markers[e.name]?(console.error("addMarker "+e.name+" already exists in Sound"),!1):(e=a(!0,{name:"",start:0,duration:this.totalDuration-(e.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},e),this.markers[e.name]=e,!0))},updateMarker:function(e){return!!e&&!!e.name&&"string"==typeof e.name&&(this.markers[e.name]?(this.markers[e.name]=a(!0,this.markers[e.name],e),!0):(console.warn("Audio Marker: "+e.name+" missing in Sound: "+this.key),!1))},removeMarker:function(e){var t=this.markers[e];return t?(this.markers[e]=null,t):null},play:function(e,t){if(void 0===e&&(e=""),"object"==typeof e&&(t=e,e=""),"string"!=typeof e)return!1;if(e){if(!this.markers[e])return console.warn("Marker: "+e+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[e],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=a(this.currentConfig,t),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!this.isPaused&&!!this.isPlaying&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!!this.isPaused&&!this.isPlaying&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return(!!this.isPaused||!!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:i(29747),calculateRate:function(){var e=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*e},destroy:function(){this.pendingRemove||(this.stop(),this.emit(s.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});e.exports=o},85034:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(41786),s=i(50792),a=i(14463),o=i(8443),l=i(46710),h=i(58731),u=i(29747),c=i(26099),d=new n({Extends:s,initialize:function(e){s.call(this),this.game=e,this.jsonCache=e.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new c,e.events.on(o.BLUR,this.onGameBlur,this),e.events.on(o.FOCUS,this.onGameFocus,this),e.events.on(o.PRE_STEP,this.update,this),e.events.once(o.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(e,t){void 0===t&&(t={});var i=this.add(e,t);for(var n in i.spritemap=this.jsonCache.get(e).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(n)){var s=r(t),a=i.spritemap[n];s.loop=!!a.hasOwnProperty("loop")&&a.loop,i.addMarker({name:n,start:a.start,duration:a.end-a.start,config:s})}return i},get:function(e){return h(this.sounds,"key",e)},getAll:function(e){return e?l(this.sounds,"key",e):l(this.sounds)},getAllPlaying:function(){return l(this.sounds,"isPlaying",!0)},play:function(e,t){var i=this.add(e);return(i.once(a.COMPLETE,i.destroy,i),t)?t.name?(i.addMarker(t),i.play(t.name)):i.play(t):i.play()},playAudioSprite:function(e,t,i){var n=this.addAudioSprite(e);return n.once(a.COMPLETE,n.destroy,n),n.play(t,i)},remove:function(e){var t=this.sounds.indexOf(e);return -1!==t&&(e.destroy(),this.sounds.splice(t,1),!0)},removeAll:function(){this.sounds.forEach(function(e){e.destroy()}),this.sounds.length=0},removeByKey:function(e){for(var t=0,i=this.sounds.length-1;i>=0;i--){var n=this.sounds[i];n.key===e&&(n.destroy(),this.sounds.splice(i,1),t++)}return t},pauseAll:function(){this.forEachActiveSound(function(e){e.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(e){e.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:u,stopAll:function(){this.forEachActiveSound(function(e){e.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(e){var t=0;return this.getAll(e).forEach(function(e){e.stop()&&t++}),t},isPlaying:function(e){var t,i=this.sounds.length-1;if(void 0===e){for(;i>=0;i--)if((t=this.sounds[i]).isPlaying)return!0}else for(;i>=0;i--)if((t=this.sounds[i]).key===e&&t.isPlaying)return!0;return!1},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(e,t){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach(function(i){i.update(e,t)})},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(e,t){var i=this;this.sounds.forEach(function(n,r){n&&!n.pendingRemove&&e.call(t||i,n,r,i.sounds)})},setRate:function(e){return this.rate=e,this},rate:{get:function(){return this._rate},set:function(e){this._rate=e,this.forEachActiveSound(function(e){e.calculateRate()}),this.emit(a.GLOBAL_RATE,this,e)}},setDetune:function(e){return this.detune=e,this},detune:{get:function(){return this._detune},set:function(e){this._detune=e,this.forEachActiveSound(function(e){e.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,e)}}});e.exports=d},14747:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33684),r=i(25960),s=i(57490);e.exports={create:function(e){var t=e.config.audio,i=e.device.audio;return!t.noAudio&&(i.webAudio||i.audioData)?i.webAudio&&!t.disableWebAudio?new s(e):new n(e):new r(e)}}},19723:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},98882:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="decodedall"},57506:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="decoded"},73146:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},11305:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="detune"},40577:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="detune"},30333:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="mute"},20394:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="rate"},21802:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="volume"},1299:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="looped"},99190:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="loop"},97125:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="mute"},89259:e=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pan"},79986:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pauseall"},17586:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},19618:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="play"},42306:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="rate"},10387:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resumeall"},48959:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},9960:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="seek"},19180:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stopall"},98328:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stop"},50401:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="unlocked"},52498:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="volume"},14463:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30341),r=i(83419),s=i(14463),a=i(45319),o=new r({Extends:n,initialize:function(e,t,i){if(void 0===i&&(i={}),this.tags=e.game.cache.audio.get(t),!this.tags)throw Error('No cached audio asset with key "'+t);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,n.call(this,e,t,i)},play:function(e,t){return!!(!this.manager.isLocked(this,"play",[e,t])&&n.prototype.play.call(this,e,t)&&this.pickAndPlayAudioTag())&&(this.emit(s.PLAY,this),!0)},pause:function(){return!this.manager.isLocked(this,"pause")&&!(this.startTime>0)&&!!n.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return!this.manager.isLocked(this,"resume")&&!(this.startTime>0)&&!!n.prototype.resume.call(this)&&!!this.pickAndPlayAudioTag()&&(this.emit(s.RESUME,this),!0)},stop:function(){return!this.manager.isLocked(this,"stop")&&!!n.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,t=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),0===t?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*t,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var t=this.tags[e];if("false"===t.dataset.used)return t.dataset.used="true",this.audio=t,!0}if(!this.manager.override)return!1;var i=[];this.manager.forEachActiveSound(function(e){e.key===this.key&&e.audio&&i.push(e)},this),i.sort(function(e,t){return e.loop===t.loop?t.seek/t.duration-e.seek/e.duration:e.loop?1:-1});var n=i[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(e){console.warn(e)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){n.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var t=this.currentMarker?this.currentMarker.start:0,i=t+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=i-this.manager.loopEndOffset?(this.audio.currentTime=t+Math.max(0,n-i),n=this.audio.currentTime):n<t&&(this.audio.currentTime+=t,n=this.audio.currentTime),n<this.previousTime&&this.emit(s.LOOPED,this);else if(n>=i){this.reset(),this.stopAndReleaseAudioTag(),this.emit(s.COMPLETE,this);return}this.previousTime=n}},destroy:function(){n.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){n.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,this.manager.isLocked(this,"mute",e)||(this.updateMute(),this.emit(s.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,this.manager.isLocked(this,"volume",e)||(this.updateVolume(),this.emit(s.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.manager.isLocked(this,s.RATE,e)||(this.calculateRate(),this.emit(s.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.manager.isLocked(this,s.DETUNE,e)||(this.calculateRate(),this.emit(s.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){!this.manager.isLocked(this,"seek",e)&&!(this.startTime>0)&&(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(s.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.manager.isLocked(this,"loop",e)||(this.audio&&(this.audio.loop=e),this.emit(s.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(s.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});e.exports=o},33684:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85034),r=i(83419),s=i(14463),a=i(64895),o=new r({Extends:n,initialize:function(e){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,n.call(this,e)},add:function(e,t){var i=new a(this,e,t);return this.sounds.push(i),i},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(t,i){for(var n=0;n<i.length;n++)if("true"===i[n].dataset.locked)return e.locked=!0,!1;return!0}),this.locked){var t=!1,i=function(){t=!0},n=function(){if(t){t=!1;return}document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",n);var r=[];if(e.game.cache.audio.entries.each(function(e,t){for(var i=0;i<t.length;i++){var n=t[i];"true"===n.dataset.locked&&r.push(n)}return!0}),0!==r.length){var s=r[r.length-1];s.oncanplaythrough=function(){s.oncanplaythrough=null,r.forEach(function(e){e.dataset.locked="false"}),e.unlocked=!0},r.forEach(function(e){e.load()})}};this.once(s.UNLOCKED,function(){for(this.forEachActiveSound(function(e){null===e.currentMarker&&0===e.duration&&(e.duration=e.tags[0].duration),e.totalDuration=e.tags[0].duration});this.lockedActionsQueue.length;){var e=this.lockedActionsQueue.shift();e.sound[e.prop].apply?e.sound[e.prop].apply(e.sound,e.value||[]):e.sound[e.prop]=e.value}},this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){n.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,t,i){return"true"===e.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:e,prop:t,value:i}),!0)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(e){e.updateMute()}),this.emit(s.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(e){e.updateVolume()}),this.emit(s.GLOBAL_VOLUME,this,e)}}});e.exports=o},23717:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30341),r=i(83419),s=i(50792),a=i(79291),o=i(29747),l=function(){return!1},h=function(){return null},u=function(){return this},c=new r({Extends:s,initialize:function(e,t,i){void 0===i&&(i={}),s.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},i),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:l,updateMarker:l,removeMarker:h,play:l,pause:l,resume:l,stop:l,setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u,setPan:u,applyConfig:h,resetConfig:h,update:o,calculateRate:h,destroy:function(){n.prototype.destroy.call(this)}});e.exports=c},25960:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85034),r=i(83419),s=i(50792),a=i(4603),o=i(29747),l=new r({Extends:s,initialize:function(e){s.call(this),this.game=e,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(e,t){var i=new a(this,e,t);return this.sounds.push(i),i},addAudioSprite:function(e,t){var i=this.add(e,t);return i.spritemap={},i},get:function(e){return n.prototype.get.call(this,e)},getAll:function(e){return n.prototype.getAll.call(this,e)},play:function(e,t){return!1},playAudioSprite:function(e,t,i){return!1},remove:function(e){return n.prototype.remove.call(this,e)},removeAll:function(){return n.prototype.removeAll.call(this)},removeByKey:function(e){return n.prototype.removeByKey.call(this,e)},stopByKey:function(e){return n.prototype.stopByKey.call(this,e)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(e,t){n.prototype.forEachActiveSound.call(this,e,t)},destroy:function(){n.prototype.destroy.call(this)}});e.exports=l},71741:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30341),r=i(83419),s=i(14463),a=i(95540),o=new r({Extends:n,initialize:function(e,t,i){if(void 0===i&&(i={}),this.audioBuffer=e.game.cache.audio.get(t),!this.audioBuffer)throw Error('Audio key "'+t+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),e.context.createPanner&&(this.spatialNode=e.context.createPanner(),this.volumeNode.connect(this.spatialNode)),e.context.createStereoPanner?(this.pannerNode=e.context.createStereoPanner(),e.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(e.destination)):e.context.createPanner?this.spatialNode.connect(e.destination):this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,n.call(this,e,t,i)},play:function(e,t){return!!n.prototype.play.call(this,e,t)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&!!n.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&!!n.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return!!n.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0)},createAndStartBufferSource:function(){var e=this.currentConfig.seek,t=this.currentConfig.delay,i=this.manager.context.currentTime+t,n=(this.currentMarker?this.currentMarker.start:0)+e,r=this.duration-e;this.playTime=i-e,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,n),Math.max(0,r)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),t=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,t),Math.max(0,i))},createBufferSource:function(){var e=this,t=this.manager.context.createBufferSource();return t.buffer=this.audioBuffer,t.connect(this.muteNode),t.onended=function(t){var i=t.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},t},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var t=this.spatialNode;t.panningModel=a(e,"panningModel","equalpower"),t.distanceModel=a(e,"distanceModel","inverse"),t.orientationX.value=a(e,"orientationX",0),t.orientationY.value=a(e,"orientationY",0),t.orientationZ.value=a(e,"orientationZ",-1),t.refDistance=a(e,"refDistance",1),t.maxDistance=a(e,"maxDistance",1e4),t.rolloffFactor=a(e,"rolloffFactor",1),t.coneInnerAngle=a(e,"coneInnerAngle",360),t.coneOuterAngle=a(e,"coneOuterAngle",0),t.coneOuterGain=a(e,"coneOuterGain",0),this.spatialSource=a(e,"follow",null),this.spatialSource||(t.positionX.value=a(e,"x",0),t.positionY.value=a(e,"y",0),t.positionZ.value=a(e,"z",0))}n.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=a(this.spatialSource,"x",null),t=a(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),t&&t!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=t)}this.hasEnded?(n.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){this.pendingRemove||(n.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){n.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,t=0;t<this.rateUpdates.length;t++)e+=((t<this.rateUpdates.length-1?this.rateUpdates[t+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[t].time)*this.rateUpdates[t].rate;return e},getLoopTime:function(){for(var e=0,t=0;t<this.rateUpdates.length-1;t++)e+=(this.rateUpdates[t+1].time-this.rateUpdates[t].time)*this.rateUpdates[t].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-e)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(s.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(s.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(s.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(s.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){!(this.manager.context.currentTime<this.startTime)&&(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(s.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});e.exports=o},57490:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(53134),r=i(85034),s=i(83419),a=i(14463),o=i(8443),l=i(71741),h=i(95540),u=new s({Extends:r,initialize:function(e){this.context=this.createAudioContext(e),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),r.call(this,e),this.locked&&e.isBooted?this.unlock():e.events.once(o.BOOT,this.unlock,this)},createAudioContext:function(e){var t=e.config.audio;return t.context?(t.context.resume(),t.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(e){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=e,this.masterMuteNode=e.createGain(),this.masterVolumeNode=e.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(e.destination),this.destination=this.masterMuteNode,this},add:function(e,t){var i=new l(this,e,t);return this.sounds.push(i),i},decodeAudio:function(e,t){i=Array.isArray(e)?e:[{key:e,data:t}];for(var i,r=this.game.cache.audio,s=i.length,o=0;o<i.length;o++){var l=i[o],h=l.key,u=l.data;"string"==typeof u&&(u=n(u));var c=(function(e,t){r.add(e,t),this.emit(a.DECODED,e),0==--s&&this.emit(a.DECODED_ALL)}).bind(this,h),d=(function(e,t){console.error("Error decoding audio: "+e+" - ",t?t.message:""),0==--s&&this.emit(a.DECODED_ALL)}).bind(this,h);this.context.decodeAudioData(u,c,d)}},setListenerPosition:function(e,t){return void 0===e&&(e=this.game.scale.width/2),void 0===t&&(t=this.game.scale.height/2),this.listenerPosition.set(e,t),this},unlock:function(){var e=this,t=document.body,i=function i(){if(e.context&&t){var n=t.removeEventListener.bind(t);e.context.resume().then(function(){n("touchstart",i),n("touchend",i),n("click",i),n("keydown",i),e.unlocked=!0},function(){n("touchstart",i),n("touchend",i),n("click",i),n("keydown",i)})}};t&&(t.addEventListener("touchstart",i,!1),t.addEventListener("touchend",i,!1),t.addEventListener("click",i,!1),t.addEventListener("keydown",i,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var e=this.context;e&&!this.locked&&("suspended"===e.state||"interrupted"===e.state)&&e.resume()},update:function(e,t){var i=this.context.listener;if(i&&void 0!==i.positionX){var n=h(this.listenerPosition,"x",null),s=h(this.listenerPosition,"y",null);n&&n!==this._spatialx&&(this._spatialx=i.positionX.value=n),s&&s!==this._spatialy&&(this._spatialy=i.positionY.value=s)}r.prototype.update.call(this,e,t),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var e=this;this.context.close().then(function(){e.context=null})}r.prototype.destroy.call(this)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(e){this.masterMuteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(e){this.masterVolumeNode.gain.setValueAtTime(e,0),this.emit(a.GLOBAL_VOLUME,this,e)}}});e.exports=u},73162:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37105),r=i(83419),s=i(29747),a=i(19186),o=new r({initialize:function(e){this.parent=e,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(e,t){return t?n.Add(this.list,e):n.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,t,i){return i?n.AddAt(this.list,e,t):n.AddAt(this.list,e,t,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e&&(void 0===t&&(t=function(t,i){return t[e]-i[e]}),a(this.list,t)),this},getByName:function(e){return n.GetFirst(this.list,"name",e)},getRandom:function(e,t){return n.GetRandom(this.list,e,t)},getFirst:function(e,t,i,r){return n.GetFirst(this.list,e,t,i,r)},getAll:function(e,t,i,r){return n.GetAll(this.list,e,t,i,r)},count:function(e,t){return n.CountAllMatching(this.list,e,t)},swap:function(e,t){n.Swap(this.list,e,t)},moveTo:function(e,t){return n.MoveTo(this.list,e,t)},moveAbove:function(e,t){return n.MoveAbove(this.list,e,t)},moveBelow:function(e,t){return n.MoveBelow(this.list,e,t)},remove:function(e,t){return t?n.Remove(this.list,e):n.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,t){return t?n.RemoveAt(this.list,e):n.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,t,i){return i?n.RemoveBetween(this.list,e,t):n.RemoveBetween(this.list,e,t,this.removeCallback,this)},removeAll:function(e){for(var t=this.list.length;t--;)this.remove(this.list[t],e);return this},bringToTop:function(e){return n.BringToTop(this.list,e)},sendToBack:function(e){return n.SendToBack(this.list,e)},moveUp:function(e){return n.MoveUp(this.list,e),e},moveDown:function(e){return n.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(e,t){return n.Replace(this.list,e,t)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,i,r){return n.SetAll(this.list,e,t,i,r),this},each:function(e,t){for(var i=[null],n=2;n<arguments.length;n++)i.push(arguments[n]);for(n=0;n<this.list.length;n++)i[0]=this.list[n],e.apply(t,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return(this.position=0,this.list.length>0)?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});e.exports=o},90330:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){this.entries={},this.size=0,this.setAll(e)},setAll:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1]);return this},set:function(e,t){return!this.has(e)&&this.size++,this.entries[e]=t,this},get:function(e){if(this.has(e))return this.entries[e]},getArray:function(){var e=[],t=this.entries;for(var i in t)e.push(t[i]);return e},has:function(e){return this.entries.hasOwnProperty(e)},delete:function(e){return this.has(e)&&(delete this.entries[e],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(e){delete this.entries[e]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var e=[],t=this.entries;for(var i in t)e.push(t[i]);return e},dump:function(){var e=this.entries;for(var t in console.group("Map"),e)console.log(t,e[t]);console.groupEnd()},each:function(e){var t=this.entries;for(var i in t)if(!1===e(i,t[i]))break;return this},contains:function(e){var t=this.entries;for(var i in t)if(t[i]===e)return!0;return!1},merge:function(e,t){void 0===t&&(t=!1);var i=this.entries,n=e.entries;for(var r in n)i.hasOwnProperty(r)&&t?i[r]=n[r]:this.set(r,n[r]);return this}});e.exports=n},25774:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(82348),a=new n({Extends:r,initialize:function(){r.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(e){return this._active.indexOf(e)>-1},isPending:function(e){return this._toProcess>0&&this._pending.indexOf(e)>-1},isDestroying:function(e){return this._destroy.indexOf(e)>-1},add:function(e){return this.checkQueue&&this.isActive(e)&&!this.isDestroying(e)||this.isPending(e)||(this._pending.push(e),this._toProcess++),e},remove:function(e){if(this.isPending(e)){var t=this._pending,i=t.indexOf(e);-1!==i&&t.splice(i,1)}else this.isActive(e)&&(this._destroy.push(e),this._toProcess++);return e},removeAll:function(){for(var e=this._active,t=this._destroy,i=e.length;i--;)t.push(e[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var e,t,i=this._destroy,n=this._active;for(e=0;e<i.length;e++){t=i[e];var r=n.indexOf(t);-1!==r&&(n.splice(r,1),this.emit(s.PROCESS_QUEUE_REMOVE,t))}for(e=0,i.length=0,i=this._pending;e<i.length;e++)t=i[e],(!this.checkQueue||this.checkQueue&&-1===n.indexOf(t))&&(n.push(t),this.emit(s.PROCESS_QUEUE_ADD,t));return i.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});e.exports=a},59542:(e,t,i)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43886);function r(e){if(!(this instanceof r))return new r(e,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function s(e,t){a(e,0,e.children.length,t,e)}function a(e,t,i,n,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,a=t;a<i;a++)s=e.children[a],o(r,e.leaf?n(s):s);return r}function o(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function h(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function c(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,t,i,r,s){for(var a,o=[t,i];o.length;)(i=o.pop())-(t=o.pop())<=r||(n(e,a=t+Math.ceil((i-t)/r/2)*r,t,i,s),o.push(t,a,a,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!f(e,t))return i;for(var r,s,a,o,l=[];t;){for(r=0,s=t.children.length;r<s;r++)a=t.children[r],f(e,o=t.leaf?n(a):a)&&(t.leaf?i.push(a):d(e,o)?this._all(a,i):l.push(a));t=l.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!f(e,t))return!1;for(var n,r,s,a,o=[];t;){for(n=0,r=t.children.length;n<r;n++)if(s=t.children[n],f(e,a=t.leaf?i(s):s)){if(t.leaf||d(e,a))return!0;o.push(s)}t=o.pop()}return!1},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length){if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(e,t){if(!e)return this;for(var i,n,r,s,a=this.data,o=this.toBBox(e),l=[],h=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],i=h.pop(),s=!0),a.leaf&&-1!==(r=function(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return -1}(e,a.children,t))){a.children.splice(r,1),l.push(a),this._condense(l);break}!s&&!a.leaf&&d(a,o)?(l.push(a),h.push(i),i=0,n=a,a=a.children[0]):n?(i++,a=n.children[i],s=!1):a=null}return this},toBBox:function(e){return e},compareMinX:l,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var r,a=i-t+1,o=this._maxEntries;if(a<=o)return s(r=p(e.slice(t,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,n-1))),(r=p([])).leaf=!1,r.height=n;var l,h,u,c,d=Math.ceil(a/o),f=d*Math.ceil(Math.sqrt(o));for(m(e,t,i,f,this.compareMinX),l=t;l<=i;l+=f)for(u=Math.min(l+f-1,i),m(e,l,u,d,this.compareMinY),h=l;h<=u;h+=d)c=Math.min(h+d-1,u),r.children.push(this._build(e,h,c,n-1));return s(r,this.toBBox),r},_chooseSubtree:function(e,t,i,n){for(var r,s,a,o,l,h,c,d;n.push(t),!t.leaf&&n.length-1!==i;){for(r=0,c=d=1/0,s=t.children.length;r<s;r++)l=u(a=t.children[r]),(h=(Math.max(a.maxX,e.maxX)-Math.min(a.minX,e.minX))*(Math.max(a.maxY,e.maxY)-Math.min(a.minY,e.minY))-l)<d?(d=h,c=l<c?l:c,o=a):h===d&&l<c&&(c=l,o=a);t=o||t.children[0]}return t},_insert:function(e,t,i){var n=this.toBBox,r=i?e:n(e),s=[],a=this._chooseSubtree(r,this.data,t,s);for(a.children.push(e),o(a,r);t>=0;)if(s[t].children.length>this._maxEntries)this._split(s,t),t--;else break;this._adjustParentBBoxes(r,s,t)},_split:function(e,t){var i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),o=p(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,s(i,this.toBBox),s(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,r,s,o,l,h,c,d;for(h=c=1/0,n=t;n<=i-t;n++)o=function(e,t){var i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY);return Math.max(0,Math.min(e.maxX,t.maxX)-i)*Math.max(0,Math.min(e.maxY,t.maxY)-n)}(r=a(e,0,n,this.toBBox),s=a(e,n,i,this.toBBox)),l=u(r)+u(s),o<h?(h=o,d=n,c=l<c?l:c):o===h&&l<c&&(c=l,d=n);return d},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:l,r=e.leaf?this.compareMinY:h;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var r,s,l=this.toBBox,h=a(e,0,t,l),u=a(e,i-t,i,l),d=c(h)+c(u);for(r=t;r<i-t;r++)s=e.children[r],o(h,e.leaf?l(s):s),d+=c(h);for(r=i-t-1;r>=t;r--)s=e.children[r],o(u,e.leaf?l(s):s),d+=c(u);return d},_adjustParentBBoxes:function(e,t,i){for(var n=i;n>=0;n--)o(t[n],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():s(e[i],this.toBBox)},compareMinX:function(e,t){return e.left-t.left},compareMinY:function(e,t){return e.top-t.top},toBBox:function(e){return{minX:e.left,minY:e.top,maxX:e.right,maxY:e.bottom}}},e.exports=r},35072:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){if(this.entries=[],Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t])},set:function(e){return -1===this.entries.indexOf(e)&&this.entries.push(e),this},get:function(e,t){for(var i=0;i<this.entries.length;i++){var n=this.entries[i];if(n[e]===t)return n}},getArray:function(){return this.entries.slice(0)},delete:function(e){var t=this.entries.indexOf(e);return t>-1&&this.entries.splice(t,1),this},dump:function(){console.group("Set");for(var e=0;e<this.entries.length;e++)console.log(this.entries[e]);console.groupEnd()},each:function(e,t){var i,n=this.entries.slice(),r=n.length;if(t)for(i=0;i<r&&!1!==e.call(t,n[i],i);i++);else for(i=0;i<r&&!1!==e(n[i],i);i++);return this},iterate:function(e,t){var i,n=this.entries.length;if(t)for(i=0;i<n&&!1!==e.call(t,this.entries[i],i);i++);else for(i=0;i<n&&!1!==e(this.entries[i],i);i++);return this},iterateLocal:function(e){var t,i=[];for(t=1;t<arguments.length;t++)i.push(arguments[t]);var n=this.entries.length;for(t=0;t<n;t++){var r=this.entries[t];r[e].apply(r,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(e){return this.entries.indexOf(e)>-1},union:function(e){var t=new n;return e.entries.forEach(function(e){t.set(e)}),this.entries.forEach(function(e){t.set(e)}),t},intersect:function(e){var t=new n;return this.entries.forEach(function(i){e.contains(i)&&t.set(i)}),t},difference:function(e){var t=new n;return this.entries.forEach(function(i){e.contains(i)||t.set(i)}),t},size:{get:function(){return this.entries.length},set:function(e){return e<this.entries.length?this.entries.length=e:this.entries.length}}});e.exports=n},86555:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(56583),a=i(26099),o=new r({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=0),void 0===n&&(n=null),this._width=e,this._height=t,this._parent=n,this.aspectMode=i,this.aspectRatio=0===t?1:e/t,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(e){return void 0===e&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.snapTo.set(e,t),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.minWidth=n(e,0,this.maxWidth),this.minHeight=n(t,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,t){return void 0===e&&(e=Number.MAX_VALUE),void 0===t&&(t=e),this.maxWidth=n(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=n(t,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,t){switch(void 0===e&&(e=0),void 0===t&&(t=e),this.aspectMode){case o.NONE:this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(s(t,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(t,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(e,t,!0);break;case o.ENVELOP:this.constrain(e,t,!1)}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,t){return this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(s(t,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(e,t){return void 0===t&&(t=!0),e=n(e,this.minWidth,this.maxWidth),t&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,t){return void 0===t&&(t=!0),e=n(e,this.minHeight,this.maxHeight),t&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=!0),e=this.getNewWidth(e),t=this.getNewHeight(t);var n=this.snapTo,r=0===t?1:e/t;return i&&this.aspectRatio>r||!i&&this.aspectRatio<r?(t=(e=s(e,n.x))/this.aspectRatio,n.y>0&&(e=(t=s(t,n.y))*this.aspectRatio)):(i&&this.aspectRatio<r||!i&&this.aspectRatio>r)&&(e=(t=s(t,n.y))*this.aspectRatio,n.x>0&&(t=(e=s(e,n.x))*(1/this.aspectRatio))),this._width=e,this._height=t,this},fitTo:function(e,t){return this.constrain(e,t,!0)},envelop:function(e,t){return this.constrain(e,t,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,e.exports=o},15238:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="add"},56187:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="remove"},82348:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(45319),s=i(40987),a=i(8054),o=i(50030),l=i(79237),h=new n({Extends:l,initialize:function(e,t,i,n,r){l.call(this,e,t,i,n,r),this.add("__BASE",0,0,0,n,r),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=n,this.height=r,this.imageData=this.context.getImageData(0,0,n,r),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(e,t,i,n){return void 0===n&&(n=!0),this.context.drawImage(i,e,t),n&&this.update(),this},drawFrame:function(e,t,i,n,r){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=!0);var s=this.manager.getFrame(e,t);if(s){var a=s.canvasData,o=s.cutWidth,l=s.cutHeight,h=s.source.resolution;this.context.drawImage(s.source.image,a.x,a.y,o,l,i,n,o/h,l/h),r&&this.update()}return this},setPixel:function(e,t,i,n,r,s){if(void 0===s&&(s=255),e=Math.abs(Math.floor(e)),t=Math.abs(Math.floor(t)),this.getIndex(e,t)>-1){var a=this.context.getImageData(e,t,1,1);a.data[0]=i,a.data[1]=n,a.data[2]=r,a.data[3]=s,this.context.putImageData(a,e,t)}return this},putData:function(e,t,i,n,r,s,a){return void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=e.width),void 0===a&&(a=e.height),this.context.putImageData(e,t,i,n,r,s,a),this},getData:function(e,t,i,n){return e=r(Math.floor(e),0,this.width-1),t=r(Math.floor(t),0,this.height-1),i=r(i,1,this.width-e),n=r(n,1,this.height-t),this.context.getImageData(e,t,i,n)},getPixel:function(e,t,i){i||(i=new s);var n=this.getIndex(e,t);if(n>-1){var r=this.data,a=r[n+0],o=r[n+1],l=r[n+2],h=r[n+3];i.setTo(a,o,l,h)}return i},getPixels:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===n&&(n=i),e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t));for(var a=r(e,0,this.width),o=r(e+i,0,this.width),l=r(t,0,this.height),h=r(t+n,0,this.height),u=new s,c=[],d=l;d<h;d++){for(var f=[],p=a;p<o;p++)u=this.getPixel(p,d,u),f.push({x:p,y:d,color:u.color,alpha:u.alphaGL});c.push(f)}return c},getIndex:function(e,t){return(e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t)),e<this.width&&t<this.height)?(e+t*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(e,t,i,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===n&&(n=this.height),void 0===r&&(r=!0),this.context.clearRect(e,t,i,n),r&&this.update(),this},setSize:function(e,t){return void 0===t&&(t=e),(e!==this.width||t!==this.height)&&(this.canvas.width=e,this.canvas.height=t,this._source.width=e,this._source.height=t,this._source.isPowerOf2=o(e,t),this.frames.__BASE.setSize(e,t,0,0),this.width=e,this.height=t,this.refresh()),this},destroy:function(){l.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});e.exports=h},81320:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(38058),s=i(27919),a=i(83419),o=i(8054),l=i(4327),h=i(95540),u=i(36060),c=i(32302),d=i(79237),f=i(70554),p=new a({Extends:d,initialize:function(e,t,i,n){void 0===i&&(i=256),void 0===n&&(n=256),this.type="DynamicTexture";var a=e.game.renderer,l=a&&a.type===o.CANVAS,h=l?s.create2D(this,i,n):[this];d.call(this,e,t,h,i,n),this.add("__BASE",0,0,0,i,n),this.renderer=a,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=l?h:null,this.context=l?h.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new r(0,0,i,n).setScene(e.game.scene.systemScene,!1),this.renderTarget=l?null:new c(a,i,n,1,0,!1,!1,!0,!1),this.pipeline=l?null:a.pipelines.get(u.SINGLE_PIPELINE),this.setSize(i,n)},setSize:function(e,t){void 0===t&&(t=e);var i=this.get(),n=i.source;if(e!==this.width||t!==this.height){this.canvas&&(this.canvas.width=e,this.canvas.height=t);var r=this.renderTarget;r&&(r.willResize(e,t)&&r.resize(e,t),r.texture!==n.glTexture&&this.renderer.deleteTexture(n.glTexture),this.setFromRenderTarget()),this.camera.setSize(e,t),n.width=e,n.height=t,i.setSize(e,t),this.width=e,this.height=t}else{var s=this.getSourceImage();i.cutX+e>s.width&&(e=s.width-i.cutX),i.cutY+t>s.height&&(t=s.height-i.cutY),i.setSize(e,t,i.cutX,i.cutY)}return this},setFromRenderTarget:function(){var e=this.get().source,t=this.renderTarget;return e.isRenderTexture=!0,e.isGLTexture=!0,e.glTexture=t.texture,this},setIsSpriteTexture:function(e){return this.isSpriteTexture=e,this},fill:function(e,t,i,n,r,s){var a=this.camera,o=this.renderer;void 0===t&&(t=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=this.width),void 0===s&&(s=this.height);var l=e>>16&255,h=e>>8&255,u=255&e,c=this.renderTarget;if(a.preRender(),c){c.bind(!0);var d=this.pipeline.manager.set(this.pipeline),p=o.width/c.width,m=o.height/c.height,g=c.height-(n+s);d.drawFillRect(i*p,g*m,r*p,s*m,f.getTintFromFloats(u/255,h/255,l/255,1),t),c.unbind(!0)}else{var v=this.context;o.setContext(v),v.globalCompositeOperation="source-over",v.fillStyle="rgba("+l+","+h+","+u+","+t+")",v.fillRect(i,n,r,s),o.setContext()}return this.dirty=!0,this},clear:function(e,t,i,n){if(this.dirty){var r=this.context,s=this.renderTarget;s?s.clear(e,t,i,n):r&&(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==n?r.clearRect(e,t,i,n):(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,this.width,this.height),r.restore())),this.dirty=!1}return this},stamp:function(e,t,i,n,r){void 0===i&&(i=0),void 0===n&&(n=0);var s=h(r,"alpha",1),a=h(r,"tint",0xffffff),o=h(r,"angle",0),l=h(r,"rotation",0),u=h(r,"scale",1),c=h(r,"scaleX",u),d=h(r,"scaleY",u),f=h(r,"originX",.5),p=h(r,"originY",.5),m=h(r,"blendMode",0),g=h(r,"erase",!1),v=h(r,"skipBatch",!1),y=this.manager.resetStamp(s,a);return y.setAngle(0),0!==o?y.setAngle(o):0!==l&&y.setRotation(l),y.setScale(c,d),y.setTexture(e,t),y.setOrigin(f,p),y.setBlendMode(m),g&&(this._eraseMode=!0),v?this.batchGameObject(y,i,n):this.draw(y,i,n),g&&(this._eraseMode=!1),this},erase:function(e,t,i){return this._eraseMode=!0,this.draw(e,t,i),this._eraseMode=!1,this},draw:function(e,t,i,n,r){return this.beginDraw(),this.batchDraw(e,t,i,n,r),this.endDraw(),this},drawFrame:function(e,t,i,n,r,s){return this.beginDraw(),this.batchDrawFrame(e,t,i,n,r,s),this.endDraw(),this},repeat:function(e,t,i,n,r,s,a,o,h){if(void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=this.width),void 0===s&&(s=this.height),void 0===a&&(a=1),void 0===o&&(o=0xffffff),void 0===h&&(h=!1),!(t=e instanceof l?e:this.manager.getFrame(e,t)))return this;var u=this.manager.resetStamp(a,o);u.setFrame(t),u.setOrigin(0);var c=t.width,d=t.height,f=Math.ceil((r=Math.floor(r))/c),p=Math.ceil((s=Math.floor(s))/d),m=f*c-r,g=p*d-s;m>0&&(m=c-m),g>0&&(g=d-g),i<0&&(f+=Math.ceil(Math.abs(i)/c)),n<0&&(p+=Math.ceil(Math.abs(n)/d));var v=i,y=n,b=!1,x=this.manager.stampCrop.setTo(0,0,c,d);h||this.beginDraw();for(var E=0;E<p;E++){if(y+d<0){y+=d;continue}for(var w=0;w<f;w++){if(b=!1,v+c<0){v+=c;continue}v<0&&(b=!0,x.width=c+v,x.x=c-x.width),y<0&&(b=!0,x.height=d+y,x.y=d-x.height),m>0&&w===f-1&&(b=!0,x.width=m),g>0&&E===p-1&&(b=!0,x.height=g),b&&u.setCrop(x),this.batchGameObject(u,v,y),u.isCropped=!1,x.setTo(0,0,c,d),v+=c}v=i,y+=d}return h||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var e=this.camera,t=this.renderer,i=this.renderTarget;e.preRender(),i?t.beginCapture(i.width,i.height):t.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(e,t,i,n,r){return Array.isArray(e)||(e=[e]),this.batchList(e,t,i,n,r),this},batchDrawFrame:function(e,t,i,n,r,s){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===s&&(s=0xffffff);var a=this.manager.getFrame(e,t);return a&&(this.renderTarget?this.pipeline.batchTextureFrame(a,i,n,s,r,this.camera.matrix,null):this.batchTextureFrame(a,i,n,r,s)),this},endDraw:function(e){if(void 0===e&&(e=this._eraseMode),this.isDrawing){var t=this.renderer,i=this.renderTarget;if(i){var n=t.endCapture();t.pipelines.setUtility().blitFrame(n,i,1,!1,!1,e,this.isSpriteTexture),t.resetScissor(),t.resetViewport()}else t.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(e,t,i,n,r){var s=e.length;if(0!==s)for(var a=0;a<s;a++){var o=e[a];o&&o!==this&&(o.renderWebGL||o.renderCanvas?this.batchGameObject(o,t,i):o.isParent||o.list?this.batchGroup(o.getChildren(),t,i):"string"==typeof o?this.batchTextureFrameKey(o,null,t,i,n,r):o instanceof l?this.batchTextureFrame(o,t,i,n,r):Array.isArray(o)&&this.batchList(o,t,i,n,r))}},batchGroup:function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);for(var n=0;n<e.length;n++){var r=e[n];r.willRender(this.camera)&&this.batchGameObject(r,r.x+t,r.y+i)}},batchGameObject:function(e,t,i){void 0===t&&(t=e.x),void 0===i&&(i=e.y);var r=e.x,s=e.y,a=this.camera,o=this.renderer,l=this._eraseMode,h=e.mask;if(e.setPosition(t,i),this.canvas){if(l){var u=e.blendMode;e.blendMode=n.ERASE}h&&h.preRenderCanvas(o,e,a),e.renderCanvas(o,e,a,null),h&&h.postRenderCanvas(o,e,a),l&&(e.blendMode=u)}else o&&(h&&h.preRenderWebGL(o,e,a),l||o.setBlendMode(e.blendMode),e.renderWebGL(o,e,a),h&&h.postRenderWebGL(o,a,this.renderTarget));e.setPosition(r,s)},batchTextureFrameKey:function(e,t,i,n,r,s){var a=this.manager.getFrame(e,t);a&&this.batchTextureFrame(a,i,n,r,s)},batchTextureFrame:function(e,t,i,n,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0xffffff);var s=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(e,t,i,r,n,s,null);else{var a=this.context,o=e.canvasData,l=e.source.image;a.save(),a.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",a.globalAlpha=n,s.setToContext(a),o.width>0&&o.height>0&&a.drawImage(l,o.x,o.y,o.width,o.height,t,i,o.width,o.height),a.restore()}},snapshotArea:function(e,t,i,n,r,s,a){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,r,!1,e,t,i,n,s,a):this.renderer.snapshotCanvas(this.canvas,r,!1,e,t,i,n,s,a),this},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.width,this.height,e,t,i)},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(e,t,i,n){var r=this.manager.resetStamp();r.setTexture(this),r.setOrigin(0),r.renderWebGL(e,r,i,n)},renderCanvas:function(){},destroy:function(){var e=this.manager.stamp;e&&e.texture===this&&this.manager.resetStamp(),d.prototype.destroy.call(this),s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});e.exports=p},4327:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(45319),s=i(79291),a=new n({initialize:function(e,t,i,n,r,s,a){this.texture=e,this.name=t,this.source=e.source[i],this.sourceIndex=i,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(s,a,n,r)},setCutPosition:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.cutX=e,this.cutY=t,this.updateUVs()},setCutSize:function(e,t){return this.cutWidth=e,this.cutHeight=t,this.updateUVs()},setSize:function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this.setCutPosition(i,n),this.setCutSize(e,t),this.width=e,this.height=t,this.halfWidth=Math.floor(.5*e),this.halfHeight=Math.floor(.5*t),this.centerX=Math.floor(e/2),this.centerY=Math.floor(t/2);var r=this.data,s=r.cut;s.x=i,s.y=n,s.w=e,s.h=t,s.r=i+e,s.b=n+t,r.sourceSize.w=e,r.sourceSize.h=t,r.spriteSourceSize.w=e,r.spriteSourceSize.h=t,r.radius=.5*Math.sqrt(e*e+t*t);var a=r.drawImage;return a.x=i,a.y=n,a.width=e,a.height=t,this.updateUVs()},setTrim:function(e,t,i,n,r,s){var a=this.data,o=a.spriteSourceSize;return a.trim=!0,a.sourceSize.w=e,a.sourceSize.h=t,o.x=i,o.y=n,o.w=r,o.h=s,o.r=i+r,o.b=n+s,this.x=i,this.y=n,this.width=r,this.height=s,this.halfWidth=.5*r,this.halfHeight=.5*s,this.centerX=Math.floor(r/2),this.centerY=Math.floor(s/2),this.updateUVs()},setScale9:function(e,t,i,n){var r=this.data;return r.scale9=!0,r.is3Slice=0===t&&n===this.height,r.scale9Borders.x=e,r.scale9Borders.y=t,r.scale9Borders.w=i,r.scale9Borders.h=n,this},setCropUVs:function(e,t,i,n,s,a,o){var l=this.cutX,h=this.cutY,u=this.cutWidth,c=this.cutHeight,d=this.realWidth,f=this.realHeight;t=r(t,0,d),i=r(i,0,f),n=r(n,0,d-t),s=r(s,0,f-i);var p=l+t,m=h+i,g=n,v=s,y=this.data;if(y.trim){var b=y.spriteSourceSize;n=r(n,0,u-t),s=r(s,0,c-i);var x=t+n,E=i+s;if(b.r<t||b.b<i||b.x>x||b.y>E)p=0,m=0,g=0,v=0;else{var w=Math.max(b.x,t),S=Math.max(b.y,i),T=Math.min(b.r,x)-w,A=Math.min(b.b,E)-S;g=T,v=A,p=a?l+(u-(w-b.x)-T):l+(w-b.x),m=o?h+(c-(S-b.y)-A):h+(S-b.y),t=w,i=S,n=T,s=A}}else a&&(p=l+(u-t-n)),o&&(m=h+(c-i-s));var _=this.source.width,C=this.source.height;return e.u0=Math.max(0,p/_),e.v0=Math.max(0,m/C),e.u1=Math.min(1,(p+g)/_),e.v1=Math.min(1,(m+v)/C),e.x=t,e.y=i,e.cx=p,e.cy=m,e.cw=g,e.ch=v,e.width=n,e.height=s,e.flipX=a,e.flipY=o,e},updateCropUVs:function(e,t,i){return this.setCropUVs(e,e.x,e.y,e.width,e.height,t,i)},setUVs:function(e,t,i,n,r,s){var a=this.data.drawImage;return a.width=e,a.height=t,this.u0=i,this.v0=n,this.u1=r,this.v1=s,this},updateUVs:function(){var e=this.cutX,t=this.cutY,i=this.cutWidth,n=this.cutHeight,r=this.data.drawImage;r.width=i,r.height=n;var s=this.source.width,a=this.source.height;return this.u0=e/s,this.v0=t/a,this.u1=(e+i)/s,this.v1=(t+n)/a,this},updateUVsInverted:function(){var e=this.source.width,t=this.source.height;return this.u0=(this.cutX+this.cutHeight)/e,this.v0=this.cutY/t,this.u1=this.cutX/e,this.v1=(this.cutY+this.cutWidth)/t,this},clone:function(){var e=new a(this.texture,this.name,this.sourceIndex);return e.cutX=this.cutX,e.cutY=this.cutY,e.cutWidth=this.cutWidth,e.cutHeight=this.cutHeight,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e.halfWidth=this.halfWidth,e.halfHeight=this.halfHeight,e.centerX=this.centerX,e.centerY=this.centerY,e.rotated=this.rotated,e.data=s(!0,e.data,this.data),e.updateUVs(),e},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});e.exports=a},79237:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(4327),s=i(11876),a='Texture "%s" has no frame "%s"',o=new n({initialize:function(e,t,i,n,r){Array.isArray(i)||(i=[i]),this.manager=e,this.key=t,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var a=0;a<i.length;a++)this.source.push(new s(this,i[a],n,r))},add:function(e,t,i,n,s,a){if(this.has(e))return null;var o=new r(this,e,t,i,n,s,a);return this.frames[e]=o,"__BASE"===this.firstFrame&&(this.firstFrame=e),this.frameTotal++,o},remove:function(e){return!!this.has(e)&&(this.get(e).destroy(),delete this.frames[e],!0)},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var t=this.frames[e];return t||(console.warn(a,this.key,e),t=this.frames[this.firstFrame]),t},getTextureSourceIndex:function(e){for(var t=0;t<this.source.length;t++)if(this.source[t]===e)return t;return -1},getFramesFromTextureSource:function(e,t){void 0===t&&(t=!1);var i=[];for(var n in this.frames)if("__BASE"!==n||t){var r=this.frames[n];r.sourceIndex===e&&i.push(r)}return i},getFrameBounds:function(e){void 0===e&&(e=0);for(var t=this.getFramesFromTextureSource(e,!0),i=t[0],n=i.cutX,r=i.cutY,s=i.cutX+i.cutWidth,a=i.cutY+i.cutHeight,o=1;o<t.length;o++){var l=t[o];l.cutX<n&&(n=l.cutX),l.cutY<r&&(r=l.cutY),l.cutX+l.cutWidth>s&&(s=l.cutX+l.cutWidth),l.cutY+l.cutHeight>a&&(a=l.cutY+l.cutHeight)}return{x:n,y:r,width:s-n,height:a-r}},getFrameNames:function(e){void 0===e&&(e=!1);var t=Object.keys(this.frames);if(!e){var i=t.indexOf("__BASE");-1!==i&&t.splice(i,1)}return t},getSourceImage:function(e){(null==e||1===this.frameTotal)&&(e="__BASE");var t=this.frames[e];return t?t.source.image:(console.warn(a,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(null==e||1===this.frameTotal)&&(e="__BASE");var t,i=this.frames[e];return i?t=i.sourceIndex:(console.warn(a,this.key,e),t=this.frames.__BASE.sourceIndex),this.dataSource[t].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=this.source[t];this.dataSource.push(new s(this,e[t],i.width,i.height))}},setFilter:function(e){var t;for(t=0;t<this.source.length;t++)this.source[t].setFilter(e);for(t=0;t<this.dataSource.length;t++)this.dataSource[t].setFilter(e)},destroy:function(){var e,t=this.source,i=this.dataSource;for(e=0;e<t.length;e++)t[e]&&t[e].destroy();for(e=0;e<i.length;e++)i[e]&&i[e].destroy();for(var n in this.frames){var r=this.frames[n];r&&r.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});e.exports=o},17130:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(57382),s=i(83419),a=i(40987),o=i(8054),l=i(81320),h=i(50792),u=i(69442),c=i(4327),d=i(8443),f=i(99584),p=i(35154),m=i(88571),g=i(41212),v=i(61309),y=i(87841),b=i(79237),x=new s({Extends:h,initialize:function(e){h.call(this),this.game=e,this.name="TextureManager",this.list={},this._tempCanvas=n.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new y,this.silentWarnings=!1,e.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this);var e=this.game.config;null!==e.defaultImage&&this.addBase64("__DEFAULT",e.defaultImage),null!==e.missingImage&&this.addBase64("__MISSING",e.missingImage),null!==e.whiteImage&&this.addBase64("__WHITE",e.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(d.DESTROY,this.destroy,this),this.game.events.once(d.SYSTEM_READY,function(e){this.stamp=new m(e).setOrigin(0)},this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY))},checkKey:function(e){return!(!e||"string"!=typeof e||this.exists(e))||(this.silentWarnings||console.error("Texture key already in use: "+e),!1)},remove:function(e){if("string"==typeof e){if(!this.exists(e))return this.silentWarnings||console.warn("No texture found matching key: "+e),this;e=this.get(e)}var t=e.key;return this.list.hasOwnProperty(t)&&(e.destroy(),this.emit(u.REMOVE,t),this.emit(u.REMOVE_KEY+t)),this},removeKey:function(e){return this.list.hasOwnProperty(e)&&delete this.list[e],this},addBase64:function(e,t){if(this.checkKey(e)){var i=this,n=new Image;n.onerror=function(){i.emit(u.ERROR,e)},n.onload=function(){var t=i.create(e,n);v.Image(t,0),i.emit(u.ADD,e,t),i.emit(u.ADD_KEY+e,t),i.emit(u.LOAD,e,t)},n.src=t}return this},getBase64:function(e,t,i,r){void 0===i&&(i="image/png"),void 0===r&&(r=.92);var s="",a=this.getFrame(e,t);if(a&&(a.source.isRenderTexture||a.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(a){var o=a.canvasData,l=n.create2D(this,o.width,o.height),h=l.getContext("2d",{willReadFrequently:!0});o.width>0&&o.height>0&&h.drawImage(a.source.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height),s=l.toDataURL(i,r),n.remove(l)}return s},addImage:function(e,t,i){var n=null;return this.checkKey(e)&&(n=this.create(e,t),v.Image(n,0),i&&n.setDataSource(i),this.emit(u.ADD,e,n),this.emit(u.ADD_KEY+e,n)),n},addGLTexture:function(e,t){var i=null;if(this.checkKey(e)){var n=t.width,r=t.height;(i=this.create(e,t,n,r)).add("__BASE",0,0,0,n,r),this.emit(u.ADD,e,i),this.emit(u.ADD_KEY+e,i)}return i},addCompressedTexture:function(e,t,i){var n=null;if(this.checkKey(e)){if((n=this.create(e,t)).add("__BASE",0,0,0,t.width,t.height),i){var r=function(e,t,i){Array.isArray(i.textures)||Array.isArray(i.frames)?v.JSONArray(e,t,i):v.JSONHash(e,t,i)};if(Array.isArray(i))for(var s=0;s<i.length;s++)r(n,s,i[s]);else r(n,0,i)}this.emit(u.ADD,e,n),this.emit(u.ADD_KEY+e,n)}return n},addRenderTexture:function(e,t){var i=null;return this.checkKey(e)&&((i=this.create(e,t)).add("__BASE",0,0,0,t.width,t.height),this.emit(u.ADD,e,i),this.emit(u.ADD_KEY+e,i)),i},generate:function(e,t){if(!this.checkKey(e))return null;var i=n.create(this,1,1);return t.canvas=i,f(t),this.addCanvas(e,i)},createCanvas:function(e,t,i){if(void 0===t&&(t=256),void 0===i&&(i=256),this.checkKey(e)){var r=n.create(this,t,i,o.CANVAS,!0);return this.addCanvas(e,r)}return null},addCanvas:function(e,t,i){void 0===i&&(i=!1);var n=null;return i?n=new r(this,e,t,t.width,t.height):this.checkKey(e)&&(n=new r(this,e,t,t.width,t.height),this.list[e]=n,this.emit(u.ADD,e,n),this.emit(u.ADD_KEY+e,n)),n},addDynamicTexture:function(e,t,i){var n=null;return"string"!=typeof e||this.exists(e)?e=(n=e).key:n=new l(this,e,t,i),this.checkKey(e)?(this.list[e]=n,this.emit(u.ADD,e,n),this.emit(u.ADD_KEY+e,n)):n=null,n},addAtlas:function(e,t,i,n){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(e,t,i,n):this.addAtlasJSONHash(e,t,i,n)},addAtlasJSONArray:function(e,t,i,n){var r=null;if(t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r){if(Array.isArray(i))for(var s=1===i.length,a=0;a<r.source.length;a++){var o=s?i[0]:i[a];v.JSONArray(r,a,o)}else v.JSONArray(r,0,i);n&&r.setDataSource(n),this.emit(u.ADD,e,r),this.emit(u.ADD_KEY+e,r)}return r},addAtlasJSONHash:function(e,t,i,n){var r=null;if(t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r){if(Array.isArray(i))for(var s=0;s<i.length;s++)v.JSONHash(r,s,i[s]);else v.JSONHash(r,0,i);n&&r.setDataSource(n),this.emit(u.ADD,e,r),this.emit(u.ADD_KEY+e,r)}return r},addAtlasXML:function(e,t,i,n){var r=null;return t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r&&(v.AtlasXML(r,0,i),n&&r.setDataSource(n),this.emit(u.ADD,e,r),this.emit(u.ADD_KEY+e,r)),r},addUnityAtlas:function(e,t,i,n){var r=null;return t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r&&(v.UnityYAML(r,0,i),n&&r.setDataSource(n),this.emit(u.ADD,e,r),this.emit(u.ADD_KEY+e,r)),r},addSpriteSheet:function(e,t,i,n){var r=null;if(t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r){var s=r.source[0].width,a=r.source[0].height;v.SpriteSheet(r,0,0,0,s,a,i),n&&r.setDataSource(n),this.emit(u.ADD,e,r),this.emit(u.ADD_KEY+e,r)}return r},addSpriteSheetFromAtlas:function(e,t){if(!this.checkKey(e))return null;var i=p(t,"atlas",null),n=p(t,"frame",null);if(i&&n){var r=this.get(i).get(n);if(r){var s=r.source.image;s||(s=r.source.glTexture);var a=this.create(e,s);return r.trimmed?v.SpriteSheetFromAtlas(a,r,t):v.SpriteSheet(a,0,r.cutX,r.cutY,r.cutWidth,r.cutHeight,t),this.emit(u.ADD,e,a),this.emit(u.ADD_KEY+e,a),a}}},addUint8Array:function(e,t,i,n){if(!this.checkKey(e)||t.length/4!=i*n)return null;var r=this.create(e,t,i,n);return r.add("__BASE",0,0,0,i,n),this.emit(u.ADD,e,r),this.emit(u.ADD_KEY+e,r),r},create:function(e,t,i,n){var r=null;return this.checkKey(e)&&(r=new b(this,e,t,i,n),this.list[e]=r),r},exists:function(e){return this.list.hasOwnProperty(e)},get:function(e){return(void 0===e&&(e="__DEFAULT"),this.list[e])?this.list[e]:e instanceof b?e:e instanceof c?e.texture:this.list.__MISSING},cloneFrame:function(e,t){if(this.list[e])return this.list[e].get(t).clone()},getFrame:function(e,t){if(this.list[e])return this.list[e].get(t)},parseFrame:function(e){if(e){if("string"==typeof e)return this.getFrame(e);if(Array.isArray(e)&&2===e.length)return this.getFrame(e[0],e[1]);if(g(e))return this.getFrame(e.key,e.frame);if(e instanceof b)return e.get();else if(e instanceof c)return e}},getTextureKeys:function(){var e=[];for(var t in this.list)"__DEFAULT"!==t&&"__MISSING"!==t&&"__WHITE"!==t&&"__NORMAL"!==t&&e.push(t);return e},getPixel:function(e,t,i,n){var r=this.getFrame(i,n);if(r){e-=r.x,t-=r.y;var s=r.data.cut;if(e+=s.x,t+=s.y,e>=s.x&&e<s.r&&t>=s.y&&t<s.b){var o=this._tempContext;o.clearRect(0,0,1,1),o.drawImage(r.source.image,e,t,1,1,0,0,1,1);var l=o.getImageData(0,0,1,1);return new a(l.data[0],l.data[1],l.data[2],l.data[3])}}return null},getPixelAlpha:function(e,t,i,n){var r=this.getFrame(i,n);if(r){e-=r.x,t-=r.y;var s=r.data.cut;if(e+=s.x,t+=s.y,e>=s.x&&e<s.r&&t>=s.y&&t<s.b){var a=this._tempContext;return a.clearRect(0,0,1,1),a.drawImage(r.source.image,e,t,1,1,0,0,1,1),a.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(e,t,i){return this.list[t]&&(e.texture=this.list[t],e.frame=e.texture.get(i)),e},renameTexture:function(e,t){var i=this.get(e);return!!i&&e!==t&&(i.key=t,this.list[t]=i,delete this.list[e],!0)},each:function(e,t){for(var i=[null],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[0]=this.list[r],e.apply(t,i)},resetStamp:function(e,t){void 0===e&&(e=1),void 0===t&&(t=0xffffff);var i=this.stamp;return i.setCrop(),i.setPosition(0),i.setAngle(0),i.setScale(1),i.setAlpha(e),i.setTint(t),i.setTexture("__WHITE"),i},destroy:function(){for(var e in this.list)this.list[e].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,n.remove(this._tempCanvas)}});e.exports=x},11876:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(83419),s=i(50030),a=i(29795),o=i(82751),l=new r({initialize:function(e,t,i,n,r){void 0===r&&(r=!1);var l=e.manager.game;this.renderer=l.renderer,this.texture=e,this.source=t,this.image=t.compressed?null:t,this.compressionAlgorithm=t.compressed?t.format:null,this.resolution=1,this.width=i||t.naturalWidth||t.videoWidth||t.width||0,this.height=n||t.naturalHeight||t.videoHeight||t.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=t instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&t instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===t.type||"DynamicTexture"===t.type,this.isGLTexture=t instanceof o,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.flipY=r,this.init(l)},init:function(e){var t=this.renderer;if(t){var i=this.source;if(t.gl){var n=this.image,r=this.flipY,s=this.width,a=this.height,o=this.scaleMode;this.isCanvas?this.glTexture=t.createCanvasTexture(n,!1,r):this.isVideo?this.glTexture=t.createVideoTexture(n,!1,r):this.isRenderTexture?this.glTexture=t.createTextureFromSource(null,s,a,o):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=t.createTextureFromSource(i,void 0,void 0,o):i instanceof Uint8Array?this.glTexture=t.createUint8ArrayTexture(i,s,a,o):this.glTexture=t.createTextureFromSource(n,s,a,o)}else this.isRenderTexture&&(this.image=i.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return void 0===e&&(e=!0),e===this.flipY||(this.flipY=e,this.update()),this},update:function(){var e=this.renderer,t=this.image,i=this.flipY,n=e.gl;n&&this.isCanvas?e.updateCanvasTexture(t,this.glTexture,i):n&&this.isVideo&&e.updateVideoTexture(t,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&n.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});e.exports=l},19673:e=>{e.exports={LINEAR:0,NEAREST:1}},44538:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addtexture"},63486:e=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addtexture-"},94851:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="onerror"},29099:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="onload"},8678:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="ready"},86415:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removetexture"},30879:e=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removetexture-"},69442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(19673),s={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:r,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};s=n(!1,s,r),e.exports=s},89905:e=>{e.exports=function(e,t,i){if(!i.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var n,r=e.source[t];e.add("__BASE",t,0,0,r.width,r.height);for(var s=i.getElementsByTagName("SubTexture"),a=0;a<s.length;a++){var o=s[a].attributes,l=o.name.value,h=parseInt(o.x.value,10),u=parseInt(o.y.value,10),c=parseInt(o.width.value,10),d=parseInt(o.height.value,10);if(n=e.add(l,t,h,u,c,d),o.frameX){var f=Math.abs(parseInt(o.frameX.value,10)),p=Math.abs(parseInt(o.frameY.value,10)),m=parseInt(o.frameWidth.value,10),g=parseInt(o.frameHeight.value,10);n.setTrim(c,d,f,p,m,g)}}return e}},72893:e=>{e.exports=function(e,t){var i=e.source[t];return e.add("__BASE",t,0,0,i.width,i.height),e}},4832:e=>{e.exports=function(e,t){var i=e.source[t];return e.add("__BASE",t,0,0,i.width,i.height),e}},78566:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41786);e.exports=function(e,t,i){if(!i.frames&&!i.textures){console.warn("Invalid Texture Atlas JSON Array");return}var r,s=e.source[t];e.add("__BASE",t,0,0,s.width,s.height);for(var a=Array.isArray(i.textures)?i.textures[t].frames:i.frames,o=0;o<a.length;o++){var l=a[o];if(!(r=e.add(l.filename,t,l.frame.x,l.frame.y,l.frame.w,l.frame.h))){console.warn("Invalid atlas json, frame already exists: "+l.filename);continue}l.trimmed&&r.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(r.rotated=!0,r.updateUVsInverted());var h=l.anchor||l.pivot;h&&(r.customPivot=!0,r.pivotX=h.x,r.pivotY=h.y),l.scale9Borders&&r.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),r.customData=n(l)}for(var u in i)"frames"!==u&&(Array.isArray(i[u])?e.customData[u]=i[u].slice(0):e.customData[u]=i[u]);return e}},39711:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41786);e.exports=function(e,t,i){if(!i.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var r,s=e.source[t];e.add("__BASE",t,0,0,s.width,s.height);var a=i.frames;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];if(!(r=e.add(o,t,l.frame.x,l.frame.y,l.frame.w,l.frame.h))){console.warn("Invalid atlas json, frame already exists: "+o);continue}l.trimmed&&r.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(r.rotated=!0,r.updateUVsInverted());var h=l.anchor||l.pivot;h&&(r.customPivot=!0,r.pivotX=h.x,r.pivotY=h.y),l.scale9Borders&&r.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),r.customData=n(l)}for(var u in i)"frames"!==u&&(Array.isArray(i[u])?e.customData[u]=i[u].slice(0):e.customData[u]=i[u]);return e}},31403:e=>{e.exports=function(e){var t,i=[171,75,84,88,32,49,49,187,13,10,26,10],n=new Uint8Array(e,0,12);for(t=0;t<n.length;t++)if(n[t]!==i[t]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(e,12,13*r),a=0x4030201===s.getUint32(0,!0);if(0!==s.getUint32(1*r,a)){console.warn("KTXParser - Only compressed formats supported");return}var o=s.getUint32(4*r,a),l=s.getUint32(6*r,a),h=s.getUint32(7*r,a),u=Math.max(1,s.getUint32(11*r,a)),c=s.getUint32(12*r,a),d=Array(u),f=64+c,p=l,m=h;for(t=0;t<u;t++){var g=new Int32Array(e,f,1)[0];f+=4,d[t]={data:new Uint8Array(e,f,g),width:p,height:m},p=Math.max(1,p>>1),m=Math.max(1,m>>1),f+=g}return{mipmaps:d,width:l,height:h,internalFormat:o,compressed:!0,generateMipmap:!1}}},82038:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e,t,i,n,r,s,a){return void 0===a&&(a=16),Math.floor((e+i)/r)*Math.floor((t+n)/s)*a}function i(e,t){return(e=Math.max(e,16))*(t=Math.max(t,8))/4}function n(e,t){return(e=Math.max(e,8))*(t=Math.max(t,8))/2}function r(e,t){return Math.ceil(e/4)*Math.ceil(t/4)*16}function s(e,i){return t(e,i,3,3,4,4,8)}function a(e,i){return t(e,i,3,3,4,4)}var o={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:n,glFormat:[35840]},3:{sizeFunc:n,glFormat:[35842]},6:{sizeFunc:s,glFormat:[36196]},7:{sizeFunc:s,glFormat:[33776,35916]},8:{sizeFunc:a,glFormat:[33777,35917]},9:{sizeFunc:a,glFormat:[33778,35918]},11:{sizeFunc:a,glFormat:[33779,35919]},14:{sizeFunc:r,glFormat:[36494,36495]},15:{sizeFunc:r,glFormat:[36492,36493]},22:{sizeFunc:s,glFormat:[37492,37493]},23:{sizeFunc:a,glFormat:[37496,37497]},24:{sizeFunc:s,glFormat:[37494,37495]},25:{sizeFunc:s,glFormat:[37488]},26:{sizeFunc:a,glFormat:[37490]},27:{sizeFunc:a,glFormat:[37808,37840]},28:{sizeFunc:function(e,i){return t(e,i,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function(e,i){return t(e,i,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function(e,i){return t(e,i,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function(e,i){return t(e,i,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function(e,i){return t(e,i,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function(e,i){return t(e,i,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function(e,i){return t(e,i,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function(e,i){return t(e,i,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function(e,i){return t(e,i,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function(e,i){return t(e,i,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function(e,i){return t(e,i,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function(e,i){return t(e,i,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function(e,i){return t(e,i,11,11,12,12)},glFormat:[37821,37853]}};e.exports=function(e){for(var t=new Uint32Array(e,0,13),i=t[0],n=0x3525650===i?t[2]:t[3],r=t[4],s=o[n].glFormat[r],a=o[n].sizeFunc,l=t[11],h=t[7],u=t[6],c=new Uint8Array(e,52+t[12]),d=Array(l),f=0,p=h,m=u,g=0;g<l;g++){var v=a(p,m);d[g]={data:new Uint8Array(c.buffer,c.byteOffset+f,v),width:p,height:m},p=Math.max(1,p>>1),m=Math.max(1,m>>1),f+=v}return{mipmaps:d,width:h,height:u,internalFormat:s,compressed:!0,generateMipmap:!1}}},75549:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e,t,i,r,s,a,o){var l=n(o,"frameWidth",null),h=n(o,"frameHeight",l);if(null===l)throw Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=e.source[t];e.add("__BASE",t,0,0,u.width,u.height);var c=n(o,"startFrame",0),d=n(o,"endFrame",-1),f=n(o,"margin",0),p=n(o,"spacing",0),m=Math.floor((s-f+p)/(l+p))*Math.floor((a-f+p)/(h+p));0===m&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",e.key),(c>m||c<-m)&&(c=0),c<0&&(c=m+c),(-1===d||d>m||d<c)&&(d=m);for(var g=f,v=f,y=0,b=0,x=0,E=0;E<m;E++){y=0,b=0;var w=g+l,S=v+h;w>s&&(y=w-s),S>a&&(b=S-a),E>=c&&E<=d&&(e.add(x,t,i+g,r+v,l-y,h-b),x++),(g+=l+p)+l>s&&(g=f,v+=h+p)}return e}},47534:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e,t,i){var r,s=n(i,"frameWidth",null),a=n(i,"frameHeight",s);if(!s)throw Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=e.source[0];e.add("__BASE",0,0,0,o.width,o.height);var l=n(i,"startFrame",0),h=n(i,"endFrame",-1),u=n(i,"margin",0),c=n(i,"spacing",0),d=t.cutX,f=t.cutY,p=t.cutWidth,m=t.cutHeight,g=t.realWidth,v=t.realHeight,y=Math.floor((g-u+c)/(s+c)),b=Math.floor((v-u+c)/(a+c)),x=y*b,E=t.x,w=s-E,S=s-(g-p-E),T=t.y,A=a-T,_=a-(v-m-T);(l>x||l<-x)&&(l=0),l<0&&(l=x+l),-1!==h&&(x=l+(h+1));for(var C=u,I=u,P=0,R=0;R<b;R++){for(var O=0===R,M=R===b-1,L=0;L<y;L++){var D=0===L,k=L===y-1;if(r=e.add(P,0,d+C,f+I,s,a),D||O||k||M){var N=D?E:0,F=O?T:0,B=0,U=0;D&&(B+=s-w),k&&(B+=s-S),O&&(U+=a-A),M&&(U+=a-_);var j=s-B,V=a-U;r.cutWidth=j,r.cutHeight=V,r.setTrim(s,a,N,F,j,V)}C+=c,D?C+=w:k?C+=S:C+=s,P++}C=u,I+=c,O?I+=A:M?I+=_:I+=a}return e}},86147:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,i=function(e,i,n,r){var s=t-r.y-r.height;e.add(n,i,r.x,s,r.width,r.height)};e.exports=function(e,n,r){var s=e.source[n];e.add("__BASE",n,0,0,s.width,s.height),t=s.height;for(var a=r.split("\n"),o=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",h="",u={x:0,y:0,width:0,height:0},c=0;c<a.length;c++){var d=a[c].match(o);if(d){var f="- "===d[1],p=d[2],m=d[3];if(f&&(h!==l&&(i(e,n,h,u),l=h),u={x:0,y:0,width:0,height:0}),"name"===p){h=m;continue}switch(p){case"x":case"y":case"width":case"height":u[p]=parseInt(m,10)}}}return h!==l&&i(e,n,h,u),e}},55222:(e,t,i)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(50030);function r(e){for(var t=e.mipmaps,i=0;i<t.length;i++){var n=t[i].width,r=t[i].height;if((n<<i)%4!=0||(r<<i)%4!=0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+i+" is "+n+"x"+r),!1}return!0}function s(){return!0}function a(e){var t=e.mipmaps[0];return!!n(t.width,t.height)||(console.warn("PVRTC base dimensions must be power of two. Base level is "+t.width+"x"+t.height),!1)}function o(e){var t=e.mipmaps[0];return t.width%4==0&&t.height%4==0||(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+t.width+"x"+t.height+" pixels"),!1)}var l={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:r,36493:r,36494:r,36495:r,36283:r,36284:r,36285:r,36286:r,35840:a,35841:a,35842:a,35843:a,33776:r,33777:r,33778:r,33779:r,35916:o,35917:o,35918:o,35919:o};e.exports=function(e){for(var t=e.mipmaps,i=1;i<t.length;i++){var r=t[i].width,s=t[i].height;if(!n(r,s))return console.warn("Mip level "+i+" is not a power-of-two size: "+r+"x"+s),!1}var a=l[e.internalFormat];return a?a(e):(console.warn("No format checker found for internal format "+e.internalFormat+". Assuming valid."),!0)}},61309:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n,r,s,a){(void 0===i||i<=0)&&(i=32),(void 0===n||n<=0)&&(n=32),void 0===r&&(r=0),void 0===s&&(s=0),this.name=e,this.firstgid=0|t,this.imageWidth=0|i,this.imageHeight=0|n,this.imageMargin=0|r,this.imageSpacing=0|s,this.properties=a||{},this.images=[],this.total=0},containsImageIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},addImage:function(e,t){return this.images.push({gid:e,image:t}),this.total++,this}});e.exports=n},27462:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){if(this.gids=[],void 0!==e)for(var t=0;t<e.length;++t)for(var i=e[t],n=0;n<i.total;++n)this.gids[i.firstgid+n]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(e){this.gids=e?this._gids:void 0}},getTypeIncludingTile:function(e){if(void 0!==e.type&&""!==e.type)return e.type;if(this.gids&&void 0!==e.gid){var t=this.gids[e.gid];if(t){var i=t.getTileData(e.gid);if(i)return i.type}}},setTextureAndFrame:function(e,t,i,n){if(null===t&&this.gids&&void 0!==n.gid){var r=this.gids[n.gid];r&&(null===t&&void 0!==r.image&&(t=r.image.key),null===i&&(i=n.gid-r.firstgid),e.scene.textures.getFrame(t,i)||(t=null,i=null))}e.setTexture(t,i)},setPropertiesFromTiledObject:function(e,t){if(void 0!==this.gids&&void 0!==t.gid){var i=this.gids[t.gid];void 0!==i&&this.setFromJSON(e,i.getTileProperties(t.gid))}this.setFromJSON(e,t.properties)},setFromJSON:function(e,t){if(t){if(Array.isArray(t)){for(var i=0;i<t.length;i++){var n=t[i];void 0!==e[n.name]?e[n.name]=n.value:e.setData(n.name,n.value)}return}for(var r in t)void 0!==e[r]?e[r]=t[r]:e.setData(r,t[r])}}});e.exports=n},31989:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(87010),s=i(46177),a=i(49075);e.exports=function(e,t,i,o,l,h,u,c){void 0===i&&(i=32),void 0===o&&(o=32),void 0===l&&(l=10),void 0===h&&(h=10),void 0===c&&(c=!1);var d=null;if(Array.isArray(u))d=s(void 0!==t?t:"map",n.ARRAY_2D,u,i,o,c);else if(void 0!==t){var f=e.cache.tilemap.get(t);f?d=s(t,f.format,f.data,i,o,c):console.warn("No map data found for key "+t)}return null===d&&(d=new r({tileWidth:i,tileHeight:o,width:l,height:h})),new a(e,d)}},23029:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(91907),a=i(62644),o=i(93232),l=new n({Mixins:[r.AlphaSingle,r.Flip,r.Visible],initialize:function(e,t,i,n,r,s,a,o){this.layer=e,this.index=t,this.x=i,this.y=n,this.width=r,this.height=s,this.right,this.bottom,this.baseWidth=void 0!==a?a:r,this.baseHeight=void 0!==o?o:s,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=0xffffff,this.tintFill=!1,this.physics={}},containsPoint:function(e,t){return!(e<this.pixelX||t<this.pixelY||e>this.right||t>this.bottom)},copy:function(e){return this.index=e.index,this.alpha=e.alpha,this.properties=a(e.properties),this.visible=e.visible,this.setFlip(e.flipX,e.flipY),this.tint=e.tint,this.rotation=e.rotation,this.collideUp=e.collideUp,this.collideDown=e.collideDown,this.collideLeft=e.collideLeft,this.collideRight=e.collideRight,this.collisionCallback=e.collisionCallback,this.collisionCallbackContext=e.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(e){var t=this.tilemapLayer;return t?t.tileToWorldXY(this.x,this.y,void 0,e).x:this.x*this.baseWidth},getRight:function(e){var t=this.tilemapLayer;return t?this.getLeft(e)+this.width*t.scaleX:this.getLeft(e)+this.width},getTop:function(e){var t=this.tilemapLayer;return t?t.tileToWorldXY(this.x,this.y,void 0,e).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(e){var t=this.tilemapLayer;return t?this.getTop(e)+this.height*t.scaleY:this.getTop(e)+this.height},getBounds:function(e,t){return void 0===t&&(t=new o),t.x=this.getLeft(e),t.y=this.getTop(e),t.width=this.getRight(e)-t.x,t.height=this.getBottom(e)-t.y,t},getCenterX:function(e){return(this.getLeft(e)+this.getRight(e))/2},getCenterY:function(e){return(this.getTop(e)+this.getBottom(e))/2},intersects:function(e,t,i,n){return!(i<=this.pixelX||n<=this.pixelY||e>=this.right||t>=this.bottom)},isInteresting:function(e,t){return e&&t?this.canCollide||this.hasInterestingFace:e?this.collides:!!t&&this.hasInterestingFace},resetCollision:function(e){return void 0===e&&(e=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,e&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(e,t,i,n,r){return void 0===t&&(t=e),void 0===i&&(i=e),void 0===n&&(n=e),void 0===r&&(r=!0),this.collideLeft=e,this.collideRight=t,this.collideUp=i,this.collideDown=n,this.faceLeft=e,this.faceRight=t,this.faceTop=i,this.faceBottom=n,r&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(e,t){return null===e?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=e,this.collisionCallbackContext=t),this},setSize:function(e,t,i,n){return void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==i&&(this.baseWidth=i),void 0!==n&&(this.baseHeight=n),this.updatePixelXY(),this},updatePixelXY:function(){var e=this.layer.orientation;if(e===s.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(e===s.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(e===s.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(e===s.HEXAGONAL){var t,i,n=this.layer.staggerAxis,r=this.layer.staggerIndex,a=this.layer.hexSideLength;"y"===n?(i=(this.baseHeight-a)/2+a,"odd"===r?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*i):"x"===n&&(t=(this.baseWidth-a)/2+a,this.pixelX=this.x*t,"odd"===r?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var e=this.layer.tilemapLayer;if(e){var t=e.gidMap[this.index];if(t)return t}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var e=this.tilemapLayer;return e?e.tilemap:null}}});e.exports=l},49075:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(84101),r=i(83419),s=i(39506),a=i(80341),o=i(95540),l=i(14977),h=i(27462),u=i(91907),c=i(36305),d=i(19133),f=i(68287),p=i(23029),m=i(81086),g=i(20442),v=i(33629),y=new r({initialize:function(e,t){this.scene=e,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.width=t.width,this.height=t.height,this.orientation=t.orientation,this.renderOrder=t.renderOrder,this.format=t.format,this.version=t.version,this.properties=t.properties,this.widthInPixels=t.widthInPixels,this.heightInPixels=t.heightInPixels,this.imageCollections=t.imageCollections,this.images=t.images,this.layers=t.layers,this.tiles=t.tiles,this.tilesets=t.tilesets,this.objects=t.objects,this.currentLayerIndex=0,this.hexSideLength=t.hexSideLength;var i=this.orientation;this._convert={WorldToTileXY:m.GetWorldToTileXYFunction(i),WorldToTileX:m.GetWorldToTileXFunction(i),WorldToTileY:m.GetWorldToTileYFunction(i),TileToWorldXY:m.GetTileToWorldXYFunction(i),TileToWorldX:m.GetTileToWorldXFunction(i),TileToWorldY:m.GetTileToWorldYFunction(i),GetTileCorners:m.GetTileCornersFunction(i)}},setRenderOrder:function(e){var t=["right-down","left-down","right-up","left-up"];return"number"==typeof e&&(e=t[e]),t.indexOf(e)>-1&&(this.renderOrder=e),this},addTilesetImage:function(e,t,i,r,s,o,l,h){if(void 0===e)return null;null==t&&(t=e);var u=this.scene.sys.textures;if(!u.exists(t))return console.warn('Texture key "%s" not found',t),null;var c=u.get(t),d=this.getTilesetIndex(e);if(null===d&&this.format===a.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',e,this.tilesets),null;var f=this.tilesets[d];return f?((i||r)&&f.setTileSize(i,r),(s||o)&&f.setSpacing(s,o),f.setImage(c)):(void 0===i&&(i=this.tileWidth),void 0===r&&(r=this.tileHeight),void 0===s&&(s=0),void 0===o&&(o=0),void 0===l&&(l=0),void 0===h&&(h={x:0,y:0}),(f=new v(e,l,i,r,s,o,void 0,void 0,h)).setImage(c),this.tilesets.push(f),this.tiles=n(this)),f},copy:function(e,t,i,n,r,s,a,o){return null!==(o=this.getLayer(o))?(m.Copy(e,t,i,n,r,s,a,o),this):null},createBlankLayer:function(e,t,i,n,r,s,a,o){if(void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=this.width),void 0===s&&(s=this.height),void 0===a&&(a=this.tileWidth),void 0===o&&(o=this.tileHeight),null!==this.getLayerIndex(e))return console.warn("Invalid Tilemap Layer ID: "+e),null;for(var h,u=new l({name:e,tileWidth:a,tileHeight:o,width:r,height:s,orientation:this.orientation}),c=0;c<s;c++){h=[];for(var d=0;d<r;d++)h.push(new p(u,-1,d,c,a,o,this.tileWidth,this.tileHeight));u.data.push(h)}this.layers.push(u),this.currentLayerIndex=this.layers.length-1;var f=new g(this.scene,this,this.currentLayerIndex,t,i,n);return f.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(f),f},createLayer:function(e,t,i,n){var r=this.getLayerIndex(e);if(null===r)return console.warn("Invalid Tilemap Layer ID: "+e),"string"==typeof e&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var s=this.layers[r];if(s.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=r,void 0===i&&(i=s.x),void 0===n&&(n=s.y);var a=new g(this.scene,this,r,t,i,n);return a.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(a),a},createFromObjects:function(e,t,i){void 0===i&&(i=!0);var n=[],r=this.getObjectLayer(e);if(!r)return console.warn("createFromObjects: Invalid objectLayerName given: "+e),n;var a=new h(i?this.tilesets:void 0);Array.isArray(t)||(t=[t]);for(var l=r.objects,d=0;d<t.length;d++){var p,m=t[d],g=o(m,"id",null),v=o(m,"gid",null),y=o(m,"name",null),b=o(m,"type",null);a.enabled=!o(m,"ignoreTileset",null);for(var x=[],E=0;E<l.length;E++)p=l[E],(null===g&&null===v&&null===y&&null===b||null!==g&&p.id===g||null!==v&&p.gid===v||null!==y&&p.name===y||null!==b&&a.getTypeIncludingTile(p)===b)&&x.push(p);for(var w=o(m,"classType",f),S=o(m,"scene",this.scene),T=o(m,"container",null),A=o(m,"key",null),_=o(m,"frame",null),C=0;C<x.length;C++){p=x[C];var I=new w(S);if(I.setName(p.name),I.setPosition(p.x,p.y),a.setTextureAndFrame(I,A,_,p),p.width&&(I.displayWidth=p.width),p.height&&(I.displayHeight=p.height),this.orientation===u.ISOMETRIC){var P=this.tileWidth/this.tileHeight,R={x:I.x-I.y,y:(I.x+I.y)/P};I.x=R.x,I.y=R.y}var O={x:I.originX*p.width,y:(I.originY-(p.gid?1:0))*p.height};if(p.rotation){var M=s(p.rotation);c(O,M),I.rotation=M}I.x+=O.x,I.y+=O.y,(void 0!==p.flippedHorizontal||void 0!==p.flippedVertical)&&I.setFlip(p.flippedHorizontal,p.flippedVertical),p.visible||(I.visible=!1),a.setPropertiesFromTiledObject(I,p),T?T.add(I):S.add.existing(I),n.push(I)}}return n},createFromTiles:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:m.CreateFromTiles(e,t,i,n,r,s)},fill:function(e,t,i,n,r,s,a){return(void 0===s&&(s=!0),null===(a=this.getLayer(a)))?null:(m.Fill(e,t,i,n,r,s,a),this)},filterObjects:function(e,t,i){if("string"==typeof e){var n=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+n),null}return e.objects.filter(t,i)},filterTiles:function(e,t,i,n,r,s,a,o){return null===(o=this.getLayer(o))?null:m.FilterTiles(e,t,i,n,r,s,a,o)},findByIndex:function(e,t,i,n){return null===(n=this.getLayer(n))?null:m.FindByIndex(e,t,i,n)},findObject:function(e,t,i){if("string"==typeof e){var n=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+n),null}return e.objects.find(t,i)||null},findTile:function(e,t,i,n,r,s,a,o){return null===(o=this.getLayer(o))?null:m.FindTile(e,t,i,n,r,s,a,o)},forEachTile:function(e,t,i,n,r,s,a,o){return null===(o=this.getLayer(o))?null:(m.ForEachTile(e,t,i,n,r,s,a,o),this)},getImageIndex:function(e){return this.getIndex(this.images,e)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(e){return e.name}):[]},getIndex:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return null},getLayer:function(e){var t=this.getLayerIndex(e);return null!==t?this.layers[t]:null},getObjectLayer:function(e){var t=this.getIndex(this.objects,e);return null!==t?this.objects[t]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(e){return e.name}):[]},getLayerIndex:function(e){return void 0===e?this.currentLayerIndex:"string"==typeof e?this.getLayerIndexByName(e):"number"==typeof e&&e<this.layers.length?e:e instanceof g&&e.tilemap===this?e.layerIndex:null},getLayerIndexByName:function(e){return this.getIndex(this.layers,e)},getTileAt:function(e,t,i,n){return null===(n=this.getLayer(n))?null:m.GetTileAt(e,t,i,n)},getTileAtWorldXY:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:m.GetTileAtWorldXY(e,t,i,n,r)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(e){return e.name}):[]},getTilesWithin:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:m.GetTilesWithin(e,t,i,n,r,s)},getTilesWithinShape:function(e,t,i,n){return null===(n=this.getLayer(n))?null:m.GetTilesWithinShape(e,t,i,n)},getTilesWithinWorldXY:function(e,t,i,n,r,s,a){return null===(a=this.getLayer(a))?null:m.GetTilesWithinWorldXY(e,t,i,n,r,s,a)},getTileset:function(e){var t=this.getIndex(this.tilesets,e);return null!==t?this.tilesets[t]:null},getTilesetIndex:function(e){return this.getIndex(this.tilesets,e)},hasTileAt:function(e,t,i){return null===(i=this.getLayer(i))?null:m.HasTileAt(e,t,i)},hasTileAtWorldXY:function(e,t,i,n){return null===(n=this.getLayer(n))?null:m.HasTileAtWorldXY(e,t,i,n)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(e){this.setLayer(e)}},putTileAt:function(e,t,i,n,r){return(void 0===n&&(n=!0),null===(r=this.getLayer(r)))?null:m.PutTileAt(e,t,i,n,r)},putTileAtWorldXY:function(e,t,i,n,r,s){return(void 0===n&&(n=!0),null===(s=this.getLayer(s)))?null:m.PutTileAtWorldXY(e,t,i,n,r,s)},putTilesAt:function(e,t,i,n,r){return(void 0===n&&(n=!0),null===(r=this.getLayer(r)))?null:(m.PutTilesAt(e,t,i,n,r),this)},randomize:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:(m.Randomize(e,t,i,n,r,s),this)},calculateFacesAt:function(e,t,i){return null===(i=this.getLayer(i))?null:(m.CalculateFacesAt(e,t,i),this)},calculateFacesWithin:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:(m.CalculateFacesWithin(e,t,i,n,r),this)},removeLayer:function(e){var t=this.getLayerIndex(e);if(null===t)return null;d(this.layers,t);for(var i=t;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===t&&(this.currentLayerIndex=0),this},destroyLayer:function(e){var t=this.getLayerIndex(e);return null!==t?((e=this.layers[t]).tilemapLayer.destroy(),d(this.layers,t),this.currentLayerIndex===t&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var e=this.layers,t=0;t<e.length;t++)e[t].tilemapLayer&&e[t].tilemapLayer.destroy(!1);return e.length=0,this.currentLayerIndex=0,this},removeTile:function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=!0);var n=[];Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var s=e[r];n.push(this.removeTileAt(s.x,s.y,!0,i,s.tilemapLayer)),t>-1&&this.putTileAt(t,s.x,s.y,i,s.tilemapLayer)}return n},removeTileAt:function(e,t,i,n,r){return(void 0===i&&(i=!0),void 0===n&&(n=!0),null===(r=this.getLayer(r)))?null:m.RemoveTileAt(e,t,i,n,r)},removeTileAtWorldXY:function(e,t,i,n,r,s){return(void 0===i&&(i=!0),void 0===n&&(n=!0),null===(s=this.getLayer(s)))?null:m.RemoveTileAtWorldXY(e,t,i,n,r,s)},renderDebug:function(e,t,i){return null===(i=this.getLayer(i))?null:(this.orientation===u.ORTHOGONAL&&m.RenderDebug(e,t,i),this)},renderDebugFull:function(e,t){for(var i=this.layers,n=0;n<i.length;n++)m.RenderDebug(e,t,i[n]);return this},replaceByIndex:function(e,t,i,n,r,s,a){return null===(a=this.getLayer(a))?null:(m.ReplaceByIndex(e,t,i,n,r,s,a),this)},setCollision:function(e,t,i,n,r){return(void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=!0),null===(n=this.getLayer(n)))?null:(m.SetCollision(e,t,i,n,r),this)},setCollisionBetween:function(e,t,i,n,r){return(void 0===i&&(i=!0),void 0===n&&(n=!0),null===(r=this.getLayer(r)))?null:(m.SetCollisionBetween(e,t,i,n,r),this)},setCollisionByProperty:function(e,t,i,n){return(void 0===t&&(t=!0),void 0===i&&(i=!0),null===(n=this.getLayer(n)))?null:(m.SetCollisionByProperty(e,t,i,n),this)},setCollisionByExclusion:function(e,t,i,n){return(void 0===t&&(t=!0),void 0===i&&(i=!0),null===(n=this.getLayer(n)))?null:(m.SetCollisionByExclusion(e,t,i,n),this)},setCollisionFromCollisionGroup:function(e,t,i){return(void 0===e&&(e=!0),void 0===t&&(t=!0),null===(i=this.getLayer(i)))?null:(m.SetCollisionFromCollisionGroup(e,t,i),this)},setTileIndexCallback:function(e,t,i,n){return null===(n=this.getLayer(n))?null:(m.SetTileIndexCallback(e,t,i,n),this)},setTileLocationCallback:function(e,t,i,n,r,s,a){return null===(a=this.getLayer(a))?null:(m.SetTileLocationCallback(e,t,i,n,r,s,a),this)},setLayer:function(e){var t=this.getLayerIndex(e);return null!==t&&(this.currentLayerIndex=t),this},setBaseTileSize:function(e,t){this.tileWidth=e,this.tileHeight=t,this.widthInPixels=this.width*e,this.heightInPixels=this.height*t;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=e,this.layers[i].baseTileHeight=t;for(var n=this.layers[i].data,r=this.layers[i].width,s=this.layers[i].height,a=0;a<s;a++)for(var o=0;o<r;o++){var l=n[a][o];null!==l&&l.setSize(void 0,void 0,e,t)}}return this},setLayerTileSize:function(e,t,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=e,i.tileHeight=t;for(var n=i.data,r=i.width,s=i.height,a=0;a<s;a++)for(var o=0;o<r;o++){var l=n[a][o];null!==l&&l.setSize(e,t)}return this},shuffle:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:(m.Shuffle(e,t,i,n,r),this)},swapByIndex:function(e,t,i,n,r,s,a){return null===(a=this.getLayer(a))?null:(m.SwapByIndex(e,t,i,n,r,s,a),this)},tileToWorldX:function(e,t,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldX(e,t,i)},tileToWorldY:function(e,t,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldY(e,t,i)},tileToWorldXY:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:this._convert.TileToWorldXY(e,t,i,n,r)},getTileCorners:function(e,t,i,n){return null===(n=this.getLayer(n))?null:this._convert.GetTileCorners(e,t,i,n)},weightedRandomize:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:(m.WeightedRandomize(t,i,n,r,e,s),this)},worldToTileX:function(e,t,i,n){return null===(n=this.getLayer(n))?null:this._convert.WorldToTileX(e,t,i,n)},worldToTileY:function(e,t,i,n){return null===(n=this.getLayer(n))?null:this._convert.WorldToTileY(e,t,i,n)},worldToTileXY:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:this._convert.WorldToTileXY(e,t,i,n,r,s)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});e.exports=y},45939:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(44603),r=i(31989);n.register("tilemap",function(e){var t=void 0!==e?e:{};return r(this.scene,t.key,t.tileWidth,t.tileHeight,t.width,t.height,t.data,t.insertNull)})},46029:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(31989);n.register("tilemap",function(e,t,i,n,s,a,o){return null===e&&(e=void 0),null===t&&(t=void 0),null===i&&(i=void 0),null===n&&(n=void 0),null===s&&(s=void 0),r(this.scene,e,t,i,n,s,a,o)})},20442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(78389),s=i(31401),a=i(95643),o=i(81086),l=i(19218),h=i(26099),u=new n({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,r,l],initialize:function(e,t,i,n,r,s){a.call(this,e,"TilemapLayer"),this.isTilemap=!0,this.tilemap=t,this.layerIndex=i,this.layer=t.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new h,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(r,s),this.setOrigin(0,0),this.setSize(t.tileWidth*this.layer.width,t.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(e){var t=[],i=[],n=this.tilemap;Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var s=e[r];if("string"==typeof s&&(s=n.getTileset(s)),s){i.push(s);for(var a=s.firstgid,o=0;o<s.total;o++)t[a+o]=s}}this.gidMap=t,this.tileset=i},setRenderOrder:function(e){return"string"==typeof e&&(e=["right-down","left-down","right-up","left-up"].indexOf(e)),e>=0&&e<4&&(this._renderOrder=e),this},calculateFacesAt:function(e,t){return o.CalculateFacesAt(e,t,this.layer),this},calculateFacesWithin:function(e,t,i,n){return o.CalculateFacesWithin(e,t,i,n,this.layer),this},createFromTiles:function(e,t,i,n,r){return o.CreateFromTiles(e,t,i,n,r,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles,this._renderOrder)},copy:function(e,t,i,n,r,s,a){return o.Copy(e,t,i,n,r,s,a,this.layer),this},fill:function(e,t,i,n,r,s){return o.Fill(e,t,i,n,r,s,this.layer),this},filterTiles:function(e,t,i,n,r,s,a){return o.FilterTiles(e,t,i,n,r,s,a,this.layer)},findByIndex:function(e,t,i){return o.FindByIndex(e,t,i,this.layer)},findTile:function(e,t,i,n,r,s,a){return o.FindTile(e,t,i,n,r,s,a,this.layer)},forEachTile:function(e,t,i,n,r,s,a){return o.ForEachTile(e,t,i,n,r,s,a,this.layer),this},setTint:function(e,t,i,n,r,s){return void 0===e&&(e=0xffffff),this.forEachTile(function(t){t.tint=e,t.tintFill=!1},this,t,i,n,r,s)},setTintFill:function(e,t,i,n,r,s){return void 0===e&&(e=0xffffff),this.forEachTile(function(t){t.tint=e,t.tintFill=!0},this,t,i,n,r,s)},getTileAt:function(e,t,i){return o.GetTileAt(e,t,i,this.layer)},getTileAtWorldXY:function(e,t,i,n){return o.GetTileAtWorldXY(e,t,i,n,this.layer)},getIsoTileAtWorldXY:function(e,t,i,n,r){void 0===i&&(i=!0);var s=this.tempVec;return o.IsometricWorldToTileXY(e,t,!0,s,r,this.layer,i),this.getTileAt(s.x,s.y,n)},getTilesWithin:function(e,t,i,n,r){return o.GetTilesWithin(e,t,i,n,r,this.layer)},getTilesWithinShape:function(e,t,i){return o.GetTilesWithinShape(e,t,i,this.layer)},getTilesWithinWorldXY:function(e,t,i,n,r,s){return o.GetTilesWithinWorldXY(e,t,i,n,r,s,this.layer)},hasTileAt:function(e,t){return o.HasTileAt(e,t,this.layer)},hasTileAtWorldXY:function(e,t,i){return o.HasTileAtWorldXY(e,t,i,this.layer)},putTileAt:function(e,t,i,n){return o.PutTileAt(e,t,i,n,this.layer)},putTileAtWorldXY:function(e,t,i,n,r){return o.PutTileAtWorldXY(e,t,i,n,r,this.layer)},putTilesAt:function(e,t,i,n){return o.PutTilesAt(e,t,i,n,this.layer),this},randomize:function(e,t,i,n,r){return o.Randomize(e,t,i,n,r,this.layer),this},removeTileAt:function(e,t,i,n){return o.RemoveTileAt(e,t,i,n,this.layer)},removeTileAtWorldXY:function(e,t,i,n,r){return o.RemoveTileAtWorldXY(e,t,i,n,r,this.layer)},renderDebug:function(e,t){return o.RenderDebug(e,t,this.layer),this},replaceByIndex:function(e,t,i,n,r,s){return o.ReplaceByIndex(e,t,i,n,r,s,this.layer),this},setSkipCull:function(e){return void 0===e&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),this.cullPaddingX=e,this.cullPaddingY=t,this},setCollision:function(e,t,i,n){return o.SetCollision(e,t,i,this.layer,n),this},setCollisionBetween:function(e,t,i,n){return o.SetCollisionBetween(e,t,i,n,this.layer),this},setCollisionByProperty:function(e,t,i){return o.SetCollisionByProperty(e,t,i,this.layer),this},setCollisionByExclusion:function(e,t,i){return o.SetCollisionByExclusion(e,t,i,this.layer),this},setCollisionFromCollisionGroup:function(e,t){return o.SetCollisionFromCollisionGroup(e,t,this.layer),this},setTileIndexCallback:function(e,t,i){return o.SetTileIndexCallback(e,t,i,this.layer),this},setTileLocationCallback:function(e,t,i,n,r,s){return o.SetTileLocationCallback(e,t,i,n,r,s,this.layer),this},shuffle:function(e,t,i,n){return o.Shuffle(e,t,i,n,this.layer),this},swapByIndex:function(e,t,i,n,r,s){return o.SwapByIndex(e,t,i,n,r,s,this.layer),this},tileToWorldX:function(e,t){return this.tilemap.tileToWorldX(e,t,this)},tileToWorldY:function(e,t){return this.tilemap.tileToWorldY(e,t,this)},tileToWorldXY:function(e,t,i,n){return this.tilemap.tileToWorldXY(e,t,i,n,this)},getTileCorners:function(e,t,i){return this.tilemap.getTileCorners(e,t,i,this)},weightedRandomize:function(e,t,i,n,r){return o.WeightedRandomize(t,i,n,r,e,this.layer),this},worldToTileX:function(e,t,i){return this.tilemap.worldToTileX(e,t,i,this)},worldToTileY:function(e,t,i){return this.tilemap.worldToTileY(e,t,i,this)},worldToTileXY:function(e,t,i,n,r){return this.tilemap.worldToTileXY(e,t,i,n,r,this)},destroy:function(e){void 0===e&&(e=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});e.exports=u},16153:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61340),r=new n,s=new n,a=new n;e.exports=function(e,t,i,n){var o=t.cull(i),l=o.length,h=i.alpha*t.alpha;if(0!==l&&!(h<=0)){s.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),r.copyFrom(i.matrix);var u=e.currentContext,c=t.gidMap;u.save(),n?(r.multiplyWithOffset(n,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),s.e=t.x,s.f=t.y,r.multiply(s,a),a.copyToContext(u)):(s.e-=i.scrollX*t.scrollFactorX,s.f-=i.scrollY*t.scrollFactorY,s.copyToContext(u)),(!e.antialias||t.scaleX>1||t.scaleY>1)&&(u.imageSmoothingEnabled=!1);for(var d=0;d<l;d++){var f=o[d],p=c[f.index];if(p){var m=p.image.getSourceImage(),g=p.getTileTextureCoordinates(f.index),v=p.tileWidth,y=p.tileHeight;if(null!==g&&0!==v&&0!==y){var b=.5*v,x=.5*y;g.x+=p.tileOffset.x,g.y+=p.tileOffset.y,u.save(),u.translate(f.pixelX+b,f.pixelY+x),0!==f.rotation&&u.rotate(f.rotation),(f.flipX||f.flipY)&&u.scale(f.flipX?-1:1,f.flipY?-1:1),u.globalAlpha=h*f.alpha,u.drawImage(m,g.x,g.y,v,y,-b,-x,v,y),u.restore()}}}u.restore()}}},19218:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(99558),s=i(16153),e.exports={renderWebGL:r,renderCanvas:s}},99558:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i){var r=t.cull(i),s=r.length,a=i.alpha*t.alpha;if(0!==s&&!(a<=0)){var o=t.gidMap,l=e.pipelines.set(t.pipeline,t),h=n.getTintAppendFloatAlpha,u=t.scrollFactorX,c=t.scrollFactorY,d=t.x,f=t.y,p=t.scaleX,m=t.scaleY;e.pipelines.preBatch(t);for(var g=0;g<s;g++){var v=r[g],y=o[v.index];if(y){var b=y.getTileTextureCoordinates(v.index),x=y.tileWidth,E=y.tileHeight;if(b&&0!==x&&0!==E){var w=.5*x,S=.5*E,T=y.glTexture,A=l.setTexture2D(T,t),_=b.x,C=b.y,I=y.tileOffset.x,P=y.tileOffset.y,R=h(v.tint,a*v.alpha);l.batchTexture(t,T,T.width,T.height,d+v.pixelX*p+(w*p-I),f+v.pixelY*m+(S*m-P),x,E,p,m,v.rotation,v.flipX,v.flipY,u,c,w,S,_,C,x,E,R,R,R,R,v.tintFill,0,0,i,null,!0,A,!0)}}}e.pipelines.postBatch(t)}}},33629:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(26099),s=new n({initialize:function(e,t,i,n,s,a,o,l,h){(void 0===i||i<=0)&&(i=32),(void 0===n||n<=0)&&(n=32),void 0===s&&(s=0),void 0===a&&(a=0),void 0===o&&(o={}),void 0===l&&(l={}),this.name=e,this.firstgid=t,this.tileWidth=i,this.tileHeight=n,this.tileMargin=s,this.tileSpacing=a,this.tileProperties=o,this.tileData=l,this.tileOffset=new r,void 0!==h&&this.tileOffset.set(h.x,h.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(e){return this.containsTileIndex(e)?this.tileProperties[e-this.firstgid]:null},getTileData:function(e){return this.containsTileIndex(e)?this.tileData[e-this.firstgid]:null},getTileCollisionGroup:function(e){var t=this.getTileData(e);return t&&t.objectgroup?t.objectgroup:null},containsTileIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},getTileTextureCoordinates:function(e){return this.containsTileIndex(e)?this.texCoordinates[e-this.firstgid]:null},setImage:function(e){this.image=e;var t=e.get(),i=e.getFrameBounds();return this.glTexture=t.source.glTexture,t.width>i.width||t.height>i.height?this.updateTileData(t.width,t.height):this.updateTileData(i.width,i.height,i.x,i.y),this},setTileSize:function(e,t){return void 0!==e&&(this.tileWidth=e),void 0!==t&&(this.tileHeight=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(e,t){return void 0!==e&&(this.tileMargin=e),void 0!==t&&(this.tileSpacing=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=(t-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(e-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(r%1!=0||s%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),r=Math.floor(r),s=Math.floor(s),this.rows=r,this.columns=s,this.total=r*s,this.texCoordinates.length=0;for(var a=this.tileMargin+i,o=this.tileMargin+n,l=0;l<this.rows;l++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:a,y:o}),a+=this.tileWidth+this.tileSpacing;a=this.tileMargin+i,o+=this.tileHeight+this.tileSpacing}return this}});e.exports=s},72023:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7423);e.exports=function(e,t,i){var r=n(e,t,!0,i),s=n(e,t-1,!0,i),a=n(e,t+1,!0,i),o=n(e-1,t,!0,i),l=n(e+1,t,!0,i),h=r&&r.collides;return h&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),s&&s.collides&&(h&&(r.faceTop=!1),s.faceBottom=!h),a&&a.collides&&(h&&(r.faceBottom=!1),a.faceTop=!h),o&&o.collides&&(h&&(r.faceLeft=!1),o.faceRight=!h),l&&l.collides&&(h&&(r.faceRight=!1),l.faceLeft=!h),r&&!r.collides&&r.resetFaces(),r}},42573:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7423),r=i(7386);e.exports=function(e,t,i,s,a){for(var o=null,l=null,h=null,u=null,c=r(e,t,i,s,null,a),d=0;d<c.length;d++){var f=c[d];f&&(f.collides?(o=n(f.x,f.y-1,!0,a),l=n(f.x,f.y+1,!0,a),h=n(f.x-1,f.y,!0,a),u=n(f.x+1,f.y,!0,a),f.faceTop=!o||!o.collides,f.faceBottom=!l||!l.collides,f.faceLeft=!h||!h.collides,f.faceRight=!u||!u.collides):f.resetFaces())}}},33528:(e,t,i)=>{var n=new(i(26099));e.exports=function(e,t,i,r){var s=i.tilemapLayer,a=s.cullPaddingX,o=s.cullPaddingY,l=s.tilemap.tileToWorldXY(e,t,n,r,s);return l.x>r.worldView.x+s.scaleX*i.tileWidth*(-a-.5)&&l.x<r.worldView.right+s.scaleX*i.tileWidth*(a-.5)&&l.y>r.worldView.y+s.scaleY*i.tileHeight*(-o-1)&&l.y<r.worldView.bottom+s.scaleY*i.tileHeight*(o-.5)}},1785:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42573),r=i(7386),s=i(62991),a=i(23029);e.exports=function(e,t,i,o,l,h,u,c){void 0===u&&(u=!0);var d=r(e,t,i,o,null,c),f=[];d.forEach(function(e){var t=new a(e.layer,e.index,e.x,e.y,e.width,e.height,e.baseWidth,e.baseHeight);t.copy(e),f.push(t)});for(var p=l-e,m=h-t,g=0;g<f.length;g++){var v=f[g],y=v.x+p,b=v.y+m;s(y,b,c)&&c.data[b][y]&&(v.x=y,v.y=b,v.updatePixelXY(),c.data[b][y]=v)}u&&n(l-1,h-1,i+2,o+2,c),d.length=0,f.length=0}},78419:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62644),r=i(7386),s=i(27987);e.exports=function(e,t,i,a,o,l){i||(i={}),Array.isArray(e)||(e=[e]);var h,u=l.tilemapLayer;a||(a=u.scene),o||(o=a.cameras.main);var c=l.width,d=l.height,f=r(0,0,c,d,null,l),p=[];for(h=0;h<f.length;h++){var m=f[h],g=n(i);if(-1!==e.indexOf(m.index)){var v=u.tileToWorldXY(m.x,m.y,void 0,o,l);g.x=v.x,g.y=v.y,function(e,t,i){for(var n=0;n<i.length;n++){var r=i[n];e.hasOwnProperty(r)||(e[r]=t[r])}}(g,m,["rotation","flipX","flipY","alpha","visible","tint"]),g.hasOwnProperty("origin")||(g.x+=.5*m.width,g.y+=.5*m.height),g.hasOwnProperty("useSpriteSheet")&&(g.key=m.tileset.image,g.frame=m.index-1),p.push(a.make.sprite(g))}}if(Array.isArray(t))for(h=0;h<e.length;h++)s(e[h],t[h],0,0,c,d,l);else if(null!==t)for(h=0;h<e.length;h++)s(e[h],t,0,0,c,d,l);return p}},19545:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(63448),s=i(56583),a=new n;e.exports=function(e,t){var i=e.tilemapLayer.tilemap,n=e.tilemapLayer,o=Math.floor(i.tileWidth*n.scaleX),l=Math.floor(i.tileHeight*n.scaleY),h=s(t.worldView.x-n.x,o,0,!0)-n.cullPaddingX,u=r(t.worldView.right-n.x,o,0,!0)+n.cullPaddingX,c=s(t.worldView.y-n.y,l,0,!0)-n.cullPaddingY,d=r(t.worldView.bottom-n.y,l,0,!0)+n.cullPaddingY;return a.setTo(h,c,u-h,d-c)}},30003:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19545),r=i(32483);e.exports=function(e,t,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var a=e.tilemapLayer,o=n(e,t);return(a.skipCull||1!==a.scrollFactorX||1!==a.scrollFactorY)&&(o.left=0,o.right=e.width,o.top=0,o.bottom=e.height),r(e,o,s,i),i}},35137:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(42573),s=i(20576);e.exports=function(e,t,i,a,o,l,h){for(var u=-1!==h.collideIndexes.indexOf(e),c=n(t,i,a,o,null,h),d=0;d<c.length;d++)c[d].index=e,s(c[d],u);l&&r(t-1,i-1,a+2,o+2,h)}},40253:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o,l){return n(i,r,s,a,o,l).filter(e,t)}},52692:e=>{e.exports=function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=!1);var r,s,a,o=0;if(i){for(s=n.height-1;s>=0;s--)for(r=n.width-1;r>=0;r--)if((a=n.data[s][r])&&a.index===e){if(o===t)return a;o+=1}}else for(s=0;s<n.height;s++)for(r=0;r<n.width;r++)if((a=n.data[s][r])&&a.index===e){if(o===t)return a;o+=1}return null}},66151:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o,l){return n(i,r,s,a,o,l).find(e,t)||null}},97560:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o,l){n(i,r,s,a,o,l).forEach(e,t)}},43305:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(30003),s=i(9474),a=i(14018),o=i(29747),l=i(54503);e.exports=function(e){return e===n.ORTHOGONAL?r:e===n.HEXAGONAL?s:e===n.STAGGERED?l:e===n.ISOMETRIC?a:o}},7423:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62991);e.exports=function(e,t,i,r){if(!n(e,t,r))return null;var s=r.data[t][e]||null;return s?-1===s.index?i?s:null:s:null}},60540:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7423),r=new(i(26099));e.exports=function(e,t,i,s,a){return a.tilemapLayer.worldToTileXY(e,t,!0,r,s),n(r.x,r.y,i,a)}},55826:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r){var s=r.baseTileWidth,a=r.baseTileHeight,o=r.tilemapLayer,l=0,h=0;o&&(i||(i=o.scene.cameras.main),l=o.x+i.scrollX*(1-o.scrollFactorX),h=o.y+i.scrollY*(1-o.scrollFactorY),s*=o.scaleX,a*=o.scaleY);var u=l+e*s,c=h+t*a;return[new n(u,c),new n(u+s,c),new n(u+s,c+a),new n(u,c+a)]}},11758:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(27229),s=i(29747),a=i(55826);e.exports=function(e){return e===n.ORTHOGONAL?a:e===n.ISOMETRIC?s:e===n.HEXAGONAL?r:(n.STAGGERED,s)}},39167:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(29747),s=i(97281);e.exports=function(e){return e===n.ORTHOGONAL?s:r}},62e3:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(19951),s=i(14127),a=i(29747),o=i(97202),l=i(70326);e.exports=function(e){return e===n.ORTHOGONAL?l:e===n.ISOMETRIC?s:e===n.HEXAGONAL?r:e===n.STAGGERED?o:a}},5984:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(29747),s=i(28054),a=i(29650);e.exports=function(e){return e===n.ORTHOGONAL?a:e===n.STAGGERED?s:r}},7386:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e,t,i,r,s,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=a.width),void 0===r&&(r=a.height),s||(s={});var o=n(s,"isNotEmpty",!1),l=n(s,"isColliding",!1),h=n(s,"hasInterestingFace",!1);e<0&&(i+=e,e=0),t<0&&(r+=t,t=0),e+i>a.width&&(i=Math.max(a.width-e,0)),t+r>a.height&&(r=Math.max(a.height-t,0));for(var u=[],c=t;c<t+r;c++)for(var d=e;d<e+i;d++){var f=a.data[c][d];if(null!==f){if(o&&-1===f.index||l&&!f.collides||h&&!f.hasInterestingFace)continue;u.push(f)}}return u}},91141:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(55738),r=i(7386),s=i(91865),a=i(29747),o=i(26099),l=function(e,t){return s.RectangleToTriangle(t,e)},h=new o,u=new o,c=new o;e.exports=function(e,t,i,o){if(void 0===e)return[];var d=a;e instanceof n.Circle?d=s.CircleToRectangle:e instanceof n.Rectangle?d=s.RectangleToRectangle:e instanceof n.Triangle?d=l:e instanceof n.Line&&(d=s.LineToRectangle),o.tilemapLayer.worldToTileXY(e.left,e.top,!0,u,i);var f=u.x,p=u.y;o.tilemapLayer.worldToTileXY(e.right,e.bottom,!1,c,i);var m=Math.ceil(c.x),g=Math.ceil(c.y),v=Math.max(m-f,1),y=Math.max(g-p,1),b=r(f,p,v,y,t,o),x=o.tileWidth,E=o.tileHeight;o.tilemapLayer&&(x*=o.tilemapLayer.scaleX,E*=o.tilemapLayer.scaleY);for(var w=[],S=new n.Rectangle(0,0,x,E),T=0;T<b.length;T++){var A=b[T];o.tilemapLayer.tileToWorldXY(A.x,A.y,h,i),S.x=h.x,S.y=h.y,d(e,S)&&w.push(A)}return w}},96523:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(26099),s=new r,a=new r;e.exports=function(e,t,i,r,o,l,h){var u=h.tilemapLayer.tilemap._convert.WorldToTileXY;u(e,t,!0,s,l,h);var c=s.x,d=s.y;return u(e+i,t+r,!1,a,l,h),n(c,d,Math.ceil(a.x)-c,Math.ceil(a.y)-d,o,h)}},96113:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(20242),s=i(10095);e.exports=function(e){return e===n.ORTHOGONAL?s:r}},16926:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(86625),s=i(96897),a=i(29747),o=i(15108),l=i(85896);e.exports=function(e){return e===n.ORTHOGONAL?l:e===n.ISOMETRIC?s:e===n.HEXAGONAL?r:e===n.STAGGERED?o:a}},55762:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(20242),s=i(51900),a=i(63288);e.exports=function(e){return e===n.ORTHOGONAL?a:e===n.STAGGERED?s:r}},45091:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62991);e.exports=function(e,t,i){if(!n(e,t,i))return!1;var r=i.data[t][e];return null!==r&&r.index>-1}},24152:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45091),r=new(i(26099));e.exports=function(e,t,i,s){return s.tilemapLayer.worldToTileXY(e,t,!0,r,i),n(r.x,r.y,s)}},90454:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(63448),r=i(56583);e.exports=function(e,t){var i,s,a,o,l=e.tilemapLayer.tilemap,h=e.tilemapLayer,u=Math.floor(l.tileWidth*h.scaleX),c=Math.floor(l.tileHeight*h.scaleY),d=e.hexSideLength;if("y"===e.staggerAxis){var f=(c-d)/2+d;i=r(t.worldView.x-h.x,u,0,!0)-h.cullPaddingX,s=n(t.worldView.right-h.x,u,0,!0)+h.cullPaddingX,a=r(t.worldView.y-h.y,f,0,!0)-h.cullPaddingY,o=n(t.worldView.bottom-h.y,f,0,!0)+h.cullPaddingY}else{var p=(u-d)/2+d;i=r(t.worldView.x-h.x,p,0,!0)-h.cullPaddingX,s=n(t.worldView.right-h.x,p,0,!0)+h.cullPaddingX,a=r(t.worldView.y-h.y,c,0,!0)-h.cullPaddingY,o=n(t.worldView.bottom-h.y,c,0,!0)+h.cullPaddingY}return{left:i,right:s,top:a,bottom:o}}},9474:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(90454),r=i(32483);e.exports=function(e,t,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var a=e.tilemapLayer,o=n(e,t);return a.skipCull&&1===a.scrollFactorX&&1===a.scrollFactorY&&(o.left=0,o.right=e.width,o.top=0,o.bottom=e.height),r(e,o,s,i),i}},27229:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19951),r=i(26099),s=new r;e.exports=function(e,t,i,a){var o,l,h=a.baseTileWidth,u=a.baseTileHeight,c=a.tilemapLayer;c&&(h*=c.scaleX,u*=c.scaleY);var d=n(e,t,s,i,a),f=[];"y"===a.staggerAxis?(o=.5773502691896257*h,l=u/2):(o=h/2,l=.5773502691896257*u);for(var p=0;p<6;p++){var m=2*Math.PI*(.5-p)/6;f.push(new r(d.x+o*Math.cos(m),d.y+l*Math.sin(m)))}return f}},19951:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s){i||(i=new n);var a,o,l=s.baseTileWidth,h=s.baseTileHeight,u=s.tilemapLayer,c=0,d=0;u&&(r||(r=u.scene.cameras.main),c=u.x+r.scrollX*(1-u.scrollFactorX),d=u.y+r.scrollY*(1-u.scrollFactorY),l*=u.scaleX,h*=u.scaleY);var f=l/2,p=h/2,m=s.staggerAxis,g=s.staggerIndex;return"y"===m?(a=c+l*e+l,o=d+1.5*t*p+p,t%2==0&&("odd"===g?a-=f:a+=f)):"x"===m&&"odd"===g&&(a=c+1.5*e*f+f,o=d+h*e+h,e%2==0&&("odd"===g?o-=p:o+=p)),i.set(a,o)}},86625:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a){r||(r=new n);var o,l,h,u,c,d,f=a.baseTileWidth,p=a.baseTileHeight,m=a.tilemapLayer;m&&(s||(s=m.scene.cameras.main),e-=m.x+s.scrollX*(1-m.scrollFactorX),t-=m.y+s.scrollY*(1-m.scrollFactorY),f*=m.scaleX,p*=m.scaleY);var g=f/2,v=p/2;"y"===a.staggerAxis?(h=.5773502691896257*(o=(e-g)/(.5773502691896257*f))+-.3333333333333333*(l=(t-v)/v),u=0*o+.6666666666666666*l):(h=-.3333333333333333*(o=(e-g)/g)+.5773502691896257*(l=(t-v)/(.5773502691896257*p)),u=.6666666666666666*o+0*l),c=-h-u;var y=Math.round(h),b=Math.round(u),x=Math.round(c),E=Math.abs(y-h),w=Math.abs(b-u),S=Math.abs(x-c);E>w&&E>S?y=-b-x:w>S&&(b=-y-x);var T=b;return d="odd"===a.staggerIndex?T%2==0?b/2+y:b/2+y-.5:T%2==0?b/2+y:b/2+y+.5,r.set(d,T)}},62991:e=>{e.exports=function(e,t,i){return e>=0&&e<i.width&&t>=0&&t<i.height}},14018:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33528);e.exports=function(e,t,i,r){void 0===i&&(i=[]),void 0===r&&(r=0),i.length=0;var s,a,o,l=e.tilemapLayer,h=e.data,u=e.width,c=e.height,d=l.skipCull;if(0===r)for(a=0;a<c;a++)for(s=0;s<u;s++)(o=h[a][s])&&-1!==o.index&&o.visible&&0!==o.alpha&&(d||n(s,a,e,t))&&i.push(o);else if(1===r)for(a=0;a<c;a++)for(s=u;s>=0;s--)(o=h[a][s])&&-1!==o.index&&o.visible&&0!==o.alpha&&(d||n(s,a,e,t))&&i.push(o);else if(2===r)for(a=c;a>=0;a--)for(s=0;s<u;s++)(o=h[a][s])&&-1!==o.index&&o.visible&&0!==o.alpha&&(d||n(s,a,e,t))&&i.push(o);else if(3===r)for(a=c;a>=0;a--)for(s=u;s>=0;s--)(o=h[a][s])&&-1!==o.index&&o.visible&&0!==o.alpha&&(d||n(s,a,e,t))&&i.push(o);return l.tilesDrawn=i.length,l.tilesTotal=u*c,i}},14127:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s){i||(i=new n);var a=s.baseTileWidth,o=s.baseTileHeight,l=s.tilemapLayer,h=0,u=0;l&&(r||(r=l.scene.cameras.main),h=l.x+r.scrollX*(1-l.scrollFactorX),a*=l.scaleX,u=l.y+r.scrollY*(1-l.scrollFactorY),o*=l.scaleY);var c=h+a/2*(e-t),d=u+o/2*(e+t);return i.set(c,d)}},96897:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a,o){r||(r=new n);var l=a.baseTileWidth,h=a.baseTileHeight,u=a.tilemapLayer;u&&(s||(s=u.scene.cameras.main),t-=u.y+s.scrollY*(1-u.scrollFactorY),h*=u.scaleY,e-=u.x+s.scrollX*(1-u.scrollFactorX),l*=u.scaleX);var c=l/2,d=h/2;e-=c,o||(t-=h);var f=.5*(e/c+t/d),p=.5*(-e/c+t/d);return i&&(f=Math.floor(f),p=Math.floor(p)),r.set(f,p)}},71558:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23029),r=i(62991),s=i(72023),a=i(20576);e.exports=function(e,t,i,o,l){if(void 0===o&&(o=!0),!r(t,i,l))return null;var h,u=l.data[i][t],c=u&&u.collides;e instanceof n?(null===l.data[i][t]&&(l.data[i][t]=new n(l,e.index,t,i,l.tileWidth,l.tileHeight)),l.data[i][t].copy(e)):(h=e,null===l.data[i][t]?l.data[i][t]=new n(l,h,t,i,l.tileWidth,l.tileHeight):l.data[i][t].index=h);var d=l.data[i][t],f=-1!==l.collideIndexes.indexOf(d.index);if(-1===(h=e instanceof n?e.index:e))d.width=l.tileWidth,d.height=l.tileHeight;else{var p=l.tilemapLayer.tilemap,m=p.tiles[h][2],g=p.tilesets[m];d.width=g.tileWidth,d.height=g.tileHeight}return a(d,f),o&&c!==d.collides&&s(t,i,l),d}},26303:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71558),r=new(i(26099));e.exports=function(e,t,i,s,a,o){return o.tilemapLayer.worldToTileXY(t,i,!0,r,a,o),n(e,r.x,r.y,s,o)}},14051:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42573),r=i(71558);e.exports=function(e,t,i,s,a){if(void 0===s&&(s=!0),!Array.isArray(e))return null;Array.isArray(e[0])||(e=[e]);for(var o=e.length,l=e[0].length,h=0;h<o;h++)for(var u=0;u<l;u++)r(e[h][u],t+u,i+h,!1,a);s&&n(t-1,i-1,l+2,o+2,a)}},77389:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(26546);e.exports=function(e,t,i,s,a,o){var l,h=n(e,t,i,s,{},o);if(!a)for(l=0,a=[];l<h.length;l++)-1===a.indexOf(h[l].index)&&a.push(h[l].index);for(l=0;l<h.length;l++)h[l].index=r(a)}},63557:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23029),r=i(62991),s=i(72023);e.exports=function(e,t,i,a,o){if(void 0===i&&(i=!0),void 0===a&&(a=!0),!r(e,t,o))return null;var l=o.data[t][e];return l?(o.data[t][e]=i?null:new n(o,-1,e,t,o.tileWidth,o.tileHeight),a&&l&&l.collides&&s(e,t,o),l):null}},94178:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(63557),r=new(i(26099));e.exports=function(e,t,i,s,a,o){return o.tilemapLayer.worldToTileXY(e,t,!0,r,a,o),n(r.x,r.y,i,s,o)}},15533:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(3956),s=new r(105,210,231,150),a=new r(243,134,48,200),o=new r(40,39,37,150);e.exports=function(e,t,i){void 0===t&&(t={});var r=void 0!==t.tileColor?t.tileColor:s,l=void 0!==t.collidingTileColor?t.collidingTileColor:a,h=void 0!==t.faceColor?t.faceColor:o,u=n(0,0,i.width,i.height,null,i);e.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),e.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<u.length;c++){var d=u[c],f=d.width,p=d.height,m=d.pixelX,g=d.pixelY,v=d.collides?l:r;null!==v&&(e.fillStyle(v.color,v.alpha/255),e.fillRect(m,g,f,p)),m+=1,g+=1,f-=2,p-=2,null!==h&&(e.lineStyle(1,h.color,h.alpha/255),d.faceTop&&e.lineBetween(m,g,m+f,g),d.faceRight&&e.lineBetween(m+f,g,m+f,g+p),d.faceBottom&&e.lineBetween(m,g+p,m+f,g+p),d.faceLeft&&e.lineBetween(m,g,m,g+p))}}},27987:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o){for(var l=n(i,r,s,a,null,o),h=0;h<l.length;h++)l[h]&&l[h].index===e&&(l[h].index=t)}},32483:e=>{e.exports=function(e,t,i,n){var r,s,a,o=e.data,l=e.width,h=e.height,u=e.tilemapLayer,c=Math.max(0,t.left),d=Math.min(l,t.right),f=Math.max(0,t.top),p=Math.min(h,t.bottom);if(0===i)for(s=f;s<p;s++)for(r=c;o[s]&&r<d;r++)(a=o[s][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&n.push(a);else if(1===i)for(s=f;s<p;s++)for(r=d;o[s]&&r>=c;r--)(a=o[s][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&n.push(a);else if(2===i)for(s=p;s>=f;s--)for(r=c;o[s]&&r<d;r++)(a=o[s][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&n.push(a);else if(3===i)for(s=p;s>=f;s--)for(r=d;o[s]&&r>=c;r--)(a=o[s][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&n.push(a);return u.tilesDrawn=n.length,u.tilesTotal=l*h,n}},57068:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573),s=i(9589);e.exports=function(e,t,i,a,o){void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===o&&(o=!0),Array.isArray(e)||(e=[e]);for(var l=0;l<e.length;l++)s(e[l],t,a);if(o)for(var h=0;h<a.height;h++)for(var u=0;u<a.width;u++){var c=a.data[h][u];c&&-1!==e.indexOf(c.index)&&n(c,t)}i&&r(0,0,a.width,a.height,a)}},37266:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573),s=i(9589);e.exports=function(e,t,i,a,o,l){if(void 0===i&&(i=!0),void 0===a&&(a=!0),void 0===l&&(l=!0),!(e>t)){for(var h=e;h<=t;h++)s(h,i,o);if(l)for(var u=0;u<o.height;u++)for(var c=0;c<o.width;c++){var d=o.data[u][c];d&&d.index>=e&&d.index<=t&&n(d,i)}a&&r(0,0,o.width,o.height,o)}}},75661:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573),s=i(9589);e.exports=function(e,t,i,a){void 0===t&&(t=!0),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]);for(var o=0;o<a.height;o++)for(var l=0;l<a.width;l++){var h=a.data[o][l];h&&-1===e.indexOf(h.index)&&(n(h,t),s(h.index,t,a))}i&&r(0,0,a.width,a.height,a)}},64740:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573),s=i(97022);e.exports=function(e,t,i,a){void 0===t&&(t=!0),void 0===i&&(i=!0);for(var o=0;o<a.height;o++)for(var l=0;l<a.width;l++){var h=a.data[o][l];if(h){for(var u in e)if(s(h.properties,u)){var c=e[u];Array.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++)h.properties[u]===c[d]&&n(h,t)}}}i&&r(0,0,a.width,a.height,a)}},63307:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573);e.exports=function(e,t,i){void 0===e&&(e=!0),void 0===t&&(t=!0);for(var s=0;s<i.height;s++)for(var a=0;a<i.width;a++){var o=i.data[s][a];if(o){var l=o.getCollisionGroup();l&&l.objects&&l.objects.length>0&&n(o,e)}}t&&r(0,0,i.width,i.height,i)}},9589:e=>{e.exports=function(e,t,i){var n=i.collideIndexes.indexOf(e);t&&-1===n?i.collideIndexes.push(e):t||-1===n||i.collideIndexes.splice(n,1)}},20576:e=>{e.exports=function(e,t){t?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)}},79583:e=>{e.exports=function(e,t,i,n){if("number"==typeof e)n.callbacks[e]=null!==t?{callback:t,callbackContext:i}:void 0;else for(var r=0,s=e.length;r<s;r++)n.callbacks[e[r]]=null!==t?{callback:t,callbackContext:i}:void 0}},93254:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o){for(var l=n(e,t,i,r,null,o),h=0;h<l.length;h++)l[h].setCollisionCallback(s,a)}},32903:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(33680);e.exports=function(e,t,i,s,a){var o=n(e,t,i,s,null,a),l=o.map(function(e){return e.index});r(l);for(var h=0;h<o.length;h++)o[h].index=l[h]}},61325:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(63448),r=i(56583);e.exports=function(e,t){var i=e.tilemapLayer.tilemap,s=e.tilemapLayer,a=Math.floor(i.tileWidth*s.scaleX),o=Math.floor(i.tileHeight*s.scaleY);return{left:r(t.worldView.x-s.x,a,0,!0)-s.cullPaddingX,right:n(t.worldView.right-s.x,a,0,!0)+s.cullPaddingX,top:r(t.worldView.y-s.y,o/2,0,!0)-s.cullPaddingY,bottom:n(t.worldView.bottom-s.y,o/2,0,!0)+s.cullPaddingY}}},54503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61325),r=i(32483);e.exports=function(e,t,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var a=e.tilemapLayer,o=n(e,t);return a.skipCull&&1===a.scrollFactorX&&1===a.scrollFactorY&&(o.left=0,o.right=e.width,o.top=0,o.bottom=e.height),r(e,o,s,i),i}},97202:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s){i||(i=new n);var a=s.baseTileWidth,o=s.baseTileHeight,l=s.tilemapLayer,h=0,u=0;l&&(r||(r=l.scene.cameras.main),h=l.x+r.scrollX*(1-l.scrollFactorX),a*=l.scaleX,u=l.y+r.scrollY*(1-l.scrollFactorY),o*=l.scaleY);var c=h+e*a+t%2*(a/2),d=u+o/2*t;return i.set(c,d)}},28054:e=>{e.exports=function(e,t,i){var n=i.baseTileHeight,r=i.tilemapLayer,s=0;return r&&(void 0===t&&(t=r.scene.cameras.main),s=r.y+t.scrollY*(1-r.scrollFactorY),n*=r.scaleY),s+n/2*e+n}},15108:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a){r||(r=new n);var o=a.baseTileWidth,l=a.baseTileHeight,h=a.tilemapLayer;h&&(s||(s=h.scene.cameras.main),t-=h.y+s.scrollY*(1-h.scrollFactorY),l*=h.scaleY,e-=h.x+s.scrollX*(1-h.scrollFactorX),o*=h.scaleX);var u=i?Math.floor(t/(l/2)):t/(l/2),c=i?Math.floor((e+u%2*.5*o)/o):(e+u%2*.5*o)/o;return r.set(c,u)}},51900:e=>{e.exports=function(e,t,i,n){var r=n.baseTileHeight,s=n.tilemapLayer;return s&&(i||(i=s.scene.cameras.main),e-=s.y+i.scrollY*(1-s.scrollFactorY),r*=s.scaleY),t?Math.floor(e/(r/2)):e/(r/2)}},86560:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o){for(var l=n(i,r,s,a,null,o),h=0;h<l.length;h++)l[h]&&(l[h].index===e?l[h].index=t:l[h].index===t&&(l[h].index=e))}},97281:e=>{e.exports=function(e,t,i){var n=i.baseTileWidth,r=i.tilemapLayer,s=0;return r&&(t||(t=r.scene.cameras.main),s=r.x+t.scrollX*(1-r.scrollFactorX),n*=r.scaleX),s+e*n}},70326:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(97281),r=i(29650),s=i(26099);e.exports=function(e,t,i,a,o){return i||(i=new s(0,0)),i.x=n(e,a,o),i.y=r(t,a,o),i}},29650:e=>{e.exports=function(e,t,i){var n=i.baseTileHeight,r=i.tilemapLayer,s=0;return r&&(t||(t=r.scene.cameras.main),s=r.y+t.scrollY*(1-r.scrollFactorY),n*=r.scaleY),s+e*n}},77366:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(75508);e.exports=function(e,t,i,s,a,o){if(a){var l,h=n(e,t,i,s,null,o),u=0;for(l=0;l<a.length;l++)u+=a[l].weight;if(!(u<=0))for(l=0;l<h.length;l++){for(var c=r.RND.frac()*u,d=0,f=-1,p=0;p<a.length;p++)if(c<=(d+=a[p].weight)){var m=a[p].index;f=Array.isArray(m)?m[Math.floor(r.RND.frac()*m.length)]:m;break}h[l].index=f}}}},10095:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85896),r=new(i(26099));e.exports=function(e,t,i,s){return n(e,0,t,r,i,s),r.x}},85896:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a){void 0===i&&(i=!0),r||(r=new n);var o=a.baseTileWidth,l=a.baseTileHeight,h=a.tilemapLayer;h&&(s||(s=h.scene.cameras.main),e-=h.x+s.scrollX*(1-h.scrollFactorX),t-=h.y+s.scrollY*(1-h.scrollFactorY),o*=h.scaleX,l*=h.scaleY);var u=e/o,c=t/l;return i&&(u=Math.floor(u),c=Math.floor(c)),r.set(u,c)}},63288:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85896),r=new(i(26099));e.exports=function(e,t,i,s){return n(0,e,t,r,i,s),r.y}},81086:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={ORIENTATION:i(91907)};e.exports=n},62501:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(21829),s={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};s=n(!1,s,r.ORIENTATION),e.exports=s},14977:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(91907),s=i(95540),a=new n({initialize:function(e){void 0===e&&(e={}),this.name=s(e,"name","layer"),this.id=s(e,"id",0),this.x=s(e,"x",0),this.y=s(e,"y",0),this.width=s(e,"width",0),this.height=s(e,"height",0),this.tileWidth=s(e,"tileWidth",0),this.tileHeight=s(e,"tileHeight",0),this.baseTileWidth=s(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(e,"baseTileHeight",this.tileHeight),this.orientation=s(e,"orientation",r.ORTHOGONAL),this.widthInPixels=s(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(e,"alpha",1),this.visible=s(e,"visible",!0),this.properties=s(e,"properties",[]),this.indexes=s(e,"indexes",[]),this.collideIndexes=s(e,"collideIndexes",[]),this.callbacks=s(e,"callbacks",[]),this.bodies=s(e,"bodies",[]),this.data=s(e,"data",[]),this.tilemapLayer=s(e,"tilemapLayer",null),this.hexSideLength=s(e,"hexSideLength",0),this.staggerAxis=s(e,"staggerAxis","y"),this.staggerIndex=s(e,"staggerIndex","odd")}});e.exports=a},87010:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(91907),s=i(95540),a=new n({initialize:function(e){void 0===e&&(e={}),this.name=s(e,"name","map"),this.width=s(e,"width",0),this.height=s(e,"height",0),this.infinite=s(e,"infinite",!1),this.tileWidth=s(e,"tileWidth",0),this.tileHeight=s(e,"tileHeight",0),this.widthInPixels=s(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(e,"heightInPixels",this.height*this.tileHeight),this.format=s(e,"format",null),this.orientation=s(e,"orientation",r.ORTHOGONAL),this.renderOrder=s(e,"renderOrder","right-down"),this.version=s(e,"version","1"),this.properties=s(e,"properties",{}),this.layers=s(e,"layers",[]),this.images=s(e,"images",[]),this.objects=s(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=s(e,"collision",{}),this.tilesets=s(e,"tilesets",[]),this.imageCollections=s(e,"imageCollections",[]),this.tiles=s(e,"tiles",[]),this.hexSideLength=s(e,"hexSideLength",0),this.staggerAxis=s(e,"staggerAxis","y"),this.staggerIndex=s(e,"staggerIndex","odd")}});e.exports=a},48700:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=new n({initialize:function(e){void 0===e&&(e={}),this.name=r(e,"name","object layer"),this.id=r(e,"id",0),this.opacity=r(e,"opacity",1),this.properties=r(e,"properties",{}),this.propertyTypes=r(e,"propertytypes",{}),this.type=r(e,"type","objectgroup"),this.visible=r(e,"visible",!0),this.objects=r(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});e.exports=s},6641:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907);e.exports=function(e){return"isometric"===(e=e.toLowerCase())?n.ISOMETRIC:"staggered"===e?n.STAGGERED:"hexagonal"===e?n.HEXAGONAL:n.ORTHOGONAL}},46177:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(2342),s=i(82593),a=i(46594),o=i(87021);e.exports=function(e,t,i,l,h,u){var c;switch(t){case n.ARRAY_2D:c=r(e,i,l,h,u);break;case n.CSV:c=s(e,i,l,h,u);break;case n.TILED_JSON:c=a(e,i,u);break;case n.WELTMEISTER:c=o(e,i,u);break;default:console.warn("Unrecognized tilemap data format: "+t),c=null}return c}},2342:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(14977),s=i(87010),a=i(23029);e.exports=function(e,t,i,o,l){for(var h=new r({tileWidth:i,tileHeight:o}),u=new s({name:e,tileWidth:i,tileHeight:o,format:n.ARRAY_2D,layers:[h]}),c=[],d=t.length,f=0,p=0;p<t.length;p++){c[p]=[];for(var m=t[p],g=0;g<m.length;g++){var v=parseInt(m[g],10);isNaN(v)||-1===v?c[p][g]=l?null:new a(h,-1,g,p,i,o):c[p][g]=new a(h,v,g,p,i,o)}0===f&&(f=m.length)}return u.width=h.width=f,u.height=h.height=d,u.widthInPixels=h.widthInPixels=f*i,u.heightInPixels=h.heightInPixels=d*o,h.data=c,u}},82593:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(2342);e.exports=function(e,t,i,s,a){var o=r(e,t.trim().split("\n").map(function(e){return e.split(",")}),i,s,a);return o.format=n.CSV,o}},6656:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(14977),r=i(23029);e.exports=function(e,t){for(var i=[],s=0;s<e.layer.length;s++){for(var a=e.layer[s],o=new n({name:a.name,width:a.width,height:a.height,tileWidth:a.tilesize,tileHeight:a.tilesize,visible:1===a.visible}),l=[],h=[],u=0;u<a.data.length;u++){for(var c=0;c<a.data[u].length;c++){var d,f=a.data[u][c]-1;d=f>-1?new r(o,f,c,u,a.tilesize,a.tilesize):t?null:new r(o,-1,c,u,a.tilesize,a.tilesize),l.push(d)}h.push(l),l=[]}o.data=h,i.push(o)}return i}},96483:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33629);e.exports=function(e){for(var t=[],i=[],r=0;r<e.layer.length;r++){var s=e.layer[r],a=s.tilesetName;""!==a&&-1===i.indexOf(a)&&(i.push(a),t.push(new n(a,0,s.tilesize,s.tilesize,0,0)))}return t}},87021:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(87010),s=i(6656),a=i(96483);e.exports=function(e,t,i){if(0===t.layer.length)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var o=0,l=0,h=0;h<t.layer.length;h++)t.layer[h].width>o&&(o=t.layer[h].width),t.layer[h].height>l&&(l=t.layer[h].height);var u=new r({width:o,height:l,name:e,tileWidth:t.layer[0].tilesize,tileHeight:t.layer[0].tilesize,format:n.WELTMEISTER});return u.layers=s(t,i),u.tilesets=a(t),u}},52833:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291);e.exports=function(e){for(var t,i,r,s,a,o=0;o<e.layers.length;o++){t=e.layers[o],s=null;for(var l=0;l<t.data.length;l++){a=t.data[l];for(var h=0;h<a.length;h++)null!==(i=a[h])&&!(i.index<0)&&(r=e.tiles[i.index][2],s=e.tilesets[r],i.width=s.tileWidth,i.height=s.tileHeight,s.tileProperties&&s.tileProperties[i.index-s.firstgid]&&(i.properties=n(i.properties,s.tileProperties[i.index-s.firstgid])))}}}},41868:e=>{e.exports=function(e){for(var t=window.atob(e),i=t.length,n=Array(i/4),r=0;r<i;r+=4)n[r/4]=(t.charCodeAt(r)|t.charCodeAt(r+1)<<8|t.charCodeAt(r+2)<<16|t.charCodeAt(r+3)<<24)>>>0;return n}},84101:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33629);e.exports=function(e){var t,i,r=[];for(t=0;t<e.imageCollections.length;t++)for(var s=e.imageCollections[t],a=s.images,o=0;o<a.length;o++){var l=a[o];(i=new n(l.image,l.gid,s.imageWidth,s.imageHeight,0,0)).updateTileData(s.imageWidth,s.imageHeight),e.tilesets.push(i)}for(t=0;t<e.tilesets.length;t++)for(var h=(i=e.tilesets[t]).tileMargin,u=i.tileMargin,c=0,d=0,f=0,p=i.firstgid;p<i.firstgid+i.total&&(r[p]=[h,u,t],h+=i.tileWidth+i.tileSpacing,++c!==i.total&&(++d!==i.columns||(h=i.tileMargin,u+=i.tileHeight+i.tileSpacing,d=0,++f!==i.rows)));p++);return r}},79677:(e,t,i)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e,t,i){if(!t)return{i:0,layers:e.layers,name:"",opacity:1,visible:!0,x:0,y:0};var r=t.x+n(t,"startx",0)*e.tilewidth+n(t,"offsetx",0),s=t.y+n(t,"starty",0)*e.tileheight+n(t,"offsety",0);return{i:0,layers:t.layers,name:i.name+t.name+"/",opacity:i.opacity*t.opacity,visible:i.visible&&t.visible,x:i.x+r,y:i.y+s}}},29920:e=>{e.exports=function(e){var t=!!(0x80000000&e),i=!!(0x40000000&e),n=!!(0x20000000&e);e&=0x1fffffff;var r=0,s=!1;return t&&i&&n?(r=Math.PI/2,s=!0):t&&i&&!n?(r=Math.PI,s=!1):t&&!i&&n?(r=Math.PI/2,s=!1):!t||i||n?!t&&i&&n?(r=3*Math.PI/2,s=!1):t||!i||n?t||i||!n?t||i||n||(r=0,s=!1):(r=3*Math.PI/2,s=!0):(r=Math.PI,s=!0):(r=0,s=!0),{gid:e,flippedHorizontal:t,flippedVertical:i,flippedAntiDiagonal:n,rotation:r,flipped:s}}},12635:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540),r=i(79677);e.exports=function(e){for(var t=[],i=[],s=r(e);s.i<s.layers.length||i.length>0;){if(s.i>=s.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=i.pop();continue}var a=s.layers[s.i];if(s.i++,"imagelayer"!==a.type){if("group"===a.type){var o=r(e,a,s);i.push(s),s=o}continue}var l=n(a,"offsetx",0)+n(a,"startx",0),h=n(a,"offsety",0)+n(a,"starty",0);t.push({name:s.name+a.name,image:a.image,x:s.x+l+a.x,y:s.y+h+a.y,alpha:s.opacity*a.opacity,visible:s.visible&&a.visible,properties:n(a,"properties",{})})}return t}},46594:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(51233),r=i(84101),s=i(91907),a=i(62644),o=i(80341),l=i(6641),h=i(87010),u=i(12635),c=i(22611),d=i(28200),f=i(24619);e.exports=function(e,t,i){var p=a(t),m=new h({width:p.width,height:p.height,name:e,tileWidth:p.tilewidth,tileHeight:p.tileheight,orientation:l(p.orientation),format:o.TILED_JSON,version:p.version,properties:p.properties,renderOrder:p.renderorder,infinite:p.infinite});m.orientation===s.HEXAGONAL&&(m.hexSideLength=p.hexsidelength,m.staggerAxis=p.staggeraxis,m.staggerIndex=p.staggerindex),m.layers=d(p,i),m.images=u(p);var g=f(p);return m.tilesets=g.tilesets,m.imageCollections=g.imageCollections,m.objects=c(p),m.tiles=r(m),n(m),m}},52205:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(18254),r=i(29920),s=function(e){return{x:e.x,y:e.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"];e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);var o=n(e,a);if(o.x+=t,o.y+=i,e.gid){var l=r(e.gid);o.gid=l.gid,o.flippedHorizontal=l.flippedHorizontal,o.flippedVertical=l.flippedVertical,o.flippedAntiDiagonal=l.flippedAntiDiagonal}else e.polyline?o.polyline=e.polyline.map(s):e.polygon?o.polygon=e.polygon.map(s):e.ellipse?o.ellipse=e.ellipse:e.text?o.text=e.text:e.point?o.point=!0:o.rectangle=!0;return o}},22611:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540),r=i(52205),s=i(48700),a=i(79677);e.exports=function(e){for(var t=[],i=[],o=a(e);o.i<o.layers.length||i.length>0;){if(o.i>=o.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=i.pop();continue}var l=o.layers[o.i];if(o.i++,l.opacity*=o.opacity,l.visible=o.visible&&l.visible,"objectgroup"!==l.type){if("group"===l.type){var h=a(e,l,o);i.push(o),o=h}continue}l.name=o.name+l.name;for(var u=o.x+n(l,"startx",0)+n(l,"offsetx",0),c=o.y+n(l,"starty",0)+n(l,"offsety",0),d=[],f=0;f<l.objects.length;f++){var p=r(l.objects[f],u,c);d.push(p)}var m=new s(l);m.objects=d,t.push(m)}return t}},28200:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41868),r=i(91907),s=i(79677),a=i(6641),o=i(95540),l=i(14977),h=i(29920),u=i(23029);e.exports=function(e,t){for(var i=o(e,"infinite",!1),c=[],d=[],f=s(e);f.i<f.layers.length||d.length>0;){if(f.i>=f.layers.length){if(d.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=d.pop();continue}var p,m,g,v,y=f.layers[f.i];if(f.i++,"tilelayer"!==y.type){if("group"===y.type){var b=s(e,y,f);d.push(f),f=b}continue}if(y.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");continue}if(y.encoding&&"base64"===y.encoding){if(y.chunks)for(var x=0;x<y.chunks.length;x++)y.chunks[x].data=n(y.chunks[x].data);y.data&&(y.data=n(y.data)),delete y.encoding}var E=[],w=0;if(i){var S=o(y,"startx",0)+y.x,T=o(y,"starty",0)+y.y;(p=new l({name:f.name+y.name,id:y.id,x:f.x+o(y,"offsetx",0)+S*e.tilewidth,y:f.y+o(y,"offsety",0)+T*e.tileheight,width:y.width,height:y.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:f.opacity*y.opacity,visible:f.visible&&y.visible,properties:o(y,"properties",[]),orientation:a(e.orientation)})).orientation===r.HEXAGONAL&&(p.hexSideLength=e.hexsidelength,p.staggerAxis=e.staggeraxis,p.staggerIndex=e.staggerindex);for(var A=0;A<y.height;A++){E[A]=[null];for(var _=0;_<y.width;_++)E[A][_]=null}for(A=0,F=y.chunks.length;A<F;A++)for(var C=y.chunks[A],I=C.x-S,P=C.y-T,R=0,O=0,M=C.data.length;O<M;O++){var L=w+I,D=R+P;(m=h(C.data[O])).gid>0?((g=new u(p,m.gid,L,D,e.tilewidth,e.tileheight)).rotation=m.rotation,g.flipX=m.flipped,E[D][L]=g):(v=t?null:new u(p,-1,L,D,e.tilewidth,e.tileheight),E[D][L]=v),++w===C.width&&(R++,w=0)}}else{(p=new l({name:f.name+y.name,id:y.id,x:f.x+o(y,"offsetx",0)+y.x,y:f.y+o(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:f.opacity*y.opacity,visible:f.visible&&y.visible,properties:o(y,"properties",[]),orientation:a(e.orientation)})).orientation===r.HEXAGONAL&&(p.hexSideLength=e.hexsidelength,p.staggerAxis=e.staggeraxis,p.staggerIndex=e.staggerindex);for(var k=[],N=0,F=y.data.length;N<F;N++)(m=h(y.data[N])).gid>0?((g=new u(p,m.gid,w,E.length,e.tilewidth,e.tileheight)).rotation=m.rotation,g.flipX=m.flipped,k.push(g)):(v=t?null:new u(p,-1,w,E.length,e.tilewidth,e.tileheight),k.push(v)),++w===y.width&&(E.push(k),w=0,k=[])}p.data=E,c.push(p)}return c}},24619:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33629),r=i(16536),s=i(52205),a=i(57880);e.exports=function(e){for(var t,i=[],o=[],l=null,h=0;h<e.tilesets.length;h++){var u=e.tilesets[h];if(u.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(u.image){var c=new n(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(e.version>1){var d=void 0,f=void 0;if(Array.isArray(u.tiles)){d=d||{},f=f||{};for(var p=0;p<u.tiles.length;p++){var m=u.tiles[p];if(m.properties){var g={};m.properties.forEach(function(e){g[e.name]=e.value}),f[m.id]=g}if(m.objectgroup&&((d[m.id]||(d[m.id]={})).objectgroup=m.objectgroup,m.objectgroup.objects)){var v=m.objectgroup.objects.map(function(e){return s(e)});d[m.id].objectgroup.objects=v}m.animation&&((d[m.id]||(d[m.id]={})).animation=m.animation),m.type&&((d[m.id]||(d[m.id]={})).type=m.type)}}Array.isArray(u.wangsets)&&(d=d||{},f=f||{},a(u.wangsets,d)),d&&(c.tileData=d,c.tileProperties=f)}else if(u.tileproperties&&(c.tileProperties=u.tileproperties),u.tiles)for(t in c.tileData=u.tiles,c.tileData){var y=c.tileData[t].objectgroup;if(y&&y.objects){var b=y.objects.map(function(e){return s(e)});c.tileData[t].objectgroup.objects=b}}c.updateTileData(u.imagewidth,u.imageheight),i.push(c)}else{var x=new r(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties),E=0;for(p=0;p<u.tiles.length;p++){var w=(m=u.tiles[p]).image,S=parseInt(m.id,10),T=u.firstgid+S;x.addImage(T,w),E=Math.max(S,E)}x.maxId=E,o.push(x)}l&&(l.lastgid=u.firstgid-1),l=u}return{tilesets:i,imageCollections:o}}},57880:e=>{e.exports=function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=i;if(n.name&&""!==n.name&&(r=n.name),Array.isArray(n.wangtiles)&&n.wangtiles.length>0){var s,a,o,l={},h={};if(Array.isArray(n.edgecolors))for(s=0;s<n.edgecolors.length;s++)o=1+s,""!==(a=n.edgecolors[s]).name&&(l[o]=a.name);if(Array.isArray(n.cornercolors))for(s=0;s<n.cornercolors.length;s++)o=1+s,""!==(a=n.cornercolors[s]).name&&(h[o]=a.name);if(Array.isArray(n.colors))for(s=0;s<n.colors.length;s++)a=n.colors[s],o=1+s,""!==a.name&&(l[o]=h[o]=a.name);for(var u=[l,h,l,h,l,h,l,h],c=0;c<n.wangtiles.length;c++){var d=n.wangtiles[c],f=t[d.tileid]||(t[d.tileid]={});f=f.wangid||(f.wangid={});for(var p=[],m=0;m<Math.min(u.length,d.wangid.length);m++){if(0===(a=d.wangid[m])){p.push(void 0);continue}var g=u[m][a];if(void 0!==g){p.push(g);continue}p.push(a)}f[r]=p}}}}},96761:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37277),s=i(44594),a=i(94880),o=i(72905),l=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],e.sys.events.once(s.BOOT,this.boot,this),e.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var e=this.systems.events;e.on(s.PRE_UPDATE,this.preUpdate,this),e.on(s.UPDATE,this.update,this),e.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(e){var t;return e instanceof a?(t=e,this.removeEvent(t),t.elapsed=t.startAt,t.hasDispatched=!1,t.repeatCount=-1===t.repeat||t.loop?0xe8d4a50fff:t.repeat):t=new a(e),this._pendingInsertion.push(t),t},delayedCall:function(e,t,i,n){return this.addEvent({delay:e,callback:t,args:i,callbackScope:n})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];o(this._pendingRemoval,i),o(this._pendingInsertion,i),o(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var e,t,i=this._pendingRemoval.length,n=this._pendingInsertion.length;if(0!==i||0!==n){for(e=0;e<i;e++){t=this._pendingRemoval[e];var r=this._active.indexOf(t);r>-1&&this._active.splice(r,1),t.destroy()}for(e=0;e<n;e++)t=this._pendingInsertion[e],this._active.push(t);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(e,t){if(this.now=e,!this.paused){t*=this.timeScale;for(var i=0;i<this._active.length;i++){var n=this._active[i];if(!n.paused&&(n.elapsed+=t*n.timeScale,n.elapsed>=n.delay)){var r=n.elapsed-n.delay;if(n.elapsed=n.delay,!n.hasDispatched&&n.callback&&(n.hasDispatched=!0,n.callback.apply(n.callbackScope,n.args)),n.repeatCount>0){if(n.repeatCount--,r>=n.delay)for(;r>=n.delay&&n.repeatCount>0;)n.callback&&n.callback.apply(n.callbackScope,n.args),r-=n.delay,n.repeatCount--;n.elapsed=r,n.hasDispatched=!1}else n.hasDispatched&&this._pendingRemoval.push(n)}}}},shutdown:function(){for(e=0;e<this._pendingInsertion.length;e++)this._pendingInsertion[e].destroy();for(e=0;e<this._active.length;e++)this._active[e].destroy();for(e=0;e<this._pendingRemoval.length;e++)this._pendingRemoval[e].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e,t=this.systems.events;t.off(s.PRE_UPDATE,this.preUpdate,this),t.off(s.UPDATE,this.update,this),t.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});r.register("Clock",l,"time"),e.exports=l},96120:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(39429),a=i(95540),o=i(44594),l=i(89809),h=new n({Extends:r,initialize:function(e,t){r.call(this),this.scene=e,this.systems=e.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var i=this.systems.events;i.on(o.PRE_UPDATE,this.preUpdate,this),i.on(o.UPDATE,this.update,this),i.once(o.SHUTDOWN,this.destroy,this),t&&this.add(t)},preUpdate:function(e,t){this.paused||(this.elapsed+=t*this.timeScale)},update:function(){if(!this.paused&&!this.complete){var e,t,i=this.events,n=!1,r=this.systems;for(e=0;e<i.length;e++){var s=i[e];if(!s.complete&&s.time<=this.elapsed){if(s.complete=!0,this.totalComplete++,t=s.target?s.target:this,s.if&&!s.if.call(t,s))continue;if(s.once&&(n=!0),s.set&&s.target)for(var a in s.set)s.target[a]=s.set[a];this.iteration&&s.repeat++,s.loop&&s.repeat&&s.loop.call(t),s.tween&&(s.tweenInstance=r.tweens.add(s.tween)),s.sound&&("string"==typeof s.sound?r.sound.play(s.sound):r.sound.play(s.sound.key,s.sound.config)),s.event&&this.emit(s.event,t),s.run&&s.run.call(t),s.stop&&this.stop()}}if(n)for(e=0;e<i.length;e++)i[e].complete&&i[e].once&&(i.splice(e,1),e--);this.totalComplete>=i.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(l.COMPLETE,this)}},play:function(e){return void 0===e&&(e=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,e&&this.reset(),this},pause:function(){this.paused=!0;for(var e=this.events,t=0;t<e.length;t++){var i=e[t];i.tweenInstance&&(i.tweenInstance.paused=!0)}return this},repeat:function(e){return(void 0===e||!0===e)&&(e=-1),!1===e&&(e=0),this.loop=e,this},resume:function(){this.paused=!1;for(var e=this.events,t=0;t<e.length;t++){var i=e[t];i.tweenInstance&&(i.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(e){void 0===e&&(e=!1),this.elapsed=0,e||(this.iteration=0);for(var t=this.events,i=0;i<t.length;i++){var n=t[i];n.complete=!1,e||(n.repeat=0),n.tweenInstance&&n.tweenInstance.stop()}return this.play(!1)},add:function(e){Array.isArray(e)||(e=[e]);var t=this.events,i=0;t.length>0&&(i=t[t.length-1].time);for(var n=0;n<e.length;n++){var r=e[n],s=a(r,"at",0),o=a(r,"in",null);null!==o&&(s=this.elapsed+o);var l=a(r,"from",null);null!==l&&(s=i+l),t.push({complete:!1,time:s,repeat:0,if:a(r,"if",null),run:a(r,"run",null),loop:a(r,"loop",null),event:a(r,"event",null),target:a(r,"target",null),set:a(r,"set",null),tween:a(r,"tween",null),sound:a(r,"sound",null),once:a(r,"once",!1),stop:a(r,"stop",!1)}),i=s}return this.complete=!1,this},clear:function(){for(var e=this.events,t=0;t<e.length;t++){var i=e[t];i.tweenInstance&&i.tweenInstance.stop()}return e=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var e=this.systems.events;e.off(o.PRE_UPDATE,this.preUpdate,this),e.off(o.UPDATE,this.update,this),e.off(o.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});s.register("timeline",function(e){return new h(this.scene,e)}),e.exports=h},94880:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=new n({initialize:function(e){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(e)},reset:function(e){if(this.delay=r(e,"delay",0),this.repeat=r(e,"repeat",0),this.loop=r(e,"loop",!1),this.callback=r(e,"callback",void 0),this.callbackScope=r(e,"callbackScope",this),this.args=r(e,"args",[]),this.timeScale=r(e,"timeScale",1),this.startAt=r(e,"startAt",0),this.paused=r(e,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?0xe8d4a50fff:this.repeat,0===this.delay&&(this.repeat>0||this.loop))throw Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(!(this.repeat>0))return this.getProgress();var e=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/e},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return .001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return .001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return .001*this.getOverallRemaining()},remove:function(e){void 0===e&&(e=!1),this.elapsed=this.delay,this.hasDispatched=!e,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});e.exports=s},35945:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},89809:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={COMPLETE:i(35945)}},90291:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(72905),r=i(83419),s=i(43491),a=i(88032),o=i(37277),l=i(44594),h=i(93109),u=i(86081),c=i(8357),d=i(43960),f=i(26012),p=new r({initialize:function(e){this.scene=e,this.events=e.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(l.UPDATE,this.update,this),this.events.once(l.SHUTDOWN,this.shutdown,this)},create:function(e){Array.isArray(e)||(e=[e]);for(var t=[],i=0;i<e.length;i++){var n=e[i];n instanceof u||n instanceof d?t.push(n):Array.isArray(n.tweens)?t.push(f(this,n)):t.push(c(this,n))}return 1===t.length?t[0]:t},add:function(e){var t=e,i=this.tweens;return t instanceof u||t instanceof d||(t=Array.isArray(t.tweens)?f(this,t):c(this,t)),i.push(t.reset()),t},addMultiple:function(e){for(var t,i=[],n=this.tweens,r=0;r<e.length;r++)(t=e[r])instanceof u||t instanceof d||(t=Array.isArray(t.tweens)?f(this,t):c(this,t)),n.push(t.reset()),i.push(t);return i},chain:function(e){var t=f(this,e);return this.tweens.push(t.init()),t},getChainedTweens:function(e){return e.getChainedTweens()},has:function(e){return this.tweens.indexOf(e)>-1},existing:function(e){return this.has(e)||this.tweens.push(e.reset()),this},addCounter:function(e){var t=a(this,e);return this.tweens.push(t.reset()),t},stagger:function(e,t){return h(e,t)},setLagSmooth:function(e,t){return void 0===e&&(e=1/1e-8),void 0===t&&(t=0),this.maxLag=e,this.lagSkip=Math.min(t,this.maxLag),this},setFps:function(e){return void 0===e&&(e=240),this.gap=1e3/e,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(e){var t=Date.now()-this.prevTime;t>this.maxLag&&(this.startTime+=t-this.lagSkip),this.prevTime+=t;var i=this.prevTime-this.startTime,n=i-this.nextTime,r=i-1e3*this.time;return n>0||e?(i/=1e3,this.time=i,this.nextTime+=n+(n>=this.gap?4:this.gap-n)):r=0,r},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(e){void 0===e&&(e=!1);var t,i,n=this.getDelta(e);if(!(n<=0)){this.processing=!0;var r=[],s=this.tweens;for(t=0;t<s.length;t++)(i=s[t]).update(n)&&r.push(i);var a=r.length;if(a&&s.length>0){for(t=0;t<a;t++){i=r[t];var o=s.indexOf(i);o>-1&&(i.isPendingRemove()||i.isDestroyed())&&(s.splice(o,1),i.destroy())}r.length=0}this.processing=!1}},remove:function(e){return this.processing?e.setPendingRemoveState():(n(this.tweens,e),e.setRemovedState()),this},reset:function(e){return this.existing(e),e.seek(),e.setActiveState(),this},makeActive:function(e){return this.existing(e),e.setActiveState(),this},each:function(e,t){var i,n=[null];for(i=1;i<arguments.length;i++)n.push(arguments[i]);return this.tweens.forEach(function(i){n[0]=i,e.apply(t,n)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(e){for(var t=[],i=this.tweens,n=(e=Array.isArray(e)?s(e):[e]).length,r=0;r<i.length;r++)for(var a=i[r],o=0;o<n;o++)!a.isDestroyed()&&a.hasTarget(e[o])&&t.push(a);return t},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(e){return this.timeScale=e,this},isTweening:function(e){for(var t,i=this.tweens,n=0;n<i.length;n++)if((t=i[n]).isPlaying()&&t.hasTarget(e))return!0;return!1},killAll:function(){for(var e=this.processing?this.getTweens():this.tweens,t=0;t<e.length;t++)e[t].destroy();return this.processing||(e.length=0),this},killTweensOf:function(e){for(var t=this.getTweensOf(e),i=0;i<t.length;i++)t[i].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(l.UPDATE,this.update,this),this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.events=null}});o.register("TweenManager",p,"tweens"),e.exports=p},57355:e=>{e.exports=function(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}},6113:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62640),r=i(35355);e.exports=function(e,t){var i=n.Power0;if("string"==typeof e){if(n.hasOwnProperty(e))i=n[e];else{var s="";if(e.indexOf(".")){var a=(s=e.substring(e.indexOf(".")+1)).toLowerCase();"in"===a?s="easeIn":"out"===a?s="easeOut":"inout"===a&&(s="easeInOut")}e=r(e.substring(0,e.indexOf(".")+1)+s),n.hasOwnProperty(e)&&(i=n[e])}}else"function"==typeof e&&(i=e);if(!t)return i;var o=t.slice(0);return o.unshift(0),function(e){return o[0]=e,i.apply(this,o)}}},91389:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(89318),r=i(77259),s={bezier:n,catmull:r,catmullrom:r,linear:i(28392)};e.exports=function(e){if(null===e)return null;var t=s.linear;return"string"==typeof e?s.hasOwnProperty(e)&&(t=s[e]):"function"==typeof e&&(t=e),t}},55292:e=>{e.exports=function(e,t,i){return e.hasOwnProperty(t)?"function"==typeof e[t]?function(i,n,r,s,a,o){return e[t](i,n,r,s,a,o)}:function(){return e[t]}:"function"==typeof i?i:function(){return i}}},82985:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81076);e.exports=function(e){var t,i=[];if(e.hasOwnProperty("props"))for(t in e.props)"_"!==t.substring(0,1)&&i.push({key:t,value:e.props[t]});else for(t in e)-1===n.indexOf(t)&&"_"!==t.substring(0,1)&&i.push({key:t,value:e[t]});return i}},62329:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154);e.exports=function(e){var t=n(e,"targets",null);return null===t||("function"==typeof t&&(t=t.call()),Array.isArray(t)||(t=[t])),t}},17777:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30976),r=i(99472);function s(e){return!!e.getActive&&"function"==typeof e.getActive}function a(e){return!!e.getStart&&"function"==typeof e.getStart}function o(e){return!!e.getEnd&&"function"==typeof e.getEnd}var l=function(e,t){var i,h=function(e,t,i){return i},u=function(e,t,i){return i},c=null,d=typeof t;if("number"===d)h=function(){return t};else if(Array.isArray(t))u=function(){return t[0]},h=function(){return t[t.length-1]};else if("string"===d){var f=t.toLowerCase(),p="random"===f.substring(0,6),m="int"===f.substring(0,3);if(p||m){var g=f.indexOf("("),v=f.indexOf(")"),y=f.indexOf(",");if(g&&v&&y){var b=parseFloat(f.substring(g+1,y)),x=parseFloat(f.substring(y+1,v));h=p?function(){return r(b,x)}:function(){return n(b,x)}}else throw Error("invalid random() format")}else{f=f[0];var E=parseFloat(t.substr(2));switch(f){case"+":h=function(e,t,i){return i+E};break;case"-":h=function(e,t,i){return i-E};break;case"*":h=function(e,t,i){return i*E};break;case"/":h=function(e,t,i){return i/E};break;default:h=function(){return parseFloat(t)}}}}else if("function"===d)h=t;else if("object"===d){if(a(t)||o(t)||s(t))s(t)&&(c=t.getActive),o(t)&&(h=t.getEnd),a(t)&&(u=t.getStart);else if(t.hasOwnProperty("value"))i=l(e,t.value);else{var w=t.hasOwnProperty("to"),S=t.hasOwnProperty("from"),T=t.hasOwnProperty("start");if(w&&(S||T)){if(i=l(e,t.to),T){var A=l(e,t.start);i.getActive=A.getEnd}if(S){var _=l(e,t.from);i.getStart=_.getEnd}}}}return i||(i={getActive:c,getEnd:h,getStart:u}),i};e.exports=l},88032:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70402),r=i(69902),s=i(23568),a=i(57355),o=i(6113),l=i(55292),h=i(35154),u=i(17777),c=i(269),d=i(86081);e.exports=function(e,t,i){if(t instanceof d)return t.parent=e,t;i=void 0===i?r:c(r,i);var f=h(t,"from",0),p=h(t,"to",1),m=h(t,"delay",i.delay),g=h(t,"easeParams",i.easeParams),v=h(t,"ease",i.ease),y=u("value",p),b=new d(e,[{value:f}]),x=b.add(0,"value",y.getEnd,y.getStart,y.getActive,o(h(t,"ease",v),h(t,"easeParams",g)),l(t,"delay",m),h(t,"duration",i.duration),a(t,"yoyo",i.yoyo),h(t,"hold",i.hold),h(t,"repeat",i.repeat),h(t,"repeatDelay",i.repeatDelay),!1,!1);x.start=f,x.current=f,b.completeDelay=s(t,"completeDelay",0),b.loop=Math.round(s(t,"loop",0)),b.loopDelay=Math.round(s(t,"loopDelay",0)),b.paused=a(t,"paused",!1),b.persist=a(t,"persist",!1),b.callbackScope=h(t,"callbackScope",b);for(var E=n.TYPES,w=0;w<E.length;w++){var S=E[w],T=h(t,S,!1);if(T){var A=h(t,S+"Params",[]);b.setCallback(S,T,A)}}return b}},93109:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6113),r=i(35154),s=i(36383);e.exports=function(e,t){void 0===t&&(t={});var i=r(t,"start",0),a=r(t,"ease",null),o=r(t,"grid",null),l=r(t,"from",0),h="first"===l,u="center"===l,c="last"===l,d="number"==typeof l,f=Array.isArray(e),p=f?parseFloat(e[0]):parseFloat(e),m=f?parseFloat(e[1]):0,g=Math.max(p,m);if(f&&(i+=p),o){var v=o[0],y=o[1],b=0,x=0,E=0,w=0,S=[];c?(b=v-1,x=y-1):d?(b=l%v,x=Math.floor(l/v)):u&&(b=(v-1)/2,x=(y-1)/2);for(var T=s.MIN_SAFE_INTEGER,A=0;A<y;A++){S[A]=[];for(var _=0;_<v;_++){var C=Math.sqrt((E=b-_)*E+(w=x-A)*w);C>T&&(T=C),S[A][_]=C}}}var I=a?n(a):null;return o?function(e,t,n,r){var s,a=0,o=r%v,l=Math.floor(r/v);if(o>=0&&o<v&&l>=0&&l<y&&(a=S[l][o]),f){var h=m-p;s=I?a/T*h*I(a/T):a/T*h}else s=I?a*p*I(a/T):a*p;return s+i}:function(e,t,n,r,s){var a,o,v;return s--,h?a=r:u?a=Math.abs(s/2-r):c?a=s-r:d&&(a=Math.abs(l-r)),f?(v=u?(m-p)/s*(2*a):(m-p)/s*a,o=I?v*I(a/s):v):o=I?s*g*I(a/s):a*p,o+i}}},8357:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70402),r=i(69902),s=i(23568),a=i(57355),o=i(6113),l=i(91389),h=i(55292),u=i(82985),c=i(62329),d=i(35154),f=i(17777),p=i(269),m=i(86081);e.exports=function(e,t,i){if(t instanceof m)return t.parent=e,t;i=void 0===i?r:p(r,i);var g=c(t);!g&&i.targets&&(g=i.targets);for(var v=u(t),y=d(t,"delay",i.delay),b=d(t,"duration",i.duration),x=d(t,"easeParams",i.easeParams),E=d(t,"ease",i.ease),w=d(t,"hold",i.hold),S=d(t,"repeat",i.repeat),T=d(t,"repeatDelay",i.repeatDelay),A=a(t,"yoyo",i.yoyo),_=a(t,"flipX",i.flipX),C=a(t,"flipY",i.flipY),I=d(t,"interpolation",i.interpolation),P=function(e,t,i,n){if("texture"===i){var r=n,s=void 0;Array.isArray(n)?(r=n[0],s=n[1]):n.hasOwnProperty("value")?(r=n.value,Array.isArray(n.value)?(r=n.value[0],s=n.value[1]):"string"==typeof n.value&&(r=n.value)):"string"==typeof n&&(r=n),e.addFrame(t,r,s,h(n,"delay",y),d(n,"duration",b),d(n,"hold",w),d(n,"repeat",S),d(n,"repeatDelay",T),a(n,"flipX",_),a(n,"flipY",C))}else{var u=f(i,n),c=l(d(n,"interpolation",I));e.add(t,i,u.getEnd,u.getStart,u.getActive,o(d(n,"ease",E),d(n,"easeParams",x)),h(n,"delay",y),d(n,"duration",b),a(n,"yoyo",A),d(n,"hold",w),d(n,"repeat",S),d(n,"repeatDelay",T),a(n,"flipX",_),a(n,"flipY",C),c,c?n:null)}},R=new m(e,g),O=0;O<v.length;O++)for(var M=v[O].key,L=v[O].value,D=0;D<g.length;D++)"scale"!==M||g[D].hasOwnProperty("scale")?P(R,D,M,L):(P(R,D,"scaleX",L),P(R,D,"scaleY",L));R.completeDelay=s(t,"completeDelay",0),R.loop=Math.round(s(t,"loop",0)),R.loopDelay=Math.round(s(t,"loopDelay",0)),R.paused=a(t,"paused",!1),R.persist=a(t,"persist",!1),R.callbackScope=d(t,"callbackScope",R);for(var k=n.TYPES,N=0;N<k.length;N++){var F=k[N],B=d(t,F,!1);if(B){var U=d(t,F+"Params",[]);R.setCallback(F,B,U)}}return R}},26012:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70402),r=i(23568),s=i(57355),a=i(62329),o=i(35154),l=i(8357),h=i(43960);e.exports=function(e,t){if(t instanceof h)return t.parent=e,t;var i,u=new h(e);u.startDelay=o(t,"delay",0),u.completeDelay=r(t,"completeDelay",0),u.loop=Math.round(r(t,"loop",o(t,"repeat",0))),u.loopDelay=Math.round(r(t,"loopDelay",o(t,"repeatDelay",0))),u.paused=s(t,"paused",!1),u.persist=s(t,"persist",!1),u.callbackScope=o(t,"callbackScope",u);var c=n.TYPES;for(i=0;i<c.length;i++){var d=c[i],f=o(t,d,!1);if(f){var p=o(t,d+"Params",[]);u.setCallback(d,f,p)}}var m=o(t,"tweens",null);if(Array.isArray(m)){var g=[],v=a(t),y=void 0;for(v&&(y={targets:v}),i=0;i<m.length;i++)g.push(l(u,m[i],y));u.add(g)}return u}},30231:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="active"},98540:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},67233:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="loop"},2859:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},98336:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="repeat"},25764:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},32193:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},84371:e=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stop"},70766:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="update"},55659:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="yoyo"},842:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};e.exports=n},70402:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(842),a=i(86353),o=new n({Extends:r,initialize:function(e){r.call(this),this.parent=e,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(s.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(s.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(s.TWEEN_COMPLETE,"onComplete")},complete:function(e){return void 0===e&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return void 0===e&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return!this.parent||this.isRemoved()||this.isPendingRemove()||this.isDestroyed()||(this.dispatchEvent(s.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(s.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,t,i){return void 0===i&&(i=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:t,params:i}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],e.exports=o},95042:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(842),s=i(86353),a=new n({initialize:function(e,t,i,n,r,s,a,o,l,h){this.tween=e,this.targetIndex=t,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=i,this.yoyo=r,this.hold=s,this.repeat=a,this.repeatDelay=o,this.repeatCounter=0,this.flipX=l,this.flipY=h,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(e){void 0===e&&(e=this.current),this.tween.targets[this.targetIndex][this.key]=e},setCreatedState:function(){this.state=s.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=s.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=s.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=s.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=s.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=s.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=s.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=s.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===s.CREATED},isDelayed:function(){return this.state===s.DELAY},isPendingRender:function(){return this.state===s.PENDING_RENDER},isPlayingForward:function(){return this.state===s.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===s.PLAYING_BACKWARD},isHolding:function(){return this.state===s.HOLD_DELAY},isRepeating:function(){return this.state===s.REPEAT_DELAY},isComplete:function(){return this.state===s.COMPLETE},setStateFromEnd:function(e){this.yoyo?this.onRepeat(e,!0,!0):this.repeatCounter>0?this.onRepeat(e,!0,!1):this.setCompleteState()},setStateFromStart:function(e){this.repeatCounter>0?this.onRepeat(e,!1):this.setCompleteState()},reset:function(){var e=this.tween,t=e.totalTargets,i=this.targetIndex,n=e.targets[i],r=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(n,r,0,i,t,e),this.repeatCounter=-1===this.repeat?s.MAX:this.repeat,this.setPendingRenderState();var a=this.duration+this.hold;this.yoyo&&(a+=this.duration);var o=a+this.repeatDelay;this.totalDuration=this.delay+a,-1===this.repeat?(this.totalDuration+=o*s.MAX,e.isInfinite=!0):this.repeat>0&&(this.totalDuration+=o*this.repeat),this.totalDuration>e.duration&&(e.duration=this.totalDuration),this.delay<e.startDelay&&(e.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(e,t,i){var n=this.tween,s=n.totalTargets,a=this.targetIndex,o=n.targets[a],l=this.key,h="texture"!==l;if(this.elapsed=e,this.progress=e/this.duration,this.flipX&&o.toggleFlipX(),this.flipY&&o.toggleFlipY(),h&&(t||i)&&(this.start=this.getStartValue(o,l,this.start,a,s,n)),i){this.setPlayingBackwardState(),this.dispatchEvent(r.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,h&&(this.end=this.getEndValue(o,l,this.start,a,s,n)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-e,h&&(this.current=this.start,o[l]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});e.exports=a},69902:e=>{e.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70402),r=i(83419),s=i(842),a=i(44603),o=i(39429),l=i(36383),h=i(86353),u=i(48177),c=i(42220),d=new r({Extends:n,initialize:function(e,t){n.call(this,e),this.targets=t,this.totalTargets=t.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(e,t,i,n,r,s,a,o,l,h,c,d,f,p,m,g){var v=new u(this,e,t,i,n,r,s,a,o,l,h,c,d,f,p,m,g);return this.totalData=this.data.push(v),v},addFrame:function(e,t,i,n,r,s,a,o,l,h){var u=new c(this,e,t,i,n,r,s,a,o,l,h);return this.totalData=this.data.push(u),u},getValue:function(e){void 0===e&&(e=0);var t=null;return this.data&&(t=this.data[e].current),t},hasTarget:function(e){return this.targets&&-1!==this.targets.indexOf(e)},updateTo:function(e,t,i){if(void 0===i&&(i=!1),"texture"!==e)for(var n=0;n<this.totalData;n++){var r=this.data[n];r.key===e&&(r.isPlayingForward()||r.isPlayingBackward())&&(r.end=t,i&&(r.start=r.current))}return this},restart:function(){switch(this.state){case h.REMOVED:case h.FINISHED:this.seek(),this.parent.makeActive(this);break;case h.PENDING:case h.PENDING_REMOVE:this.parent.reset(this);break;case h.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,n.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?console.warn("Cannot play destroyed Tween",this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState()),this},seek:function(e,t,i){if(void 0===e&&(e=0),void 0===t&&(t=16.6),void 0===i&&(i=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;i||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive");var n=this.paused;if(this.paused=!1,e>0){for(var r=Math.floor(e/t),a=e-r*t,o=0;o<r;o++)this.update(t);a>0&&this.update(a)}return this.paused=n,this.isSeeking=!1,this},initTweenData:function(e){void 0===e&&(e=!1),this.duration=0,this.startDelay=l.MAX_SAFE_INTEGER;for(var t=this.data,i=0;i<this.totalData;i++)t[i].reset(e);this.duration=Math.max(this.duration,.01);var n=this.duration,r=this.completeDelay,s=this.loopCounter,a=this.loopDelay;s>0?this.totalDuration=n+r+(n+a)*s:this.totalDuration=n+r},reset:function(e){return void 0===e&&(e=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=h.MAX),e||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")),this},update:function(e){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(e*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(e),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(e),!1;!this.hasStarted&&(this.startDelay-=e,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),e=0));var t=!1;if(this.isActive())for(var i=this.data,n=0;n<this.totalData;n++)i[n].update(e)&&(t=!0);this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),t||this.nextState();var r=this.isPendingRemove();return r&&this.persist&&(this.setFinishedState(),r=!1),r},forward:function(e){return this.update(e),this},rewind:function(e){return this.update(-e),this},dispatchEvent:function(e,t){if(!this.isSeeking){this.emit(e,this,this.targets);var i=this.callbacks[t];i&&i.func.apply(this.callbackScope,[this,this.targets].concat(i.params))}},destroy:function(){n.prototype.destroy.call(this),this.targets=null}});o.register("tween",function(e){return this.scene.sys.tweens.add(e)}),a.register("tween",function(e){return this.scene.sys.tweens.create(e)}),e.exports=d},43960:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(72905),r=i(70402),s=i(83419),a=i(842),o=i(44603),l=i(39429),h=i(86353),u=new s({Extends:r,initialize:function(e){r.call(this,e),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?h.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(e){var t=this.parent.create(e);Array.isArray(t)||(t=[t]);for(var i=this.data,n=0;n<t.length;n++){var r=t[n];r.parent=this,i.push(r.reset())}return this.totalData=i.length,this},remove:function(e){return n(this.data,e),e.setRemovedState(),e===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(e){for(var t=this.data,i=0;i<this.totalData;i++)if(t[i].hasTarget(e))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(e){return e.seek(),e.setActiveState(),this},makeActive:function(e){return e.reset(),e.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()?console.warn("Cannot play destroyed TweenChain",this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState()),this},resetTweens:function(){for(var e=this.data,t=this.totalData,i=0;i<t;i++)e[i].reset(!1);this.setCurrentTween(0)},update:function(e){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;e*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(e):this.isCompleteDelayed()?this.updateCompleteDelay(e):this.isStartDelayed()&&(e=this.updateStartCountdown(e));var t=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(e)&&this.nextTween()&&this.nextState(),(t=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),t=!1)),t},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(e){this.currentIndex=e,this.currentTween=this.data[e],this.currentTween.setActiveState()},dispatchEvent:function(e,t){this.emit(e,this);var i=this.callbacks[t];i&&i.func.apply(this.callbackScope,[this].concat(i.params))},destroy:function(){r.prototype.destroy.call(this),this.currentTween=null}});l.register("tweenchain",function(e){return this.scene.sys.tweens.chain(e)}),o.register("tweenchain",function(e){return this.scene.sys.tweens.create(e)}),e.exports=u},48177:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95042),r=i(45319),s=i(83419),a=i(842),o=new s({Extends:n,initialize:function(e,t,i,r,s,a,o,l,h,u,c,d,f,p,m,g,v){n.call(this,e,t,l,h,u,c,d,f,p,m),this.key=i,this.getActiveValue=a,this.getEndValue=r,this.getStartValue=s,this.ease=o,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=g,this.interpolationData=v},reset:function(e){n.prototype.reset.call(this);var t=this.tween.targets[this.targetIndex],i=this.key;e&&(t[i]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(t[i]=this.getActiveValue(t,i,0))},update:function(e){var t=this.tween,i=t.totalTargets,n=this.targetIndex,s=t.targets[n],o=this.key;if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(s,o,s[o],n,i,t),this.end=this.getEndValue(s,o,this.start,n,i,t),this.current=this.start,s[o]=this.start,this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),h=this.isPlayingBackward();if(l||h){var u=this.elapsed,c=this.duration,d=0,f=!1;(u+=e)>=c?(d=u-c,u=c,f=!0):u<0&&(u=0);var p=r(u/c,0,1);this.elapsed=u,this.progress=p,this.previous=this.current,l||(p=1-p);var m=this.ease(p);this.interpolation?this.current=this.interpolation(this.interpolationData,m):this.current=this.start+(this.end-this.start)*m,s[o]=this.current,f&&(l?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(d):this.setStateFromStart(d)),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,t){var i=this.tween;if(!i.isSeeking){var n=i.targets[this.targetIndex],r=this.key,s=this.current,a=this.previous;i.emit(e,i,r,n,s,a);var o=i.callbacks[t];o&&o.func.apply(i.callbackScope,[i,n,r,s,a].concat(o.params))}},destroy:function(){n.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});e.exports=o},42220:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95042),r=i(45319),s=i(83419),a=i(842),o=new s({Extends:n,initialize:function(e,t,i,r,s,a,o,l,h,u,c){n.call(this,e,t,s,a,!1,o,l,h,u,c),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=r,this.yoyo=0!==l},reset:function(e){n.prototype.reset.call(this);var t=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=t.texture.key,this.startFrame=t.frame.name),e&&t.setTexture(this.startTexture,this.startFrame)},update:function(e){var t=this.tween,i=this.targetIndex,n=t.targets[i];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var s=this.isPlayingForward(),o=this.isPlayingBackward();if(s||o){var l=this.elapsed,h=this.duration,u=0,c=!1;(l+=e)>=h?(u=l-h,l=h,c=!0):l<0&&(l=0);var d=r(l/h,0,1);this.elapsed=l,this.progress=d,c&&(s?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(u)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(u))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,t){var i=this.tween;if(!i.isSeeking){var n=i.targets[this.targetIndex],r=this.key;i.emit(e,i,r,n);var s=i.callbacks[t];s&&s.func.apply(i.callbackScope,[i,n,r].concat(s.params))}},destroy:function(){n.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});e.exports=o},86353:e=>{e.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:0xe8d4a50fff}},83419:e=>{function t(e,t,i,r){for(var s in t)if(t.hasOwnProperty(s)){var a=function(e,t,i){var n,r=i?e[t]:Object.getOwnPropertyDescriptor(e,t);return!i&&r.value&&"object"==typeof r.value&&(r=r.value),!!r&&(!!(n=r).get&&"function"==typeof n.get||!!n.set&&"function"==typeof n.set)&&(void 0===r.enumerable&&(r.enumerable=!0),void 0===r.configurable&&(r.configurable=!0),r)}(t,s,i);if(!1!==a){if(function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}((r||e).prototype,s)){if(n.ignoreFinals)continue;throw Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,s,a)}else e.prototype[s]=t[s]}}function i(e,i){if(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)t(e,i[n].prototype||i[n])}}function n(e){if(e||(e={}),e.initialize){if("function"!=typeof e.initialize)throw Error("initialize must be a function");n=e.initialize,delete e.initialize}else if(e.Extends){var n,r,s=e.Extends;n=function(){s.apply(this,arguments)}}else n=function(){};e.Extends?(n.prototype=Object.create(e.Extends.prototype),n.prototype.constructor=n,r=e.Extends,delete e.Extends):n.prototype.constructor=n;var a=null;return e.Mixins&&(a=e.Mixins,delete e.Mixins),i(n,a),t(n,e,!0,r),n}n.extend=t,n.mixin=i,n.ignoreFinals=!1,e.exports=n},29747:e=>{e.exports=function(){}},20242:e=>{e.exports=function(){return null}},71146:e=>{e.exports=function(e,t,i,n,r){if(void 0===r&&(r=e),i>0){var s=i-e.length;if(s<=0)return null}if(!Array.isArray(t))return -1===e.indexOf(t)?(e.push(t),n&&n.call(r,t),t):null;for(var a=t.length-1;a>=0;)-1!==e.indexOf(t[a])&&t.splice(a,1),a--;if(0===(a=t.length))return null;i>0&&a>s&&(t.splice(s),a=s);for(var o=0;o<a;o++){var l=t[o];e.push(l),n&&n.call(r,l)}return t}},51067:e=>{e.exports=function(e,t,i,n,r,s){if(void 0===i&&(i=0),void 0===s&&(s=e),n>0){var a=n-e.length;if(a<=0)return null}if(!Array.isArray(t))return -1===e.indexOf(t)?(e.splice(i,0,t),r&&r.call(s,t),t):null;for(var o=t.length-1;o>=0;)-1!==e.indexOf(t[o])&&t.pop(),o--;if(0===(o=t.length))return null;n>0&&o>a&&(t.splice(a),o=a);for(var l=o-1;l>=0;l--){var h=t[l];e.splice(i,0,h),r&&r.call(s,h)}return t}},66905:e=>{e.exports=function(e,t){var i=e.indexOf(t);return -1!==i&&i<e.length&&(e.splice(i,1),e.push(t)),t}},21612:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){void 0===r&&(r=0),void 0===s&&(s=e.length);var a=0;if(n(e,r,s))for(var o=r;o<s;o++)e[o][t]===i&&a++;return a}},95428:e=>{e.exports=function(e,t,i){var n,r=[null];for(n=3;n<arguments.length;n++)r.push(arguments[n]);for(n=0;n<e.length;n++)r[0]=e[n],t.apply(i,r);return e}},36914:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=e.length),n(e,r,s)){var a,o=[null];for(a=5;a<arguments.length;a++)o.push(arguments[a]);for(a=r;a<s;a++)o[0]=e[a],t.apply(i,o)}return e}},81957:e=>{e.exports=function(e,t,i){if(!t.length)return NaN;if(1===t.length)return t[0];var n,r,s=1;if(i){if(e<t[0][i])return t[0];for(;t[s][i]<e;)s++}else for(;t[s]<e;)s++;return(s>t.length&&(s=t.length),i)?(n=t[s-1][i],(r=t[s][i])-e<=e-n?t[s]:t[s-1]):(n=t[s-1],(r=t[s])-e<=e-n?r:n)}},43491:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,i){void 0===i&&(i=[]);for(var n=0;n<e.length;n++)Array.isArray(e[n])?t(e[n],i):i.push(e[n]);return i};e.exports=t},46710:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){void 0===r&&(r=0),void 0===s&&(s=e.length);var a=[];if(n(e,r,s))for(var o=r;o<s;o++){var l=e[o];(!t||t&&void 0===i&&l.hasOwnProperty(t)||t&&void 0!==i&&l[t]===i)&&a.push(l)}return a}},58731:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=e.length),n(e,r,s))for(var a=r;a<s;a++){var o=e[a];if(!t||t&&void 0===i&&o.hasOwnProperty(t)||t&&void 0!==i&&o[t]===i)return o}return null}},26546:e=>{e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length);var n=t+Math.floor(Math.random()*i);return void 0===e[n]?null:e[n]}},85835:e=>{e.exports=function(e,t,i){if(t===i)return e;var n=e.indexOf(t),r=e.indexOf(i);if(n<0||r<0)throw Error("Supplied items must be elements of the same array");return n>r||(e.splice(n,1),r=e.indexOf(i),e.splice(r+1,0,t)),e}},83371:e=>{e.exports=function(e,t,i){if(t===i)return e;var n=e.indexOf(t),r=e.indexOf(i);if(n<0||r<0)throw Error("Supplied items must be elements of the same array");return n<r||(e.splice(n,1),0===r?e.unshift(t):e.splice(r,0,t)),e}},70864:e=>{e.exports=function(e,t){var i=e.indexOf(t);if(i>0){var n=e[i-1],r=e.indexOf(n);e[i]=n,e[r]=t}return e}},69693:e=>{e.exports=function(e,t,i){var n=e.indexOf(t);if(-1===n||i<0||i>=e.length)throw Error("Supplied index out of bounds");return n!==i&&(e.splice(n,1),e.splice(i,0,t)),t}},40853:e=>{e.exports=function(e,t){var i=e.indexOf(t);if(-1!==i&&i<e.length-1){var n=e[i+1],r=e.indexOf(n);e[i]=n,e[r]=t}return e}},20283:e=>{e.exports=function(e,t,i,n){var r,s=[],a=!1;if((i||n)&&(a=!0,i||(i=""),n||(n="")),t<e)for(r=e;r>=t;r--)a?s.push(i+r.toString()+n):s.push(r);else for(r=e;r<=t;r++)a?s.push(i+r.toString()+n):s.push(r);return s}},593:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2284);e.exports=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=null),void 0===i&&(i=1),null===t&&(t=e,e=0);for(var r=[],s=Math.max(n((t-e)/(i||1)),0),a=0;a<s;a++)r.push(e),e+=i;return r}},43886:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function i(e,t){return e<t?-1:e>t?1:0}var n=function(e,r,s,a,o){for(void 0===s&&(s=0),void 0===a&&(a=e.length-1),void 0===o&&(o=i);a>s;){if(a-s>600){var l=a-s+1,h=r-s+1,u=Math.log(l),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(l-c)/l)*(h-l/2<0?-1:1),f=Math.max(s,Math.floor(r-h*c/l+d)),p=Math.min(a,Math.floor(r+(l-h)*c/l+d));n(e,r,f,p,o)}var m=e[r],g=s,v=a;for(t(e,s,r),o(e[a],m)>0&&t(e,s,a);g<v;){for(t(e,g,v),g++,v--;0>o(e[g],m);)g++;for(;o(e[v],m)>0;)v--}0===o(e[s],m)?t(e,s,v):t(e,++v,a),v<=r&&(s=v+1),r<=v&&(a=v-1)}};e.exports=n},88492:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154),r=i(33680),s=function(e,t,i){for(var n=[],r=0;r<e.length;r++)for(var s=0;s<t.length;s++)for(var a=0;a<i;a++)n.push({a:e[r],b:t[s]});return n};e.exports=function(e,t,i){var a=n(i,"max",0),o=n(i,"qty",1),l=n(i,"random",!1),h=n(i,"randomB",!1),u=n(i,"repeat",0),c=n(i,"yoyo",!1),d=[];if(h&&r(t),-1===u){if(0===a)u=0;else{var f=e.length*t.length*o;c&&(f*=2),u=Math.ceil(a/f)}}for(var p=0;p<=u;p++){var m=s(e,t,o);l&&r(m),d=d.concat(m),c&&(m.reverse(),d=d.concat(m))}return a&&d.splice(a),d}},72905:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19133);e.exports=function(e,t,i,r){if(void 0===r&&(r=e),!Array.isArray(t))return -1!==(s=e.indexOf(t))?(n(e,s),i&&i.call(r,t),t):null;for(var s,a=t.length-1,o=[];a>=0;){var l=t[a];-1!==(s=e.indexOf(l))&&(n(e,s),o.push(l),i&&i.call(r,l)),a--}return o}},60248:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19133);e.exports=function(e,t,i,r){if(void 0===r&&(r=e),t<0||t>e.length-1)throw Error("Index out of bounds");var s=n(e,t);return i&&i.call(r,s),s}},81409:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){if(void 0===t&&(t=0),void 0===i&&(i=e.length),void 0===s&&(s=e),!n(e,t,i))return[];var a=i-t,o=e.splice(t,a);if(r)for(var l=0;l<o.length;l++){var h=o[l];r.call(s,h)}return o}},31856:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19133);e.exports=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=e.length),n(e,t+Math.floor(Math.random()*i))}},42169:e=>{e.exports=function(e,t,i){var n=e.indexOf(t),r=e.indexOf(i);return -1!==n&&-1===r&&(e[n]=i,!0)}},86003:e=>{e.exports=function(e,t){void 0===t&&(t=1);for(var i=null,n=0;n<t;n++)i=e.shift(),e.push(i);return i}},49498:e=>{e.exports=function(e,t){void 0===t&&(t=1);for(var i=null,n=0;n<t;n++)i=e.pop(),e.unshift(i);return i}},82011:e=>{e.exports=function(e,t,i,n){var r=e.length;if(!(t<0)&&!(t>r)&&!(t>=i)&&!(i>r))return!0;if(n)throw Error("Range Error: Values outside acceptable range");return!1}},89545:e=>{e.exports=function(e,t){var i=e.indexOf(t);return -1!==i&&i>0&&(e.splice(i,1),e.unshift(t)),t}},17810:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=e.length),n(e,r,s))for(var a=r;a<s;a++){var o=e[a];o.hasOwnProperty(t)&&(o[t]=i)}return e}},33680:e=>{e.exports=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}return e}},90126:e=>{e.exports=function(e){var t=/\D/g;return e.sort(function(e,i){return parseInt(e.replace(t,""),10)-parseInt(i.replace(t,""),10)}),e}},19133:e=>{e.exports=function(e,t){if(!(t>=e.length)){for(var i=e.length-1,n=e[t],r=t;r<i;r++)e[r]=e[r+1];return e.length=i,n}}},19186:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82264);function r(e,t){return String(e).localeCompare(t)}function s(e,t,i,n){var r,s,a,o,l,h=e.length,u=0,c=2*i;for(r=0;r<h;r+=c)for(a=(s=r+i)+i,s>h&&(s=h),a>h&&(a=h),o=r,l=s;;)if(o<s&&l<a)0>=t(e[o],e[l])?n[u++]=e[o++]:n[u++]=e[l++];else if(o<s)n[u++]=e[o++];else if(l<a)n[u++]=e[l++];else break}e.exports=function(e,t){if(void 0===t&&(t=r),!e||e.length<2)return e;if(n.features.stableSort)return e.sort(t);var i=function(e,t){var i=e.length;if(i<=1)return e;for(var n=Array(i),r=1;r<i;r*=2){s(e,t,r,n);var a=e;e=n,n=a}return e}(e,t);return i!==e&&s(i,null,e.length,e),e}},25630:e=>{e.exports=function(e,t,i){if(t===i)return e;var n=e.indexOf(t),r=e.indexOf(i);if(n<0||r<0)throw Error("Supplied items must be elements of the same array");return e[n]=i,e[r]=t,e}},37105:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:e=>{e.exports=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var t=e[0].length,i=1;i<e.length;i++)if(e[i].length!==t)return!1;return!0}},63362:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41836),r=i(86922);e.exports=function(e){var t="";if(!r(e))return t;for(var i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++){var a=e[i][s].toString();"undefined"!==a?t+=n(a,2):t+="?",s<e[i].length-1&&(t+=" |")}if(i<e.length-1){t+="\n";for(var o=0;o<e[i].length;o++)t+="---",o<e[i].length-1&&(t+="+");t+="\n"}}return t}},92598:e=>{e.exports=function(e){return e.reverse()}},21224:e=>{e.exports=function(e){for(var t=0;t<e.length;t++)e[t].reverse();return e}},98717:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37829);e.exports=function(e){return n(e,180)}},44657:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37829);e.exports=function(e,t){void 0===t&&(t=1);for(var i=0;i<t;i++)e=n(e,90);return e}},37829:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(86922),r=i(2429);e.exports=function(e,t){if(void 0===t&&(t=90),!n(e))return null;if("string"!=typeof t&&(t=(t%360+360)%360),90===t||-270===t||"rotateLeft"===t)(e=r(e)).reverse();else if(-90===t||270===t||"rotateRight"===t)e.reverse(),e=r(e);else if(180===Math.abs(t)||"rotate180"===t){for(var i=0;i<e.length;i++)e[i].reverse();e.reverse()}return e}},92632:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37829);e.exports=function(e,t){void 0===t&&(t=1);for(var i=0;i<t;i++)e=n(e,-90);return e}},69512:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(86003),r=i(49498);e.exports=function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),0!==i&&(i<0?n(e,Math.abs(i)):r(e,i)),0!==t)for(var s=0;s<e.length;s++){var a=e[s];t<0?n(a,Math.abs(t)):r(a,t)}return e}},2429:e=>{e.exports=function(e){for(var t=e.length,i=e[0].length,n=Array(i),r=0;r<i;r++){n[r]=Array(t);for(var s=t-1;s>-1;s--)n[r][s]=e[s][r]}return n}},54915:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:e=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports=function(e,i){for(var n=new Uint8Array(e),r=n.length,s=i?"data:"+i+";base64,":"",a=0;a<r;a+=3)s+=t[n[a]>>2],s+=t[(3&n[a])<<4|n[a+1]>>4],s+=t[(15&n[a+1])<<2|n[a+2]>>6],s+=t[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s}},53134:e=>{for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),n=0;n<t.length;n++)i[t.charCodeAt(n)]=n;e.exports=function(e){var t,n,r,s,a=(e=e.substr(e.indexOf(",")+1)).length,o=.75*a,l=0;"="===e[a-1]&&(o--,"="===e[a-2]&&o--);for(var h=new ArrayBuffer(o),u=new Uint8Array(h),c=0;c<a;c+=4)t=i[e.charCodeAt(c)],n=i[e.charCodeAt(c+1)],r=i[e.charCodeAt(c+2)],s=i[e.charCodeAt(c+3)],u[l++]=t<<2|n>>4,u[l++]=(15&n)<<4|r>>2,u[l++]=(3&r)<<6|63&s;return h}},65839:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:e=>{e.exports=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i]=e[i].slice(0):t[i]=e[i];return t}},62644:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var i,n,r;if("object"!=typeof e||null===e)return e;for(r in i=Array.isArray(e)?[]:{},e)n=e[r],i[r]=t(n);return i};e.exports=t},79291:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41212),r=function(){var e,t,i,s,a,o,l=arguments[0]||{},h=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},h=2),u===h&&(l=this,--h);h<u;h++)if(null!=(e=arguments[h]))for(t in e)i=l[t],l!==(s=e[t])&&(c&&s&&(n(s)||(a=Array.isArray(s)))?(a?(a=!1,o=i&&Array.isArray(i)?i:[]):o=i&&n(i)?i:{},l[t]=r(c,o,s)):void 0!==s&&(l[t]=s));return l};e.exports=r},23568:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(75508),r=i(35154);e.exports=function(e,t,i){var s=r(e,t,null);if(null===s)return i;if(Array.isArray(s))return n.RND.pick(s);if("object"==typeof s){if(s.hasOwnProperty("randInt"))return n.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return n.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if("function"==typeof s)return s(t);return s}},95540:e=>{e.exports=function(e,t,i){var n=typeof e;return e&&"number"!==n&&"string"!==n&&e.hasOwnProperty(t)&&void 0!==e[t]?e[t]:i}},82840:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154),r=i(45319);e.exports=function(e,t,i,s,a){return void 0===a&&(a=i),r(n(e,t,a),i,s)}},35154:e=>{e.exports=function(e,t,i,n){if(!e&&!n||"number"==typeof e)return i;if(e&&e.hasOwnProperty(t))return e[t];if(n&&n.hasOwnProperty(t))return n[t];if(-1===t.indexOf("."))return i;for(var r=t.split("."),s=e,a=n,o=i,l=i,h=!0,u=!0,c=0;c<r.length;c++)s&&s.hasOwnProperty(r[c])?(o=s[r[c]],s=s[r[c]]):h=!1,a&&a.hasOwnProperty(r[c])?(l=a[r[c]],a=a[r[c]]):u=!1;return h?o:u?l:i}},69036:e=>{e.exports=function(e,t){for(var i=0;i<t.length;i++)if(!e.hasOwnProperty(t[i]))return!1;return!0}},1985:e=>{e.exports=function(e,t){for(var i=0;i<t.length;i++)if(e.hasOwnProperty(t[i]))return!0;return!1}},97022:e=>{e.exports=function(e,t){return e.hasOwnProperty(t)}},41212:e=>{e.exports=function(e){if(!e||"object"!=typeof e||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!({}).hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}},46975:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41786);e.exports=function(e,t){var i=n(e);for(var r in t)i.hasOwnProperty(r)||(i[r]=t[r]);return i}},269:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41786);e.exports=function(e,t){var i=n(e);for(var r in t)i.hasOwnProperty(r)&&(i[r]=t[r]);return i}},18254:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(97022);e.exports=function(e,t){for(var i={},r=0;r<t.length;r++){var s=t[r];n(e,s)&&(i[s]=e[s])}return i}},61622:e=>{e.exports=function(e,t,i){if(e&&"number"!=typeof e){if(e.hasOwnProperty(t))return e[t]=i,!0;if(-1!==t.indexOf(".")){for(var n=t.split("."),r=e,s=e,a=0;a<n.length;a++){if(!r.hasOwnProperty(n[a]))return!1;s=r,r=r[n[a]]}return s[n[n.length-1]]=i,!0}}return!1}},1183:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:e=>{e.exports=function(e,t){return e.replace(/%([0-9]+)/g,function(e,i){return t[Number(i)-1]})}},41836:e=>{e.exports=function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=" "),void 0===n&&(n=3);var r=0;if(t+1>=(e=e.toString()).length)switch(n){case 1:e=Array(t+1-e.length).join(i)+e;break;case 3:var s=Math.ceil((r=t-e.length)/2);e=Array(r-s+1).join(i)+e+Array(s+1).join(i);break;default:e+=Array(t+1-e.length).join(i)}return e}},33628:e=>{e.exports=function(e,t){return 0===t?e.slice(1):e.slice(0,t)+e.slice(t+1)}},27671:e=>{e.exports=function(e){return e.split("").reverse().join("")}},45650:e=>{e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},35355:e=>{e.exports=function(e){return e&&e[0].toUpperCase()+e.slice(1)}},31749:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i(85454)})(),t.exports=r()},{"57a99fe9b8471a10":"hcVnn"}],hcVnn:[function(e,t,i,n){var r,s,a,o=t.exports={};function l(){throw Error("setTimeout has not been defined")}function h(){throw Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===l||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:l}catch(e){r=l}try{s="function"==typeof clearTimeout?clearTimeout:h}catch(e){s=h}}();var c=[],d=!1,f=-1;function p(){d&&a&&(d=!1,a.length?c=a.concat(c):f=-1,c.length&&m())}function m(){if(!d){var e=u(p);d=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,d=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===h||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new g(e,t)),1!==c.length||d||u(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],jXmP1:[function(e,t,i,n){t.exports.FPSCounter=class{constructor(e){this.lastFrameTime=performance.now(),this.frameCount=0,this.fpsDisplay=e.createElementWithStyles("div","fps-counter",{padding:"0 20px",background:"#000",color:"#00ff00"}),e.getElement(".header").appendChild(this.fpsDisplay)}updateFPS(){let e=performance.now(),t=e-this.lastFrameTime;this.lastFrameTime=e;let i=Math.round(1e3/t);this.frameCount++,0==this.frameCount%60&&(this.fpsDisplay.textContent="FPS: "+i),requestAnimationFrame(this.updateFPS.bind(this))}start(){this.updateFPS()}}},{}],"8k4Rg":[function(e,t,i,n){let r="objects.";t.exports.ObjectsConst={OBJECT_ANIMATION:"oa",OBJECT_INTERACTION:"oi",TYPE_OBJECT:"obj",TYPE_ANIMATION:"anim",TYPE_NPC:"npc",TYPE_ENEMY:"enemy",TYPE_TRADER:"trader",TYPE_DROP:"drop",DYNAMIC_ANIMATION:"dyn",MESSAGE:{DATA_VALUES:{NAMESPACE:"objects"}},EVENT_PREFIX:{BASE:"bo",ANIMATION:"ao",DROP:"dep",ENEMY:"eo",NPC:"npc",TRADER:"tnpc"},SNIPPETS:{PREFIX:r,NPC_INVALID:r+"npcInvalid",TRADER:{CONTENT:r+"trader.content",OPTIONS:{BUY:r+"trader.options.buy",SELL:r+"trader.options.sell"},BUY_CONFIRMED:r+"trader.buyConfirmed",SELL_CONFIRMED:r+"trader.sellConfirmed"}},DEFAULTS:{BASE_OBJECT:{CONTENT:"",OPTIONS:{}},TRADER_OBJECT:{INVENTORY_MAP:{buy:"A",sell:"B"},OPTIONS:{BUY:"buy",SELL:"sell"}},TARGETS:{OBJECT:0,PLAYER:1}},TRADE_ACTIONS_FUNCTION_NAME:{ADD:"add",REMOVE:"remove",CONFIRM:"confirm",DISCONFIRM:"disconfirm",CANCEL:"cancel"},TRADE_ACTIONS:{SUB_ACTION:"sub",ADD:"ta",REMOVE:"tr",CONFIRM:"tc",DISCONFIRM:"td"},DROPS:{KEY:"drp",REMOVE:"drmv",PARAMS:"drpp",ASSET_KEY:"dk",PICK_UP_ACT:"rpu",ASSETS_PATH:"/assets/custom/sprites/",FILE:"df",TYPE:"dt"}}},{}],"6VIhH":[function(e,t,i,n){let{PlayerEngine:r}=e("5dadcfc2f4ec048c"),{SceneDynamic:s}=e("5ea13611f87f0f9f"),{ScenePreloader:a}=e("171055bce58a5ac9"),{GameConst:o}=e("e471cce0414cdafb"),{ErrorManager:l,Logger:h,sc:u}=e("9055603bf8657355");t.exports.RoomEvents=class{constructor(e,t){this.room=!1,this.roomData={},this.scenePreloader=!1,this.playersOnAddCallback=!1,this.playersOnRemoveCallback=!1,this.playersQueue={},this.gameManager=t,this.gameEngine=t.gameEngine,this.gameDom=t.gameDom,this.roomName=e,this.events=t.events,this.objectsUi={},this.tradeUi={},this.gameOverRetries=0,this.gameOverMaxRetries=0,this.gameOverRetryTime=200,this.automaticallyCloseAllDialogsOnSceneChange=t.config.getWithoutLogs("client/rooms/automaticallyCloseAllDialogsOnSceneChange",!0)}async activateRoom(e,t=!1){await this.events.emit("reldens.activateRoom",e,this.gameManager),this.room=e,this.playersOnAddCallback=this.room.state.players.onAdd((e,i)=>{this.checkAndCreateScene(),this.playersOnAdd(e,i,t),this.listenPlayerAndStateChanges(e,i)}),this.playersOnRemoveCallback=this.room.state.players.onRemove((e,t)=>{this.playersOnRemove(e,t)}),this.room.onMessage("*",async e=>{await this.roomOnMessage(e)}),this.room.onLeave(e=>{this.roomOnLeave(e)})}listenPlayerAndStateChanges(e,t){let i=this.gameManager.getCurrentPlayer().player_id,n=Object.keys(e),r=Object.keys(e.state);for(let i of n)e.listen(i,i=>{this.playersOnChange(e,t,"playerChange")});for(let n of r)e.state.listen(n,r=>{if(e.state[n]=r,this.playersOnChange(e,t,"playerChange"),"inState"===n&&e.player_id===i){if(o.STATUS.DEATH===r)return this.showGameOverBox();this.hideGameOverBox()}})}checkAndCreateScene(){if(!this.room.state)return h.warning("Room state is not ready."),!1;if(0===Object.keys(this.roomData).length&&(this.roomData=u.toJson(this.room.state.sceneData)),this.gameEngine.scene.getScene(this.roomName))return!1;let e=this.createSceneInstance(this.roomName,this.roomData,this.gameManager);this.gameEngine.scene.add(this.roomName,e,!1)}async playersOnAdd(e,t,i){await this.events.emit("reldens.playersOnAdd",e,t,i,this);let n={x:e.state.x,y:e.state.y,dir:e.state.dir,playerName:e.playerName,avatarKey:e.avatarKey,playedTime:e.playedTime,player_id:e.player_id};if(this.isCurrentPlayer(t))return await this.createCurrentPlayer(e,i,t);this.addOtherPlayers(e,t,n)}isCurrentPlayer(e){return e===this.room.sessionId}addOtherPlayers(e,t,i){if(!this.engineStarted)return this.playersQueue[t]=i,!1;let n=this.getActiveScene();if(!this.isValidScene(n,e))return!1;n.player.addPlayer(t,i)}async createCurrentPlayer(e,t,i){this.engineStarted=!0,await this.startEngineScene(e,this.room,t);let n=this.getActiveScene();if(!this.isValidScene(n,e))return!1;for(let r of(await this.events.emit("reldens.playersQueueBefore",e,i,t,this),Object.keys(this.playersQueue)))n.player.addPlayer(r,this.playersQueue[r]);let r={player:e,key:i,previousScene:t,roomEvents:this};return await this.events.emit("reldens.createCurrentPlayer",r),r}isValidScene(e,t){return e.key===t.state.scene&&e.player&&e.player.players}playersOnChange(e,t,i){if(e.state.scene!==this.roomName){e.player_id!==this.gameManager.getCurrentPlayer().player_id||this.gameManager.isChangingScene||h.info("Player scene miss match.",{currentScene:this.roomName,playerSceneOnState:e?.state.scene,player:e?.sessionId,currentPlayer:this.gameManager.getCurrentPlayer()?.playerId,isChangingScene:this.gameManager.isChangingScene});return}let n=this.getActiveScene();this.playerExists(n,t)&&n.player.updatePlayer(t,e)}playersOnRemove(e,t){return(this.events.emitSync("reldens.playersOnRemove",e,t,this),t===this.room.sessionId)?this.gameOverReload():this.removePlayerByKey(t)}removePlayerByKey(e){let t=this.getActiveScene();this.playerExists(t,e)&&(t.player.removePlayer(e),t.player.currentTarget?.id===e&&this.gameEngine.clearTarget())}gameOverReload(){let e={confirmed:!0};this.events.emitSync("reldens.gameOverReload",this,e),!this.gameManager.gameOver&&e.confirmed&&this.gameDom.alertReload(this.gameManager.services.translator.t("game.errors.sessionEnded"))}playerExists(e,t){return e.player&&u.hasOwn(e.player.players,t)}async roomOnMessage(e){await this.runGameOver(e),await this.runRevived(e),await this.runChangingScene(e),await this.runChangedScene(e),await this.runReconnect(e),await this.runUpdateStats(e),await this.runInitUi(e),await this.closeBox(e),await this.runCustomMessageListener(e)}async runInitUi(e){if(e.act!==o.UI||!e.id)return!1;await this.events.emit("reldens.initUiBefore",e,this),this.initUi(e),await this.events.emit("reldens.initUiAfter",e,this)}async closeBox(e){if(o.CLOSE_UI_ACTION!==e.act||!e.id)return!1;let t=this.gameDom.getElement("#box-"+e.id+" .box-close");return t?(t.click(),!0):(h.error('Box could not be closed ID "'+e.id+'".'),!1)}async runCustomMessageListener(e){let t=u.get(e,"listener","");if(""===t)return!1;let i=this.gameManager.config.get("client/message/listeners",{}),n=this.gameManager.config.get("client/customClasses/message/listeners",{}),r=u.get(n,t,!1);return(r||(r=u.get(i,t,!1)),r)?u.isFunction(r.executeClientMessageActions)?void r.executeClientMessageActions({message:e,roomEvents:this}):(h.error('Listener is missing "executeClientMessageActions" method.',r),!1):(h.error('Listener "'+t+'" is missing.'),!1)}async runUpdateStats(e){return e.act===o.PLAYER_STATS&&(await this.events.emit("reldens.playerStatsUpdateBefore",e,this),await this.updatePlayerStats(e))}async runReconnect(e){if(e.act!==o.RECONNECT)return!1;await this.events.emit("reldens.beforeReconnectGameClient",e,this),await this.gameManager.reconnectGameClient(e,this.room)}async runChangingScene(e){if(e.act!==o.CHANGING_SCENE||this.room.sessionId!==e.id)return!1;this.gameManager.isChangingScene=!0,this.closeAllActiveDialogs(),this.gameManager.getActiveScene().scene.setVisible(!1)}async runChangedScene(e){if(e.act!==o.CHANGED_SCENE||e.scene!==this.room.name||this.room.sessionId===e.id)return!1;await this.events.emit("reldens.startChangedScene",{message:e,roomEvents:this});let t=this.getActiveScene(),{id:i,x:n,y:r,dir:s,playerName:a,playedTime:l,avatarKey:h,player_id:u}=e,c=this.gameManager.config.get("client/players/size/topOffset"),d=this.gameManager.config.get("client/players/size/leftOffset");t.player.addPlayer(i,{x:n-d,y:r-c,dir:s,playerName:a,playedTime:l,avatarKey:h,player_id:u}),this.gameManager.isChangingScene=!1,await this.events.emit("reldens.endChangedScene",{message:e,roomEvents:this})}closeAllActiveDialogs(){if(!this.automaticallyCloseAllDialogsOnSceneChange)return;let e=this.gameDom.getElements(o.SELECTORS.BUTTONS_CLOSE);if(0!==e.length)for(let t of e)t.click()}async runRevived(e){if(e.act!==o.REVIVED)return!1;this.gameDom.getElement("#game-over").classList.add("hidden");let t=this.gameManager.getCurrentPlayer(),i=u.get(t.players,e.t,!1);if(!i)return!1;i.visible=!0,u.hasOwn(i,"nameSprite")&&i.nameSprite&&(i.nameSprite.visible=!0),this.getActiveScene().stopOnDeathOrDisabledSent=!1}async runGameOver(e){if(e.act!==o.GAME_OVER)return!1;try{await this.events.emit("reldens.runGameOver",{message:e,defaultBehavior:!0,roomEvents:this}),await this.events.emit("reldens.gameOver",e,this),this.gameManager.gameOver=!0;let t=this.gameManager.getCurrentPlayer();if(!t)return this.gameOverRetries<this.gameOverMaxRetries&&(setTimeout(()=>this.runGameOver(e),this.gameOverRetryTime),this.gameOverRetries++),!1;t.players[t.playerId].visible=!1,this.showGameOverBox()}catch(t){return setTimeout(()=>this.runGameOver(e),200),this.gameOverRetries++,!1}}showGameOverBox(){return this.displayGameOverBox(!0)}hideGameOverBox(){return this.displayGameOverBox(!1)}displayGameOverBox(e){h.debug("Display game over box: "+(e?"yes":"no")+".");let t=this.gameDom.getElement("#game-over");return t?e?(t.classList.remove("hidden"),!0):(t.classList.add("hidden"),!1):(h.debug("GameOver box element not found."),!1)}async roomOnLeave(e){!this.isAbnormalShutdown(e)||this.gameManager.gameOver||this.gameManager.forcedDisconnection||(h.error("There was a connection error.",{code:e,isGameOver:this.gameManager.gameOver,isForcedDisconnection:this.gameManager.forcedDisconnection}),this.gameDom.alertReload(this.gameManager.services.translator.t("game.errors.serverDown"))),await this.events.emit("reldens.playerLeftScene",{code:e,roomEvents:this})}isAbnormalShutdown(e){return 1001<=e&&1015>=e}async updatePlayerStats(e){if(!u.hasOwn(e,"stats")||!e.stats)return!1;let t=this.getActiveScene();if(!t.player||!u.hasOwn(t.player.players,this.room.sessionId))return h.error("Player not available.",this.room,t),!1;t.player.players[this.room.sessionId].stats=e.stats,this.gameManager.playerData.stats=e.stats,this.gameManager.playerData.statsBase=e.statsBase;let i=this.gameManager.getUiElement("playerStats");if(!i)return!1;let n=i.getChildByProperty("id","player-stats-container");if(!n)return!1;let r=this.gameEngine.uiScene.cache.html.get("playerStat");for(let t of(n.innerHTML="",Object.keys(e.stats))){let i=u.get(this.gameManager.config.client.players.initialStats[t],"data",!1),s=i&&u.get(i,"showBase",!1)?" / "+e.statsBase[t]:"",a=this.gameManager.gameEngine.parseTemplate(r,{statLabel:t,statValue:e.stats[t]+s});n.innerHTML=n.innerHTML+a}await this.events.emit("reldens.playerStatsUpdateAfter",e,this)}initUi(e){let t=this.gameEngine.uiScene;if(!t||!u.hasOwn(t.elementsUi,e.id))return h.error("User interface not found on UI Scene: "+e.id),!1;let i=t.elementsUi[e.id];this.uiSetTitle(i,e),this.uiSetContent(i,e,t);let n=i.getChildByID("box-"+e.id),r=e.keepCurrentDisplay&&"none"===n.style.display;n.style.display=r?"none":"block",i.setDepth(2),this.gameManager.config.get("client/ui/uiTarget/hideOnDialog")&&this.gameEngine.clearTarget()}uiSetTitleAndContent(e,t,i){this.uiSetTitle(e,t),this.uiSetContent(e,t,i)}uiSetTitle(e,t){let i=u.get(t,"title",!1);if(!1===i)return!1;let n=e.getChildByProperty("className","box-title");if(!n)return!1;n.innerHTML=i}uiSetContent(e,t,i){let n=u.get(t,"content",!1);if(!1===n)return!1;let r=e.getChildByProperty("className","box-content");if(!r)return!1;r.innerHTML=n,this.uiSetContentOptions(i,t,r)}uiSetContentOptions(e,t,i){if(!t.options)return!1;let n=e.cache.html.get("uiOptionsContainer"),r=this.gameManager.gameEngine.parseTemplate(n,{id:"ui-"+t.id});i.innerHTML+=r;let s=Object.keys(t.options);if(0===s.length)return!1;for(let i of s){let{label:n,value:r,icon:s}=t.options[i],a=s?"Icon":"Button",l=e.cache.html.get("uiOption"+a),h={id:i,object_id:t.id,label:n,value:r,icon:"/assets/custom/items/"+s+o.FILES.EXTENSIONS.PNG},c=this.gameManager.gameEngine.parseTemplate(l,h);this.gameDom.appendToElement("#ui-"+t.id,c);let d="#opt-"+i+"-"+t.id;this.gameDom.getElement(d)?.addEventListener("click",e=>{let i={id:t.id,act:o.BUTTON_OPTION,value:e.target.getAttribute("data-option-value")};Object.assign(i,u.get(t,"overrideSendOptions",{})),this.send(i)})}}async startEngineScene(e,t,i=!1){await this.events.emit("reldens.startEngineScene",this,e,t,i);let n=!1;this.gameEngine.uiScene||(n=!0);let r=o.SCENE_PRELOADER+this.roomName;this.gameEngine.scene.getScene(r)?await this.createEngineOnScene(r,e,t,i):await this.createPreloaderAndScene(r,n,e,t,i)}async createEngineOnScene(e,t,i,n){this.getActiveScene().objectsAnimationsData=this.roomData.objectsAnimationsData,this.scenePreloader=this.gameEngine.scene.getScene(e),await this.events.emit("reldens.createdPreloaderRecurring",this,this.scenePreloader),await this.createEngineScene(t,i,n)}async createPreloaderAndScene(e,t,i,n,r){this.scenePreloader=this.createPreloaderInstance({name:e,map:this.roomData.roomMap,images:this.roomData.sceneImages,uiScene:t,gameManager:this.gameManager,preloadAssets:this.roomData.preloadAssets,objectsAnimationsData:this.roomData.objectsAnimationsData}),this.gameEngine.scene.add(e,this.scenePreloader,!0),await this.events.emit("reldens.createdPreloaderInstance",this,this.scenePreloader);let s=this.gameEngine.scene.getScene(e);s.load.on("complete",async()=>{this.gameEngine.uiScene||(this.gameEngine.uiScene=s,this.showPlayerName(this.gameManager.playerData.id+" - "+this.gameManager.playerData.name)),await this.createEngineScene(i,n,r)})}showPlayerName(e){let t=this.gameManager.getUiElement("playerBox");if(!t)return!1;let i=t.getChildByProperty("className","player-name");if(!i)return!1;i.innerHTML=e}async createEngineScene(e,t,i){let n=this.gameEngine.scene.getScene(i);n&&n.scene.setVisible(!1),await this.events.emit("reldens.createEngineScene",e,t,i,this),this.gameManager.room?await this.destroyPreviousScene(i,e):this.gameEngine.scene.start(e.state.scene),this.gameManager.room=t;let r=this.gameEngine.scene.getScene(e.state.scene);r.player=this.createPlayerEngineInstance(r,e,this.gameManager,t),r.player.create(),this.addExistentPlayers(t,r),this.updateSceneLabel(this.roomData.roomTitle),this.send({act:o.PLAYER_STATS}),this.send({act:o.CLIENT_JOINED});let s={player:r.player,previousScene:i,roomEvents:this};await this.events.emit("reldens.playersOnAddReady",s);let a={currentScene:r,previousScene:i,roomEvents:this};return await this.events.emit("reldens.createEngineSceneDone",a),a}addExistentPlayers(e,t){if(0===this.playersCountFromState(e))return!1;for(let i of this.playersKeysFromState(e)){let n=this.playerBySessionIdFromState(e,i);if(!n.sessionId||n.sessionId===e.sessionId)continue;let r={x:n.state.x,y:n.state.y,dir:n.state.dir,playerName:n.playerName,playedTime:n.playedTime,avatarKey:n.avatarKey,player_id:n.player_id};t.player.addPlayer(n.sessionId,r)}}playerBySessionIdFromState(e,t){return e.state.players.get(t)}playersCountFromState(e){return e.state.players.size}playersKeysFromState(e){return Array.from(e.state.players.keys())}async destroyPreviousScene(e,t){if(!e)return h.warning("Missing previous scene data.",e),!1;let i=this.gameEngine.scene.getScene(e);if(!i)return h.warning("Missing previous scene instance.",i),!1;await i.changeScene(),this.gameEngine.scene.stop(e),this.gameEngine.scene.start(t.state.scene)}updateSceneLabel(e){let t=this.gameManager.getUiElement("sceneLabel");if(!t)return!1;let i=t.getChildByProperty("className","scene-label");if(!i)return!1;i.innerHTML=e}getActiveScene(){return this.gameEngine.scene.getScene(this.roomName)}createSceneInstance(e,t,i){return new s(e,t,i)}createPlayerEngineInstance(e,t,i,n){return new r({scene:e,playerData:t,gameManager:i,room:n,roomEvents:this})}createPreloaderInstance(e){return new a(e)}send(e,t){try{if(this.room.connection.transport.ws.readyState===this.room.connection.transport.ws.CLOSED&&l.error("Connection lost."),this.room.connection.transport.ws.readyState===this.room.connection.transport.ws.CLOSING)return!1;return t||(t="*"),this.room.send(t,e),!0}catch(t){h.critical(t.message,e)}this.gameDom.alertReload(this.gameManager.services.translator.t("game.errors.connectionLost"))}}},{"5dadcfc2f4ec048c":"2KXlv","5ea13611f87f0f9f":"lFjqg","171055bce58a5ac9":"362qD",e471cce0414cdafb:"7Qdd3","9055603bf8657355":"3lwy5"}],"2KXlv":[function(e,t,i,n){let{SpriteTextFactory:r}=e("6963bf9442f4e594"),{GameConst:s}=e("39d7aae435f21d2a"),{ActionsConst:a}=e("728f6282fc7a7dc2"),{Logger:o,sc:l}=e("e1020565cb5e4c52");t.exports.PlayerEngine=class{constructor(e){let{scene:t,playerData:i,gameManager:n,room:r,roomEvents:s}=e;this.scene=t,this.config=n.config,this.gameManager=n,this.events=n.events,this.playerName=i.playerName,this.avatarKey=i.avatarKey,this.roomName=i.state.scene,this.state=i.state,this.room=r,this.roomEvents=s,this.playerId=r.sessionId,this.player_id=i.player_id,this.players={},this.playedTime=i.playedTime,this.mov=!1,this.dir=!1,this.currentTarget=!1,this.pointsValidator=!1,this.animationBasedOnPress=this.config.get("client/players/animations/basedOnPress"),this.topOff=this.config.get("client/players/size/topOffset"),this.leftOff=this.config.get("client/players/size/leftOffset"),this.collideWorldBounds=this.config.get("client/players/animations/collideWorldBounds"),this.fadeDuration=Number(this.config.get("client/players/animations/fadeDuration")),this.cameraRoundPixels=!!this.config.getWithoutLogs("client/general/engine/cameraRoundPixels",!0),this.cameraInterpolationX=Number(this.config.getWithoutLogs("client/general/engine/cameraInterpolationX",.02)),this.cameraInterpolationY=Number(this.config.getWithoutLogs("client/general/engine/cameraInterpolationY",.02)),this.globalConfigNameText=this.config.get("client/ui/players/nameText"),this.globalConfigShowNames=!!this.config.get("client/ui/players/showNames"),this.globalConfigShowNamesLimit=this.config.getWithoutLogs("client/ui/players/showNamesLimit",10),this.defaultActionKeyConfig=this.config.get("client/ui/controls/defaultActionKey"),this.highlightOnOver=!!this.config.getWithoutLogs("client/ui/players/highlightOnOver",!0),this.highlightColor=this.config.getWithoutLogs("client/ui/players/highlightColor","0x00ff00"),this.lastKeyState={}}create(){let e={x:this.state.x,y:this.state.y,dir:this.state.dir,playerName:this.playerName,avatarKey:this.avatarKey,playedTime:this.playedTime,player_id:this.player_id};this.addPlayer(this.playerId,e),this.scene.cameras.main.startFollow(this.players[this.playerId]),this.scene.scene.setVisible(!0,this.roomName),this.scene.cameras.main.fadeFrom(this.fadeDuration),this.scene.physics.world.fixedStep=!1,this.scene.physics.world.setBounds(0,0,this.scene.map.widthInPixels,this.scene.map.heightInPixels),this.scene.cameras.main.setBounds(0,0,this.scene.map.widthInPixels,this.scene.map.heightInPixels),this.scene.cameras.main.setIsSceneCamera(!0),this.scene.cameras.main.on("camerafadeincomplete",()=>{this.scene.cameras.main.startFollow(this.players[this.playerId]),this.scene.cameras.main.setLerp(this.cameraInterpolationX,this.cameraInterpolationY),this.scene.cameras.main.setRoundPixels(this.cameraRoundPixels)})}addPlayer(e,t){if(l.hasOwn(this.players,e))return this.players[e];let{x:i,y:n,dir:r,playerName:s,avatarKey:a,playedTime:o,player_id:h}=t,u=this.gameManager.mappedAvatars[a];return this.players[e]=this.scene.physics.add.sprite(i,n-this.topOff,u),this.players[e].playerName=s,this.players[e].playedTime=o,this.players[e].avatarKey=a,this.players[e].playerId=e,this.players[e].player_id=h,this.players[e].anims.play(u+"_"+r),this.players[e].anims.stop(),this.showPlayerName(e),this.makePlayerInteractive(e),this.players[e].moveSprites={},this.players[e].setDepth(this.players[e].y+this.players[e].body.height),this.players[e].setCollideWorldBounds(this.collideWorldBounds),this.events.emitSync("reldens.playerEngineAddPlayer",this,e,t),this.players[e]}makePlayerInteractive(e){this.players[e].setInteractive({useHandCursor:!0}).on("pointerdown",t=>{if(s.SELECTORS.CANVAS!==t.downElement.nodeName)return!1;this.setTargetPlayerById(e)}),this.highlightOnOver&&(this.players[e].on("pointerover",()=>{this.players[e].setTint(this.highlightColor)}),this.players[e].on("pointerout",()=>{this.players[e].clearTint()}))}setTargetPlayerById(e){if(!l.get(this.players,e,!1))return o.info('Target player ID "'+e+'" was not found.'),this.gameManager.gameEngine.clearTarget(),!1;let t=Object.assign({},this.currentTarget);this.currentTarget={id:e,type:s.TYPE_PLAYER,player_id:this.players[e].player_id},this.gameManager.gameEngine.showTarget(this.players[e].playerName,this.currentTarget,t)}showPlayerName(e){if(!this.globalConfigShowNames)return!1;if(!this.players[e])return o.critical('Player ID "'+e+'" not found.',this.players),!1;let t=this.players[e].playerName;if(!t)return o.critical('Player name not found on player ID "'+e+'".',this.players[e]),!1;r.attachTextToSprite(this.players[e],this.applyNameLengthLimit(t),this.globalConfigNameText,this.topOff,"nameSprite",this.scene)}applyNameLengthLimit(e){return 0<this.globalConfigShowNamesLimit&&e.length>this.globalConfigShowNamesLimit&&(e=e.slice(0,this.globalConfigShowNamesLimit)+"..."),e}updatePlayer(e,t){let i=this.players[e];if(!i){o.error("PlayerSprite not defined.",this.players,e);return}if(o.debug('Updating player ID "'+e+'". - Current player ID "'+this.player_id+'".'),this.scene.clientInterpolation){this.scene.interpolatePlayersPosition[e]=t.state;return}this.processPlayerPositionAnimationUpdate(i,t.state,e,t.state.x-this.leftOff,t.state.y-this.topOff)}processPlayerPositionAnimationUpdate(e,t,i,n=0,r=0){if(o.debug("Process player position animation update.",{playerSprite:e,playerState:t,playerId:i,newX:n,newY:r}),!e){o.error("Missing player sprite to process animation update.",e,t,i);return}if(!t){o.error("Missing player state to process animation update.",e,t,i);return}if(!i){o.error("Missing player ID to process animation update.",e,t,i);return}if(0!==Object.keys(this.scene.interpolatePlayersPosition).length){if(s.STATUS.DEATH===t.inState||s.STATUS.DISABLED===t.inState){delete this.scene.interpolatePlayersPosition[i];return}this.playPlayerAnimation(e,t,i),this.stopPlayerAnimation(e,t),this.updateSpritePosition(e,n,r),this.updatePlayerState(e,t,i)}}updatePlayerState(e,t,i){let n=e.y+e.body.height;e.depth!==n&&e.setDepth(n),this.events.emitSync("reldens.runPlayerAnimation",this,i,t,e),this.updateNamePosition(e),this.moveAttachedSprites(e,n)}updateSpritePosition(e,t,i){e.x!==t&&(e.x=t),e.y!==i&&(e.y=i)}updateNamePosition(e){if(!this.globalConfigShowNames||!e.nameSprite)return!1;let t=r.getTextPosition(e,this.applyNameLengthLimit(e.playerName),this.globalConfigNameText,this.topOff);e.nameSprite.x=t.x,e.nameSprite.y=t.y}moveAttachedSprites(e,t){let i=Object.keys(e.moveSprites);if(0===i.length)return!1;for(let n of i){let i=e.moveSprites[n];if(i.x===e.x&&i.y===e.y)continue;i.x=e.x,i.y=e.y;let r=t+("above"===l.get(i,"depthByPlayer","")?1:-.1);o.debug('Sprite "'+n+'" new depth: '+r+".",i),i.setDepth(r)}}playPlayerAnimation(e,t,i){if(this.isDeath(t)||this.isDisabled(t))return o.debug('Player with ID "'+i+'" is disabled to play the animation.',t),!1;o.debug("Play player animation.",e.avatarKey,t);let n=this.gameManager.mappedAvatars[e.avatarKey];if(this.animationBasedOnPress){let i=n+"_"+t.dir;return t.x===e.x&&t.y===e.y?(o.debug('Player has not changed, skipped animation "'+i+'".'),!1):(o.debug("Animation played based on press active.",n,{x:t.x+" / "+e.x,y:t.y+" / "+e.y}),void e.anims.play(i,!0))}if(t.x!==e.x){let i=t.x<e.x?n+"_"+s.LEFT:n+"_"+s.RIGHT;e.anims.play(i,!0)}if(t.y!==e.y){let i=t.y<e.y?n+"_"+s.UP:n+"_"+s.DOWN;e.anims.play(i,!0)}}stopPlayerAnimation(e,t){t.mov||(e.anims.stop(),e.mov=t.mov)}removePlayer(e){l.hasOwn(this.players,e)&&l.hasOwn(this.players[e],"nameSprite")&&(this.players[e].nameSprite.destroy(),this.players[e].destroy(),delete this.players[e])}left(){"pressed"!==this.lastKeyState[s.LEFT]&&(this.lastKeyState[s.LEFT]="pressed",this.roomEvents.send({dir:s.LEFT}))}right(){"pressed"!==this.lastKeyState[s.RIGHT]&&(this.lastKeyState[s.RIGHT]="pressed",this.roomEvents.send({dir:s.RIGHT}))}up(){"pressed"!==this.lastKeyState[s.UP]&&(this.lastKeyState[s.UP]="pressed",this.roomEvents.send({dir:s.UP}))}down(){"pressed"!==this.lastKeyState[s.DOWN]&&(this.lastKeyState[s.DOWN]="pressed",this.roomEvents.send({dir:s.DOWN}))}stop(){this.lastKeyState[s.LEFT]="",this.lastKeyState[s.RIGHT]="",this.lastKeyState[s.UP]="",this.lastKeyState[s.DOWN]="",this.roomEvents.send({act:s.STOP})}runActions(){let e=this.defaultActionKeyConfig||"physical_attack";this.roomEvents.send({act:a.ACTION,type:e,target:this.currentTarget})}moveToPointer(e){if(this.isDeath()||this.isDisabled())return this.fullStop(),!1;this.lastKeyState[s.LEFT]="",this.lastKeyState[s.RIGHT]="",this.lastKeyState[s.UP]="",this.lastKeyState[s.DOWN]="",this.roomEvents.send({act:s.POINTER,column:e.worldColumn,row:e.worldRow,x:e.worldX-this.leftOff,y:e.worldY-this.topOff})}isDisabled(e){return e||(e=this.state),s.STATUS.DISABLED===e.inState}isDeath(e){return e||(e=this.state),s.STATUS.DEATH===e.inState}fullStop(){delete this.scene.interpolatePlayersPosition[this.player_id],this.stop()}getPosition(){return{x:this.players[this.playerId].x,y:this.players[this.playerId].y}}}},{"6963bf9442f4e594":"f4CRM","39d7aae435f21d2a":"7Qdd3","728f6282fc7a7dc2":"4omVM",e1020565cb5e4c52:"3lwy5"}],f4CRM:[function(e,t,i,n){let{sc:r}=e("76fa5b97e5b08abb");t.exports.SpriteTextFactory=class{static attachTextToSprite(e,t,i,n,s,a){let o=this.getTextPosition(e,t,i,n),l=a.add.text(o.x,o.y,t,{fontFamily:r.get(i,"fontFamily","sans-serif"),fontSize:r.get(i,"fontSize","12px")});return l.style.setFill(r.get(i,"fill","#ffffff")),l.style.setAlign(r.get(i,"align","center")),l.style.setStroke(r.get(i,"stroke","#000000"),r.get(i,"strokeThickness",4)),l.style.setShadow(r.get(i,"shadowX",5),r.get(i,"shadowY",5),r.get(i,"shadowColor","rgba(0,0,0,0.7)"),r.get(i,"shadowBlur",5)),l.setDepth(r.get(i,"depth",2e5)),e[s]=l,l}static getTextPosition(e,t,i,n=0){if(!e)return{x:0,y:0};let s=r.get(i,"height",18);return{x:e.x-t.length*r.get(i,"textLength",4),y:e.y-s-e.height+n}}}},{"76fa5b97e5b08abb":"3lwy5"}],"4omVM":[function(e,t,i,n){let r="actions.";t.exports.ActionsConst={BATTLE_TYPE_PER_TARGET:"bt",BATTLE_TYPE_GENERAL:"bg",BATTLE_ENDED:"bend",TARGET_POSITION:"tgp",TARGET_PLAYER:"tga",TARGET_OBJECT:"tgo",FULL_SKILLS_LIST:"fkl",ACTION:"action",DATA_OBJECT_KEY_TARGET:"t",DATA_OBJECT_KEY_OWNER:"o",DATA_TARGET_TYPE:"tT",DATA_TARGET_KEY:"tK",DATA_OWNER_TYPE:"oT",DATA_OWNER_KEY:"oK",DATA_TYPE_VALUE_ENEMY:"e",DATA_TYPE_VALUE_PLAYER:"p",DATA_TYPE_VALUE_OBJECT:"o",EXTRA_DATA:{KEY:"sked",SKILL_DELAY:"sd"},DEFAULT_HIT_ANIMATION_KEY:"default_hit",ACTIONS:{SUFFIX:{ATTACK:"_atk",EFFECT:"_eff",HIT:"_hit"}},MESSAGE:{DATA:{LEVEL:"lvl",EXPERIENCE:"exp",CLASS_PATH_LABEL:"lab",NEXT_LEVEL_EXPERIENCE:"ne",SKILL_LEVEL:"skl",LAST_ATTACK_KEY:"k"},DATA_VALUES:{NAMESPACE:"actions",lvl:"level",exp:"experience",lab:"classPathLabel",ne:"nextLevelExperience",skl:"skillLevel"}},SELECTORS:{LEVEL_LABEL:".level-container .level-label",CURRENT_EXPERIENCE:".experience-container .current-experience",NEXT_LEVEL_EXPERIENCE:".experience-container .next-level-experience",PLAYER_CREATE_FORM:"#player-create-form",UI_PLAYER_EXTRAS:"#ui-player-extras",PLAYER_CREATION_ADDITIONAL_INFO:".player-creation-additional-info",PLAYER_SELECTION_ADDITIONAL_INFO:".player-selection-additional-info",CLASS_PATH_LABEL:".class-path-container .class-path-label",SKILLS_CONTAINER:".skills-container"},SNIPPETS:{PREFIX:r,SELECT_CLASS_PATH:r+"selectClassPath",EXPERIENCE_LABEL:r+"experienceLabel",LEVEL:r+"currentLevel",CLASS_PATH_LABEL:r+"classPathLabel",NEXT_LEVEL_EXPERIENCE:r+"nextLevelExperience",EXPERIENCE:r+"experience"}}},{}],lFjqg:[function(e,t,i,n){let{Scene:r,Input:s}=e("56de17c4ccf45c73"),{TileSetAnimation:a}=e("b334ee32beb899f2"),{Minimap:o}=e("13bc6189b150e929"),{GameConst:l}=e("c03f8a1b2de25882"),{ActionsConst:h}=e("8ff1637c59b70d9"),{Logger:u,sc:c}=e("bb692a977dadc69f"),{ObjectsConst:d}=e("185341906c7b3aa0");t.exports.SceneDynamic=class extends r{constructor(e,t,i){super({key:e}),this.key=e,this.params=t,this.gameManager=i,this.eventsManager=i.events,this.configManager=i.config,this.layers={},this.transition=!0,this.useTsAnimation=!1,this.arrowSprite=!1,this.objectsAnimationsData=!1,this.objectsAnimations={},this.setPropertiesFromConfig(),this.minimap=this.createMinimapInstance(this.minimapConfig),this.player=!1,this.interpolatePlayersPosition={},this.interpolateObjectsPositions={},this.tilesets=[],this.tilesetAnimations=[],this.stopOnDeathOrDisabledSent=!1}setPropertiesFromConfig(){return this.configManager?(this.configuredFrameRate=this.configManager.getWithoutLogs("client/general/animations/frameRate",10),this.clientInterpolation=this.configManager.getWithoutLogs("client/general/engine/clientInterpolation",!0),this.interpolationSpeed=this.configManager.getWithoutLogs("client/general/engine/interpolationSpeed",.1),this.minimapConfig=this.configManager.getWithoutLogs("client/ui/minimap",{}),!0):(this.configuredFrameRate=10,this.clientInterpolation=!0,this.interpolationSpeed=.1,this.minimapConfig={},!1)}createMinimapInstance(e){return!!this.minimapConfig.enabled&&new o({config:e,events:this.eventsManager})}init(){this.scene.setVisible(!1,this.key),this.input.keyboard.removeAllListeners()}async create(){this.eventsManager.emitSync("reldens.beforeSceneDynamicCreate",this),this.disableContextMenu(),this.createControllerKeys(),this.setupKeyboardAndPointerEvents(),await this.createSceneMap(),this.cameras.main.on("camerafadeincomplete",()=>{this.transition=!1,this.gameManager.gameDom.activeElement().blur(),this.minimap.createMap(this,this.gameManager.getCurrentPlayerAnimation()),this.gameManager.isChangingScene=!1}),this.eventsManager.emitSync("reldens.afterSceneDynamicCreate",this)}update(e,t){this.interpolatePositions(),this.movePlayerByPressedButtons()}disableContextMenu(){if(!this.gameManager.config.get("client/ui/controls/disableContextMenu"))return!1;this.gameManager.gameDom.getDocument().addEventListener("contextmenu",e=>{e.preventDefault(),e.stopPropagation()})}setupKeyboardAndPointerEvents(){this.input.keyboard.on("keydown",e=>this.executeKeyDownBehavior(e)),this.input.keyboard.on("keyup",e=>{this.executeKeyUpBehavior(e)}),this.input.on("pointerdown",(e,t)=>this.executePointerDownAction(e,t))}async createSceneMap(){for(let e of(this.map=this.make.tilemap({key:this.params.roomName}),this.params.sceneImages)){let t=this.map.addTilesetImage(this.params.roomName,e);t||u.critical("Tileset creation error. Check if the tileset name equals the imageKey without the extension.",{roomName:this.params.roomName,imageKeys:this.params.sceneImages,createdTileset:t}),this.tilesets.push(t)}this.registerLayers(),this.registerTilesetAnimation()}registerTilesetAnimation(){for(let e of this.tilesets)if(this.hasTilesetAnimations(e))for(let t of(this.useTsAnimation=!0,Object.keys(this.layers))){let i=this.layers[t],n=new a;n.register(i,e),n.start(),this.tilesetAnimations.push(n)}}hasTilesetAnimations(e){let t=e?.tileData||{},i=Object.keys(t);if(0===i.length)return!1;for(let e of i)if(t[e].animation)return!0;return!1}executeKeyDownBehavior(e){if(this.gameManager.gameDom.insideInput())return!1;if(s.Keyboard.KeyCodes.SPACE===e.keyCode&&!this.gameManager.gameDom.insideInput()){if(!this.player)return;if(!this.player.currentTarget){let e=null,t="",i=this.objectsAnimations||{};for(let n of Object.keys(i)){let r=i[n];if(r.type!==d.TYPE_ENEMY)continue;let s=Math.hypot(r.x-this.player.state.x,r.y-this.player.state.y);(!e||s<e.dist)&&(e={id:r.key,type:d.TYPE_OBJECT,dist:s},t=r.targetName||"")}if(e){let i=!!this.player.currentTarget&&Object.assign({},this.player.currentTarget);this.player.currentTarget={id:e.id,type:d.TYPE_OBJECT},this.gameManager.gameEngine.showTarget(t,this.player.currentTarget,i)}}this.player.runActions()}s.Keyboard.KeyCodes.ESC===e.keyCode&&this.gameManager.gameEngine.clearTarget(),s.Keyboard.KeyCodes.F5===e.keyCode&&(this.gameManager.forcedDisconnection=!0)}executeKeyUpBehavior(e){this.player&&-1!==this.availableControllersKeyCodes().indexOf(e.keyCode)&&this.player.stop()}createControllerKeys(){this.keyLeft=this.input.keyboard.addKey(s.Keyboard.KeyCodes.LEFT),this.keyA=this.input.keyboard.addKey(s.Keyboard.KeyCodes.A),this.keyRight=this.input.keyboard.addKey(s.Keyboard.KeyCodes.RIGHT),this.keyD=this.input.keyboard.addKey(s.Keyboard.KeyCodes.D),this.keyUp=this.input.keyboard.addKey(s.Keyboard.KeyCodes.UP),this.keyW=this.input.keyboard.addKey(s.Keyboard.KeyCodes.W),this.keyDown=this.input.keyboard.addKey(s.Keyboard.KeyCodes.DOWN),this.keyS=this.input.keyboard.addKey(s.Keyboard.KeyCodes.S);let e=this.availableControllersKeyCodes();for(let t of this.gameManager.gameDom.getElements("input"))this.addAndRemoveCapture(e,t)}addAndRemoveCapture(e,t){this.loopKeysAddListenerToElement(e,t,"focusin","removeCapture"),this.loopKeysAddListenerToElement(e,t,"click","removeCapture"),this.loopKeysAddListenerToElement(e,t,"focusout","addCapture"),this.loopKeysAddListenerToElement(e,t,"blur","addCapture")}availableControllersKeyCodes(){return[s.Keyboard.KeyCodes.LEFT,s.Keyboard.KeyCodes.A,s.Keyboard.KeyCodes.RIGHT,s.Keyboard.KeyCodes.D,s.Keyboard.KeyCodes.UP,s.Keyboard.KeyCodes.W,s.Keyboard.KeyCodes.DOWN,s.Keyboard.KeyCodes.S]}executePointerDownAction(e,t){if(0<t.length||!this.gameManager.config.get("client/players/tapMovement/enabled")||this.gameManager.activeRoomEvents.roomData?.worldConfig?.applyGravity)return!1;let i=this.gameManager.config.get("client/ui/controls/primaryMove"),n=this.gameManager.config.get("client/ui/controls/allowPrimaryTouch");return(!!e.wasTouch||!!e.primaryDown||!i)&&(!!e.wasTouch||!e.primaryDown||!!i)&&(!e.wasTouch||!!e.primaryDown||!n)&&(this.gameManager.gameDom.insideInput()&&this.gameManager.gameDom.activeElement().blur(),!!this.appendRowAndColumn(e)&&void(this.player.moveToPointer(e),this.updatePointerObject(e)))}movePlayerByPressedButtons(){if(!this.gameManager.gameDom.insideInput()&&!this.transition&&!this.gameManager.isChangingScene){if(this.player.isDeath()||this.player.isDisabled()){this.stopOnDeathOrDisabledSent||this.player.fullStop(),this.stopOnDeathOrDisabledSent=!0;return}(this.keyRight.isDown||this.keyD.isDown)&&this.player.right(),(this.keyLeft.isDown||this.keyA.isDown)&&this.player.left(),(this.keyDown.isDown||this.keyS.isDown)&&this.player.down(),(this.keyUp.isDown||this.keyW.isDown)&&this.player.up()}}interpolatePositions(){this.clientInterpolation&&(this.processPlayersPositionInterpolation(),this.processObjectsPositionInterpolation())}processPlayersPositionInterpolation(){let e=Object.keys(this.interpolatePlayersPosition);if(0!==e.length&&c.get(this.player,"players"))for(let t of e){let e=this.interpolatePlayersPosition[t];if(!e)continue;let i=this.player.players[t];if(!i)continue;if(this.isCurrentPosition(i,e)){delete this.interpolatePlayersPosition[t];continue}let n=c.roundToPrecision(Phaser.Math.Linear(i.x,e.x-this.player.leftOff,this.interpolationSpeed),2),r=c.roundToPrecision(Phaser.Math.Linear(i.y,e.y-this.player.topOff,this.interpolationSpeed),2);this.player.processPlayerPositionAnimationUpdate(i,e,t,n,r),e.mov||delete this.interpolatePlayersPosition[t]}}processObjectsPositionInterpolation(){let e=Object.keys(this.interpolateObjectsPositions);if(0===e.length)return;let t=this.gameManager.getFeature("objects");for(let i of e)this.interpolateBulletPosition(i,t),this.interpolateObjectAnimationPosition(i,t)}interpolateBulletPosition(e,t){if(!this.isBullet(e))return;let i=c.get(t.bullets,e);if(!i)return;let n=this.interpolateObjectsPositions[e];if(!n)return;if(this.isCurrentPosition(i,n)){delete this.interpolateObjectsPositions[e];return}let r=c.roundToPrecision(Phaser.Math.Linear(i.x,n.x,this.interpolationSpeed),0),s=c.roundToPrecision(Phaser.Math.Linear(i.y,n.y,this.interpolationSpeed),0);t.updateBulletBodyPosition(e,{x:r,y:s}),n.mov||delete this.interpolateObjectsPositions[e]}isBullet(e){return -1!==e.indexOf("bullet")}interpolateObjectAnimationPosition(e,t){let i=this.objectsAnimations[e];if(!i)return;let n=this.interpolateObjectsPositions[e];if(!n)return;if(this.isCurrentPosition(i,n)){delete this.interpolateObjectsPositions[e];return}let r={x:c.roundToPrecision(Phaser.Math.Linear(i.x,n.x,this.interpolationSpeed),0),y:c.roundToPrecision(Phaser.Math.Linear(i.y,n.y,this.interpolationSpeed),0),inState:n.inState,mov:n.mov};t.updateObjectsAnimations(e,r,this),n.mov||delete this.interpolateObjectsPositions[e]}isCurrentPosition(e,t){return e&&t?Math.round(e.x)===Math.round(t.x)&&Math.round(e.y)===Math.round(t.y):(u.warning("None entity found to compare current entity position."),!1)}async changeScene(){if(this.minimap?.destroyMap(),this.eventsManager.emitSync("reldens.changeSceneDestroyPrevious",this),this.objectsAnimations={},this.objectsAnimationsData=!1,this.useTsAnimation)for(let e of this.tilesetAnimations)e.destroy()}registerLayers(){if(0===this.map.layers.length)return;let e=0,t=this.configManager.get("client/map/layersDepth/belowPlayer"),i=this.configManager.get("client/map/layersDepth/changePoints");for(let n of this.map.layers){if(this.layers[e]=this.map.createLayer(n.name,this.tilesets),!this.layers[e]){u.critical("Map layer could not be created.",n.name,this.key);continue}-1!==n.name.indexOf("below-player")&&this.layers[e].setDepth(t),-1!==n.name.indexOf("over-player")&&this.layers[e].setDepth(e*this.map.height*this.map.tileHeight),-1!==n.name.indexOf("change-points")&&this.layers[e].setDepth(i),e++}}appendRowAndColumn(e){let t=this.map.worldToTileXY(e.worldX,e.worldY),i=this.map.worldToTileXY(this.player.state.x,this.player.state.y);return t&&i?(e.worldColumn=t.x,e.worldRow=t.y,e.playerOriginCol=i.x,e.playerOriginRow=i.y,e):(u.error("Move to pointer error."),!1)}createFloatingText(e,t,i,n,r,s=14,a=600,o=50,l="#000000",h=4,u="rgba(0,0,0,0.7)"){let c=this.add.text(e,t,i,{fontFamily:r,fontSize:s+"px"});c.style.setColor(n),c.style.setAlign("center"),c.style.setStroke(l,h),c.style.setShadow(5,5,u,5),c.setDepth(2e5),this.add.tween({targets:c,duration:a,ease:"Exponential.In",y:t-o,onComplete:()=>{c.destroy()}})}updatePointerObject(e){if(!this.configManager.get("client/ui/pointer/show"))return;this.arrowSprite&&this.arrowSprite.destroy();let t=this.configManager.get("client/ui/pointer/topOffSet",16);this.arrowSprite=this.physics.add.sprite(e.worldX,e.worldY-t,l.ARROW_DOWN),this.arrowSprite.setDepth(5e5),this.arrowSprite.anims.play(l.ARROW_DOWN,!0).on("animationcomplete",()=>{this.arrowSprite.destroy()})}getAnimationByKey(e){return this.anims&&this.anims?.anims&&this.anims?.anims?.entries?c.get(this.anims.anims.entries,e,!1):(u.error("Animations not loaded.",this.anims),!1)}getObjectFromExtraData(e,t,i){let n=!1,r=e+"K",s=t[e+"T"]===h.DATA_TYPE_VALUE_PLAYER;return!s&&c.hasOwn(this.objectsAnimations,t[r])&&(n=this.objectsAnimations[t[r]]),s&&c.hasOwn(i.players,t[r])&&(n=i.players[t[r]]),n}loopKeysAddListenerToElement(e,t,i,n){t.addEventListener(i,()=>{for(let t of e)this.input.keyboard[n](t)})}}},{"56de17c4ccf45c73":"8S6DV",b334ee32beb899f2:"atnmj","13bc6189b150e929":"aVmfe",c03f8a1b2de25882:"7Qdd3","8ff1637c59b70d9":"4omVM",bb692a977dadc69f:"3lwy5","185341906c7b3aa0":"8k4Rg"}],atnmj:[function(e,t,i,n){t.exports.TileSetAnimation=class{constructor(e){this.timer=e?.timer}register(e,t){for(let i of(this.animations=[],this.registered={},this.layer=e,this.tileset=t,Object.keys(t.tileData))){let e=t.tileData[i];if(!e.animation)continue;e.id=i;let n=0;for(let t of e.animation){if(Number(i)===Number(t?.tileid||0)){e.initIndex=n;break}n++}this.animations.push(e)}}start(){for(let e of this.animations){let t=e.animation.length,i=Number(e.initIndex||0),n=Number((i+1)%t);this.repeat(e,i,n)}}repeat(e,t,i){let n=e.id;this.registered[n]&&(this.registered[n]=null);let r=e.animation,s=r.length,a=Number(this.tileset.firstgid),o=Number(e.animation[t].tileid)+a,l=Number(e.animation[i].tileid)+a;this.layer.replaceByIndex(o,l);let h=r[i].duration,u=Number((i+1)%s);this.registered[n]=this.setTimeout(this.repeat.bind(this,e,Number(i),u),h)}destroy(){for(let e of Object.keys(this.registered))this.registered[e]&&this.clearTimeout(this.registered[e])}setTimeout(e,t){return this.timer?this.timer.setTimeout(e,t):setTimeout(e,t)}clearTimeout(e){if(this.timer)return this.timer.clearTimeout(e);clearTimeout(e)}}},{}],aVmfe:[function(e,t,i,n){let{sc:r}=e("c1999f9b5d5e09ce");t.exports.Minimap=class{constructor(e){this.config=e.config,this.events=e.events}createMap(e,t){this.minimapCamera=!1,this.circle=!1,this.scope=!1,this.awaitOnCamera=r.get(this.config,"awaitOnCamera",400),this.autoWidth=e.map.widthInPixels/r.get(this.config,"mapWidthDivisor",1),this.camWidth=r.get(this.config,"fixedWidth",this.autoWidth),this.autoHeight=e.map.heightInPixels/r.get(this.config,"mapHeightDivisor",1),this.camHeight=r.get(this.config,"fixedHeight",this.autoHeight),this.camX=r.get(this.config,"camX",0),this.camY=r.get(this.config,"camY",0),this.camBackgroundColor=r.get(this.config,"camBackgroundColor","rgba(0,0,0,0.6)"),this.camZoom=r.get(this.config,"camZoom",.15),this.roundMap=r.get(this.config,"roundMap",!1),this.addCircle=r.get(this.config,"addCircle",!1),this.createMinimapCamera(e,t),this.createRoundMap(e),this.events.emitSync("reldens.createdMinimap",this)}createMinimapCamera(e,t){this.minimapCamera=e.cameras.add(this.camX,this.camY,this.camWidth,this.camHeight).setName("minimap").setBackgroundColor(this.camBackgroundColor).setZoom(this.camZoom).startFollow(t,r.get(this.config,"mapCameraRoundPixels",!0),r.get(this.config,"mapCameraLerpX",1),r.get(this.config,"mapCameraLerpY",1)).setRoundPixels(!0).setVisible(!1).setOrigin(r.get(this.config,"mapCameraOriginX",.18),r.get(this.config,"mapCameraOriginY",.18))}createRoundMap(e){if(!this.roundMap)return!1;this.addCircle&&this.addMinimapCircle(e),this.createRoundCamera(e)}addMinimapCircle(e){let t=e.gameManager.getActiveScenePreloader();this.circle=t.add.circle(r.get(this.config,"circleX",220),r.get(this.config,"circleY",88),r.get(this.config,"circleRadio",80.35),r.get(this.config,"circleColor","rgb(0,0,0)"),r.get(this.config,"circleAlpha",1)),this.circle.setStrokeStyle(r.get(this.config,"circleStrokeLineWidth",6),r.get(this.config,"circleStrokeColor",0),r.get(this.config,"circleStrokeAlpha",.6)),this.circle.setFillStyle(r.get(this.config,"circleFillColor",1),r.get(this.config,"circleFillAlpha",0)),this.circle.setVisible(!1)}createRoundCamera(e){this.scope=e.add.graphics(),this.scope.fillStyle(0,0).fillCircle(r.get(this.config,"circleX",220),r.get(this.config,"circleY",88),r.get(this.config,"circleRadio",80.35)),this.minimapCamera.setMask(this.scope.createGeometryMask())}destroyMap(){delete this.minimapCamera,delete this.circle,delete this.scope}}},{c1999f9b5d5e09ce:"3lwy5"}],"362qD":[function(e,t,i,n){let{Scene:r,Geom:s}=e("8f766b8f0d7630d6"),{MinimapUi:a}=e("64a334dcd3e65bd4"),{InstructionsUi:o}=e("936bc5003291bd3d"),{SettingsUi:l}=e("c21ef162a4dcfda6"),{Joystick:h}=e("ad6886ec1b7e2757"),{GameConst:u}=e("835464c1daa61ed6"),{ActionsConst:c}=e("eab2c5783e5cea80"),{Logger:d,sc:f}=e("36253877d5e76351");t.exports.ScenePreloader=class extends r{constructor(e){super({key:e.name}),this.relatedSceneKey=e.name.replace(u.SCENE_PRELOADER,""),this.progressBar=null,this.progressCompleteRect=null,this.progressRect=null,this.userInterfaces={},this.preloadMapKey=e.map,this.preloadImages=e.images,this.uiScene=e.uiScene,this.elementsUi={},this.gameManager=e.gameManager,this.eventsManager=e.gameManager.events,this.preloadAssets=e.preloadAssets||{},this.directionalAnimations={},this.objectsAnimations={},this.gameManager.createdAnimations||(this.gameManager.createdAnimations={}),this.gameManager.activeRoomEvents.getActiveScene().objectsAnimationsData=e.objectsAnimationsData,this.playerSpriteSize={frameWidth:this.gameManager.config.get("client/players/size/width",52),frameHeight:this.gameManager.config.get("client/players/size/height",71)},this.useJoystick=this.gameManager.config.getWithoutLogs("client/ui/controls/useJoystick",!1),this.joystick=new h({scenePreloader:this})}preload(){let e=this.uiScene?this:this.gameManager.gameEngine.uiScene;this.eventsManager.emitSync("reldens.beforePreload",this,e),this.preloadUiScene(),this.preloadMapJson(),this.preloadMapImages(),this.preloadValidAssets(),this.preloadPlayerDefaultSprite(),this.preloadArrowPointer(),this.load.image(u.ICON_STATS,this.gameManager.config.get("client/general/assets/statsIconPath","/assets/icons/book.png")),this.load.on("fileprogress",this.onFileProgress,this),this.load.on("progress",this.onLoadProgress,this),this.load.on("complete",this.onLoadComplete,this),this.configuredFrameRate=this.gameManager.config.get("client/general/animations/frameRate",10),this.showLoadingProgressBar()}preloadMapJson(){this.preloadMapKey&&this.load.tilemapTiledJSON(this.preloadMapKey,"/assets/maps/"+this.preloadMapKey+".json")}preloadArrowPointer(){if(!this.gameManager.config.get("client/ui/pointer/show"))return;let e={frameWidth:this.gameManager.config.getWithoutLogs("client/general/assets/arrowDownFrameWidth",32),frameHeight:this.gameManager.config.getWithoutLogs("client/general/assets/arrowDownFrameHeight",32)};this.load.spritesheet(u.ARROW_DOWN,this.gameManager.config.get("client/general/assets/arrowDownPath","/assets/sprites/arrow-down.png"),e)}preloadUiScene(){this.uiScene&&(this.eventsManager.emitSync("reldens.beforePreloadUiScene",this),this.gameManager.config.get("client/ui/playerBox/enabled")&&this.load.html("playerBox","/assets/html/ui-player-box.html"),this.gameManager.config.get("client/ui/controls/enabled")&&this.load.html("controls","/assets/html/ui-controls.html"),this.useJoystick&&this.load.html("joystick","/assets/html/ui-joystick.html"),this.gameManager.config.get("client/ui/sceneLabel/enabled")&&this.load.html("sceneLabel","/assets/html/ui-scene-label.html"),this.gameManager.config.get("client/ui/instructions/enabled")&&this.load.html("instructions","/assets/html/ui-instructions.html"),this.gameManager.config.get("client/ui/minimap/enabled")&&this.load.html("minimap","/assets/html/ui-minimap.html"),this.gameManager.config.get("client/ui/settings/enabled")&&(this.load.html("settings","/assets/html/ui-settings.html"),this.load.html("settings-content","/assets/html/ui-settings-content.html")),this.gameManager.config.getWithoutLogs("client/ui/preloadTarget/enabled",!0)&&this.load.html("uiTarget","/assets/html/ui-target.html"),this.gameManager.config.getWithoutLogs("client/ui/preloadOptionsTemplates/enabled",!0)&&(this.load.html("uiOptionButton","/assets/html/ui-option-button.html"),this.load.html("uiOptionIcon","/assets/html/ui-option-icon.html"),this.load.html("uiOptionsContainer","/assets/html/ui-options-container.html")),this.gameManager.config.getWithoutLogs("client/ui/preloadLoading/enabled",!0)&&this.load.html("uiLoading","/assets/html/ui-loading.html"),this.eventsManager.emitSync("reldens.preloadUiScene",this))}preloadMapImages(){if(this.preloadImages)for(let e of this.preloadImages)this.load.image(e,`/assets/maps/${e}`)}preloadValidAssets(){if(!f.isObject(this.preloadAssets)){d.info("None assets available for preload.");return}for(let e of Object.keys(this.preloadAssets)){let t=this.preloadAssets[e];if("spritesheet"!==t.asset_type)continue;let i=f.toJson(t.extra_params);if(!i){d.error("Missing spritesheet params.",t);continue}this.load.spritesheet(t.asset_key,`/assets/custom/sprites/${t.asset_file}`,i)}}create(){let e=this.uiScene?this:this.gameManager.gameEngine.uiScene;this.eventsManager.emitSync("reldens.createPreload",this,e),this.uiScene&&this.createUiScene(),this.createPlayerAnimations(f.get(this.gameManager.playerData,"avatarKey",u.IMAGE_PLAYER)),this.createArrowAnimation()}createUiScene(){this.eventsManager.emitSync("reldens.beforeCreateUiScene",this),this.createPlayerBox(),this.createTargetUi(),this.createSceneLabelBox(),this.createControlsBox(),this.createInstructionsBox(),this.createMiniMap(),this.createSettingsUi(),this.eventsManager.emitSync("reldens.createUiScene",this)}createSettingsUi(){let e=this.getUiConfig("settings");e.enabled&&(this.settingsUi=new l,this.settingsUi.createSettings(e,this))}createMiniMap(){let e=this.getUiConfig("minimap");e.enabled&&(this.minimapUi=new a,this.minimapUi.createMinimap(e,this))}createInstructionsBox(){let e=this.getUiConfig("instructions");e.enabled&&(this.instructionsUi=new o,this.instructionsUi.createInstructions(e,this))}createControlsBox(){let e=this.getUiConfig("controls");if(e.enabled)return this.useJoystick?(this.elementsUi.controls=this.createUi("joystick",e),this.joystick.registerJoystickController()):(this.elementsUi.controls=this.createUi("controls",e),this.registerControllers(this.elementsUi.controls))}createUi(e,t){return this.createContent(e,t.uiX,t.uiY)}createContent(e,t,i){return this.add.dom(t,i).createFromCache(e)}createSceneLabelBox(){let e=this.getUiConfig("sceneLabel");e.enabled&&(this.elementsUi.sceneLabel=this.createUi("sceneLabel",e))}createTargetUi(){let e=this.getUiConfig("uiTarget");e.enabled&&(this.uiTarget=this.createUi("uiTarget",e),this.uiTarget.getChildByProperty("className","close-target").addEventListener("click",()=>{this.gameManager.gameEngine.clearTarget()}))}createPlayerBox(){let e=this.getUiConfig("playerBox");if(!e.enabled)return;this.elementsUi.playerBox=this.createUi("playerBox",e);let t=this.elementsUi.playerBox.getChildByProperty("id","logout");t?.addEventListener("click",()=>{this.gameManager.forcedDisconnection=!0,this.gameManager.firebase.isActive&&this.gameManager.firebase.app.auth().signOut(),this.gameManager.gameDom.getWindow().location.reload()})}getUiConfig(e,t,i){let{uiX:n,uiY:r}=this.getUiPosition(e,t,i);return{enabled:this.gameManager.config.getWithoutLogs("client/ui/"+e+"/enabled"),uiX:n,uiY:r}}getUiPosition(e,t,i){""===e&&(e="default");let n=this.gameManager.config.getWithoutLogs("client/ui/"+e,{}),r=f.get(n,"x",0),s=f.get(n,"y",0);if(this.gameManager.config.get("client/ui/screen/responsive")){let e=f.get(n,"responsiveX",!1),a=f.get(n,"responsiveY",!1),o=this.gameManager.gameDom.getElement(u.SELECTORS.GAME_CONTAINER);t||(t=o.offsetWidth),i||(i=o.offsetHeight),r=!1!==e?e*t/100:0,s=!1!==a?a*i/100:0}return{uiX:r,uiY:s}}preloadPlayerDefaultSprite(){let e=this.gameManager.config.get("client/players/animations/fallbackImage","player-base.png");this.load.spritesheet(u.IMAGE_PLAYER,"/assets/custom/sprites/"+e,this.playerSpriteSize)}createPlayerAnimations(e){let t=this.gameManager.config.getWithoutLogs("client/players/animations/"+e+"Frames",this.gameManager.config.get("client/players/animations/defaultFrames"));for(let i of[{k:e+"_"+u.LEFT,img:e,start:t.left.start||3,end:t.left.end||5,repeat:-1,hide:!1},{k:e+"_"+u.RIGHT,img:e,start:t.right.start||6,end:t.right.end||8,repeat:-1,hide:!1},{k:e+"_"+u.UP,img:e,start:t.up.start||9,end:t.up.end||11,repeat:-1,hide:!1},{k:e+"_"+u.DOWN,img:e,start:t.down.start||0,end:t.down.end||2,repeat:-1,hide:!1}])this.createAnimationWith(i);this.eventsManager.emitSync("reldens.createPlayerAnimations",this,e)}createArrowAnimation(){if(!this.gameManager.config.get("client/ui/pointer/show"))return;let e={k:u.ARROW_DOWN,img:u.ARROW_DOWN,start:0,end:2,repeat:3,rate:6};this.createAnimationWith(e)}createAnimationWith(e){if(this.gameManager.createdAnimations[e.k])return;let t={key:e.k,frames:this.anims.generateFrameNumbers(e.img,{start:e.start,end:e.end}),frameRate:f.get(e,"frameRate",this.configuredFrameRate),repeat:e.repeat,hideOnComplete:f.get(e,"hide",!0)};return this.gameManager.createdAnimations[e.k]=this.anims.create(t),this.gameManager.createdAnimations[e.k]}registerControllers(e){this.setupDirButtonInBox(u.UP,e),this.setupDirButtonInBox(u.DOWN,e),this.setupDirButtonInBox(u.LEFT,e),this.setupDirButtonInBox(u.RIGHT,e),this.setupDefaultActionKey(e)}setupDefaultActionKey(e){let t=this.gameManager.config.get("client/ui/controls/defaultActionKey")||"physical_attack",i=this.createActionBox(t);this.gameManager.gameDom.appendToElement(".action-buttons",i),this.setupActionButtonInBox(t,e)}createActionBox(e){let t=this.cache.html.get("actionBox");return this.gameManager.gameEngine.parseTemplate(t,{key:e,actionName:e})}setupDirButtonInBox(e,t){let i=t.getChildByProperty("id",e);i&&this.hold(i,{dir:e})}setupActionButtonInBox(e,t){let i=t.getChildByProperty("id",e);if(i){if(this.gameManager.config.get("client/general/controls/action_button_hold")){this.hold(i,e);return}i?.addEventListener("click",()=>{let t=this.gameManager.activeRoomEvents.getActiveScene(),i={act:c.ACTION,target:t.player.currentTarget,type:e};this.gameManager.activeRoomEvents.send(i)})}}hold(e,t){e.addEventListener("mousedown",i=>{this.startHold(i,e,t)}),e.addEventListener("mouseup",t=>{this.endHold(t,e)}),e.addEventListener("mouseout",t=>{this.endHold(t,e)}),e.addEventListener("touchstart",i=>{this.startHold(i,e,t)}),e.addEventListener("touchend",t=>{this.endHold(t,e)})}startHold(e,t,i){e.preventDefault(),this.gameManager.config.get("client/ui/controls/opacityEffect")&&t.classList.add("button-opacity-off");let n=this.gameManager.activeRoomEvents.getActiveScene(),r=i;if(!f.hasOwn(i,"dir")){let e="string"==typeof i?i:i?.type;e||(e=this.gameManager.config.get("client/ui/controls/defaultActionKey")||"attack"),r={act:c.ACTION,target:n.player.currentTarget,type:e}}this.gameManager.activeRoomEvents.send(r)}endHold(e,t){e.preventDefault(),this.gameManager.config.get("client/ui/controls/opacityEffect")&&t.classList.remove("button-opacity-off"),this.gameManager.activeRoomEvents.send({act:u.STOP})}showLoadingProgressBar(){if(!this.gameManager.config.getWithoutLogs("client/ui/loading/show",!0))return;let e=s.Rectangle,t=e.Clone(this.cameras.main);this.progressRect=new e(0,0,t.width/2,50),e.CenterOn(this.progressRect,t.centerX,t.centerY),this.progressCompleteRect=s.Rectangle.Clone(this.progressRect),this.progressBar=this.createGraphics();let i=this.cameras.main.width,n=this.cameras.main.height,r=this.gameManager.config.get("client/ui/loading/font"),a=this.gameManager.config.get("client/ui/loading/fontSize"),o=this.gameManager.config.get("client/ui/loading/assetsSize");this.loadingText=this.createText(i/2,n/2-50,"Loading...",{fontFamily:r,fontSize:a}),this.loadingText.setOrigin(.5,.5),this.loadingText.setFill(this.gameManager.config.get("client/ui/loading/loadingColor")),this.percentText=this.createText(i/2,n/2-5,"0%",{fontFamily:r,fontSize:o}),this.percentText.setOrigin(.5,.5),this.percentText.setFill(this.gameManager.config.get("client/ui/loading/percentColor")),this.assetText=this.createText(i/2,n/2+50,"",{fontFamily:r,fontSize:o}),this.assetText.setFill(this.gameManager.config.get("client/ui/loading/assetsColor")),this.assetText.setOrigin(.5,.5)}createText(e,t,i,n){return this.add.text(e,t,i,n)}createGraphics(){return this.add.graphics()}onLoadComplete(){for(let e of this.children.list)e.destroy();this.loadingText.destroy(),this.assetText.destroy(),this.percentText.destroy(),this.scene.shutdown()}onFileProgress(e){this.gameManager.config.get("client/ui/loading/showAssets")&&this.assetText.setText("Loading "+e.key)}onLoadProgress(e){let t=parseInt(100*e)+"%";this.percentText.setText(t),this.progressRect.width=e*this.progressCompleteRect.width,this.progressBar.clear().fillStyle(2236962).fillRectShape(this.progressCompleteRect).fillStyle(0xffffff).fillRectShape(this.progressRect)}getUiElement(e,t=!0){return f.hasOwn(this.elementsUi,e)?this.elementsUi[e]:(t&&d.error("UI not found.",{uiName:e}),!1)}}},{"8f766b8f0d7630d6":"8S6DV","64a334dcd3e65bd4":"hbvDK","936bc5003291bd3d":"1BhzQ",c21ef162a4dcfda6:"3Z8EU",ad6886ec1b7e2757:"i46NX","835464c1daa61ed6":"7Qdd3",eab2c5783e5cea80:"4omVM","36253877d5e76351":"3lwy5"}],hbvDK:[function(e,t,i,n){let{sc:r}=e("2f2421424d7d7b51");t.exports.MinimapUi=class{createMinimap(e,t){t.elementsUi.minimap=t.add.dom(e.uiX,e.uiY).createFromCache("minimap");let i=t.elementsUi.minimap.getChildByProperty("id","minimap-open"),n=t.elementsUi.minimap.getChildByProperty("id","minimap-close");i?.addEventListener("click",()=>{let e=t.elementsUi.minimap.getChildByProperty("id","minimap-ui");e.classList.remove("hidden"),i.classList.add("hidden");let r=t.gameManager.getActiveScene().minimap;r&&this.showMap(r,t,i,n,e)}),n?.addEventListener("click",()=>{let e=t.elementsUi.minimap.getChildByProperty("id","minimap-ui");e.classList.add("hidden"),i&&i.classList.remove("hidden");let r=t.gameManager.getActiveScene().minimap;r&&this.hideMap(r,t,n,e)})}showMap(e,t,i,n,r){if(this.awaitForCamera(e)){setTimeout(()=>{this.showMap(e,t,i,n,r)},e.awaitOnCamera);return}e.minimapCamera.setVisible(!0),e.circle&&e.circle.setVisible(!0),t.gameManager.events.emit("reldens.openUI",{ui:this,openButton:i,minimap:e,box:r})}hideMap(e,t,i,n){if(this.awaitForCamera(e)){setTimeout(()=>{this.hideMap(e,t,i,n)},e.awaitOnCamera);return}e.minimapCamera.setVisible(!1),e.circle&&e.circle.setVisible(!1),t.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:i,minimap:e,box:n})}awaitForCamera(e){return 0<e.awaitOnCamera&&(!e.minimapCamera||!r.isFunction(e.minimapCamera.setVisible))}}},{"2f2421424d7d7b51":"3lwy5"}],"1BhzQ":[function(e,t,i,n){let{Logger:r}=e("29fc70a7ef91dac7");t.exports.InstructionsUi=class{createInstructions(e,t){let i=t.add.dom(e.uiX,e.uiY).createFromCache("instructions");if(!i)return r.info("Instructions dialog box could not be created."),!1;let n=t.gameManager.gameDom.getElement("#instructions");if(!n)return r.info("Instructions container not found."),!1;let s=i.getChildByProperty("id","instructions-open");s?.addEventListener("click",()=>{n.style.display="block",t.gameManager.events.emit("reldens.openUI",{ui:this,openButton:s,dialogBox:i,dialogContainer:n,uiScene:t})});let a=t.gameManager.gameDom.getElement("#instructions-close");a?.addEventListener("click",()=>{n.style.display="none",t.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:a,openButton:s,dialogBox:i,dialogContainer:n,uiScene:t})}),t.elementsUi.instructions=i}}},{"29fc70a7ef91dac7":"3lwy5"}],"3Z8EU":[function(e,t,i,n){let{Logger:r}=e("ef5a8f725428dc7c");t.exports.SettingsUi=class{createSettings(e,t){let i=t.add.dom(e.uiX,e.uiY).createFromCache("settings");if(!i)return r.info("Settings dialog box could not be created."),!1;let n=t.cache.html.get("settings-content");if(!n)return r.info("Settings template not found."),!1;t.gameManager.gameDom.appendToElement(".content",n);let s=t.gameManager.gameDom.getElement("#settings-ui");if(!s)return r.info("Settings container not found."),!1;let a=t.gameManager.gameDom.getElement("#settings-close"),o=i.getChildByProperty("id","settings-open");o?.addEventListener("click",()=>{s.style.display="block",o&&(o.style.display="none"),t.gameManager.events.emit("reldens.openUI",{ui:this,openButton:o,dialogBox:i,dialogContainer:s,uiScene:t})}),a?.addEventListener("click",()=>{s.style.display="none",o&&(o.style.display="block"),t.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:a,openButton:o,dialogBox:i,dialogContainer:s,uiScene:t})}),t.elementsUi.settings=i}}},{ef5a8f725428dc7c:"3lwy5"}],i46NX:[function(e,t,i,n){let{GameConst:r}=e("9fba4ae732684e48"),{Logger:s}=e("93c2f2af6847956");t.exports.Joystick=class{constructor(e){this.gameManager=e?.scenePreloader?.gameManager,this.scenePreloader=e?.scenePreloader,this.gameDom=this.gameManager?.gameDom,this.isDragging=!1,this.centerX=!1,this.centerY=!1,this.threshold=this.gameManager.config.getWithoutLogs("client/ui/controls/joystickThreshold",20),this.joystickLeft=this.gameManager.config.getWithoutLogs("client/ui/controls/joystickLeft",25),this.joystickTop=this.gameManager.config.getWithoutLogs("client/ui/controls/joystickTop",25),this.positionSufix="px"}registerJoystickController(){if(!this.gameManager)return s.error("GameManager undefined on Joystick."),!1;this.joystick=this.gameDom.getElement("#joystick"),this.joystickThumb=this.gameDom.getElement("#joystick-thumb"),this.joystickThumb.addEventListener("mousedown",e=>{this.applyMovement(e.clientX,e.clientY)}),this.joystickThumb.addEventListener("touchstart",e=>{e.preventDefault();let t=e.touches?.shift();this.applyMovement(t.clientX,t.clientY)}),this.gameDom.getDocument().addEventListener("mousemove",this.handleMouseMove.bind(this)),this.gameDom.getDocument().addEventListener("mouseup",this.handleStop.bind(this)),this.gameDom.getDocument().addEventListener("touchmove",this.handleTouchMove.bind(this)),this.gameDom.getDocument().addEventListener("touchend",this.handleStop.bind(this))}position(e){return e+this.positionSufix}applyMovement(e,t){this.isDragging=!0;let i=this.joystick.getBoundingClientRect();this.centerX=i.width/2,this.centerY=i.height/2,this.updateThumbPosition(e-i.left,t-i.top)}handleStop(){this.isDragging=!1,this.joystickThumb.style.left=this.position(this.joystickLeft),this.joystickThumb.style.top=this.position(this.joystickTop),this.gameManager.getCurrentPlayer().stop()}updateDirection(e,t){let i=e-this.centerX,n=t-this.centerY,s=r.STOP;if(Math.abs(i)>Math.abs(n)&&Math.abs(i)>this.threshold){for(let e of(s=i>0?Math.abs(n)>this.threshold?n>0?"right-down":"right-up":"right":Math.abs(n)>this.threshold?n>0?"left-down":"left-up":"left").split("-"))try{this.gameManager.getCurrentPlayer()[e]()}catch(e){}return s}if(Math.abs(n)>this.threshold){for(let e of(s=n>0?Math.abs(i)>this.threshold?i>0?"down-right":"down-left":"down":Math.abs(i)>this.threshold?i>0?"up-right":"up-left":"up").split("-"))try{this.gameManager.getCurrentPlayer()[e]()}catch(e){}return s}return this.gameManager.getCurrentPlayer().stop(),s}updateThumbPosition(e,t){let i=e-this.centerX,n=t-this.centerY,r=Math.sqrt(i*i+n*n),s=Math.min(this.centerX,this.centerY);if(r>s){let e=Math.atan2(n,i),t=Math.cos(e)*s+this.centerX-this.joystickThumb.offsetWidth/2;this.joystickThumb.style.left=this.position(t);let r=Math.sin(e)*s+this.centerY-this.joystickThumb.offsetHeight/2;this.joystickThumb.style.top=this.position(r);return}let a=e-this.joystickThumb.offsetWidth/2;this.joystickThumb.style.left=this.position(a);let o=t-this.joystickThumb.offsetHeight/2;this.joystickThumb.style.top=this.position(o)}handleMouseMove(e){if(!this.isDragging)return;let t=this.joystick.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top;this.updateThumbPosition(i,n),this.updateDirection(i,n)}handleTouchMove(e){if(!this.isDragging)return;let t=e.touches?.shift(),i=this.joystick.getBoundingClientRect(),n=t.clientX-i.left,r=t.clientY-i.top;this.updateThumbPosition(n,r),this.updateDirection(n,r)}}},{"9fba4ae732684e48":"7Qdd3","93c2f2af6847956":"3lwy5"}],c3qcp:[function(e,t,i,n){let{RegistrationFormHandler:r}=e("608d613a940bf253"),{TermsAndConditionsHandler:s}=e("68a30757e194dcbe"),{LoginFormHandler:a}=e("8ae6e016860e3760"),{ForgotPasswordFormHandler:o}=e("88d5365e17c4acaf"),{GuestFormHandler:l}=e("edd6483cd3317d55"),{FullScreenHandler:h}=e("a064b368ba69cc47");t.exports.ClientStartHandler=class{constructor(e){this.gameManager=e}clientStart(){let e=new r(this.gameManager);e.activateRegistration(),new l(this.gameManager).activateGuest();let t=new s(this.gameManager);t.activateTermsAndConditions();let i=new a(this.gameManager);i.activateLogin();let n=new o(this.gameManager);n.activateForgotPassword(),n.displayForgotPassword();let u=new h(this.gameManager);u.activateFullScreen(),this.gameManager.firebase&&this.gameManager.firebase.startFirebase(),Object.assign(this.gameManager.elements,{registrationForm:e,termsAndConditions:t,loginForm:i,forgotPasswordForm:n,fullScreen:u}),this.gameManager.events.emitSync("reldens.clientStartAfter",this)}}},{"608d613a940bf253":"fNct5","68a30757e194dcbe":"iXiN7","8ae6e016860e3760":"hJVzC","88d5365e17c4acaf":"9Dx4t",edd6483cd3317d55:"jGe15",a064b368ba69cc47:"fnbTX"}],fNct5:[function(e,t,i,n){let{ErrorsBlockHandler:r}=e("d85d91b48b2c7edd"),{GameConst:s}=e("90dddfb611375998");t.exports.RegistrationFormHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.form=e.gameDom.getElement(s.SELECTORS.REGISTER_FORM)}activateRegistration(){if(!this.form)return!1;if(!this.gameManager.config.get("client/general/users/allowRegistration"))return this.form.classList.add("hidden"),!0;r.reset(this.form);let e=s.SELECTORS,t=this.gameDom.getElement(e.TERMS.ACCEPT),i=this.gameDom.getElement(e.TERMS.BOX);this.form.addEventListener("submit",n=>{if(n.preventDefault(),!this.form.checkValidity())return!1;let r=this.gameDom.getElement(e.REGISTRATION.PASSWORD).value,a=this.gameDom.getElement(e.REGISTRATION.RE_PASSWORD).value,o=this.form.querySelector(e.RESPONSE_ERROR);if(r!==a&&o)return o.innerHTML="Password and confirmation does not match.",!1;if(!t.checked&&o)return o.innerHTML="Please read and accept the terms and conditions and continue.",!1;i?.classList.add(s.CLASSES.HIDDEN),this.form.querySelector(e.LOADING_CONTAINER).classList.remove(s.CLASSES.HIDDEN);let l={formId:this.form.id,email:this.gameDom.getElement(e.REGISTRATION.EMAIL).value,username:this.gameDom.getElement(e.REGISTRATION.USERNAME).value,password:r,rePassword:a};this.gameManager.startGame(l,!0)})}}},{d85d91b48b2c7edd:"lVBG2","90dddfb611375998":"7Qdd3"}],lVBG2:[function(e,t,i,n){let{GameConst:r}=e("e917c2c795f7ff8f");t.exports.ErrorsBlockHandler=class{static reset(e){let t=e.querySelector(r.SELECTORS.RESPONSE_ERROR);e.querySelector(r.SELECTORS.INPUT).addEventListener("focus",()=>{t.innerHTML="";let i=e.querySelector(r.SELECTORS.LOADING_CONTAINER);i&&i?.classList.add(r.CLASSES.HIDDEN)})}}},{e917c2c795f7ff8f:"7Qdd3"}],iXiN7:[function(e,t,i,n){let{GameConst:r}=e("d6063cbabda2e0b9"),{Logger:s}=e("8a5736287636926a");t.exports.TermsAndConditionsHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.linkContainer=this.gameManager.gameDom.getElement(r.SELECTORS.TERMS.LINK_CONTAINER)}activateTermsAndConditions(){if(!this.linkContainer)return!1;let e=this.gameManager.appServerUrl+r.ROUTE_PATHS.TERMS_AND_CONDITIONS,t=new URL(this.gameDom.getDocument().location).searchParams.get("lang","");""!==t&&(e+="?lang="+t),this.gameDom.getJSON(e,(e,t)=>{if(e)return s.error("TermsAndConditionsHandler - request failed.",e),!1;if(!t)return s.error("TermsAndConditionsHandler - empty response."),!1;if(!t.body||!t.heading||!t.checkboxLabel||!t.link)return!1;let i=r.SELECTORS.TERMS;this.gameDom.updateContent(i.HEADING,t.heading),this.gameDom.updateContent(i.BODY,t.body),this.gameDom.updateContent(i.ACCEPT_LABEL,t.checkboxLabel),this.gameDom.updateContent(i.LINK,t.link);let n=this.gameDom.getElement(i.LINK),a=this.gameDom.getElement(i.BOX);n?.addEventListener("click",e=>{e.preventDefault(),a?.classList.remove(r.CLASSES.HIDDEN)}),this.gameDom.getElement(i.CLOSE)?.addEventListener("click",()=>{a?.classList.add(r.CLASSES.HIDDEN)});let o=this.gameDom.getElement(r.SELECTORS.REGISTER_FORM);if(o){let e=this.gameDom.getElement(r.SELECTORS.RESPONSE_ERROR,o),t=this.gameDom.getElement(i.ACCEPT),n=this.gameDom.getElement(i.ACCEPT_LABEL);t&&t.addEventListener("click",()=>{t.checked&&e&&(e.innerHTML="")}),t&&n&&n.addEventListener("click",()=>{t.checked&&e&&(e.innerHTML="")})}this.linkContainer?.classList.remove(r.CLASSES.HIDDEN)})}}},{d6063cbabda2e0b9:"7Qdd3","8a5736287636926a":"3lwy5"}],hJVzC:[function(e,t,i,n){let{ErrorsBlockHandler:r}=e("d5f948fac025cf00"),{GameConst:s}=e("249620b21dc55ebc");t.exports.LoginFormHandler=class{constructor(e){this.gameManager=e,this.form=e.gameDom.getElement(s.SELECTORS.LOGIN_FORM)}activateLogin(){if(!this.form)return!1;r.reset(this.form),this.form.addEventListener("submit",e=>{if(e.preventDefault(),r.reset(this.form),!this.form.checkValidity()||this.gameManager.submitedForm)return!1;this.gameManager.submitedForm=!0,this.form.querySelector(s.SELECTORS.LOADING_CONTAINER).classList.remove(s.CLASSES.HIDDEN);let t={formId:this.form.id,username:this.form.querySelector(s.SELECTORS.LOGIN.USERNAME).value,password:this.form.querySelector(s.SELECTORS.LOGIN.PASSWORD).value};return this.gameManager.startGame(t,!1)})}}},{d5f948fac025cf00:"lVBG2","249620b21dc55ebc":"7Qdd3"}],"9Dx4t":[function(e,t,i,n){let{ErrorsBlockHandler:r}=e("193981fc3d2d2a4f"),{GameConst:s}=e("efa22c200ffe27c4"),{Logger:a}=e("8b6d6b1a7ced50e6");t.exports.ForgotPasswordFormHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.form=this.gameManager.gameDom.getElement(s.SELECTORS.FORGOT_PASSWORD_FORM)}activateForgotPassword(){return!!this.form&&(this.gameManager.config.get("client/general/users/allowRegistration")?void(r.reset(this.form),this.form.addEventListener("submit",e=>{if(e.preventDefault(),r.reset(this.form),!this.form.checkValidity())return!1;this.form.querySelector(s.SELECTORS.LOADING_CONTAINER).classList.remove(s.CLASSES.HIDDEN);let t={formId:this.form.id,forgot:!0,email:this.form.querySelector(s.SELECTORS.FORGOT_PASSWORD.EMAIL).value};this.gameManager.startGame(t,!1)})):(this.form.classList.add("hidden"),!0))}displayForgotPassword(){this.gameDom.getJSON(this.gameManager.appServerUrl+s.ROUTE_PATHS.MAILER,(e,t)=>{if(e){a.error("ForgotPasswordFormHandler - mailer check failed.",e);return}t&&t.enabled&&this.gameDom.getElement(s.SELECTORS.FORGOT_PASSWORD.CONTAINER)?.classList.remove(s.CLASSES.HIDDEN)})}}},{"193981fc3d2d2a4f":"lVBG2",efa22c200ffe27c4:"7Qdd3","8b6d6b1a7ced50e6":"3lwy5"}],jGe15:[function(e,t,i,n){let{ErrorsBlockHandler:r}=e("c149aa2f304f71c9"),{GameConst:s}=e("d0afa55222144fd5"),{sc:a}=e("92bd0e265310931");t.exports.GuestFormHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.form=e.gameDom.getElement(s.SELECTORS.GUEST_FORM)}activateGuest(){if(!this.form)return!1;if(!this.gameManager.config.get("client/general/users/allowGuest"))return this.form.classList.add("hidden"),!0;r.reset(this.form);let e=s.SELECTORS;this.form.addEventListener("submit",t=>{if(t.preventDefault(),!this.form.checkValidity())return!1;this.form.querySelector(e.LOADING_CONTAINER).classList.remove(s.CLASSES.HIDDEN);let i="guest-"+a.randomChars(12),n=this.gameManager.config.getWithoutLogs("client/general/users/allowGuestUserName",!1)?this.gameDom.getElement(e.GUEST.USERNAME).value:i,r={formId:this.form.id,username:n,password:n,rePassword:n,isGuest:!0};this.gameManager.startGame(r,!0)})}}},{c149aa2f304f71c9:"lVBG2",d0afa55222144fd5:"7Qdd3","92bd0e265310931":"3lwy5"}],fnbTX:[function(e,t,i,n){let{GameConst:r}=e("4eab227d1a0a5e15");t.exports.FullScreenHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.body=this.gameDom.getElement(r.SELECTORS.BODY)}activateFullScreen(){this.gameDom.getElement(r.SELECTORS.FULL_SCREEN_BUTTON)?.addEventListener("click",e=>{if(e.preventDefault(),!this.gameDom.getDocument().fullscreenEnabled)return!1;this.body.requestFullscreen(),this.goFullScreen()}),this.gameDom.getWindow().matchMedia("(display-mode: fullscreen)").addEventListener("change",({matches:e})=>{if(e){this.goFullScreen();return}this.exitFullScreen()})}goFullScreen(){this.body.classList.add(r.CLASSES.FULL_SCREEN_ON),this.gameManager?.gameEngine&&this.gameManager.gameEngine.updateGameSize(this.gameManager)}exitFullScreen(){this.body.classList.remove(r.CLASSES.FULL_SCREEN_ON),this.gameManager?.gameEngine&&this.gameManager.gameEngine.updateGameSize(this.gameManager)}}},{"4eab227d1a0a5e15":"7Qdd3"}],d5e8E:[function(e,t,i,n){let{ClientCoreFeatures:r}=e("937fbabd544d980a"),{Logger:s,sc:a}=e("6153197f4dcf6984");t.exports.FeaturesManager=class{constructor(e){this.gameManager=a.get(e,"gameManager",!1),this.events=a.get(e,"events",!1)}async loadFeatures(e){if(!this.gameManager)return s.error("Game Manager undefined in FeaturesManager."),!1;if(!this.events)return s.error("EventsManager undefined in FeaturesManager."),!1;this.featuresList={},await this.events.emit("reldens.loadFeatures",this,e);let t=Object.keys(e);if(0===t.length)return this.featuresList;for(let i of t){let t=e[i];a.hasOwn(r,t)&&(this.featuresList[t]=new r[t],"function"==typeof this.featuresList[t].setup&&await this.featuresList[t].setup({gameManager:this.gameManager,events:this.events}),await this.events.emit("reldens.loadFeature_"+t,this.featuresList[t],this))}return this.featuresList}}},{"937fbabd544d980a":"6OaZV","6153197f4dcf6984":"3lwy5"}],"6OaZV":[function(e,t,i,n){let{ChatPlugin:r}=e("c80cf07351e7933e"),{ObjectsPlugin:s}=e("202c37cfc4f01952"),{InventoryPlugin:a}=e("86e49040e809ec9"),{ActionsPlugin:o}=e("7b4ce1e4916d0d89"),{UsersPlugin:l}=e("f6b714dd3b21c20c"),{AudioPlugin:h}=e("548842b5f4200d4"),{RoomsPlugin:u}=e("f55cb270e23ef32f"),{PredictionPlugin:c}=e("d51d3dd16adea08c"),{TeamsPlugin:d}=e("f9876ae3d71a9760"),{SnippetsPlugin:f}=e("32c4ba6aa423f6a1"),{AdsPlugin:p}=e("a9dc07b8ccee3ac8"),{WorldPlugin:m}=e("b2cf245c110682c9"),{ScoresPlugin:g}=e("766badb4827425d2"),{RewardsPlugin:v}=e("c8ce87b75f2d2d6e");t.exports.ClientCoreFeatures={chat:r,objects:s,inventory:a,actions:o,users:l,audio:h,rooms:u,prediction:c,teams:d,snippets:f,ads:p,world:m,scores:g,rewards:v}},{c80cf07351e7933e:"2ioqK","202c37cfc4f01952":"lkmJP","86e49040e809ec9":"jQDY1","7b4ce1e4916d0d89":"fb8TJ",f6b714dd3b21c20c:"kfhaD","548842b5f4200d4":"4qLtm",f55cb270e23ef32f:"4FPKN",d51d3dd16adea08c:"4QWBH",f9876ae3d71a9760:"8GoPg","32c4ba6aa423f6a1":"dLedN",a9dc07b8ccee3ac8:"waoM0",b2cf245c110682c9:"j7SWl","766badb4827425d2":"qoce2",c8ce87b75f2d2d6e:"hblTe"}],"2ioqK":[function(e,t,i,n){let{ChatUi:r}=e("653d21cde32274c8"),{MessagesListener:s}=e("cb116d66f1b17398"),{TemplatesHandler:a}=e("4097a6f796a25dd5"),o=e("c9c24694c3cbf963"),{TranslationsMapper:l}=e("bf04b3fa400750d7"),{PluginInterface:h}=e("d2c4700437670cee"),{ChatConst:u}=e("a7668ee71f7c68d1"),{Logger:c,sc:d}=e("731cc76cccefd84");t.exports.ChatPlugin=class extends h{setup(e){this.gameManager=d.get(e,"gameManager",!1),this.gameManager||c.error("Game Manager undefined in ActionsPlugin."),this.events=d.get(e,"events",!1),this.events||c.error("EventsManager undefined in ChatPlugin."),this.messagesQueu=[],this.uiManager=!1,this.joinRooms=[u.CHAT_GLOBAL],this.setTranslations(),this.listenEvents()}setTranslations(){if(!this.gameManager)return!1;l.forConfig(this.gameManager.config.client,o,u.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events)return!1;this.events.on("reldens.joinedRoom",async e=>{await s.listenMessages(e,this)}),this.events.on("reldens.preloadUiScene",e=>{a.preloadTemplates(e,this.gameManager.config.get("client/ui/chat/showTabs"))}),this.events.on("reldens.createUiScene",e=>{this.uiManager=new r(e),this.uiManager.createUi(),this.uiManager.createTabs(),this.uiManager.processMessagesQueue(this.messagesQueu)})}}},{"653d21cde32274c8":"9xShw",cb116d66f1b17398:"ewbJY","4097a6f796a25dd5":"fDJUo",c9c24694c3cbf963:"64K6R",bf04b3fa400750d7:"hgeoj",d2c4700437670cee:"jorwg",a7668ee71f7c68d1:"b7PWH","731cc76cccefd84":"3lwy5"}],"9xShw":[function(e,t,i,n){let{Input:r}=e("25a87f28fb7e0308"),{SpriteTextFactory:s}=e("9224444cee79f5ae"),{ChatTabs:a}=e("eae9f6a9f3b912be"),{ChatConst:o}=e("e56c6f22335ef248"),{Logger:l,sc:h}=e("3e430b9bcb390349");t.exports.ChatUi=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene?.gameManager,this.gameDom=this.uiScene?.gameManager?.gameDom,this.setChatTypes(),this.setChatConfiguration(),this.uiChat={},this.messagesQueu=[],this.chatInput=!1,this.chatSendButton=!1,this.chatCloseButton=!1,this.chatOpenButton=!1}setChatConfiguration(){if(!this.gameManager||!this.gameManager.config)return!1;this.uiConfig=this.gameManager.config.get("client/ui/chat"),this.overheadChat=h.get(this.uiConfig,"overheadChat",{}),this.overHeadChatEnabled=h.get(this.overheadChat,"enabled",!1),this.overheadText=h.get(this.uiConfig,"overheadText",{}),this.isDefaultOpen=h.get(this.uiConfig,"defaultOpen",!1),this.isTyping=h.get(this.overheadChat,"isTyping",!1),this.showTabs=h.get(this.uiConfig,"showTabs",!1),this.closeChatBoxAfterSend=h.get(this.closeChatBoxAfterSend,"isTyping",!1),this.messagesConfig=this.gameManager.config.get("client/chat/messages"),this.characterLimit=h.get(this.messagesConfig,"characterLimit",0),this.characterLimitOverhead=h.get(this.messagesConfig,"characterLimitOverhead",0),this.appendErrorTypeOnActiveTab=h.get(this.messagesConfig,"appendErrorTypeOnActiveTab",!0)}setChatTypes(){if(!this.gameManager)return l.warning("Missing GameManager on ChatUI."),!1;if(!this.gameDom)return l.warning("Missing GameDom on ChatUI."),!1;if(!this.gameManager.initialGameData)return l.warning('Missing "initialGameData" on ChatUI.'),!1;if(this.chatTypes=h.get(this.gameManager.initialGameData,"chatTypes",[]),0===this.chatTypes.length)return!1;for(let e of(this.chatTypesById={},this.chatTypes))this.chatTypesById[e.id]=e}createUi(){if(!this.uiScene)return l.warning("Missing UI Scene on ChatUI."),!1;let{uiX:e,uiY:t}=this.uiScene.getUiConfig("chat");if(this.uiChat=this.uiScene.add.dom(e,t).createFromCache("chat"),this.uiScene.elementsUi.chat=this.uiChat,this.chatInput=this.uiChat.getChildByProperty("id",o.CHAT_INPUT),!this.chatInput)return l.info("Missing chat input on ChatUI."),!1;this.setupKeyPressBehaviors(),this.chatInput.addEventListener("onfocusout",()=>{this.hideIsTyping()}),this.setupSendButton(),this.setupOpenCloseButtons(),this.overHeadChatEnabled&&this.setupOverheadChatEvents(),this.isDefaultOpen&&this.showChatBox()}createTabs(){return!!this.showTabs&&(this.tabs=new a(this.gameManager,this.uiScene),!0)}setupOverheadChatEvents(){this.gameManager.events.on("reldens.runPlayerAnimation",(e,t,i,n)=>{this.updateOverheadTextPosition(n)})}setupOpenCloseButtons(){this.chatOpenButton=this.uiChat.getChildByProperty("id",o.CHAT_OPEN_BUTTON),this.chatOpenButton?.addEventListener("click",()=>{this.showChatBox(),this.gameManager.events.emit("reldens.openUI",{ui:this,openButton:this.chatOpenButton,dialogBox:this.uiChat,dialogContainer:this.uiChat.getChildByProperty("id",o.CHAT_UI),uiScene:this.uiScene})}),this.chatCloseButton=this.uiChat.getChildByProperty("id",o.CHAT_CLOSE_BUTTON),this.chatCloseButton?.addEventListener("click",()=>{this.hideChatBox(),this.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:this.chatCloseButton,openButton:this.chatOpenButton,dialogBox:this.uiChat,dialogContainer:this.uiChat.getChildByProperty("id",o.CHAT_UI),uiScene:this.uiScene})})}setupSendButton(){this.chatSendButton=this.uiChat.getChildByProperty("id",o.CHAT_SEND_BUTTON),this.chatSendButton?.addEventListener("click",e=>{e.preventDefault(),this.sendChatMessage(this.chatInput,this.gameManager.activeRoomEvents),this.chatInput.focus()})}setupKeyPressBehaviors(){this.uiScene.input.keyboard.on("keyup-ENTER",()=>{this.isFocussedOnChatInput()||(this.showChatBox(),this.chatInput.focus())}),this.chatInput.addEventListener("keyup",e=>{if(e.keyCode===r.Keyboard.KeyCodes.ENTER){e.preventDefault(),this.sendChatMessage();return}this.showIsTyping()})}showOverheadChat(e,t){if(!this.overHeadChatEnabled)return!1;e.overheadTextSprite&&this.destroyTextSprite(e),t=this.applyTextLimit(t,this.characterLimitOverhead),e.overheadTextSprite=s.attachTextToSprite(e,t,this.overheadText,h.get(this.overheadText,"topOff",0),"overheadTextSprite",this.gameManager.getActiveScene());let i=h.get(this.overheadText,"timeOut",!1);i&&setTimeout(()=>{this.destroyTextSprite(e)},i)}updateOverheadTextPosition(e){if(!e.overheadTextSprite)return!1;let t=s.getTextPosition(e,e.playerName,this.overheadText,h.get(this.overheadText,"topOff",0));e.overheadTextSprite.x=t.x,e.overheadTextSprite.y=t.y}destroyTextSprite(e){if(!e.overheadTextSprite)return!1;e.overheadTextSprite.destroy(),delete e.overheadTextSprite}showIsTyping(){if(!this.overHeadChatEnabled||!this.isTyping||!this.isFocussedOnChatInput())return!1;this.showOverheadChat(this.gameManager.getCurrentPlayerAnimation(),this.gameManager.config.getWithoutLogs("client/ui/chat/waitingContent",this.t(o.SNIPPETS.WAITING)))}hideIsTyping(){if(!this.isTyping)return!1;this.destroyTextSprite(this.gameManager.getCurrentPlayerAnimation())}isFocussedOnChatInput(){return this.gameManager.gameDom.activeElement()===this.chatInput}showChatBox(){this.uiChat.getChildByProperty("id",o.CHAT_UI).classList.remove("hidden"),this.uiChat.setDepth(4),this.chatOpenButton?.classList.add("hidden");let e=this.gameDom.getElement(o.SELECTORS.CHAT_MESSAGES);e&&(e.parentNode.scrollTop=e.scrollHeight),this.hideNotificationsBalloon()}hideChatBox(){let e=this.uiChat.getChildByProperty("id",o.CHAT_UI);if(!e)return l.info("Chat UI box not found."),!1;e.classList.add("hidden"),this.uiChat.setDepth(1),this.chatOpenButton?.classList.remove("hidden")}showNotificationBalloon(){this.getActiveBalloon()?.classList.remove("hidden")}hideNotificationsBalloon(){this.getActiveBalloon()?.classList.add("hidden")}getActiveBalloon(){if(!h.get(this.uiConfig,"notificationBalloon"))return!1;let e=this.uiChat.getChildByProperty("id",o.CHAT_BALLOON);return!!e&&e}processMessagesQueue(e){if(0===e.length)return!1;for(let t of e)this.attachNewMessage(t)}attachNewMessage(e){if(!this.gameManager.gameEngine.uiScene.cache)return;let t=this.gameManager.gameEngine.uiScene.cache.html.get("chatMessage"),i=this.translateMessage(e),n=this.gameManager.gameEngine.parseTemplate(t,{from:this.translateFrom(e),color:o.TYPE_COLOR[e[o.TYPES.KEY]],message:i}),r=this.showTabs?o.TYPES.MESSAGE:"",s=h.get(e,o.TYPES.KEY,r),a=h.get(this.chatTypesById,s,!1),u=!!(""!==s&&a?.show_tab)&&this.gameManager.gameDom.getElement(o.SELECTORS.TAB_CONTENT_PREFIX+s);u&&this.appendWithScroll(u,n);let c=!!a.also_show_in_type&&this.gameManager.gameDom.getElement(o.SELECTORS.TAB_CONTENT_PREFIX+a.also_show_in_type);c&&c!==u&&this.appendWithScroll(c,n);let d=""===s&&this.gameManager.gameDom.getElement(o.SELECTORS.CHAT_MESSAGES);if(d&&this.appendWithScroll(d,n),this.appendErrorTypeOnActiveTab&&o.TYPES.ERROR===s){let e=this.gameManager.gameDom.getElement(o.SELECTORS.TAB_CONTENT_ACTIVE);e&&e!==u&&e!==c&&this.appendWithScroll(e,n)}if(!u&&!c&&!d){null===u&&l.warning("Element not found for selector: .tab-content-"+s),null===c&&l.warning("Element not found for selector: .tab-content-"+a.also_show_in_type),l.warning("Chat message not attached to any tab or main panel.",{message:e,defaultType:r,messageType:s,chatType:a,appendToMain:d,appendToTab:u});return}if(e[o.MESSAGE.FROM]&&this.isValidMessageType(e[o.TYPES.KEY])){let t=this.fetchPlayerByName(e[o.MESSAGE.FROM]);t&&this.showOverheadChat(t,i)}this.uiChat.getChildByProperty("id",o.CHAT_UI).classList.contains("hidden")&&this.showNotificationBalloon()}appendWithScroll(e,t){e.innerHTML+=t,e.parentNode.scrollTop=e.scrollHeight}translateFrom(e){let t=e[o.TYPES.KEY],i=e[o.MESSAGE.FROM]||o.TYPES.SYSTEM;return this.isValidSnippetFromType(t)?this.t(o.SNIPPETS.PREFIX+o.TYPES.KEY+t):i}translateMessage(e){let t=e[o.TYPES.KEY];if(!this.isValidSnippetType(t))return e[o.MESSAGE.KEY];let i=e[o.MESSAGE.DATA.KEY];if(!i)return this.t(e[o.MESSAGE.KEY]);if(i[o.MESSAGE.DATA.MODIFIERS]){let t="",n=i[o.MESSAGE.DATA.TARGET_LABEL];for(let r of Object.keys(i[o.MESSAGE.DATA.MODIFIERS])){let s=this.t(r),a=i[o.MESSAGE.DATA.MODIFIERS][r];t+=this.t(e[o.MESSAGE.KEY],{propertyValue:a,propertyLabel:s,targetLabel:n})}return t}return this.t(e[o.MESSAGE.KEY],i)}t(e,t={},i=!1){return this.gameManager.services.translator.t(e,t,i)}isValidMessageType(e){return -1===this.validMessageTypes().indexOf(e)}validMessageTypes(){return[Object.values(o.TYPES)]}isValidSnippetType(e){let t=this.snippetsMessageTypes();for(let i of Object.keys(t))if(t[i]===e)return!0;return!1}snippetsMessageTypes(){let e=Object.assign({},o.TYPES);return delete e[o.TYPES.MESSAGE],delete e[o.TYPES.PRIVATE],delete e[o.TYPES.GLOBAL],delete e[o.TYPES.TEAMS],e}isValidSnippetFromType(e){return -1!==[o.TYPES.SYSTEM,o.TYPES.ERROR].indexOf(e)}fetchPlayerByName(e){let t=this.gameManager.getCurrentPlayer().players,i=Object.keys(t);if(1>=i.length)return!1;for(let n of i){let i=t[n];if(i.playerName===e)return i}}sendChatMessage(){if(!this.isValidMessage())return!1;let e=this.applyTextLimit(this.chatInput.value,this.characterLimit),t={act:o.CHAT_ACTION,m:e};this.gameManager.events.emitSync("reldens.chatMessageObjectCreated",this,t),this.useGlobalRoom()?this.useGlobalRoomForMessage(t):this.gameManager.activeRoomEvents.send(t),this.chatInput.value="",this.closeChatBoxAfterSend&&this.hideChatBox()}applyTextLimit(e,t){return 0<t&&t<e.length?e.substring(0,t):e}useGlobalRoom(){return 0===this.chatInput.value.indexOf("#")||0===this.chatInput.value.indexOf("@")}isValidMessage(){return this.chatInput.value&&0<this.chatInput.value.replace("#","").replace("@","").trim().length}useGlobalRoomForMessage(e){let t=h.get(this.gameManager.joinedRooms,o.CHAT_GLOBAL,!1);if(!t)return l.error("Global chat room not found."),!1;if(0===this.chatInput.value.indexOf("@")){this.sendPrivateMessage(e,t);return}this.globalSend(t,e)}sendPrivateMessage(e,t){let i=this.chatInput.value.substring(1,this.chatInput.value.indexOf(" "));if("@"===i)return!1;e.t=i,this.globalSend(t,e)}globalSend(e,t){try{e.send("*",t)}catch(e){l.critical(e),this.gameDom.alertReload(this.gameManager.services.translator.t("game.errors.connectionLost"))}}}},{"25a87f28fb7e0308":"8S6DV","9224444cee79f5ae":"f4CRM",eae9f6a9f3b912be:"80zoN",e56c6f22335ef248:"b7PWH","3e430b9bcb390349":"3lwy5"}],"80zoN":[function(e,t,i,n){let{ChatConst:r}=e("d66697f0f021bff3"),{Logger:s,sc:a}=e("603ef3007dd0c7e3");t.exports.ChatTabs=class{constructor(e,t){this.gameManager=e,this.uiScene=t,this.showTabs=this.gameManager.config.get("client/ui/chat/showTabs"),this.containerTemplate=!1,this.headerTemplate=!1,this.contentTemplate=!1,this.createTabs(),this.activateTabs()}createTabs(){if(!this.isReady())return!1;let e=a.get(this.gameManager.initialGameData,"chatTypes",[]);if(0===e.length)return s.info("Chat types empty."),!1;if(!this.gameManager.gameDom.getElement(r.SELECTORS.CONTENTS))return s.info("Chat contents element not found."),!1;if(!this.fetchTemplates())return!1;let t="",i="",n=0;for(let s of e){if(!s.show_tab)continue;let e=s.key,a=s.id,o=Object.assign({},{headerTemplate:this.headerTemplate});t+=this.gameManager.gameEngine.parseTemplate(o.headerTemplate,{tabId:a,tabLabel:this.gameManager.services.translator.t(r.SNIPPETS.PREFIX+r.SNIPPETS.TAB_PREFIX+e),className:0===n?" active":""});let l=Object.assign({},{contentTemplate:this.contentTemplate});i+=this.gameManager.gameEngine.parseTemplate(l.contentTemplate,{tabId:a,tabKey:e,className:0===n?" active":""}),n++}let o=this.gameManager.gameEngine.parseTemplate(this.containerTemplate,{tabsHeaders:t,tabsContents:i});this.gameManager.gameDom.updateContent(r.SELECTORS.CONTENTS,o)}fetchTemplates(){return(this.containerTemplate=this.uiScene.cache.html.get("chatTabsContainer"),this.containerTemplate)?(this.headerTemplate=this.uiScene.cache.html.get("chatTabLabel"),this.headerTemplate)?(this.contentTemplate=this.uiScene.cache.html.get("chatTabContent"),!!this.contentTemplate||(s.info("Chat contentTemplate not found."),!1)):(s.info("Chat headerTemplate not found."),!1):(s.info("Chat containerTemplate not found."),!1)}isReady(){return this.gameManager||s.error("ChatTabs, missing game manager."),this.uiScene||s.error("ChatTabs, missing UI Scene."),!(!this.showTabs||!this.gameManager||!this.uiScene)}activateTabs(){for(let e of this.gameManager.gameDom.getElements(".tab-label"))e.addEventListener("click",e=>{let t=this.gameManager.gameDom.getElement(".tab-label.active");t?.classList.remove("active"),e.target.classList.add("active");let i=this.gameManager.gameDom.getElement(".tab-content.active");i?.classList.remove("active");let n=this.gameManager.gameDom.getElement(".tab-content-"+e.target.dataset.tabId);if(!n)return s.warning("Tab content was not found.",e),!1;n.classList.add("active"),n.parentNode.scrollTop=n.scrollHeight})}}},{d66697f0f021bff3:"b7PWH","603ef3007dd0c7e3":"3lwy5"}],b7PWH:[function(e,t,i,n){let r="chat.",s="player.",a={KEY:"ctk",MESSAGE:1,JOINED:2,SYSTEM:3,PRIVATE:4,DAMAGE:5,REWARD:6,SKILL:7,TEAMS:8,GLOBAL:9,ERROR:10};t.exports.ChatConst={ROOM_TYPE_CHAT:"chat",CHAT_ACTION:"c",TYPES:a,CHAT_FROM:"f",CHAT_TO:"t",CHAT_UI:"chat-ui",CHAT_FORM:"chat-form",CHAT_INPUT:"chat-input",CHAT_SEND_BUTTON:"chat-send",CHAT_CLOSE_BUTTON:"chat-close",CHAT_OPEN_BUTTON:"chat-open",CHAT_BALLOON:"notification-balloon",CHAT_GLOBAL:"chat",MESSAGE:{KEY:"m",FROM:"f",TO:"t",DATA:{KEY:"md",SNIPPET:"sp",PLAYER_NAME:"pn",ROOM_NAME:"rn",DAMAGE:"d",TARGET_LABEL:"tL",SKILL_LABEL:"sk",MODIFIERS:"mfs"},DATA_VALUES:{NAMESPACE:"chat",pn:"playerName",rn:"roomName",d:"damage",tL:"targetLabel",sk:"skillLabel",mfs:"modifiers"}},SNIPPETS:{PREFIX:r,PLAYER_PREFIX:s,TAB_PREFIX:"tabs.",NPC_DAMAGE:r+"npcDamage",NPC_DODGED_SKILL:r+"dodgedSkill",MODIFIERS_APPLY:r+"modifiersApply",JOINED_ROOM:r+"joinedRoom",LEFT_ROOM:r+"leftRoom",PRIVATE_MESSAGE_PLAYER_NOT_FOUND:r+"playerNotFound",GLOBAL_MESSAGE_NOT_ALLOWED:r+"globalMessageNotAllowed",GLOBAL_MESSAGE_PERMISSION_DENIED:r+"globalMessagePermissionDenied",PLAYER:{DAMAGE:r+s+"damage",DODGED_SKILL:r+s+"dodgedSkill"},GUEST_INVALID_CHANGE_POINT:r+"guestInvalidChangePoint",WAITING:"..."},SELECTORS:{CONTENTS:"#chat-contents",CHAT_MESSAGES:"#chat-messages",TAB_CONTENT_PREFIX:".tab-content-",TAB_CONTENT_ACTIVE:".tab-content.active"},TYPE_COLOR:{[a.MESSAGE]:"#ffffff",[a.PRIVATE]:"#f39c12",[a.PRIVATE+".to"]:"#00afff",[a.GLOBAL]:"#ffff00",[a.SYSTEM]:"#2ecc71",[a.ERROR]:"#ff0000",[a.DAMAGE]:"#ff0000",[a.SYSTEM+".modifiers"]:"#0feeff",[a.REWARD]:"#2ecc71",[a.TEAMS]:"#2ecc71"}}},{}],ewbJY:[function(e,t,i,n){let{ChatConst:r}=e("1b95421bf98ed257");t.exports.MessagesListener=class{static async listenMessages(e,t){e.onMessage("*",e=>{if(r.CHAT_ACTION===e.act){if(!t.uiManager){t.messagesQueu.push(e);return}t.uiManager.attachNewMessage(e)}})}}},{"1b95421bf98ed257":"b7PWH"}],fDJUo:[function(e,t,i,n){t.exports.TemplatesHandler=class{static preloadTemplates(e,t){let i="/assets/features/chat/templates/";e.load.html("chat",i+"ui-chat.html"),e.load.html("chatMessage",i+"message.html"),t&&(e.load.html("chatTabsContainer",i+"tabs-container.html"),e.load.html("chatTabLabel",i+"tab-label.html"),e.load.html("chatTabContent",i+"tab-content.html"))}}},{}],"64K6R":[function(e,t,i,n){t.exports={chat:{ctk3:"System",ctk10:"System",npcDamage:"%damage damage on %targetLabel",dodgedSkill:"%targetLabel dodged %skill",modifiersApply:"%propertyValue %propertyLabel on %targetLabel",joinedRoom:"%playerName has joined %roomName",leftRoom:"%playerName has left",playerNotFound:'Player "%playerName" not found',globalMessagesNotAllowed:"Global messages not allowed",globalMessagePermissionDenied:"Global message permission denied",guestInvalidChangePoint:"The room is not available for guest users.",player:{damage:"%damage damage on %targetLabel",dodgedSkill:"%targetLabel dodged %skill"},tabs:{message:"General",joined:"Joined",system:"System",private:"Private",damage:"Damage",reward:"Rewards",skill:"Skills",teams:"Teams",global:"Global",error:"Error"}}}},{}],hgeoj:[function(e,t,i,n){let{SnippetsConst:r}=e("f6c7ed16f345c70"),{sc:s}=e("880c1f97a972c80c");t.exports.TranslationsMapper=class{static forConfig(e,t,i=!1,n=r.DEFAULT_LOCALE){e.snippets||(e.snippets={}),e.snippets[n]||(e.snippets[n]={});let a=this.fromObject(t);if(e.snippets[n]=s.deepMergeProperties(a,e.snippets[n]),!i)return;e.snippetsDataValues||(e.snippetsDataValues={});let o=i.NAMESPACE||r.DATA_VALUES_DEFAULT_NAMESPACE;s.deepMergeProperties(e.snippetsDataValues,{[o]:i})}static fromObject(e){let t=Object.keys(e);if(0===t.length)return{};let i={};for(let n of t)this.recursiveMap(n,e[n],i);return i}static recursiveMap(e,t,i){if(!s.isObject(t)){i[e]=t;return}let n=Object.keys(t);if(0!==n.length)for(let s of n)this.recursiveMap(e+r.CONCAT_CHARACTER+s,t[s],i)}}},{f6c7ed16f345c70:"iQaFz","880c1f97a972c80c":"3lwy5"}],iQaFz:[function(e,t,i,n){t.exports.SnippetsConst={KEY:"snippets",DEFAULT_LOCALE:"en_US",CONCAT_CHARACTER:".",DATA_VALUES_DEFAULT_NAMESPACE:"default",ACTIONS:{UPDATE:"sn.Up"}}},{}],jorwg:[function(e,t,i,n){let{Logger:r}=e("d95174c8984b7bee");t.exports.PluginInterface=class{async setup(e){r.error("Setup plugin not implemented.",e)}}},{d95174c8984b7bee:"3lwy5"}],lkmJP:[function(e,t,i,n){let{AnimationEngine:r}=e("76742c4fe6325846"),{ObjectsMessageListener:s}=e("207fea1534039900"),{DropsMessageListener:a}=e("e451d827dfc8e765"),o=e("26c9abd8da29d9a1"),{TranslationsMapper:l}=e("eab195a4a5f61629"),{UserInterface:h}=e("33448c271890ad0b"),{ObjectsConst:u}=e("189563d48aace89d"),{ActionsConst:c}=e("e3b259719bc592e2"),{PluginInterface:d}=e("c500b33f3cb14996"),{GameConst:f}=e("f79919fd1915086e"),{Logger:p,sc:m}=e("bea1ea8a6cf570dd");t.exports.ObjectsPlugin=class extends d{setup(e){this.gameManager=m.get(e,"gameManager",!1),this.gameManager||p.error("Game Manager undefined in InventoryPlugin."),this.events=m.get(e,"events",!1),this.events||p.error("EventsManager undefined in InventoryPlugin."),this.bodyOnAddCallBack=!1,this.bodyOnRemoveCallBack=!1,this.bullets={},this.changeBodyVisibilityOnInactiveState=this.gameManager.config.getWithoutLogs("client/objects/animations/changeBodyVisibilityOnInactiveState",!0),this.missingSpritesTimeOut=this.gameManager.config.getWithoutLogs("client/general/animations/missingSpritesTimeOut",200),this.missingSpritesMaxRetries=this.gameManager.config.getWithoutLogs("client/general/animations/missingSpritesMaxRetries",5),this.missingSpriteRetry=0,this.listenEvents(),this.setTranslations(),this.setListener()}setListener(){if(!this.gameManager)return!1;this.gameManager.config.client.message.listeners.traderObject=new s}setTranslations(){if(!this.gameManager)return!1;l.forConfig(this.gameManager.config.client,o,u.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events)return!1;this.events.on("reldens.startEngineScene",async e=>{await this.prepareObjectsUi(e.gameManager,e.roomData.objectsAnimationsData,e)}),this.events.on("reldens.afterSceneDynamicCreate",async e=>{await this.createDynamicAnimations(e)}),this.events.on("reldens.joinedRoom",(e,t)=>{this.listenMessages(e,t),a.listenMessages(e,t)})}listenMessages(e,t){if(e.onMessage("*",e=>{this.startObjectAnimation(e,t),this.objectBattleEndAnimation(e,t)}),!e.state||!e.state.bodies)return!1;this.setAddBodyCallback(e,t),this.setRemoveBodyCallback(e)}setAddBodyCallback(e,t){this.bodyOnAddCallBack=e.state.bodies.onAdd((i,n)=>{this.setOnChangeBodyCallback(i,n,e,t),this.createBulletSprite(n,t,i)})}createBulletSprite(e,t,i){if(-1===e.indexOf("bullet"))return!1;let n=t.activeRoomEvents.getActiveScene(),r="default_bullet",s=(i.key?i.key+"_":"")+"bullet";m.hasOwn(t.gameEngine.uiScene.directionalAnimations,s)&&(s=s+"_"+i.dir),m.hasOwn(n.anims.anims.entries,s)&&(r=s);let a=n?.physics?.add?.sprite(i.x,i.y,r);if(!a)return p.warning("Could not create bullet sprite.",n),!1;a.setDepth(11e3),this.bullets[e]=a}setOnChangeBodyCallback(e,t,i,n){for(let i of Object.keys(e))e.listen(i,async r=>{await this.events.emit("reldens.objectBodyChange",{body:e,key:t,changes:{[i]:r}});let s=n.activeRoomEvents.getActiveScene();if(this.updateBodyProperties(i,e,r,s,t),!s)return;let a=-1!==t.indexOf("bullet"),o=a?this.bullets[t]:s?.objectsAnimations[t];this.setVisibility(o,f.STATUS.ACTIVE===e.inState),this.logObjectBodyUpdate(t,i,r,o);let l=f.STATUS.AVOID_INTERPOLATION!==e.inState;if(s?.clientInterpolation&&l){s.interpolateObjectsPositions[t]=e;return}return a?this.updateBulletBodyPosition(t,e):this.updateObjectsAnimations(t,e,s)})}logObjectBodyUpdate(e,t,i,n){("x"===t||"y"===t)&&n&&n[t]&&n[t]}setVisibility(e,t){e&&e.sceneSprite&&e.sceneSprite.setVisible(t)}updateBodyProperties(e,t,i,n,r){n.objectsAnimationsData[r]&&("x"===e||"y"===e)&&(n.objectsAnimationsData[r][e]=i),t[e]=i}updateBulletBodyPosition(e,t){this.bullets[e]&&(this.bullets[e].x=t.x,this.bullets[e].y=t.y,this.events.emit("reldens.objectBodyChanged",{body:t,key:e}))}updateObjectsAnimations(e,t,i){let n=m.get(i.objectsAnimations,e);if(!n)return!1;n.updateObjectAndSpritePositions(t.x,t.y),this.events.emit("reldens.objectBodyChanged",{body:t,key:e});let r=n.updateObjectDepth();n.inState=t.inState;let s=this.fetchAvailableAnimationKey(i,n,t);return""!==s&&n.sceneSprite.anims.play(s,!0),this.moveSpritesObjects(n,t.x,t.y,r),!t.mov&&(n.sceneSprite.anims.stop(),n.sceneSprite.mov=t.mov,!!n.autoStart&&(n.sceneSprite.anims.play(this.determineAutoStartAnimation(n,s)),!0))}determineAutoStartAnimation(e,t){return!0===e.autoStart?e.key:e.autoStart===u.DYNAMIC_ANIMATION?t:e.autoStart}fetchAvailableAnimationKey(e,t,i){return m.getByPriority(e.anims.anims.entries,[t.key+"_"+i.dir,t.layerName+"_"+t.id+"_"+i.dir,t.key])||""}setRemoveBodyCallback(e){this.bodyOnRemoveCallBack=e.state.bodies.onRemove((e,t)=>{if(-1===t.indexOf("bullet")||!m.hasOwn(this.bullets,t))return!1;this.bullets[t].destroy(),delete this.bullets[t]})}objectBattleEndAnimation(e,t){if(e.act!==c.BATTLE_ENDED)return!1;let i=m.get(t.config.client.skills.animations,e.k+"_death","default_death"),n=t.activeRoomEvents.getActiveScene();try{this.playDeathAnimation(i,n,e)}catch(e){p.warning('Error on sprite "'+i+'" not available.',e.message)}if(!m.hasOwn(e,c.DATA_OBJECT_KEY_TARGET))return!1;e[c.DATA_OBJECT_KEY_TARGET]===n.player.currentTarget?.id&&t.gameEngine.clearTarget();let r=m.get(n.player.players,e[c.DATA_OBJECT_KEY_TARGET],!1);if(!r)return!1;r.visible=!1,m.hasOwn(r,"nameSprite")&&r.nameSprite&&(r.nameSprite.visible=!1)}playDeathAnimation(e,t,i){if(!t.getAnimationByKey(e))return this.missingSpritesMaxRetries===this.missingSpriteRetry?p.debug('Sprite "'+e+'" not available.',e):(this.missingSpriteRetry++,setTimeout(()=>this.playDeathAnimation(e,t,i),this.missingSpritesTimeOut)),!1;let n=t.physics.add.sprite(i.x,i.y,e);return n.setDepth(10500),n.anims.play(e,!0).on("animationcomplete",()=>{n.destroy()}),!0}startObjectAnimation(e,t){if(e.act!==u.OBJECT_ANIMATION&&e.act!==u.TYPE_ANIMATION)return!1;let i=t.activeRoomEvents.getActiveScene();if(!m.hasOwn(i.objectsAnimations,e.key))return!1;i.objectsAnimations[e.key].runAnimation()}moveSpritesObjects(e,t,i,n){if(!e.moveSprites)return;let r=Object.keys(e.moveSprites);if(0!==r.length)for(let s of r){let r=e.moveSprites[s];r.x=t,r.y=i;let a=n+("above"===m.get(e.animationData,"depthByPlayer","")?1:-.1);r.setDepth(a)}}async prepareObjectsUi(e,t,i){if(!t){p.info("None objects animations data.");return}for(let n of Object.keys(t)){let r=t[n];if(!m.hasOwn(r,"ui"))continue;if(!r.id){p.error(["Object ID not specified. Skipping registry:",r]);continue}let s=m.get(r,"template","/assets/html/dialog-box.html");i.objectsUi[r.id]=new h(e,r,s,"npcDialog"),await e.events.emit("reldens.createdUserInterface",{gameManager:e,id:r.id,userInterface:i.objectsUi[r.id],ObjectsPlugin:this})}}async createDynamicAnimations(e){if(!e.objectsAnimationsData){p.info("None animations defined on this scene: "+e.key);return}for(let t of(await this.events.emit("reldens.createDynamicAnimationsBefore",this,e),Object.keys(e.objectsAnimationsData))){let i=e.objectsAnimationsData[t];await this.createAnimationFromAnimData(i,e)}}async createAnimationFromAnimData(e,t){if(!e.key)return p.error("Animation key not specified. Skipping registry.",e),!1;e.frameRate=t.configuredFrameRate;let i=t.gameManager.activeRoomEvents,n=this.fetchExistentBody(t,i,e);this.updateAnimationPosition(n,e),await this.events.emit("reldens.createDynamicAnimation_"+e.key,this,e);let s=new(t.gameManager.config.getWithoutLogs("client/customClasses/objects/"+e.key,r))(t.gameManager,e,t),a=s.createAnimation();return this.updateAnimationVisibility(n,a),s}updateAnimationPosition(e,t){if(!e)return!1;t.x!==e.x&&(t.x=e.x),t.y!==e.y&&(t.y=e.y)}updateAnimationVisibility(e,t){if(!e||f.STATUS.DEATH!==e.inState&&f.STATUS.DISABLED!==e.inState)return!1;t.visible=!1}fetchExistentBody(e,t,i){return e.key!==t.roomName?(p.warning("Scene key and roomName miss match: "+e.key+" / "+t.roomName+"."),!1):t.room.state.bodies.get(i?.key)}}},{"76742c4fe6325846":"f1BcF","207fea1534039900":"5DgOB",e451d827dfc8e765:"l0pOu","26c9abd8da29d9a1":"50mip",eab195a4a5f61629:"hgeoj","33448c271890ad0b":"iRs7L","189563d48aace89d":"8k4Rg",e3b259719bc592e2:"4omVM",c500b33f3cb14996:"jorwg",f79919fd1915086e:"7Qdd3",bea1ea8a6cf570dd:"3lwy5"}],f1BcF:[function(e,t,i,n){let{Logger:r,sc:s}=e("5045f4b0be8e4d09"),{ObjectsConst:a}=e("5bdcc625cdcbb429"),{GameConst:o}=e("25585b3d2976fa69"),{ActionsConst:l}=e("34b34457c954466");t.exports.AnimationEngine=class{constructor(e,t,i){this.currentPreloader=i,this.currentAnimation=!1,this.gameManager=e,this.enabled=t.enabled||!1,this.key=t.key,this.id=t.id,this.asset_key=t.asset_key||t.key,this.assetPath=t.assetPath||"/assets/custom/sprites/",this.type=t.type||!1,this.ui=t.ui||!1,this.targetName=t.targetName,this.frameRate=t.frameRate||!1,this.frameStart=t.frameStart||0,this.frameEnd=t.frameEnd||0,this.x=t.x||0,this.y=t.y||0,this.repeat=isNaN(t.repeat)?-1:t.repeat,this.hideOnComplete=t.hideOnComplete||!1,this.gameManager.createdAnimations||(this.gameManager.createdAnimations={}),this.destroyOnComplete=t.destroyOnComplete||!1,this.autoStart=t.autoStart||!1,this.layerName=t.layerName||!1,this.positionFix=t.positionFix||!1,this.zeroPad=t.zeroPad||!1,this.prefix=t.prefix||!1,this.isInteractive=t.isInteractive||!1,this.highlightOnOver=!!s.get(t,"highlightOnOver",this.gameManager.config.getWithoutLogs("client/ui/animations/highlightOnOver",!0)),this.highlightColor=s.get(t,"highlightColor",this.gameManager.config.getWithoutLogs("client/ui/animations/highlightColor","0x00ff00")),this.restartTime=s.get(t,"restartTime",!1),this.calculateAnimPosition(),s.hasOwn(t,"animations")&&this.createObjectAnimations(t.animations)}updateObjectAndSpritePositions(e,t){this.sceneSprite.x=e,this.sceneSprite.y=t,this.x=e,this.y=t,this.calculateAnimPosition()}calculateAnimPosition(){this.animPos={x:this.x,y:this.y},this.positionFix&&(s.hasOwn(this.positionFix,"x")&&(this.animPos.x=this.x+this.positionFix.x),s.hasOwn(this.positionFix,"y")&&(this.animPos.y=this.y+this.positionFix.y))}updateObjectDepth(){let e=this.y+this.sceneSprite.height;return this.sceneSprite.setDepth(e),e}createAnimation(){if(!this.enabled){r.error("Animation disabled: "+this.key);return}let e=this.gameManager.activeRoomEvents.getActiveScene();if(!e){r.error("Active scene not found.");return}let t={start:this.frameStart,end:this.frameEnd};if(!1!==this.prefix&&(t.prefix=this.prefix),!1!==this.zeroPad&&(t.zeroPad=this.zeroPad),!this.currentPreloader.anims.textureManager.list[this.asset_key]){r.warning("Asset not found in preloader.",this.asset_key,t),this.currentPreloader.load.spritesheet(this.asset_key,this.assetPath+this.asset_key,t),this.currentPreloader.load.once("complete",async()=>{this.createAnimation()});return}let i=this.currentPreloader.anims.generateFrameNumbers(this.asset_key,t),n={key:this.key,frames:i,frameRate:this.frameRate,repeat:this.repeat,hideOnComplete:this.hideOnComplete};this.currentAnimation=this.gameManager.createdAnimations[this.key],this.currentAnimation||(r.debug("Creating animation: "+this.key),this.currentAnimation=this.currentPreloader.anims.create(n)),this.currentPreloader.objectsAnimations[this.key]=this.currentAnimation,this.gameManager.createdAnimations[this.key]=this.currentAnimation;let s=this.positionFix?this.animPos.x:this.x,a=this.positionFix?this.animPos.y:this.y;return this.sceneSprite=e.physics.add.sprite(s,a,this.asset_key),this.autoStart&&this.sceneSprite.anims.play(this.key,!0),this.enableInteraction(e),this.enableAutoRestart(),this.automaticDestroyOnComplete(),this.sceneSprite.setDepth(this.y+this.sceneSprite.body.height),e.objectsAnimations[this.key]=this,this.gameManager.events.emitSync("reldens.createAnimationAfter",{animationEngine:this}),this.sceneSprite}automaticDestroyOnComplete(){this.destroyOnComplete&&this.sceneSprite.on("animationcomplete",()=>{this.currentAnimation?.destroy(),this.sceneSprite.destroy()},this)}enableAutoRestart(){this.restartTime&&this.sceneSprite.on("animationcomplete",()=>{setTimeout(()=>{this.sceneSprite.anims&&(this.sceneSprite.anims.restart(),this.sceneSprite.anims.pause())},this.restartTime)},this)}enableInteraction(e){this.isInteractive&&(this.sceneSprite.setInteractive({useHandCursor:!0}).on("pointerdown",t=>{if(o.SELECTORS.CANVAS!==t.downElement.nodeName)return!1;let i=this.key===this.asset_key?this.id:this.key,n={act:a.OBJECT_INTERACTION,id:i,type:this.type};if(this.gameManager.activeRoomEvents.send(n),!this.targetName)return!1;let r=Object.assign({},e.player.currentTarget),s={id:i,type:a.TYPE_OBJECT};if(e.player.currentTarget=s,this.gameManager.gameEngine.showTarget(this.targetName,s,r),a.TYPE_ENEMY===this.type){let t=this.gameManager.config.get("client/ui/controls/defaultActionKey")||"physical_attack";this.gameManager.activeRoomEvents.send({act:l.ACTION,target:e.player.currentTarget,type:t})}}),this.highlightOnOver&&(this.sceneSprite.on("pointerover",()=>{this.sceneSprite.setTint(this.highlightColor)}),this.sceneSprite.on("pointerout",()=>{this.sceneSprite.clearTint()})))}runAnimation(){if(!this.sceneSprite){r.error("Current animation not found: "+this.key);return}this.sceneSprite.anims.play(this.key,!0)}getPosition(){return{x:this.x,y:this.y}}createObjectAnimations(e){if(!e)return;let t=Object.keys(e);if(0!==t.length)for(let i of t){if(this.gameManager.createdAnimations[i]){this.currentPreloader.objectsAnimations[i]=this.gameManager.createdAnimations[i];continue}if(s.hasOwn(this.currentPreloader.objectsAnimations,i))continue;let t=e[i],n={key:i,frames:this.currentPreloader.anims.generateFrameNumbers(t.asset_key||this.asset_key,{start:t.start||this.frameStart,end:t.end||this.frameEnd}),frameRate:t.frameRate||this.frameRate,repeat:t.repeat||this.repeat,hideOnComplete:t.hideOnComplete||this.hideOnComplete,asset_key:t.asset_key||this.asset_key};this.currentPreloader.objectsAnimations[i]=this.currentPreloader.anims.create(n),this.gameManager.createdAnimations[i]=this.currentPreloader.objectsAnimations[i]}}}},{"5045f4b0be8e4d09":"3lwy5","5bdcc625cdcbb429":"8k4Rg","25585b3d2976fa69":"7Qdd3","34b34457c954466":"4omVM"}],"5DgOB":[function(e,t,i,n){let{TraderObjectUi:r}=e("b14ff574969f05c7"),{Logger:s,sc:a}=e("28c6856f5bee0892");t.exports.ObjectsMessageListener=class{async executeClientMessageActions(e){let t=a.get(e,"message",!1);if(!t)return s.error("Missing message data on ObjectsMessageListener.",e),!1;if(!a.get(t,"result",!1))return s.error("Missing result data on ObjectsMessageListener.",e),!1;if(!a.get(t,"id",!1))return s.error("Missing Object ID on ObjectsMessageListener.",e),!1;let i=a.get(e,"roomEvents",!1);if(!i)return s.error("Missing RoomEvents on ObjectsMessageListener.",e),!1;let n=new r({roomEvents:i,message:t});if(!n.validate())return!1;n.updateContents()}}},{b14ff574969f05c7:"c4RDy","28c6856f5bee0892":"3lwy5"}],c4RDy:[function(e,t,i,n){let{ItemsConst:r}=e("cdac730d5b5ab82a"),{ObjectsConst:s}=e("709ad51a4f52a4c4"),{Logger:a,sc:o}=e("1ac8620591e8ad0f");t.exports.TraderObjectUi=class{constructor(e){this.roomEvents=o.get(e,"roomEvents",!1),this.message=o.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene,this.itemsManager=this.gameManager?.inventory?.manager,this.objectUi=this.roomEvents?.objectsUi[this.message?.id],this.setConfirmMessages()}validate(){return this.roomEvents?this.message?this.gameManager?this.uiScene?this.itemsManager?!!this.objectUi||(a.error("Missing objectUi on TraderObjectUi."),!1):(a.error("Missing ItemsManager on TraderObjectUi."),!1):(a.error("Missing UiScene on TraderObjectUi."),!1):(a.error("Missing GameManager on TraderObjectUi."),!1):(a.error("Missing message on TraderObjectUi."),!1):(a.error("Missing RoomEvents on TraderObjectUi."),!1)}setConfirmMessages(){if(!this.gameManager)return!1;this.confirmMessages={buy:this.gameManager.services.translator.t("objects.trader.buyConfirmed"),sell:this.gameManager.services.translator.t("objects.trader.sellConfirmed")}}updateContents(){let e=this.gameManager.gameDom.getElement("#box-"+this.objectUi.id+" .box-content");if(!e)return a.error('Missing container: "#box-'+this.objectUi.id+' .box-content".'),!1;let t=this.message.result.action;if(s.TRADE_ACTIONS_FUNCTION_NAME.CONFIRM===this.message.result.subAction)return e.innerHTML=this.confirmMessages[t],!0;let i=o.get(this.message.result,"items",!1),n=this.mapInventoryKeyFromAction(t),r=o.get(this.message.result,"exchangeData",!1),l=o.get(r,n,!1),h=this.message.result.exchangeRequirementsA||[],u=this.message.result.exchangeRewardsB||[];this.updateItemsList(i,t,h,u,e,l),this.updateExchangeData(l,t,h,u,i)}updateItemsList(e,t,i,n,r,s){if(!e)return;let a="",l={};for(let r of Object.keys(e)){let h=e[r],u=Object.assign({manager:this.itemsManager},h,{uid:r}),c=o.get(this.itemsManager.itemClasses,u.key,this.itemsManager.types.classByTypeId(u.type));l[r]=new c(u),l[r].quantityDisplay=1,l[r].quantityMaxDisplay=Math.max(l[r].qty_limit,h.qty),l[r].tradeAction=t,l[r].exchangeRequirements=this.fetchItemRequirements(u.key,i),l[r].exchangeRewards=this.fetchItemRewards(u.key,n),a+=this.createTradeItemBox(l[r],o.get(s,l[r].uid,!1))}r.innerHTML=this.createTradeContainer(t,a),this.activateItemsBoxActions(l),this.activateConfirmButtonAction(t)}activateConfirmButtonAction(e){let t=this.gameManager.gameDom.getElement(".confirm-"+e),i={act:s.OBJECT_INTERACTION,id:this.message.id,value:e,sub:s.TRADE_ACTIONS.CONFIRM};t?.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send(i)})}updateExchangeData(e,t,i,n,r){if(!1===e)return!1;let s=this.createConfirmItemsBox(e,r,t),o=null;return("buy"===t&&(o=this.gameDom.getElement(".trade-container-buy .trade-col.trade-col-2")),"sell"===t&&(o=this.gameDom.getElement(".trade-container-sell .trade-col.trade-col-1")),null===o)?(a.error('Missing "'+t+'" items container.',{message:this.message}),!1):(o.innerHTML=s,this.assignRemoveActions(e,r,t),!0)}createConfirmItemsBox(e,t,i){let n=Object.keys(e);if(0===n.length)return this.message.lastErrorMessage||a.info("Undefined exchange items on confirmation trader-object-ui.",{message:this.message}),"";let s="",o=this.uiScene.cache.html.get("inventoryTradeItem");if(!o)return a.error('Missing template "inventoryTradeItem".'),"";for(let a of n){let n=e[a],l=t[a],h=r.TRADE_ACTIONS.BUY===i,u=r.TRADE_ACTIONS.SELL===i;s+=this.gameManager.gameEngine.parseTemplate(o,{key:l.key,label:l.label,description:l.description,id:a,qty:l.qty,hiddenClass:"",tradeRequirements:h?this.createTradeRequirementsContent(l):"",tradeRewards:u?this.createTradeRewardsContent(l):"",tradeAction:this.createTradeActionRemove(l),tradeActionKey:i,tradeQuantityContent:n})}return s}assignRemoveActions(e,t,i){let n=Object.keys(e);if(0===n.length)return this.message.lastErrorMessage||a.info("Undefined exchange items on remove trader-object-ui.",{message:this.message}),!1;for(let e of n){let n=".trade-item-to-be-"+i+".trade-item-"+e,r=this.gameDom.getElement(n);if(!r){a.error('Assign trade item "'+e+'" container not found.',{message:this.message});continue}let o=this.gameDom.getElement(".trade-item-"+i+".trade-item-"+e+" .trade-action-remove");if(!o){a.error('Assign trade item "'+e+'" remove button not found.',{message:this.message});continue}let l=t[e];o.addEventListener("click",()=>{r.classList.remove("hidden");let t={act:s.OBJECT_INTERACTION,id:this.message.id,value:i,itemId:e,itemKey:l.key};t[s.TRADE_ACTIONS.SUB_ACTION]=s.TRADE_ACTIONS.REMOVE,this.gameManager.activeRoomEvents.send(t)})}return!0}createTradeContainer(e,t){let i=this.uiScene.cache.html.get("inventoryTradeContainer");if(!i)return a.error('Missing template "inventoryTradeContainer".'),"";let n=this.message.result.lastErrorData;n?.itemUid&&(n.item=this.fetchItemLabelByUid(n.itemUid)),n?.requiredItemKey&&(n.requiredItem=this.fetchItemLabelByUid(n.requiredItemKey));let o=this.gameManager.services.translator.t(this.message.result.lastErrorMessage,n),l=r.TRADE_ACTIONS.BUY===e?t:"",h=r.TRADE_ACTIONS.SELL===e?t:"";return this.gameManager.gameEngine.parseTemplate(i,{tradeActionKey:e,confirmRequirements:"",lastErrorMessage:o,tradeActionLabel:s.TRADE_ACTIONS_FUNCTION_NAME.CONFIRM,tradeItemsBuy:l,tradeItemsSell:h})}fetchItemLabelByUid(e){return this.gameManager?.inventory?.manager?.items[e]?.label||this.message?.result?.items[e]?.label||""}fetchItemRequirements(e,t){if(0===t.length)return!1;let i={};for(let n of t)e===n.itemKey&&(i[n.itemKey]=n);return i}fetchItemRewards(e,t){if(0===t.length)return!1;let i={};for(let n of t)e===n.itemKey&&(i[n.itemKey]=n);return i}createTradeItemBox(e,t){let i=this.uiScene.cache.html.get("inventoryTradeItem");if(!i)return a.error('Missing template "inventoryTradeItem".'),"";let n=this.uiScene.cache.html.get("inventoryTradeItemQuantity");if(!n)return a.error('Missing template "inventoryTradeItemQuantity".'),"";let s=r.TRADE_ACTIONS.BUY===e.tradeAction,o=r.TRADE_ACTIONS.SELL===e.tradeAction,l=t||0;return this.gameManager.gameEngine.parseTemplate(i,{key:e.key,label:e.label,description:e.description,id:e.getInventoryId(),qty:e.qty,hiddenClass:0<l&&e.qty===l?" hidden":"",tradeRequirements:s?this.createTradeRequirementsContent(e):"",tradeRewards:o?this.createTradeRewardsContent(e):"",tradeAction:this.createTradeActionContent(e),tradeActionKey:"to-be-"+e.tradeAction,tradeQuantityContent:this.gameManager.gameEngine.parseTemplate(n,{quantityDisplay:e.quantityDisplay||1,quantityMaxDisplay:0<e.quantityMaxDisplay?'max="'+e.quantityMaxDisplay+'"':""})})}createTradeRequirementsContent(e){if(!e.exchangeRequirements)return"";let t=Object.keys(e.exchangeRequirements);if(0===t.length)return"";let i=this.uiScene.cache.html.get("inventoryTradeRequirements");if(!i)return a.error('Missing template "inventoryTradeRequirements".'),"";let n="";for(let r of t){let t=e.exchangeRequirements[r];n+=this.gameManager.gameEngine.parseTemplate(i,{itemKey:e.key,requiredItemKey:t.requiredItemKey,requiredQuantity:t.requiredQuantity})}return n}createTradeRewardsContent(e){if(!e.exchangeRewards)return"";let t=Object.keys(e.exchangeRewards);if(0===t.length)return"";let i=this.uiScene.cache.html.get("inventoryTradeRewards");if(!i)return a.error('Missing template "inventoryTradeRewards".'),"";let n="";for(let r of t){let t=e.exchangeRewards[r];n+=this.gameManager.gameEngine.parseTemplate(i,{itemKey:e.key,rewardItemKey:t.rewardItemKey,rewardQuantity:t.rewardQuantity})}return n}createTradeActionContent(e,t){let i=this.uiScene.cache.html.get("inventoryTradeAction");return i?this.gameManager.gameEngine.parseTemplate(i,{key:e.key,id:e.getInventoryId(),tradeAction:t||o.get(e,"tradeAction","")}):(a.error('Missing template "inventoryTradeAction".'),"")}createTradeActionRemove(e){let t=this.uiScene.cache.html.get("inventoryTradeActionRemove");return t?this.gameManager.gameEngine.parseTemplate(t,{key:e.key,id:e.uid,tradeAction:"remove"}):(a.error('Missing template "inventoryTradeActionRemove".'),"")}activateItemsBoxActions(e){for(let t of Object.keys(e)){let i=e[t],n=".trade-item-to-be-"+i.tradeAction+".trade-item-"+i.uid+" .trade-action-"+i.tradeAction+" button",r=this.gameDom.getElement(n);if(!r){a.error('Activate trade item "'+i.uid+'" action button not found.');continue}r.addEventListener("click",()=>{let e=this.gameDom.getElement(".trade-item-"+i.getInventoryId()+" .item-qty input"),t=e?.value||1,n={act:s.OBJECT_INTERACTION,id:this.message.id,value:i.tradeAction,itemId:i.getInventoryId(),itemKey:i.key,qty:Number(t)};n[s.TRADE_ACTIONS.SUB_ACTION]=s.TRADE_ACTIONS.ADD,this.gameManager.activeRoomEvents.send(n)})}}mapInventoryKeyFromAction(e){return o.get({buy:"A",sell:"B"},e,!1)}}},{cdac730d5b5ab82a:"g4GOK","709ad51a4f52a4c4":"8k4Rg","1ac8620591e8ad0f":"3lwy5"}],g4GOK:[function(e,t,i,n){t.exports={ItemsServer:e("58ccb446d62c749b"),ItemsManager:e("99fbf686cf9954ad"),Inventory:e("d0e0bc002aa0626b"),ItemGroup:e("f76a9d92dd31d5bc"),ItemBase:e("8e9d5aa6534a13ad"),ItemEquipment:e("8451b91f0c937da4"),ItemUsable:e("106627cf30823e76"),ItemSingle:e("a73a08604f94da54"),ItemSingleEquipment:e("72395d9fa7948595"),ItemSingleUsable:e("6d04ae470a68a6bf"),ItemsFactory:e("f5eb7eeb5f537334"),ModelEntity:e("d4ce696862dbcd35"),ItemsConst:e("a5ef4f750b88ecba"),ItemsEvents:e("a180e01e5de133e0"),Receiver:e("33a340330572bf29"),ItemsDataGenerator:e("bf0687569e27057a"),GroupsDataGenerator:e("27ccd3cf572478fc"),ExchangePlatform:e("90218b41bb50ec4b"),ExchangeRequirement:e("c2601b545e947f39"),RequirementsCollection:e("72f6373fd251e1e3"),RequirementsProcessor:e("79f809e040670ce3"),ExchangeReward:e("3e52122617c11229"),RewardsCollection:e("6edee09b19b2994c"),RewardsProcessor:e("441790981610210a"),ItemsError:e("c48f961fa528324f")}},{"58ccb446d62c749b":"fCIqi","99fbf686cf9954ad":"5wpm2",d0e0bc002aa0626b:"8qkfQ",f76a9d92dd31d5bc:"3auVp","8e9d5aa6534a13ad":"gInMY","8451b91f0c937da4":"53uuI","106627cf30823e76":"d0orT",a73a08604f94da54:"lLwiJ","72395d9fa7948595":"a3dXh","6d04ae470a68a6bf":"9iH9y",f5eb7eeb5f537334:"lrNSa",d4ce696862dbcd35:"3ncwO",a5ef4f750b88ecba:"idEfG",a180e01e5de133e0:"fWlRm","33a340330572bf29":"2R9Cx",bf0687569e27057a:"nHDSk","27ccd3cf572478fc":"btt2J","90218b41bb50ec4b":"gRIlz",c2601b545e947f39:"4hpnF","72f6373fd251e1e3":"1wLI1","79f809e040670ce3":"kxCH2","3e52122617c11229":"iuvBV","6edee09b19b2994c":"hU2Lr","441790981610210a":"1sOiW",c48f961fa528324f:"eODT6"}],fCIqi:[function(e,t,i,n){let r=e("584cf2f2bf66f26b"),{StorageObserver:s}=e("3442076d73bd51e9"),a=e("906b84f8406328ec"),{Logger:o,ErrorManager:l,sc:h}=e("5ac154b5c4320dd9");t.exports=class{constructor(e){h.hasOwn(e,"owner")||l.error("Undefined owner."),this.manager=new r(e),this.createStorageObserver(e),this.createClient(e)}createClient(e){if(!h.hasOwn(e,"client"))return!1;this.client=new a({manager:this.manager,client:e.client})}createStorageObserver(e){if(!h.hasOwn(e,"persistence")||!e.persistence)return!1;let t=!1;if(h.hasOwn(e,"modelsManager")&&(t=e.modelsManager),!h.hasOwn(e.owner,"persistData")||"function"!=typeof e.owner.persistData)return o.error('Required method "persistData" not found in ItemServer props.owner.'),!1;this.dataServer=new s(this.manager,t),this.dataServer.listenEvents()}}},{"584cf2f2bf66f26b":"5wpm2","3442076d73bd51e9":"j7WCD","906b84f8406328ec":"3NxkK","5ac154b5c4320dd9":"3lwy5"}],"5wpm2":[function(e,t,i,n){let r=e("4fe5cf381ee58ab2"),s=e("419f5262e5a6365c"),a=e("bf63d9f42b20facf"),{ErrorManager:o,sc:l}=e("21ccb6baff6c486e");t.exports=class extends r{constructor(e){l.hasOwn(e,"owner")||o.error("Undefined owner."),super(e),this.itemClasses=l.get(e,"itemClasses",!1),this.groupClasses=l.get(e,"groupClasses",!1),this.itemsModelData=l.get(e,"itemsModelData",!1),this.ownerIdProperty=l.get(e,"ownerIdProperty","id"),this.owner=e.owner,this.groups={},this.eventsPrefix=this.getOwnerEventKey()+l.get(e,"eventsPrefix",""),this.types=new a}getOwnerId(){return this.owner[this.ownerIdProperty]}getOwnerEventKey(){return l.get(this.owner,"eventsPrefix","items.ownerId."+this.getOwnerId())}getOwnerUniqueEventKey(e){return(l.isFunction(this.owner.eventUniqueKey)?this.owner.eventUniqueKey():"items.ownerId."+this.getOwnerId()+".uKey."+l.getTime())+(e?"."+e:"")}async setup(e){await this.fireEvent(s.MANAGER_INIT,{props:e,manager:this}),l.hasOwn(e,"items")&&await this.setItems(e.items),l.hasOwn(e,"groups")&&await this.setGroups(e.groups)}createItemInstance(e,t){let i=l.get(this.itemsModelData,e,!1);if(!1===i)return!1;if(i.data.modifiers)for(let e of Object.keys(i.data.modifiers))i.data.modifiers[e].target=this.owner;let n=i.class.isSingleInstance(),r=void 0!==t&&n?t:1,s=Object.assign({},i.data,{manager:this,item_id:i.data.id,qty:r});if(delete s.uid,!0===n||1===r)return new i.class(s);let a=[];s.qty=1;for(let e=0;e<r;e++)a.push(new i.class(s));return a}}},{"4fe5cf381ee58ab2":"8qkfQ","419f5262e5a6365c":"fWlRm",bf63d9f42b20facf:"8gXhx","21ccb6baff6c486e":"3lwy5"}],"8qkfQ":[function(e,t,i,n){let r=e("adccac45c69ab6e8"),s=e("2fd42dbc83a1dbf2"),a=e("bb9f4880ce8c412b"),{EventsManagerSingleton:o,sc:l}=e("4bf1621a8608b780");t.exports=class{constructor(e){this.events=l.get(e,"eventsManager",o),this.items={},this.limitPerItem=l.get(e,"limitPerItem",-1),this.itemsLimit=l.get(e,"itemsLimit",-1),this.applyModifiersAuto=l.get(e,"applyModifiersAuto",!0),this.revertModifiersAuto=l.get(e,"revertModifiersAuto",!0),this.locked=!1,this.eventsPrefix=l.get(e,"eventsPrefix",""),this.setError(),this.frozenItems={}}async validate(e){let t=!0;return e||(this.setError("Add item error, undefined item.",a.ERROR_CODES.UNDEFINED_ITEM),t=!1),l.isObjectFunction(e,"getInventoryId")||(this.setError("Add item error, undefined getInventoryId.",a.ERROR_CODES.UNDEFINED_METHOD_INVENTORY_ID),t=!1),e.key||(this.setError("Add item error, undefined item key.",a.ERROR_CODES.UNDEFINED_ITEM_KEY),t=!1),await this.fireEvent(s.VALIDATE,this,e,t),t}findItemByKey(e){return l.fetchByPropertyOnObject(this.items,"key",e)}findItemsByPropertyValue(e,t){return l.fetchAllByPropertyOnObject(this.items,e,t)}async addItem(e){if(!await this.validate(e))return this.setError("Invalid item instance.",a.ERROR_CODES.INVALID_ITEM_INSTANCE),!1;let t=e.getInventoryId();return this.locked?(this.setError("Inventory locked, cannot add item: "+t,a.ERROR_CODES.LOCKED_FOR_ADD_ITEM,{itemUid:t}),!1):this.itemsLimit===Object.keys(this.items).length&&0<=this.itemsLimit?(this.setError("Cannot add item, max total reached.",a.ERROR_CODES.MAX_TOTAL_REACHED_FOR_ADD_ITEM,{itemUid:t}),!1):l.hasOwn(this.items,t)&&!e.singleInstance?(this.setError("Cannot add item, item already exists: "+t,a.ERROR_CODES.ITEM_EXISTS_FOR_ADD_ITEM,{itemUid:t}),!1):e.qty>this.limitPerItem&&0<=this.limitPerItem?(this.setError("Cannot add item, item qty limit exceeded.",a.ERROR_CODES.ITEM_LIMIT_EXCEEDED_FOR_ADD_ITEM,{itemUid:t,qty:e.qty}),!1):(l.hasOwn(this.items,t)&&e.singleInstance?await this.increaseItemQty(t,e.qty):(await this.fireEvent(s.ADD_ITEM_BEFORE,this,e),this.items[t]=e,await this.fireEvent(s.ADD_ITEM,this,e)),this.items[t])}async addItems(e){for(let t of e)if(!await this.addItem(t))return this.setError('Cannot add item "'+t.getInventoryId()+'".',a.ERROR_CODES.ADD_ITEMS_ERROR,{itemUid:t.getInventoryId()}),!1;return!0}async setItem(e){if(this.locked)return this.setError("Inventory locked, cannot set item: "+e.getInventoryId(),a.ERROR_CODES.LOCKED_FOR_SET_ITEM,{itemUid:e.getInventoryId()}),!1;this.items[e.getInventoryId()]=e}async removeItem(e){return this.locked?(this.setError("Inventory locked, cannot remove item: "+e,a.ERROR_CODES.LOCKED_FOR_REMOVE_ITEM,{itemUid:e}),!1):l.hasOwn(this.items,e)?(await this.fireEvent(s.REMOVE_ITEM,this,e),delete this.items[e],!0):(this.setError("Cannot remove item, key not found: "+e,a.ERROR_CODES.KEY_NOT_FOUND,{itemUid:e}),!1)}async setItemQty(e,t){return this.modifyItemQty(a.SET,e,t)}async increaseItemQty(e,t){return this.modifyItemQty(a.INCREASE,e,t)}async decreaseItemQty(e,t){return this.modifyItemQty(a.DECREASE,e,t)}async modifyItemQty(e,t,i){if(this.locked)return this.setError("Inventory locked, cannot modify item qty: "+t,a.ERROR_CODES.LOCKED_FOR_MODIFY_ITEM_QTY,{itemUid:t}),!1;if(!l.hasOwn(this.items,t))return this.setError("Cannot "+e+" item qty, undefined item key: "+t,a.ERROR_CODES.UNDEFINED_ITEM_KEY_FOR_OPERATION,{itemUid:t,operation:e}),!1;if(isNaN(i))return this.setError("Cannot "+e+" item qty, qty is not a number: "+i,a.ERROR_CODES.QTY_NOT_A_NUMBER,{itemUid:t,operation:e,qty:i}),!1;if(this.limitPerItem>0&&i>this.limitPerItem&&(e===a.SET||e===a.INCREASE))return this.setError("Cannot "+e+" item qty, item qty limit exceeded: "+i+" > "+this.limitPerItem,a.ERROR_CODES.ITEM_QTY_LIMIT_EXCEEDED,{itemUid:t,operation:e,limitPerItem:this.limitPerItem}),!1;if(e===a.SET&&(this.items[t].qty=i),e===a.INCREASE&&(this.items[t].qty+=i),e===a.DECREASE){let e=this.items[t].qty-i;0>e&&(e=0),this.items[t].qty=e}return 0===this.items[t].qty&&this.items[t].autoRemoveItemOnZeroQty?(await this.fireEvent(s.MODIFY_ITEM_QTY,this.items[t],this,e,t,i),await this.removeItem(this.items[t].getInventoryId())):(await this.fireEvent(s.MODIFY_ITEM_QTY,this.items[t],this,e,t,i),!0)}async setItems(e){return this.locked?(this.setError("Inventory locked, cannot set items.",a.ERROR_CODES.LOCKED_FOR_SET_ITEMS),!1):(this.items=e,this.fireEvent(s.SET_ITEMS,{items:e,manager:this}))}async setGroups(e){return this.groups=e,this.fireEvent(s.SET_GROUPS,{groups:e,manager:this})}fireEvent(e,...t){return this.events.emit(this.eventFullName(e),...t)}listenEvent(e,t,i,n){return this.events.onWithKey(this.eventFullName(e),t,i,n)}eventFullName(e){return this.eventsPrefix+"."+e}setError(e="",t="",i={},n=!1){this.lastError=new r(e,t,i,n)}}},{adccac45c69ab6e8:"eODT6","2fd42dbc83a1dbf2":"fWlRm",bb9f4880ce8c412b:"idEfG","4bf1621a8608b780":"3lwy5"}],eODT6:[function(e,t,i,n){t.exports=class{constructor(e="",t="",i={},n=!1){this.message=e,this.code=t,this.data=i,this.withError=n}}},{}],fWlRm:[function(e,t,i,n){let r="reldens.items.";t.exports={PREF:r,MANAGER_INIT:r+"setup",EXCHANGE:{INITIALIZED:r+"initialized",CANCELED:r+"canceled",INVALID_PUSH:r+"invalidPush",ITEM_PUSHED:r+"itemPushed",ITEM_REMOVE:r+"itemRemove",CONFIRM:r+"confirm",DISCONFIRM:r+"disconfirm",BEFORE_FINALIZE:r+"beforeFinalize",FINALIZED:r+"finalized"},LOADED_OWNER_ITEMS:r+"loadedOwnerItems",SET_ITEMS:r+"setItems",SET_GROUPS:r+"setGroups",EQUIP_ITEM:r+"equipItem",UNEQUIP_ITEM:r+"unequipItem",ADD_ITEM:r+"addItem",ADD_ITEM_BEFORE:r+"addItemBefore",REMOVE_ITEM:r+"removeItem",MODIFY_ITEM_QTY:r+"modifyItemQty",EQUIP_BEFORE:r+"equipBefore",EQUIP:r+"equip",EXECUTING_ITEM:r+"executingItem",EXECUTED_ITEM:r+"executedItem",VALIDATE:r+"validate"}},{}],idEfG:[function(e,t,i,n){let r="rinv",s="items.",a="exchange.",o="requirements.",l="reward.",h="equipment.";t.exports={SET:"set",INCREASE:"increase",DECREASE:"decrease",ACTIONS_PREF:r,ACTION_ADD:r+"A",ACTION_REMOVE:r+"R",ACTION_MODIFY_QTY:r+"M",ACTION_EQUIP:r+"E",ACTION_UNEQUIP:r+"U",ACTION_MOD_APPLIED:r+"Ma",ACTION_MOD_REVERTED:r+"Mr",ACTION_EXECUTING:r+"Ex",ACTION_EXECUTED:r+"AExd",ACTION_MANAGER_INIT:r+"Mi",ACTION_SET_ITEMS:r+"Si",ACTION_SET_GROUPS:r+"Sg",BEHAVIOR_SEND:"send",BEHAVIOR_BROADCAST:"broadcast",BEHAVIOR_BOTH:"both",TYPES:{ITEM_BASE:10,EQUIPMENT:1,USABLE:2,SINGLE:3,SINGLE_EQUIPMENT:4,SINGLE_USABLE:5},TRADE_ACTIONS:{BUY:"buy",SELL:"sell",TRADE:"trade"},ERROR_CODES:{PREFIX:s,UNDEFINED_ITEM:s+"undefinedItem",UNDEFINED_METHOD_INVENTORY_ID:s+"undefinedMethodInventoryId",UNDEFINED_ITEM_KEY:s+"undefinedItemKey",INVALID_ITEM_INSTANCE:s+"invalidItemInstance",LOCKED_FOR_ADD_ITEM:s+"lockedForAddItem",MAX_TOTAL_REACHED_FOR_ADD_ITEM:s+"maxTotalReachedForAddItem",ITEM_EXISTS_FOR_ADD_ITEM:s+"itemExistsForAddItem",ITEM_LIMIT_EXCEEDED_FOR_ADD_ITEM:s+"itemLimitExceededForAddItem",ADD_ITEMS_ERROR:s+"addItemsError",LOCKED_FOR_SET_ITEM:s+"lockedForSetItem",LOCKED_FOR_REMOVE_ITEM:s+"lockedForRemoveItem",KEY_NOT_FOUND:s+"keyNotFound",LOCKED_FOR_MODIFY_ITEM_QTY:s+"lockedForModifyItemQty",UNDEFINED_ITEM_KEY_FOR_OPERATION:s+"undefinedItemKeyForOperation",QTY_NOT_A_NUMBER:s+"qtyNotANumber",ITEM_QTY_LIMIT_EXCEEDED:s+"itemQtyLimitExceeded",LOCKED_FOR_SET_ITEMS:s+"lockedForSetItems",EXCHANGE:{MISSING_CONFIRMATION:s+a+"missingConfirmation",INVALID_PUSHED_QUANTITY:s+a+"invalidPushedQuantity",INVALID_QUANTITY:s+a+"invalidQuantity",INVALID_EXCHANGE:s+a+"invalidExchange",DECREASE_QUANTITY:s+a+"decreaseQuantity",ITEM_ADD:s+a+"itemAdd"},REQUIREMENTS:{ITEM_NOT_PRESENT:s+o+"itemNotPresent",QUANTITY_NOT_AVAILABLE:s+o+"quantityNotAvailable",ITEM_NOT_PUSHED:s+o+"itemNotPushed",ITEM_QUANTITY_NOT_PUSHED:s+o+"itemQuantityNotPushed",ITEM_DOES_NOT_EXISTS:s+o+"itemDoesNotExists",ITEM_ADD:s+o+"itemAdd"},REWARD:{DOES_NOT_EXISTS:s+l+"doesNotExists",MISSING_ITEM:s+l+"missingItem",ITEM_NOT_PRESENT:s+l+"itemNotPresent",QUANTITY_NOT_AVAILABLE:s+l+"quantityNotAvailable",MISSING_PUSHED:s+l+"missingPushed",GET_ITEM_DOES_NOT_EXISTS:s+l+"getItemDoesNotExists",PROCESS_ITEM:s+l+"processItem",PROCESS_INVENTORY:s+l+"processInventory",ADD_ITEMS:s+l+"addItems",QUANTITY_OVERLOAD:s+l+"quantityOverload"},EQUIPMENT:{MODIFIERS_APPLY:s+h+"modifiersApply",MODIFIERS_REVERT:s+h+"modifiersRevert"}}}},{}],"8gXhx":[function(e,t,i,n){let r=e("ac10c481864dff83"),s=e("b75564ba303c5356"),a=e("957d5b5e4a423dca"),o=e("a3590f99276506ca"),l=e("dff4c8e33829a997"),h=e("5b2a69acfbc9bd6d"),u=e("ce977eaa6d463c01"),{sc:c}=e("5794f948bd319a4f");t.exports=class{constructor(){this.types={},this.types[r.TYPES.ITEM_BASE]=s,this.types[r.TYPES.EQUIPMENT]=a,this.types[r.TYPES.USABLE]=o,this.types[r.TYPES.SINGLE]=l,this.types[r.TYPES.SINGLE_EQUIPMENT]=h,this.types[r.TYPES.SINGLE_USABLE]=u}list(){return this.types}classByTypeId(e){return c.get(this.types,e.toString(),s)}}},{ac10c481864dff83:"idEfG",b75564ba303c5356:"gInMY","957d5b5e4a423dca":"53uuI",a3590f99276506ca:"d0orT",dff4c8e33829a997:"lLwiJ","5b2a69acfbc9bd6d":"a3dXh",ce977eaa6d463c01:"9iH9y","5794f948bd319a4f":"3lwy5"}],gInMY:[function(e,t,i,n){let r=e("c12e6ac2d5a93063"),s=e("c6965a9a447f564a"),{ErrorManager:a,sc:o}=e("e634cd5ec6f60b00");t.exports=class{constructor(e){o.hasOwn(e,"key")||a.error("Undefined item key."),o.hasOwn(e,"manager")||a.error("Undefined item manager."),this.key=e.key,this.uid=e.uid?e.uid:this.key+(e.id?"":e.id)+o.randomChars(8),this.id=o.get(e,"id",null),this.item_id=o.get(e,"item_id",null),this.label=o.get(e,"label",""),this.description=o.get(e,"description",""),this.manager=e.manager,this.type=o.get(e,"type",r.TYPES.ITEM_BASE),this.qty=o.get(e,"qty",0),this.remaining_uses=e.remaining_uses||0,this.is_active=o.get(e,"is_active",!1),this.group_id=o.get(e,"group_id",!1),this.qty_limit=o.get(e,"qty_limit",!1),this.uses_limit=o.get(e,"uses_limit",!1),this.autoRemoveItemOnZeroQty=o.get(e,"autoRemoveItemOnZeroQty",!0),this.useTimeOut=o.get(e,"useTimeOut",!1),this.execTimeOut=o.get(e,"execTimeOut",!1),this.modifiers=o.get(e,"modifiers",{}),this.target=!1,this.singleInstance=!1,this.rawCustomData=o.get(e,"customData",{});let t="string"==typeof this.rawCustomData?o.toJson(this.rawCustomData,{}):this.rawCustomData;null!==t&&"object"==typeof t&&0<Object.keys(t).length&&Object.assign(this,t)}static isSingleInstance(){return!1}getInventoryId(){return this.singleInstance?this.key:this.uid}async applyModifiers(){return await this.changeModifiers()}async revertModifiers(){return await this.changeModifiers(!0)}async changeModifiers(e){await this.manager.fireEvent(s.EQUIP_BEFORE+(e?"Revert":"Apply")+"Modifiers",this);let t=Object.keys(this.modifiers);if(0>=t.length)return;let i=e?"revert":"apply";for(let e of t)this.modifiers[e][i](this.target);return this.manager.fireEvent(s.EQUIP+(e?"Reverted":"Applied")+"Modifiers",this)}isType(e){return this.type===e}async fireEvent(e,...t){return this.manager.fireEvent(e,...t)}listenEvent(e,t,i,n){return this.manager.listenEvent(e,t,i,n)}}},{c12e6ac2d5a93063:"idEfG",c6965a9a447f564a:"fWlRm",e634cd5ec6f60b00:"3lwy5"}],"53uuI":[function(e,t,i,n){let r=e("33cdc889b48aacb0"),s=e("c5fbc38955884411"),a=e("8ae98c100e6c951f"),{sc:o}=e("bcc3d9fdf3135034");t.exports=class extends r{constructor(e){super(e),this.type=s.TYPES.EQUIPMENT,this.equipped=o.get(e,"equipped",!1)}async equip(e){if(this.equipped=!0,await this.manager.fireEvent(a.EQUIP_ITEM,this),!1===e||!1===this.manager.applyModifiersAuto)return!1;await this.applyModifiers()}async unequip(e){if(this.equipped=!1,await this.manager.fireEvent(a.UNEQUIP_ITEM,this),!1===e||!1===this.manager.revertModifiersAuto)return!1;await this.revertModifiers()}async applyModifiers(){return this.equipped?await super.applyModifiers():(this.manager.setError("Cannot apply modifiers the item is not equipped: "+this.getInventoryId(),s.ERROR_CODES.EQUIPMENT.MODIFIERS_APPLY,{itemUid:this.getInventoryId()}),!1)}async revertModifiers(){return this.equipped?(this.manager.setError("Cannot revert modifiers the item is not equipped: "+this.getInventoryId(),s.ERROR_CODES.EQUIPMENT.MODIFIERS_REVERT,{itemUid:this.getInventoryId()}),!1):await super.revertModifiers()}}},{"33cdc889b48aacb0":"gInMY",c5fbc38955884411:"idEfG","8ae98c100e6c951f":"fWlRm",bcc3d9fdf3135034:"3lwy5"}],d0orT:[function(e,t,i,n){let r=e("73e1b5628e255757"),s=e("da3e74df899b07c1"),a=e("31d1c1f3f78c977b"),{sc:o}=e("ba8c76a702e812f2");t.exports=class extends r{constructor(e){super(e),this.type=s.TYPES.USABLE,this.uses=o.get(e,"uses",1),this.currentUses=this.uses,this.usesLimit=o.get(e,"usesLimit",!1),this.canUse=!0,this.removeAfterUse=!0,this.useTimeOut=!1,this.useTimer=!1,this.execTimeOut=!1,this.execTimer=!1,this.removeQtyAfterUse=o.get(e,"removeQtyAfterUse",1),this.autoRemoveItemOnZeroQty=o.get(e,"autoRemoveItemOnZeroQty",!0)}async use(e=!1){if(!this.canUse||0>=this.currentUses)return!1;if(e&&(this.target=e),this.useTimeOut&&(this.canUse=!1,this.useTimer=setTimeout(async()=>{this.canUse=!0},this.useTimeOut)),await this.manager.fireEvent(a.EXECUTING_ITEM,this),!1===this.execTimeOut){await this.executeItem();return}this.execTimer=setTimeout(async()=>{await this.executeItem()},this.execTimeOut)}async executeItem(){return await this.applyModifiers(),this.currentUses--,!this.removeAfterUse||0<this.currentUses||(await this.manager.modifyItemQty(s.DECREASE,this.getInventoryId(),this.removeQtyAfterUse),this.currentUses=this.uses),await this.manager.fireEvent(a.EXECUTED_ITEM,this)}}},{"73e1b5628e255757":"gInMY",da3e74df899b07c1:"idEfG","31d1c1f3f78c977b":"fWlRm",ba8c76a702e812f2:"3lwy5"}],lLwiJ:[function(e,t,i,n){let r=e("f0df25643e2e264b");t.exports=class extends r{constructor(e){super(e),this.singleInstance=!0,this.uid=this.key}static isSingleInstance(){return!0}}},{f0df25643e2e264b:"gInMY"}],a3dXh:[function(e,t,i,n){let r=e("8c650fd6774ed566");t.exports=class extends r{constructor(e){super(e),this.singleInstance=!0}}},{"8c650fd6774ed566":"53uuI"}],"9iH9y":[function(e,t,i,n){let r=e("80d7e0f79d15a474");t.exports=class extends r{constructor(e){super(e),this.singleInstance=!0}}},{"80d7e0f79d15a474":"d0orT"}],j7WCD:[function(e,t,i,n){let{ModelsManager:r}=e("d53272d74eac6a7"),s=e("32417e719c5dd6ae"),a=e("136372ef47329aa3"),{ModifierConst:o}=e("a8ab6334ed36c1a0");t.exports.StorageObserver=class{constructor(e,t=!1){this.manager=e,this.modelsManager=!1!==t?t:new r,!1===this.modelsManager.dataServer.initialized&&this.modelsManager.dataServer.connect()}listenEvents(){let e=this.manager.getOwnerEventKey();this.manager.listenEvent(a.ADD_ITEM_BEFORE,this.saveNewItem.bind(this),this.manager.getOwnerUniqueEventKey("addItemBeforeStore"),e),this.manager.listenEvent(a.REMOVE_ITEM,this.removeItem.bind(this),this.manager.getOwnerUniqueEventKey("removeItemStore"),e),this.manager.listenEvent(a.MODIFY_ITEM_QTY,this.updateItemQuantity.bind(this),this.manager.getOwnerUniqueEventKey("modifyItemStore"),e),this.manager.listenEvent(a.EQUIP_ITEM,this.saveEquippedItemAsActive.bind(this),this.manager.getOwnerUniqueEventKey("equipItemStore"),e),this.manager.listenEvent(a.UNEQUIP_ITEM,this.saveUnequippedItemAsInactive.bind(this),this.manager.getOwnerUniqueEventKey("unequipItemStore"),e),this.manager.listenEvent(a.EQUIP+"AppliedModifiers",this.updateAppliedModifiers.bind(this),this.manager.getOwnerUniqueEventKey("modifiersAppliedStore"),e),this.manager.listenEvent(a.EQUIP+"RevertedModifiers",this.updateRevertedModifiers.bind(this),this.manager.getOwnerUniqueEventKey("modifiersRevertedStore"),e),this.manager.listenEvent(a.EXECUTED_ITEM,this.processAndStoreItemExecutionData.bind(this),this.manager.getOwnerUniqueEventKey("executedItemStore"),e)}async processAndStoreItemExecutionData(e){return await this.modelsManager.onExecutedItem(e)}async updateRevertedModifiers(e){return await this.modelsManager.onChangedModifiers(e,o.MOD_REVERTED)}async updateAppliedModifiers(e){return await this.modelsManager.onChangedModifiers(e,o.MOD_APPLIED)}async saveUnequippedItemAsInactive(e){return await this.modelsManager.onUnequipItem(e)}async saveEquippedItemAsActive(e){return await this.modelsManager.onEquipItem(e)}async updateItemQuantity(e,t,i,n,r){return await this.modelsManager.updateItemQuantity(e,t,i,n,r)}async removeItem(e,t){return await this.modelsManager.deleteItem(e,t)}async saveNewItem(e,t){return await this.modelsManager.saveNewItem(e,t)}async loadOwnerItems(){let e=await this.modelsManager.loadOwnerItems(this.manager.getOwnerId());if(0===e.length)return!1;let t=await s.fromModelsList(e,this.manager);if(!1===t)return!1;await this.manager.fireEvent(a.LOADED_OWNER_ITEMS,this,t,e),await this.manager.setItems(t)}}},{d53272d74eac6a7:"dqPLo","32417e719c5dd6ae":"lrNSa","136372ef47329aa3":"fWlRm",a8ab6334ed36c1a0:"iJUHo"}],dqPLo:[function(e,t,i,n){let{DataServerValidator:r}=e("922c8937bb9a3e8e"),s=e("45d303bb335ac1a6"),{sc:a}=e("311fda297c43e904");t.exports.ModelsManager=class{constructor(e){this.dataServer=r.getValidDataServer(e,this)}getEntity(e){return this.dataServer.entityManager.get(e)}async loadOwnerItems(e){return this.getEntity("inventory").loadByWithRelations("owner_id",e,["items_item.items_modifiers"])}async saveNewItem(e,t){let i={id:null,owner_id:e.getOwnerId(),item_id:t.item_id,qty:t.qty};a.hasOwn(t,"remaining_uses")&&(i.remaining_uses=t.remaining_uses),a.hasOwn(t,"is_active")&&(i.is_active=t.is_active);let n=await this.getEntity("inventory").create(i);return t.id=n.id,t}async deleteItem(e,t){return this.getEntity("inventory").deleteById(e.items[t].id)}async updateItemQuantity(e){return this.getEntity("inventory").updateById(e.id,{qty:e.qty})}async onEquipItem(e){return this.getEntity("inventory").updateById(e.id,{is_active:1})}async onUnequipItem(e){return this.getEntity("inventory").updateById(e.id,{is_active:0})}async onChangedModifiers(e,t){return e.manager.owner.persistData({act:t,item:e})}async onExecutedItem(e){return 0===e.uses&&await this.getEntity("inventory").deleteById(e.id),e.manager.owner.persistData({act:s.EXECUTED_ITEM,item:e})}}},{"922c8937bb9a3e8e":"8PHPS","45d303bb335ac1a6":"fWlRm","311fda297c43e904":"3lwy5"}],"8PHPS":[function(e,t,i,n){let{ErrorManager:r,sc:s}=e("597ff0c6b1eddcaa");t.exports.DataServerValidator=class{static getValidDataServer(e){let t=s.get(e,"dataServer",!1);return!1===t&&r.error("Data Server instance not found.",e),("function"!=typeof t.connect||"function"!=typeof t.generateEntities)&&r.error("Data Server property found but the instance required methods are not available.",t),t}}},{"597ff0c6b1eddcaa":"3lwy5"}],lrNSa:[function(e,t,i,n){let r=e("828a19276ce7cb77"),{ModifierConst:s,Modifier:a}=e("b6abd567e6ee9228"),{sc:o}=e("a22d714e4f421021");t.exports=class{static async fromModelsList(e,t){if(!e.length)return!1;let i={};for(let n of e){let e=await this.fromModel(n,t);i[e.getInventoryId()]=e}return i}static async fromModel(e,t){let i=new(o.get(t.itemClasses,e.items_item.key,t.types.classByTypeId(e.items_item.type)))({id:e.id,item_id:e.items_item.id,key:e.items_item.key,type:e.items_item.type,manager:t,label:e.items_item.label,description:e.items_item.description,qty:e.qty,remaining_uses:e.remaining_uses,is_active:e.is_active,group_id:e.items_item.group_id,qty_limit:e.items_item.qty_limit,uses_limit:e.items_item.uses_limit,useTimeOut:e.items_item.useTimeOut,execTimeOut:e.items_item.execTimeOut,customData:e.items_item.customData});return i.isType(r.TYPES.EQUIPMENT)&&(i.equipped=1===e.is_active),await this.enrichWithModifiers(e,i,t),i}static async enrichWithModifiers(e,t,i){if(0===e.items_item.items_modifiers.length)return;let n={};for(let t of e.items_item.items_modifiers)t.operation!==s.OPS.SET&&(t.value=Number(t.value)),t.target=i.owner,n[t.id]=new a(t);t.modifiers=n}}},{"828a19276ce7cb77":"idEfG",b6abd567e6ee9228:"iJUHo",a22d714e4f421021:"3lwy5"}],iJUHo:[function(e,t,i,n){t.exports={Calculator:e("7209906b2d2fdb67"),Condition:e("f9b761e432d15ea1"),Modifier:e("85ba66b0e0937f6b"),ModifierConst:e("347c1405c6c340e4"),PropertyManager:e("73dbfd9bd13117c6")}},{"7209906b2d2fdb67":"15YIL",f9b761e432d15ea1:"jefAk","85ba66b0e0937f6b":"gjxyS","347c1405c6c340e4":"4bERK","73dbfd9bd13117c6":"7bVCu"}],"15YIL":[function(e,t,i,n){let r=e("c6a7e2b54db92583");t.exports=class{calculateNewValue(e,t,i,n){let s=t===r.OPS.INC,a=t===r.OPS.DEC;if(s&&!n||a&&n)return e+i;if(a&&!n||s&&n)return e-i;let o=t===r.OPS.MUL,l=t===r.OPS.DIV;if(o&&!n||l&&n)return e*i;if(l&&!n||o&&n)return e/i;let h=t===r.OPS.INC_P;if(h&&!n)return e+Math.round(e*i/100);if(h&&n){let t=Math.ceil(e-e/(100-i)*100);return e+t}let u=t===r.OPS.DEC_P;if(u&&!n)return e-Math.round(e*i/100);if(u&&n){let t=Math.ceil(e/(100-i)*100-e);return e+t}}}},{c6a7e2b54db92583:"4bERK"}],"4bERK":[function(e,t,i,n){t.exports={OPS:{INC:1,DEC:2,DIV:3,MUL:4,INC_P:5,DEC_P:6,SET:7,SET_N:9,METHOD:8},COMPARE:{EQ:"eq",NE:"ne",LT:"lt",GT:"gt",LE:"le",GE:"ge"},TYPES:{INT:"int",STRING:"string"},MOD_MISSING_KEY:"mk",MOD_MISSING_PROPERTY_KEY:"mpk",MOD_MISSING_OPERATION:"mo",MOD_MISSING_VALUE:"mv",MOD_READY:"mre",MOD_APPLIED:"ma",MOD_REVERTED:"mr",MOD_UNDEFINED_TARGET:"mut",MOD_INVALID_CONDITIONS:"mic",MOD_MISSING_CONDITION_INSTANCE:"mmci",MOD_MODIFIER_ERROR:"me"}},{}],jefAk:[function(e,t,i,n){let{ErrorManager:r,sc:s}=e("7f32cc4f678fee29"),a=e("3ddfbc21a5968711"),o=e("ccbf83a7cf179d24");t.exports=class{constructor(e){this.validateParameters(e),this.key=e.key,this.propertyKey=e.propertyKey,this.conditional=e.conditional,this.type=s.get(e,"type",o.TYPES.INT),this.value=this.parseValue(e.value),this.propertyManager=new a}validateParameters(e){s.hasOwn(e,"key")||r.error("Missing Condition key."),s.hasOwn(e,"propertyKey")||r.error("Missing Condition propertyKey."),s.hasOwn(e,"conditional")||r.error("Missing Condition conditional."),s.hasOwn(e,"value")||r.error("Missing Condition value.")}parseValue(e){return this.type===o.TYPES.INT&&(e=Number(e)),this.type===o.TYPES.STRING&&(e=String(e)),e}isValidOn(e,t){s.isObjectFunction(this,this.conditional)||r.error("Condition operation is not a function.");let i=t||this.value,n=this.propertyManager.getPropertyValue(e,this.propertyKey);return this[this.conditional](n,i)}eq(e,t){return e===t}ne(e,t){return e!==t}lt(e,t){return e<t}gt(e,t){return e>t}le(e,t){return e<=t}ge(e,t){return e>=t}}},{"7f32cc4f678fee29":"3lwy5","3ddfbc21a5968711":"7bVCu",ccbf83a7cf179d24:"4bERK"}],"7bVCu":[function(e,t,i,n){let{ErrorManager:r,sc:s}=e("6ef89030f5a59b76");t.exports=class{getPropertyValue(e,t){return this.manageOwnerProperty(e,t)}setOwnerProperty(e,t,i){return this.manageOwnerProperty(e,t,i)}manageOwnerProperty(e,t,i){let n=t.split("/"),r=this.extractDeepProperty(e,n),s=n.pop();return void 0!==i&&(r[s]=i),r[s]}extractDeepProperty(e,t){let i=[...t],n=i.shift();return(s.hasOwn(e,n)||r.error('Property "'+n+'" from path parts: "'+t.join("/")+'"] owner invalid value: '+e[n]+"."),1<i.length)?this.extractDeepProperty(e[n],i):e[n]}}},{"6ef89030f5a59b76":"3lwy5"}],gjxyS:[function(e,t,i,n){let r=e("466f1d6a713f27d"),s=e("3a9190386e2c269"),a=e("a7b06831aaf035e5"),o=e("3a11d9dd77bf6747"),{Logger:l,sc:h}=e("994144a57bf406a1");t.exports=class{constructor(e){this.key=e.key,this.propertyKey=h.get(e,"propertyKey",e.property_key),this.basePropertyKey=h.get(e,"basePropertyKey",this.propertyKey),this.operation=e.operation,this.type=h.get(e,"type",o.TYPES.INT),this.originalValue=e.value,this.value=this.parseValue(e.value),this.target=h.get(e,"target",!1),this.minValue=!!h.hasOwn(e,"minValue")&&this.parseValue(e.minValue),this.maxValue=!!h.hasOwn(e,"maxValue")&&this.parseValue(e.maxValue),this.minProperty=h.get(e,"minProperty",!1),this.maxProperty=h.get(e,"maxProperty",!1),this.conditions=h.get(e,"conditions",[]),this.conditionsOnRevert=h.get(e,"conditionsOnRevert",!1),this.state=this.determineState(e),this.calculator=new r,this.propertyManager=new a}determineState(e){return h.hasOwn(e,"key")?h.hasOwn(e,"propertyKey")||h.hasOwn(e,"property_key")?h.hasOwn(e,"operation")?h.hasOwn(e,"value")?o.MOD_READY:o.MOD_MISSING_VALUE:o.MOD_MISSING_OPERATION:o.MOD_MISSING_PROPERTY_KEY:o.MOD_MISSING_KEY}parseValue(e){return this.type===o.TYPES.INT&&(e=Number(e)),this.type===o.TYPES.STRING&&(e=String(e)),e}apply(e,t,i){return this.execute(e,!1,t,i)}revert(e,t,i){return this.execute(e,!0,t,i)}execute(e,t=!1,i=!1,n=!1){if(!this.target&&!e)return this.state=o.MOD_UNDEFINED_TARGET,!1;if(this.conditions.length&&!this.validateConditions(e)&&(!t||t&&this.conditionsOnRevert))return!1;e&&(this.target=e);let r=this.getModifiedValue(t,i),s=n?this.basePropertyKey:this.propertyKey;return this.setOwnerProperty(s,r),this.state=t?o.MOD_REVERTED:o.MOD_APPLIED,!0}validateConditions(e){for(let t of this.conditions){if(t instanceof s)return l.error(["Missing Condition instance.",typeof t,"was specified."]),this.state=o.MOD_MISSING_CONDITION_INSTANCE,!1;if(!t.isValidOn(e))return this.state=o.MOD_INVALID_CONDITIONS,!1}return!0}getModifiedValue(e=!1,t=!1){let i=t?this.basePropertyKey:this.propertyKey,n=this.getPropertyValue(i),r=this.calculator.calculateNewValue(n,this.operation,this.value,e);if((this.operation===o.OPS.SET||this.operation===o.OPS.SET_N)&&(r=!e&&this.value),this.operation===o.OPS.METHOD){if(!h.hasOwn(this,this.value)||"function"!=typeof this[this.value])return l.error(["Modifier error:",this,"Undefined method:",this.value]),this.state=o.MOD_MODIFIER_ERROR,!1;r=this[this.value](this,r)}return this.applyModifierLimits(r)}applyModifierLimits(e){if(this.minValue&&e<this.minValue&&(e=this.minValue),this.maxValue&&e>this.maxValue&&(e=this.maxValue),this.minProperty){let t=this.getPropertyValue(this.minProperty);t&&e<t&&(e=t)}if(this.maxProperty){let t=this.getPropertyValue(this.maxProperty);t&&e>t&&(e=t)}return e}getPropertyValue(e){return this.propertyManager.getPropertyValue(this.target,e)}setOwnerProperty(e,t){return this.propertyManager.setOwnerProperty(this.target,e,t)}}},{"466f1d6a713f27d":"15YIL","3a9190386e2c269":"jefAk",a7b06831aaf035e5:"7bVCu","3a11d9dd77bf6747":"4bERK","994144a57bf406a1":"3lwy5"}],"3NxkK":[function(e,t,i,n){let r=e("b644d789ee2b40af"),s=e("45ba412a65c2e357"),{PropertyManager:a}=e("994236dc9aef1f79"),{Logger:o,sc:l}=e("8b1efebe48a67288");t.exports=class{constructor(e){this.client=l.get(e,"client",!1),this.manager=l.get(e,"manager",!1),this.sendProperties=l.get(e,"sendProperties",{}),!1===l.hasOwn(e,"sendProperties")&&this.defineBehaviorForProperties(),this.sendTargetProps=l.hasOwn(e,"sendTargetProps")?e.sendTargetProps:{broadcast:[],send:[]},this.propertyManager=new a,this.listenEvents()}validateManager(){return!!this.manager||(o.critical("Undefined manager for Sender."),!1)}validateClient(){return this.client?l.isObjectFunction(this.client,"send")?!!l.isObjectFunction(this.client,"broadcast")||(o.critical('Required method "broadcast" not found in client.',this.client),!1):(o.critical('Required method "send" not found in client.',this.client,typeof this.client.send),!1):(o.critical("Undefined client for Sender."),!1)}defineBehaviorForProperties(e){e||(e={});let t=r.BEHAVIOR_SEND,i=r.BEHAVIOR_BROADCAST;this.setPropertyBehavior(r.ACTION_ADD,e,{behavior:t,send:["id","key","type","qty","label","description","group_id","qty_limit","uses_limit","useTimeOut","execTimeOut","remaining_uses","is_active"]}),this.setPropertyBehavior(r.ACTION_REMOVE,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(r.ACTION_MODIFY_QTY,e,{behavior:t,send:["id","key","qty"]}),this.setPropertyBehavior(r.ACTION_MOD_APPLIED,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(r.ACTION_MOD_REVERTED,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(r.ACTION_EQUIP,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(r.ACTION_UNEQUIP,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(r.ACTION_EXECUTING,e,{behavior:i,broadcast:["id","key","animationData"]}),this.setPropertyBehavior(r.ACTION_EXECUTED,e,{behavior:t,send:["id","key"]})}setPropertyBehavior(e,t,i){l.hasOwn(t,e)&&(this.sendProperties[e]=t[e]),this.sendProperties[e]=i}getItemProperties(e,t,i){if(!l.hasOwn(this.sendProperties,t))return o.critical("Undefined action while getting item properties.",{action:t,sendProperties:this.sendProperties}),!1;if(!l.hasOwn(this.sendProperties[t],i))return o.critical("Undefined behavior while getting item properties.",{behavior:i,action:t,sendProperties:this.sendProperties}),!1;let n={idx:e.getInventoryId()};for(let r of this.sendProperties[t][i]){if(!l.hasOwn(e,r)){o.info("Undefined property: "+r,e);continue}n[r]=e[r]}return n}listenEvents(){if(!this.validateManager())return!1;let e=this.manager.getOwnerEventKey();this.manager.listenEvent(s.ADD_ITEM,this.sendAddItemData.bind(this),this.manager.getOwnerUniqueEventKey("addItemSend"),e),this.manager.listenEvent(s.REMOVE_ITEM,this.sendRemoveItemData.bind(this),this.manager.getOwnerUniqueEventKey("removeItemSend"),e),this.manager.listenEvent(s.MODIFY_ITEM_QTY,this.sendModifyItemQuantityData.bind(this),this.manager.getOwnerUniqueEventKey("modifyItemQtySend"),e),this.manager.listenEvent(s.EQUIP_ITEM,this.sendEquipItemActionData.bind(this),this.manager.getOwnerUniqueEventKey("equipItemSend"),e),this.manager.listenEvent(s.UNEQUIP_ITEM,this.sendUnequipItemActionData.bind(this),this.manager.getOwnerUniqueEventKey("unequipItemSend"),e),this.manager.listenEvent(s.EQUIP+"AppliedModifiers",this.sendEquipItemAppliedModifiersData.bind(this),this.manager.getOwnerUniqueEventKey("equipItemAppliedModifiersSend"),e),this.manager.listenEvent(s.EQUIP+"RevertedModifiers",this.sendEquipItemRevertedModifiersData.bind(this),this.manager.getOwnerUniqueEventKey("equipItemRevertedModifiersSend"),e),this.manager.listenEvent(s.EXECUTING_ITEM,this.sendExecutingItemData.bind(this),this.manager.getOwnerUniqueEventKey("executingItemSend"),e),this.manager.listenEvent(s.EXECUTED_ITEM,this.sendExecutedItemData.bind(this),this.manager.getOwnerUniqueEventKey("executedItemSend"),e),this.manager.listenEvent(s.SET_ITEMS,this.sendSetItemsData.bind(this),this.manager.getOwnerUniqueEventKey("setItemsSend"),e),this.manager.listenEvent(s.SET_GROUPS,this.sendSetGroupsData.bind(this),this.manager.getOwnerUniqueEventKey("setGroupsSend"),e)}async sendSetGroupsData(e){let t=e.manager.getOwnerId();if(this.manager.getOwnerId()!==t)return!1;let i={};for(let t of Object.keys(e.groups)){let{id:n,key:r,label:s,description:a,sort:o}=e.groups[t];i[r]={id:n,key:r,label:s,description:a,sort:o}}return await this.client.send({act:r.ACTION_SET_GROUPS,owner:t,groups:i})}async sendSetItemsData(e){let t=e.manager.getOwnerId();if(this.manager.getOwnerId()!==t)return!1;let i=this.extractItemsDataForSend(e.items);return await this.client.send({act:r.ACTION_SET_ITEMS,owner:t,items:i})}async sendExecutedItemData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),r.ACTION_EXECUTED)}async sendExecutingItemData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),r.ACTION_EXECUTING)}async sendEquipItemRevertedModifiersData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),r.ACTION_MOD_REVERTED)}async sendEquipItemAppliedModifiersData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),r.ACTION_MOD_APPLIED)}async sendUnequipItemActionData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),r.ACTION_UNEQUIP)}async sendEquipItemActionData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),r.ACTION_EQUIP)}async sendModifyItemQuantityData(e,t,i,n,s){return await this.runBehaviors(e,e.manager.getOwnerId(),r.ACTION_MODIFY_QTY)}async sendRemoveItemData(e,t){let i=e.items[t];return i?await this.runBehaviors(i,i.manager.getOwnerId(),r.ACTION_REMOVE):(o.debug('Item with key "'+t+'" not found.'),!1)}async sendAddItemData(e,t){return await this.runBehaviors(t,t.manager.getOwnerId(),r.ACTION_ADD)}extractItemsDataForSend(e){let t={};for(let i of Object.keys(e)){let n=e[i],s=this.getItemProperties(n,r.ACTION_ADD,r.BEHAVIOR_SEND);s.singleInstance=n.singleInstance,t[n.getInventoryId()]=s}return t}async runBehaviors(e,t,i){if(!e)return o.warning('Invalid "item" parameter.'),!1;if(!this.validateManager()||!this.validateClient())return!1;if(this.manager.getOwnerId()!==t)return o.warning("Item owner ID miss match.",this.manager.getOwnerId(),t),!1;let n=this.sendProperties[i],s=this.getTargetProps(e,n.behavior),a=n.behavior===r.BEHAVIOR_BOTH;if(n.behavior===r.BEHAVIOR_BROADCAST||a){let n=this.getItemProperties(e,i,r.BEHAVIOR_BROADCAST);await this.client.broadcast({act:i,owner:t,item:n,target:s});return}let l=n.behavior===r.BEHAVIOR_SEND,h=n[r.BEHAVIOR_SEND]!==n[r.BEHAVIOR_BROADCAST];if(l||a&&h){let n=this.getItemProperties(e,i,r.BEHAVIOR_SEND);await this.client.send({act:i,owner:t,item:n,targetProps:s})}}getTargetProps(e,t){let i=t===r.BEHAVIOR_BOTH?r.BEHAVIOR_BROADCAST:r.BEHAVIOR_SEND;if(!1===l.hasOwn(this.sendTargetProps,i)||0===this.sendTargetProps[i].length)return{};let n={};for(let t of this.sendTargetProps[i]){let i="id"===t?this.manager.ownerIdProperty:t;n[i]=this.propertyManager.getPropertyValue(e.target,i)}return n}}},{b644d789ee2b40af:"idEfG","45ba412a65c2e357":"fWlRm","994236dc9aef1f79":"iJUHo","8b1efebe48a67288":"3lwy5"}],"3auVp":[function(e,t,i,n){let r=e("fddf8c3cc708201b"),{ErrorManager:s,sc:a}=e("c1c82d06c77e78b8");t.exports=class extends r{constructor(e){a.hasOwn(e,"id")||s.error("Undefined ItemGroup id."),a.hasOwn(e,"key")||s.error("Undefined ItemGroup key."),e.eventsPref="g"+e.key+"."+a.get(e,"eventsPrefix",""),super(e),this.id=e.id,this.key=e.key,this.label=a.get(e,"label",!1),this.description=a.get(e,"description",!1),this.files_name=a.get(e,"files_name",!1),this.sort=a.get(e,"sort",!1),this.items_limit=a.get(e,"items_limit",!1),this.limit_per_item=a.get(e,"limit_per_item",!1)}}},{fddf8c3cc708201b:"8qkfQ",c1c82d06c77e78b8:"3lwy5"}],"3ncwO":[function(e,t,i,n){t.exports=class{constructor(e){this.id=e.id,this.key=e.key,this.type=e.type}}},{}],"2R9Cx":[function(e,t,i,n){let r=e("312a2d95cff483b5"),s=e("f647b9be5cb5de72"),a=e("2edbed84bfb41fb4"),{ErrorManager:o,Logger:l,sc:h}=e("a231b7a801915a72");t.exports=class{constructor(e){h.hasOwn(e,"owner")||o.error("Undefined owner."),this.manager=h.hasOwn(e,"manager")?e.manager:new r(e),this.actions=h.hasOwn(e,"actions")?e.actions:{},!1===h.get(e,"avoidDefaults",!1)&&this.setDefaultActions(),this.recieveErrorsLog=[]}setDefaultActions(){this.actions[s.ACTION_SET_ITEMS]="onSetItems",this.actions[s.ACTION_SET_GROUPS]="onSetGroups",this.actions[s.ACTION_ADD]="onAddItem",this.actions[s.ACTION_REMOVE]="onRemoveItem",this.actions[s.ACTION_MODIFY_QTY]="onSetQty",this.actions[s.ACTION_EQUIP]="onEquipItem",this.actions[s.ACTION_UNEQUIP]="onUnequipItem",this.actions[s.ACTION_MOD_APPLIED]="onModifiersApplied",this.actions[s.ACTION_MOD_REVERTED]="onModifiersReverted",this.actions[s.ACTION_EXECUTING]="onExecuting",this.actions[s.ACTION_EXECUTED]="onExecuted"}processMessage(e){let t=h.get(e,"act","");return 0===t.indexOf(s.ACTIONS_PREF)&&(h.hasOwn(this.actions,t)?"function"!=typeof this[this.actions[t]]?(l.info("Items action is not a function.",e.act),!1):void this[this.actions[t]](e):(l.error("Items action not found",t,e),!1))}onSetItems(e){let t={};for(let i of Object.keys(e.items)){let n=e.items[i],r=Object.assign({manager:this.manager},n,{uid:i}),a=this.getItemClass(r.key,r.type);t[i]=new a(r),t[i].isType(s.TYPES.EQUIPMENT)&&h.hasOwn(r,"is_active")&&(t[i].equipped=1===r.is_active)}return this.manager.setItems(t)}onSetGroups(e){let t={};for(let i of Object.keys(e.groups)){let n=this.getGroupClass(e.groups[i].key);t[e.groups[i].key]=new n(e.groups[i])}return this.manager.setGroups(t)}onAddItem(e){let t=Object.assign({manager:this.manager},e.item,{uid:e.item.idx}),i=new(this.getItemClass(t.key,t.type))(t);this.manager.addItem(i).catch(e=>{this.recieveErrorsLog.push({"Error receiver onAddItem.":e})})}onRemoveItem(e){this.manager.removeItem(e.item.idx).catch(e=>{this.recieveErrorsLog.push({"Error receiver onRemoveItem.":e})})}onSetQty(e){this.manager.setItemQty(e.item.idx,e.item.qty).catch(e=>{this.recieveErrorsLog.push({"Error receiver onSetQty.":e})})}onEquipItem(e){this.manager.items[e.item.idx].equip(!1).catch(e=>{this.recieveErrorsLog.push({"Error receiver onEquipItem.":e})})}onUnequipItem(e){this.manager.items[e.item.idx].unequip(!1).catch(e=>{this.recieveErrorsLog.push({"Error receiver onUnequipItem.":e})})}onModifiersApplied(e){}onModifiersReverted(e){}onExecuting(e){}onExecuted(e){}getItemClass(e,t){return h.get(this.manager.itemClasses,e,this.manager.types.classByTypeId(t))}getGroupClass(e){let t=a;return h.hasOwn(this.manager.groupClasses,e)&&(t=this.manager.groupClasses[e]),t}}},{"312a2d95cff483b5":"5wpm2",f647b9be5cb5de72:"idEfG","2edbed84bfb41fb4":"3auVp",a231b7a801915a72:"3lwy5"}],nHDSk:[function(e,t,i,n){let r=e("3dd92880a486247f"),{ModifierConst:s,Modifier:a}=e("293ce1d1ff60486a"),{sc:o}=e("45aa0d32b8aa311b");t.exports=class{static itemsListMappedData(e={},t){if(0===t.length)return{};let i={},n=new r;for(let r of t)r.items_modifiers&&(r.modifiers=this.generateItemModifiers(r)),i[r.key]={class:o.get(e,r.key,n.classByTypeId(r.type)),data:r};return i}static generateItemModifiers(e){let t={};for(let i of e.items_modifiers)i.operation!==s.OPS.SET&&(i.value=Number(i.value)),t[i.id]=new a(i);return t}}},{"3dd92880a486247f":"8gXhx","293ce1d1ff60486a":"iJUHo","45aa0d32b8aa311b":"3lwy5"}],btt2J:[function(e,t,i,n){let{ItemGroup:r}=e("185572600d1291f"),{sc:s}=e("99c50def0f4abb2");t.exports=class{static groupsListMappedData(e,t){if(0===t.length)return{};let i={groupList:{},groupBaseData:{}};for(let n of(i.groupModels=t,t))this.addGroup(n,i,e);return i}static appendGroup(e,t,i){return!!e&&!!t&&!!i&&(s.isArray(t.groupModelsList)||(t.groupModelsList=[]),t.groupModelsList.push(e),this.addGroup(i,e,t),t)}static addGroup(e,t,i){let n=s.get(i,e.key,r),{id:a,key:o,label:l,description:h,sort:u,files_name:c}=e;t.groupList[e.key]={class:n,data:e},t.groupBaseData[o]={id:a,key:o,label:l,description:h,sort:u,files_name:c}}}},{"185572600d1291f":"3auVp","99c50def0f4abb2":"3lwy5"}],gRIlz:[function(e,t,i,n){let r=e("9ec9f370c69b97e4"),s=e("5bd56f616649a07e"),a=e("f6c0b56ddc826cd5"),o=e("e433549ba9a6abfc"),l=e("24c35dc83734e5b2"),h=e("330f7364569544ad"),u=e("332ac9b4e9ced220"),{EventsManagerSingleton:c,ErrorManager:d,Logger:f,sc:p}=e("71720c1a95ddc1ce");t.exports=class{constructor(e){this.events=p.get(e,"eventsManager",c),this.requirementsProcessor=new a,this.rewardsProcessor=new o,this.exchangeInitializerId=p.get(e,"exchangeInitializerId",!1),this.initializeProperties()}initializeExchangeBetween(e){let t=p.get(e,"inventoryA",null),i=p.get(e,"inventoryB",null);(null===t||null===i)&&d.error("Missing inventories from properties.",e),this.inventories={A:t,B:i},this.lockInventories(),this.confirmations={A:!1,B:!1},this.exchangeBetween={A:{},B:{}},this.exchangeRequirements={A:p.get(e,"exchangeRequirementsA",new r),B:p.get(e,"exchangeRequirementsB",new r)},this.exchangeRewards={A:p.get(e,"exchangeRewardsA",new s),B:p.get(e,"exchangeRewardsB",new s)},this.dropExchange={A:p.get(e,"dropExchangeA",!1),B:p.get(e,"dropExchangeB",!1)},this.avoidExchangeDecrease={A:p.get(e,"avoidExchangeDecreaseA",!1),B:p.get(e,"avoidExchangeDecreaseB",!1)},this.setError(),this.events.emit(h.EXCHANGE.INITIALIZED,{exchangePlatform:this,props:e,inventoryA:t,inventoryB:i})}setError(e="",t="",i={},n=!1){this.lastError=new l(e,t,i,n)}cancelExchange(){this.unlockInventories(),this.initializeProperties(),this.events.emit(h.EXCHANGE.CANCELED,{exchangePlatform:this})}initializeProperties(){this.inventories={A:null,B:null},this.confirmations={A:!1,B:!1},this.exchangeBetween={A:{},B:{}},this.exchangeRequirements={A:[],B:[]},this.exchangeRewards={A:[],B:[]},this.setError()}async pushForExchange(e,t,i){return this.confirmations.A||this.confirmations.B?(f.info('Push for exchange "'+e+'" was blocked. Exchange for "'+i+'" and owner "'+this.inventories[i].owner_id+'" was already confirmed.'),!1):this.canBePushed(e,t,i)?(this.exchangeBetween[i][e]=t,this.validateRequirements("A")&&this.validateRewards("A")&&this.validateRequirements("B")&&this.validateRewards("B"))?(this.events.emit(h.EXCHANGE.ITEM_PUSHED,{exchangePlatform:this,itemUid:e,qty:t,inventoryKey:i}),!0):(delete this.exchangeBetween[i][e],!1):(this.events.emit(h.EXCHANGE.INVALID_PUSH,{exchangePlatform:this,itemUid:e,qty:t,inventoryKey:i}),!1)}async removeFromExchange(e,t){return this.confirmations.A||this.confirmations.B?(f.info('Remove from exchange "'+e+'" was blocked. Exchange for "'+t+'" and owner "'+this.inventories[t].owner_id+'" was already confirmed.'),!1):(this.events.emit(h.EXCHANGE.ITEM_REMOVE,{exchangePlatform:this,itemUid:e,inventoryKey:t}),!!p.hasOwn(this.exchangeBetween[t],e)&&(delete this.exchangeBetween[t][e],!0))}async confirmExchange(e){this.events.emit(h.EXCHANGE.CONFIRM,{exchangePlatform:this,inventoryKey:e}),this.confirmations[e]=!0}async disconfirmExchange(e){this.events.emit(h.EXCHANGE.DISCONFIRM,{exchangePlatform:this,inventoryKey:e}),this.confirmations[e]=!1}async finalizeExchange(){return(this.events.emit(h.EXCHANGE.BEFORE_FINALIZE,{exchangePlatform:this}),this.confirmations.A&&this.confirmations.B)?!!(this.validateRequirements("A")&&this.validateRequirements("B")&&this.validateRewards("A")&&this.validateRewards("B"))&&(this.unlockInventories(),!1!==await this.executeExchangeFromTo("A","B")&&!1!==await this.executeExchangeFromTo("B","A")&&(this.events.emit(h.EXCHANGE.FINALIZED,{exchangePlatform:this}),this.setError(),!0)):(this.setError("Missing confirmation.",u.ERROR_CODES.EXCHANGE.MISSING_CONFIRMATION,{confirmations:this.confirmations}),!1)}validateRequirements(e){return this.requirementsProcessor.validateRequirements(e,this)}validateRewards(e){return this.rewardsProcessor.validateRewards(e,this)}lockInventories(){this.setLocks(!0)}unlockInventories(){this.setLocks(!1)}setLocks(e){this.setInventoryLock("A",e),this.setInventoryLock("B",e)}setInventoryLock(e,t){let i=p.get(this.inventories,e,!1);return null!==i&&(!1===i?(f.error('Inventory not found "'+e+'".',this.inventories),!1):(i.locked=t,!0))}canBePushed(e,t,i){if(!p.hasOwn(this.inventories[i].items,e))return f.critical("Item Key does not exists on the inventory",e,this.inventories[i].items),!1;let n=this.inventories[i].items[e],r=t<=n.qty||-1===n.qty;return r||this.setError("Invalid item pushed quantity ("+t+"), available: "+n.qty,u.ERROR_CODES.EXCHANGE.INVALID_PUSHED_QUANTITY,{itemUid:e,qty:t,pushedItemQty:n.qty}),r}async executeExchangeFromTo(e,t){if(e===t)return this.setError('Inventories "FROM" and "TO" are the same, exchange cancelled.',u.ERROR_CODES.EXCHANGE.INVALID_EXCHANGE),this.cancelExchange(),this.inventories;let i=this.inventories[e],n=this.inventories[t];for(let r of Object.keys(this.exchangeBetween[e])){let s=this.exchangeBetween[e][r];if(0===s)return this.setError("Invalid item quantity 0.",u.ERROR_CODES.EXCHANGE.INVALID_QUANTITY,{itemUid:r}),!1;let a=!1===this.dropExchange[t]&&n.createItemInstance(i.items[r].key,s);if(!1===await this.rewardsProcessor.processRewards(e,t,r,i,n,this)||!1===await this.requirementsProcessor.processRequirements(e,t,r,s,i,n,this))return!1;let o=!0;if(!1===this.avoidExchangeDecrease[e]&&(i.frozenItems[r]=Object.assign({},i.items[r]),o=await i.decreaseItemQty(r,s)),!1===o)return this.setError("Exchange inventory decrease error.",u.ERROR_CODES.EXCHANGE.DECREASE_QUANTITY,{itemUid:r},i.lastError),!1;if(!1===this.dropExchange[t]){let e=p.isArray(a)?a:[a];if(!1===await n.addItems(e))return this.setError("Exchange add inventory result error.",u.ERROR_CODES.EXCHANGE.ITEM_ADD,{itemUid:r},n.lastError),!1}}return this.exchangeBetween[e]={},this.inventories}oppositeKey(e){return"A"===e?"B":"A"}}},{"9ec9f370c69b97e4":"1wLI1","5bd56f616649a07e":"hU2Lr",f6c0b56ddc826cd5:"kxCH2",e433549ba9a6abfc:"1sOiW","24c35dc83734e5b2":"eODT6","330f7364569544ad":"fWlRm","332ac9b4e9ced220":"idEfG","71720c1a95ddc1ce":"3lwy5"}],"1wLI1":[function(e,t,i,n){let r=e("dda1e92f871afe97"),{sc:s}=e("ce7f52b0d100b8f7");t.exports=class{constructor(e){this.requirements=s.get(e,"requirements",[])}count(){return this.requirements.length}add(e,t,i,n,s){this.requirements.push(new r({itemUid:e,itemKey:t,requiredItemKey:i,requiredQuantity:n,autoRemoveRequirement:s}))}remove(e){let t=!1,i=0;for(let n of this.requirements){if(n.itemUid===e){t=!0;break}i++}t&&delete this.requirements[i]}fetchAllBy(e,t){return s.fetchAllByProperty(this.requirements,e,t)}}},{dda1e92f871afe97:"4hpnF",ce7f52b0d100b8f7:"3lwy5"}],"4hpnF":[function(e,t,i,n){t.exports=class{constructor(e){this.itemUid=e.itemUid||"",this.itemKey=e.itemKey||"",this.requiredItemKey=e.requiredItemKey,this.requiredQuantity=Number(e.requiredQuantity),this.autoRemoveRequirement=!!e.autoRemoveRequirement}}},{}],hU2Lr:[function(e,t,i,n){let r=e("c75245438c2a820e"),{sc:s}=e("74cd247a8747612e");t.exports=class{constructor(e){this.rewards=s.get(e,"rewards",[])}count(){return this.rewards.length}add(e,t,i,n,s){this.rewards.push(new r({itemUid:e,itemKey:t,rewardItemKey:i,rewardQuantity:n,rewardItemIsRequired:s}))}remove(e){let t=!1,i=0;for(let n of this.rewards){if(n.itemUid===e){t=!0;break}i++}t&&delete this.rewards[i]}fetchAllBy(e,t){return s.fetchAllByProperty(this.rewards,e,t)}}},{c75245438c2a820e:"iuvBV","74cd247a8747612e":"3lwy5"}],iuvBV:[function(e,t,i,n){t.exports=class{constructor(e){this.itemUid=e.itemUid||"",this.itemKey=e.itemKey||"",this.rewardItemKey=e.rewardItemKey,this.rewardQuantity=Number(e.rewardQuantity),this.rewardItemIsRequired=!!e.rewardItemIsRequired}}},{}],kxCH2:[function(e,t,i,n){let r=e("b11112aa3d4db9e4"),{Logger:s,sc:a}=e("5342d6a91ce0343f");t.exports=class{constructor(e){this.requirementsByItemUid=a.get(e,"requirementsByItemUid",!0),this.requirementsByItemKey=a.get(e,"requirementsByItemKey",!0),this.requirementsTotals={}}validateRequirements(e,t){let i=t.exchangeRequirements[e];if(0===i.count())return!0;let n=t.exchangeBetween[e],s=Object.keys(n);if(0===s.length)return!0;this.requirementsTotals={};let o=t.oppositeKey(e);for(let l of s){let s=n[l],h=t.inventories[e],u=a.get(h.items,l,a.get(h.frozenItems,l,!1));if(!1===u)return t.setError('Reward error, item "'+l+'" does not exits on inventory "'+e+'".',r.ERROR_CODES.REWARD.DOES_NOT_EXISTS,{itemUid:l,inventoryKeyFrom:e}),!1;let c=this.fetchItemRequirements(i,u);if(0!==c.length&&(this.plusRequirementsQuantity(c,s),!this.validateItemRequirements(c,n[l],o,t)))return!1}return!0}fetchItemRequirements(e,t){let i=[];return this.requirementsByItemUid&&(i=[...i,...e.fetchAllBy("itemUid",t.uid)]),this.requirementsByItemKey&&(i=[...i,...e.fetchAllBy("itemKey",t.key)]),i}plusRequirementsQuantity(e,t){for(let i of e)a.hasOwn(this.requirementsTotals,i.requiredItemKey)||(this.requirementsTotals[i.requiredItemKey]=0),this.requirementsTotals[i.requiredItemKey]+=i.requiredQuantity*t}validateItemRequirements(e,t,i,n){if(0===e.length)return!0;for(let s of e){let e=n.inventories[i].findItemByKey(s.requiredItemKey);if(!1===e)return n.setError('Required item "'+s.requiredItemKey+'" is not present on inventory "'+i+'".',r.ERROR_CODES.REQUIREMENTS.ITEM_NOT_PRESENT,{requiredItemKey:s.requiredItemKey,inventoryKeyTo:i}),!1;let o=s.requiredQuantity*t;if(o>e.qty)return n.setError('Required item "'+s.requiredItemKey+'" required quantity ('+o+') is not available on inventory "'+i+'".',r.ERROR_CODES.REQUIREMENTS.QUANTITY_NOT_AVAILABLE,{requiredItemKey:s.requiredItemKey,inventoryKeyTo:i,totalRequiredQuantity:o}),!1;if(!0===s.autoRemoveRequirement)continue;let l=a.get(n.exchangeBetween[i],e.uid,!1);if(!1===l&&!1===s.autoRemoveRequirement)return n.setError('Required item "'+s.requiredItemKey+'" was not pushed for exchange "'+i+'".',r.ERROR_CODES.REQUIREMENTS.ITEM_NOT_PUSHED,{requiredItemKey:s.requiredItemKey,inventoryKeyTo:i}),!1;if(o>l)return n.setError("Required item "+s.requiredItemKey+" required quantity ("+o+") was not pushed for exchange.",r.ERROR_CODES.REQUIREMENTS.ITEM_QUANTITY_NOT_PUSHED,{requiredItemKey:s.requiredItemKey,inventoryKeyTo:i,totalRequiredQuantity:o}),!1}return!0}async processRequirements(e,t,i,n,o,l,h){let u=a.get(o.items,i,a.get(o.frozenItems,i,!1));if(!1===u)return h.setError('Requirement error, item "'+i+'" does not exits on inventory.',r.ERROR_CODES.REQUIREMENTS.ITEM_DOES_NOT_EXISTS,{itemUid:i}),!1;let c=h.exchangeRequirements[e];if(!c||0===c.count())return!0;let d=this.fetchItemRequirements(c,u);if(0===d.length)return!0;for(let e of d){if(!1===a.get(h.exchangeBetween[t],e.requiredItemKey,!1)&&!1===e.autoRemoveRequirement)return!1;let u=l.findItemByKey(e.requiredItemKey);if(!1===u)return s.error("The required item not longer exists.",i,e.requiredItemKey),!1;let c=e.requiredQuantity*n,d=!1===l.dropExchange&&o.createItemInstance(e.requiredItemKey,c);if(l.frozenItems[u.uid]=Object.assign({},u),!1===await l.decreaseItemQty(u.uid,c))return s.error("There was an error while decreasing the required item quantity.",e,u),!1;if(!1!==d){let e=a.isArray(d)?d:[d];if(!1===await l.addItems(e))return h.setError("Requirement add item error.",r.ERROR_CODES.REQUIREMENTS.ITEM_ADD,{},l.lastError),!1}}return!0}}},{b11112aa3d4db9e4:"idEfG","5342d6a91ce0343f":"3lwy5"}],"1sOiW":[function(e,t,i,n){let r=e("bddde17fed05deaa"),{Logger:s,sc:a}=e("918bdf09bd16e1b2");t.exports=class{constructor(e){this.rewardsByItemUid=a.get(e,"rewardsByItemUid",!0),this.rewardsByItemKey=a.get(e,"rewardsByItemKey",!0),this.rewardsTotals={}}validateRewards(e,t){let i=t.exchangeRewards[e];if(0===i.length)return!0;let n=t.exchangeBetween[e],s=Object.keys(n);if(0===s.length)return!0;let o=t.oppositeKey(e);for(let l of(this.rewardsTotals={},s)){let s=n[l],h=t.inventories[e],u=a.get(h.items,l,a.get(h.frozenItems,l,!1));if(!1===u)return t.setError('Reward error, item "'+l+'" does not exits on inventory "'+e+'".',r.ERROR_CODES.REWARD.MISSING_ITEM,{itemUid:l,inventoryKeyFrom:e}),!1;let c=this.fetchItemRewards(i,u);if(!1!==c&&0!==c.length&&(this.plusRewardsQuantity(c,s),!this.validateItemRewards(c,s,o,t)))return!1}return!0}fetchItemRewards(e,t){if(!t)return s.error("Item does not exits on inventory.",t),!1;let i=[];return this.rewardsByItemUid&&(i=[...i,...e.fetchAllBy("itemUid",t.uid)]),this.rewardsByItemKey&&(i=[...i,...e.fetchAllBy("itemKey",t.key)]),i}plusRewardsQuantity(e,t){for(let i of e)a.hasOwn(this.rewardsTotals,i.rewardItemKey)||(this.rewardsTotals[i.rewardItemKey]=0),this.rewardsTotals[i.rewardItemKey]+=i.rewardQuantity*t}validateItemRewards(e,t,i,n){if(0===e.length)return!0;for(let t of e){if(!1===t.rewardItemIsRequired)continue;let e=n.inventories[i].findItemByKey(t.rewardItemKey);if(!1===e)return n.setError('Reward item "'+t.rewardItemKey+'" is not present on inventory "'+i+'".',r.ERROR_CODES.REWARD.ITEM_NOT_PRESENT,{rewardItemKey:t.rewardItemKey,inventoryKeyTo:i}),!1;if(this.rewardsTotals[t.rewardItemKey]>e.qty)return n.setError("Reward item "+t.rewardItemKey+" reward quantity ("+t.rewardQuantity+') is not available on inventory "'+i+'".',r.ERROR_CODES.REWARD.QUANTITY_NOT_AVAILABLE,{rewardItemKey:t.rewardItemKey,rewardQuantity:t.rewardQuantity,inventoryKeyTo:i}),!1}return!0}async processRewards(e,t,i,n,s,o){let l=o.exchangeRewards[e];if(0===l.length)return!0;let h=o.oppositeKey(e),u=o.exchangeBetween[e][i];if(!u)return o.setError('Missing pushed for exchange item "'+i+'".',r.ERROR_CODES.REWARD.MISSING_PUSHED,{itemUid:i}),!1;let c=a.get(n.items,i,a.get(n.frozenItems,i,!1));if(!1===c)return o.setError('Reward error, item "'+i+'" does not exits on inventory.',r.ERROR_CODES.REWARD.GET_ITEM_DOES_NOT_EXISTS,{itemUid:i}),!1;let d=this.fetchItemRewards(l,c);return!1===d||0===d.length||!!await this.processItemRewards(d,n,s,h,u,i,o)||(o.setError('Process item reward error, item "'+i+'".',r.ERROR_CODES.REWARD.PROCESS_ITEM,{itemUid:i}),!1)}async processItemRewards(e,t,i,n,o,l,h){if(0===e.length)return!0;for(let u of e){let e=u.rewardQuantity*o;if(!1===u.rewardItemIsRequired){let i=t.createItemInstance(u.rewardItemKey,e),n=a.isArray(i)?i:[i];if(!1===await t.addItems(n)){if(""!==t.lastError.message)return h.setError("Rewards process inventory error.",r.ERROR_CODES.REWARD.PROCESS_ITEM,{},t.lastError),!1;let e=Object.keys(n).join(",");return h.setError("Rewards error on add items: "+e+".",r.ERROR_CODES.REWARD.ADD_ITEMS,{itemsKeys:e}),!1}continue}let c=h.inventories[n].findItemByKey(u.rewardItemKey);if(!1===c)return h.setError('Reward item "'+u.rewardItemKey+'" is not present on inventory "'+n+'".',r.ERROR_CODES.REWARD.ITEM_NOT_PRESENT,{rewardItemKey:u.rewardItemKey,inventoryKeyTo:n}),!1;if(e>c.qty)return h.setError("Reward quantity ("+e+") is bigger than the available in the inventory ("+c.qty+").",r.ERROR_CODES.REWARD.QUANTITY_OVERLOAD,{rewardQuantityTotal:e,rewardInventoryItemQty:c.qty}),!1;let d=i.findItemByKey(u.rewardItemKey);if(!1===d)return s.error("The reward item not longer exists.",l,u.rewardItemKey),!1;let f=t.createItemInstance(u.rewardItemKey,e);if(i.frozenItems[d.uid]=Object.assign({},d),!1===await i.decreaseItemQty(d.uid,u.requiredQuantity))return s.error("There was an error while decreasing the reward item quantity.",u,d),!1;await t.addItem(f)}return!0}}},{bddde17fed05deaa:"idEfG","918bdf09bd16e1b2":"3lwy5"}],l0pOu:[function(e,t,i,n){let{ObjectsConst:r}=e("7218290e5fe5ff56"),{Logger:s,sc:a}=e("ed2fa042702eef92");t.exports.DropsMessageListener=class{static listenMessages(e,t){e.onMessage("*",e=>{let i=a.get(e,r.DROPS.KEY,!1);i&&this.loadObjects(i,t),r.DROPS.REMOVE===e.act&&this.removeDropById(e.id,t)})}static loadObjects(e,t){let i=t.getActiveScene(),n=t.config,r=t.getFeature("objects"),s=i.load;if(!this.validateParams({currentScene:i,gameConfig:n,objectPlugin:r,loader:s}))return!1;for(let[t,a]of Object.entries(e))this.loadSpritesheet(a,s,n),s.once("complete",async e=>{await this.createDropAnimation(r,a,t,i)});return s.start(),!0}static async createDropAnimation(e,t,i,n){let s={type:r.DROPS.PICK_UP_ACT,enabled:!0,ui:!0,frameStart:t[r.DROPS.PARAMS].start,frameEnd:t[r.DROPS.PARAMS].end,repeat:t[r.DROPS.PARAMS].repeat,autoStart:!0,key:i,id:i,targetName:"",layerName:i,isInteractive:!0,asset_key:t[r.DROPS.ASSET_KEY],x:t.x,y:t.y,yoyo:t[r.DROPS.PARAMS].yoyo};return await e.createAnimationFromAnimData(s,n)}static loadSpritesheet(e,t,i){t.spritesheet(e[r.DROPS.ASSET_KEY],this.getSpritesheetPath(e),this.getRewardFrameConfig(e[r.DROPS.PARAMS],i))}static getRewardFrameConfig(e,t){return{frameWidth:a.get(e,"frameWidth",t.getWithoutLogs("client/map/dropsTile/width",t.get("client/map/tileData/width"))),frameHeight:a.get(e,"frameHeight",t.getWithoutLogs("client/map/dropsTile/height",t.get("client/map/tileData/height")))}}static getSpritesheetPath(e){return r.DROPS.ASSETS_PATH+e[r.DROPS.FILE]}static removeDropById(e,t){if(!e)return!1;let i=t.activeRoomEvents.getActiveScene(),n=a.get(i.objectsAnimations,e,!1);if(!n)return!1;n.sceneSprite.destroy(),delete i.objectsAnimations[e]}static validateParams(e){let t=!0;return a.get(e,"currentScene",!1)||(s.error("Scene is undefined in Rewards Message Listener."),t=!1),a.get(e,"gameConfig",!1)||(s.error("Game Config is undefined in Rewards Message Listener."),t=!1),a.get(e,"objectPlugin",!1)||(s.error("Object Plugin is undefined in Rewards Message Listener."),t=!1),a.get(e,"loader",!1)||(s.error("Loader is undefined in Rewards Message Listener."),t=!1),t}}},{"7218290e5fe5ff56":"8k4Rg",ed2fa042702eef92:"3lwy5"}],"50mip":[function(e,t,i,n){t.exports={objects:{npcInvalid:"I do not understand.",trader:{content:"Hi there! What would you like to do?",options:{buy:"Buy",sell:"Sell"},buyConfirmed:"Thanks for buying!",sellConfirmed:"Thanks for your products!"}}}},{}],iRs7L:[function(e,t,i,n){let{GameConst:r}=e("9dd5a78a77f1fddd"),{Logger:s,sc:a}=e("46e0fe20c6ebdda0");t.exports.UserInterface=class{constructor(e,t,i="/assets/html/dialog-box.html",n){this.events=e.events,this.gameDom=e.gameDom,this.initialTitle="",this.initialContent="",this.id=t.id,this.animProps=t,this.template=i,this.uiPositionKey=n||"default",this.openButton=null,this.closeButton=null,this.listenEvents()}listenEvents(){if(!this.events)return!1;this.events.on("reldens.beforePreload",e=>{this.preloadUiElement(e)}),this.events.on("reldens.createPreload",(e,t)=>{this.createUiElement(t)})}preloadUiElement(e){this.template&&e.load.html(this.id,this.template)}createUiElement(e,t=""){""===t&&(t=this.id);let i="box-"+this.id;if(a.get(e.elementsUi,this.id))return this;let n=this.createDialogBox(e,t);this.createBoxContent(e,t,n);let r=this.gameDom.getElement(".ui-box.ui-dialog-box",n.node);return r?(r.id=i,r.classList.add("type-"+(this.animProps?.type||"dialog-box")),this.activateOpenButton(n,r,e),this.activateCloseButton(n,r,e),e.userInterfaces[this.id]=this,e.elementsUi[this.id]=n,this):(s.critical('Missing dialog container for template key: "'+t+'".',{dialogBox:n,dialogContainer:r,objectElementId:i}),!1)}createDialogBox(e,t){let{newWidth:i,newHeight:n}=e.gameManager.gameEngine.getCurrentScreenSize(e.gameManager),{uiX:r,uiY:s}=e.getUiPosition(this.uiPositionKey,i,n);return e.add.dom(r,s).createFromCache(t)}createBoxContent(e,t,i){let n=e.cache.html.get(t);i.innerHTML=e.gameManager.gameEngine.parseTemplate(n,{title:this.initialTitle,content:this.initialContent})}activateOpenButton(e,t,i){return this.openButton=this.gameDom.getElement("."+r.UI_BOX+r.UI_OPEN,e.node),!!this.openButton&&(this.openButton.id=r.UI_BOX+r.UI_OPEN+"-"+this.id,this.openButton.addEventListener("click",()=>{a.get(this.animProps,"defaultOpen",!0)&&(t.style.display="block",this.openButton.style.display="none",!1!==a.get(this.animProps,"depth",!1)&&e.setDepth(this.animProps.depth)),a.isFunction(this.animProps.openCallBack)&&this.animProps.openCallBack(),this.events.emit("reldens.openUI",{ui:this,openButton:this.openButton,dialogBox:e,dialogContainer:t,uiScene:i})}),this.openButton)}activateCloseButton(e,t,i){if(this.closeButton=this.gameDom.getElement("."+r.UI_BOX+r.UI_CLOSE,e.node),!this.closeButton)return!1;this.closeButton.id=r.UI_BOX+r.UI_CLOSE+"-"+this.id,this.closeButton.addEventListener("click",()=>{a.hasOwn(this.animProps,"sendCloseMessage")&&!1!==this.animProps.sendCloseMessage||i.gameManager.activeRoomEvents.send({act:r.CLOSE_UI_ACTION,id:this.id}),a.get(this.animProps,"defaultClose",!0)&&(t.style.display="none",this.openButton&&(this.openButton.style.display="block"),!1!==a.get(this.animProps,"depth",!1)&&e.setDepth(1)),a.isFunction(this.animProps.closeCallback)&&this.animProps.closeCallback(),this.events.emit("reldens.closeUI",{ui:this,closeButton:this.closeButton,openButton:this.openButton,dialogBox:e,dialogContainer:t,uiScene:i})})}}},{"9dd5a78a77f1fddd":"7Qdd3","46e0fe20c6ebdda0":"3lwy5"}],jQDY1:[function(e,t,i,n){let{InventoryUi:r}=e("93a2698fe17dc4e0"),{InventoryReceiver:s}=e("4ea19e0d8652e572"),{TradeTargetAction:a}=e("c92183e48821b0fc"),{TradeMessageListener:o}=e("38030851510ae93a"),{UserInterface:l}=e("7ae796ce0e1a8f8f"),{PluginInterface:h}=e("373423cdbc6c5da5"),{TemplatesHandler:u}=e("adcbde3f87e2b9a3"),{TranslationsMapper:c}=e("6a97eeb2c282726"),d=e("6b2f7e4678231407"),{InventoryConst:f}=e("2f53dfbd6cac665f"),{ItemsEvents:p,ItemsConst:m}=e("60d2bcd47ae516b6"),{GameConst:g}=e("301626b09cbde5a3"),{Logger:v,sc:y}=e("22940f0bf72eac5a");t.exports.InventoryPlugin=class extends h{setup(e){this.gameManager=y.get(e,"gameManager",!1),this.gameManager||v.error("Game Manager undefined in InventoryPlugin."),this.events=y.get(e,"events",!1),this.events||v.error("EventsManager undefined in InventoryPlugin."),this.tradeTargetAction=new a,this.setTradeUi(),this.listenEvents(),this.setListener(),this.setTranslations()}setTranslations(){if(!this.gameManager)return!1;c.forConfig(this.gameManager.config.client,d,f.MESSAGE.DATA_VALUES)}setTradeUi(){if(!this.gameManager)return!1;this.tradeUi=new l(this.gameManager,{id:"trade",type:"trade"})}setListener(){if(!this.gameManager)return!1;this.gameManager.config.client.message.listeners.trade=new o}listenEvents(){if(!this.events)return!1;this.events.on("reldens.playersOnAdd",(e,t,i,n)=>{this.onPlayerAdd(t,n,e)}),this.events.on("reldens.preloadUiScene",e=>{u.preloadTemplates(e)}),this.events.on("reldens.createUiScene",e=>this.onPreloadUiScene(e)),this.events.on("reldens.gameEngineShowTarget",(e,t,i,n)=>{this.tradeTargetAction.showTargetExchangeAction(this.gameManager,t,i,n)})}onPreloadUiScene(e){this.uiManager=new r(e),this.uiManager.createUi();let t=e.getUiElement("inventory").getChildByProperty("id",f.INVENTORY_ITEMS);if(!t)return v.error("Inventory UI not found.",t),!1;let i=e.getUiElement("equipment").getChildByProperty("id",f.EQUIPMENT_ITEMS);if(!i)return v.error("Equipment UI not found.",i),!1;let n=e.gameManager.inventory.manager,s=y.get(n,"groups",{});if(Object.keys(s).length)for(let t of(e.gameManager.gameDom.getElement("#"+f.EQUIPMENT_ITEMS).innerHTML="",this.sortGroups(s))){let i=this.createGroupBox(s[t],e.gameManager,e);e.gameManager.gameDom.appendToElement("#"+f.EQUIPMENT_ITEMS,i)}let a=y.get(n,"items",{}),o=Object.keys(a);if(0<o.length)for(let n of o){let r=a[n];this.displayItem(r,e,i,t,n)}this.listenInventoryEvents(e,t,i)}onPlayerAdd(e,t,i){if(e!==t.room.sessionId)return!1;t.gameManager.inventory||this.createInventoryInstance(i,t),t.room.onMessage("*",e=>{t.gameManager.inventory.processMessage(e)})}createInventoryInstance(e,t){let i={owner:e,ownerIdProperty:"sessionId",gameManager:t.gameManager},n=t.gameManager.config.getWithoutLogs("client/customClasses/inventory/items",{});n&&0<Object.keys(n).length&&(i.itemClasses=n);let r=t.gameManager.config.getWithoutLogs("client/customClasses/inventory/groups",{});r&&Object.keys(r).length&&(i.groupClasses=r),t.gameManager.inventory=new s(i)}listenInventoryEvents(e,t,i){let n=e.gameManager,r=n.inventory.manager.getOwnerEventKey();n.inventory.manager.listenEvent(p.ADD_ITEM,(i,r)=>{let s=this.createItemBox(r,"inventoryItem",n,e);n.gameDom.appendToElement("#"+f.INVENTORY_ITEMS,s),this.setupButtonsActions(t,r.getInventoryId(),r,e)},n.inventory.manager.getOwnerUniqueEventKey("addItemPack"),r),n.inventory.manager.listenEvent(p.SET_ITEMS,n=>{for(let r of(t.innerHTML="",Object.keys(n.items))){let s=n.items[r];this.displayItem(s,e,i,t,r)}},n.inventory.manager.getOwnerUniqueEventKey("setItemsPack"),r),n.inventory.manager.listenEvent(p.MODIFY_ITEM_QTY,t=>{e.getUiElement("inventory").getChildByID("item-qty-"+t.getInventoryId()).innerHTML=t.qty},n.inventory.manager.getOwnerUniqueEventKey("modifyItemQtyPack"),r),n.inventory.manager.listenEvent(p.REMOVE_ITEM,(t,i)=>{e.getUiElement("inventory").getChildByID("item-"+i).remove()},n.inventory.manager.getOwnerUniqueEventKey("removeItemPack"),r),n.inventory.manager.listenEvent(p.SET_GROUPS,r=>{let s=!1,a=n.gameDom.getElement("#"+f.EQUIPMENT_ITEMS);for(let t of(""!==a.innerHTML&&(s=!0),a.innerHTML="",this.sortGroups(r.groups))){let i=this.createGroupBox(r.groups[t],n,e);n.gameDom.appendToElement("#"+f.EQUIPMENT_ITEMS,i)}s&&this.resetEquippedItemsDisplay(n,e,i,t)},n.inventory.manager.getOwnerUniqueEventKey("setGroupsPack"),r),n.inventory.manager.listenEvent(p.EQUIP_ITEM,n=>{this.displayItem(n,e,i,t,n.getInventoryId())},n.inventory.manager.getOwnerUniqueEventKey("equipItemPack"),r),n.inventory.manager.listenEvent(p.UNEQUIP_ITEM,n=>{this.displayItem(n,e,i,t,n.getInventoryId())},n.inventory.manager.getOwnerUniqueEventKey("unequipItemPack"),r)}resetEquippedItemsDisplay(e,t,i,n){let r=Object.keys(e.inventory.manager.items);if(0===r.length)return!1;for(let s of r){let r=e.inventory.manager.items[s];this.isEquipped(r)&&this.displayItem(r,t,i,n,r.getInventoryId())}}displayItem(e,t,i,n,r){let s=this.createItemBox(e,"inventoryItem",t.gameManager,t),a=t.gameManager.gameDom.getElement("#item-"+e.getInventoryId());if(a&&a.remove(),this.isEquipped(e)){let n=this.getGroupById(e.group_id,t.gameManager.inventory.manager.groups);n&&t.gameManager.gameDom.getElement("#group-item-"+n.key+" .equipped-item")?t.gameManager.gameDom.updateContent("#group-item-"+n.key+" .equipped-item",s):t.gameManager.gameDom.appendToElement("#"+f.EQUIPMENT_ITEMS,s),this.setupButtonsActions(i,r,e,t)}else t.gameManager.gameDom.appendToElement("#"+f.INVENTORY_ITEMS,s),this.setupButtonsActions(n,r,e,t)}updateEquipmentStatus(e,t){let i=t.gameDom.getElement("#item-equip-"+e.idx),n=e.equipped?"equipped":"unequipped";i.src="/assets/features/inventory/assets/"+n+g.FILES.EXTENSIONS.PNG}createItemBox(e,t,i,n){let r=n.cache.html.get(t);return i.gameEngine.parseTemplate(r,{key:e.key,label:e.label,description:e.description,id:e.getInventoryId(),qty:e.qty,usable:this.isUsable(e)?this.getUsableContent(e,i,n):"",equipment:this.isEquipment(e)?this.getEquipContent(e,i,n):""})}isEquipment(e){return e.isType(m.TYPES.EQUIPMENT)||e.isType(m.TYPES.SINGLE_EQUIPMENT)}isEquipped(e){return this.isEquipment(e)&&!0===e.equipped}isUsable(e){return e.isType(m.TYPES.USABLE)||e.isType(m.TYPES.SINGLE_USABLE)}sortGroups(e){return Object.keys(e).sort((t,i)=>e[t].sort>e[i].sort?1:-1)}createGroupBox(e,t,i){let n=i.cache.html.get("inventoryGroup");return t.gameEngine.parseTemplate(n,{key:e.key,label:e.label,description:e.description,fileName:e.files_name})}setupButtonsActions(e,t,i,n){let r=n.gameManager.gameDom,s=e.querySelector("#item-"+t+" .image-container img");if(!s)return v.error(["Missing image element.","#item-"+t]),!1;s.addEventListener("click",()=>{let i=e.querySelector("#item-"+t+" .item-data-container"),n=!1;"block"!==i.style.display&&(n=!0),e.querySelectorAll(".item-box .image-container img").forEach(function(e){e.style.border="none"}),e.querySelectorAll(".item-data-container").forEach(function(e){e.style.display="none"}),n&&(s.style.border="1px solid #fff",i.style.display="block")});let a=e.querySelector("#item-trash-"+t+" img");if(!a)return v.error(["Missing button.",a]),!1;a.addEventListener("click",()=>{e.querySelector("#trash-confirm-"+t).style.display="block"}),e.querySelector("#trash-cancel-"+t).addEventListener("click",()=>{e.querySelector("#trash-confirm-"+t).style.display="none"}),e.querySelector("#trash-confirmed-"+t).addEventListener("click",()=>{let e={idx:t,act:f.ACTIONS.REMOVE};n.gameManager.activeRoomEvents.send(e)}),this.isUsable(i)&&r.getElement("#item-use-"+t).addEventListener("click",this.clickedBox.bind(this,t,f.ACTIONS.USE,n)),this.isEquipment(i)&&r.getElement("#item-equip-"+t).addEventListener("click",this.clickedBox.bind(this,t,f.ACTIONS.EQUIP,n))}clickedBox(e,t,i){i.gameManager.activeRoomEvents.send({act:t,idx:e})}getUsableContent(e,t,i){let n=i.cache.html.get("inventoryItemUse");return t.gameEngine.parseTemplate(n,{id:e.getInventoryId()})}getEquipContent(e,t,i){let n=i.cache.html.get("inventoryItemEquip");return t.gameEngine.parseTemplate(n,{id:e.getInventoryId(),equipStatus:e.equipped?"equipped":"unequipped"})}getGroupById(e,t){let i=Object.keys(t);if(0===i.length)return!1;for(let n of i)if(t[n].id===e)return t[n]}}},{"93a2698fe17dc4e0":"5Z6LH","4ea19e0d8652e572":"aeXza",c92183e48821b0fc:"3HDxT","38030851510ae93a":"dDWF7","7ae796ce0e1a8f8f":"iRs7L","373423cdbc6c5da5":"jorwg",adcbde3f87e2b9a3:"k5W2v","6a97eeb2c282726":"hgeoj","6b2f7e4678231407":"dVvnX","2f53dfbd6cac665f":"kXOaI","60d2bcd47ae516b6":"g4GOK","301626b09cbde5a3":"7Qdd3","22940f0bf72eac5a":"3lwy5"}],"5Z6LH":[function(e,t,i,n){let{UiFactory:r}=e("e75d644c5b28eee5"),{InventoryConst:s}=e("565ca982f9eea32e");t.exports.InventoryUi=class extends r{createUi(){this.create("inventory",5,!0,!0,null,()=>{this.inventoryVisibility("inventory")}),this.create("equipment",4,!0,!0,null,()=>{this.inventoryVisibility("inventory")})}inventoryVisibility(e){let t="#"+s[e+"_ITEMS"];for(let e of this.gameManager.gameDom.getElements(t+" .item-box .image-container img"))e.style.border="none";for(let e of this.gameManager.gameDom.getElements(t+" .item-data-container"))e.style.border="none"}}},{e75d644c5b28eee5:"c4jWI","565ca982f9eea32e":"kXOaI"}],c4jWI:[function(e,t,i,n){let{GameConst:r}=e("116a5afefa53e8ad");t.exports.UiFactory=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene.gameManager}create(e,t,i,n,s,a){let{uiX:o,uiY:l}=this.uiScene.getUiConfig(e),h=this.uiScene.add.dom(o,l).createFromCache(e),u=h.getChildByProperty("id",e+r.UI_OPEN),c=h.getChildByProperty("id",e+r.UI_CLOSE);u?.addEventListener("click",()=>{let n=h.getChildByProperty("id",e+"-ui");i&&(n&&(n.style.display="block"),u.style.display="none",h.setDepth(t)),s&&"function"==typeof s&&s(),this.gameManager.events.emit("reldens.openUI",{ui:this,openButton:u,dialogBox:h,dialogContainer:n,uiScene:this.uiScene})}),c?.addEventListener("click",()=>{let t=h.getChildByProperty("id",e+"-ui");n&&(t&&(t.style.display="none"),h.setDepth(1),u&&(u.style.display="block")),a&&"function"==typeof a&&a(),this.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:c,openButton:u,dialogBox:h,dialogContainer:t,uiScene:this.uiScene})}),this.uiScene.elementsUi[e]=h}}},{"116a5afefa53e8ad":"7Qdd3"}],kXOaI:[function(e,t,i,n){t.exports.InventoryConst={INVENTORY_ITEMS:"inventory-items",INVENTORY_OPEN:"inventory-open",INVENTORY_CLOSE:"inventory-close",EQUIPMENT_ITEMS:"equipment-items",EQUIPMENT_CLOSE:"equipment-close",EQUIPMENT_OPEN:"equipment-open",ANIMATION_KEY_PREFIX:"aK_",GROUP_BUCKET:"/assets/custom/groups",ACTIONS:{PREFIX:"ivp",REMOVE:"ivpRm",USE:"ivpUse",EQUIP:"ivpEqi",TRADE_START:"ivptStart",TRADE_ACCEPTED:"ivptAccepted",TRADE_SHOW:"ivptShow",TRADE_ACTION:"ivptAction"},MESSAGE:{DATA_VALUES:{NAMESPACE:"items"}}}},{}],aeXza:[function(e,t,i,n){let{InventoryConst:r}=e("b5d0f9ee9d22fb55"),{GameConst:s}=e("92cdba323e44bcec"),{Receiver:a}=e("cb4e0a55d43d72b7"),{ErrorManager:o,Logger:l,sc:h}=e("c6222908b64bdf56");t.exports.InventoryReceiver=class extends a{constructor(e){h.hasOwn(e,"gameManager")||o.error("InventoryReceiver gameManager not specified."),super(e),this.gameManager=e.gameManager,this.itemSprites={},this.itemsAnimations={}}onExecuting(e){let t=e.item;if(!h.hasOwn(t,"animationData"))return l.warning("Item does not contain animation data.",e),!1;let i=r.ANIMATION_KEY_PREFIX+t.key,n=this.gameManager.getActiveScene();if(this.itemSprites[i]&&this.itemSprites[i].anims&&n.anims.get(i))return l.debug("Animation already exists, playing: "+i),this.playSpriteAnimation(i,t),!1;n.load.spritesheet(i,"/assets/custom/sprites/"+t.key+s.FILES.EXTENSIONS.PNG,{frameWidth:t.animationData.frameWidth||64,frameHeight:t.animationData.frameHeight||64}).on("loaderror",e=>{l.error("Sprite load error: "+i,e)}),n.load.on("complete",()=>{l.debug("Scene load complete, playing: "+i),this.createItemSprites(i,t,e,n)}),n.load.start()}createItemSprites(e,t,i,n){let r=this.extractTargetId(t,i,n);if(!r)return l.error("Target ID not found."),!1;let s=h.get(n.player.players,r,!1);if(!s)return l.error("Player sprite not found by target ID."),!1;let a=n.anims.get(e);a||(l.debug("Creating new animation on scene: "+e),a=n.anims.create({key:e,frames:n.anims.generateFrameNumbers(e,{start:t.animationData.start||0,end:t.animationData.end||1}),frameRate:h.get(t.animationData,"frameRate",n.configuredFrameRate),repeat:t.animationData.repeat||3,hideOnComplete:h.get(t.animationData,"hide",!0),showOnStart:h.get(t.animationData,"showOnStart",!0)})),this.itemsAnimations[e]=a;let o=h.get(t.animationData,"fixedX",t.animationData.usePlayerPosition?s.x:0),u=h.get(t.animationData,"fixedY",t.animationData.usePlayerPosition?s.y:0);this.itemSprites[e]=n.physics.add.sprite(o,u,e),this.itemSprites[e]=this.itemSprites[e].setDepth(9e4),this.itemSprites[e].depthByPlayer="above",t.animationData.followPlayer&&(s.moveSprites[e]=this.itemSprites[e]),l.debug("Playing sprite: "+e),this.playSpriteAnimation(e,t).on("animationcomplete",()=>{t.animationData.destroyOnComplete&&this.destroyAnimation(t,e,s)})}playSpriteAnimation(e,t){h.get(t.animationData,"closeInventoryOnUse",!1)&&this.gameManager.gameDom.getElement("#inventory-close")?.click();let i=this.itemSprites[e].anims;return i?(i.visible=!0,i.play(e,h.get(t.animationData,"ignoreIfPlaying",!0))):(l.error("Sprite animation not found: "+e),!1)}destroyAnimation(e,t,i){this.itemSprites[t].destroy(),delete this.itemSprites[t],delete this.itemsAnimations[t],e.animationData.followPlayer&&delete i.moveSprites[t],l.debug("Animation and sprite destroyed: "+t)}extractTargetId(e,t,i){return e.animationData.startsOnTarget&&t.target?.playerId?t.target.playerId:i.player?.playerId||!1}}},{b5d0f9ee9d22fb55:"kXOaI","92cdba323e44bcec":"7Qdd3",cb4e0a55d43d72b7:"g4GOK",c6222908b64bdf56:"3lwy5"}],"3HDxT":[function(e,t,i,n){let{InventoryConst:r}=e("94b3a8b907c2a901"),{GameConst:s}=e("2b9434348d7355dc"),{Logger:a,sc:o}=e("d685cc0c689d4ce3");t.exports.TradeTargetAction=class{showTargetExchangeAction(e,t,i,n){if(s.TYPE_PLAYER!==t.type||e.getCurrentPlayer().playerId===t.id)return!1;let l=e.gameEngine.uiScene;if(!1===o.get(l,"uiTarget",!1))return!1;let h=l.cache.html.get("inventoryTradeStart");if(!h)return a.critical('Template "inventoryTradeStart" not found.'),!1;e.gameDom.appendToElement("#target-container",e.gameEngine.parseTemplate(h,{playerName:n,playerId:t.id}));let u=e.gameDom.getElement(".start-trade-"+t.id+" button");if(!u)return a.critical('Trade start button not found for selector: ".start-trade-'+t.id+' button"'),!1;u.addEventListener("click",()=>{let i={act:r.ACTIONS.TRADE_START,id:t.id};e.activeRoomEvents.send(i)})}}},{"94b3a8b907c2a901":"kXOaI","2b9434348d7355dc":"7Qdd3",d685cc0c689d4ce3:"3lwy5"}],dDWF7:[function(e,t,i,n){let{TradeMessageHandler:r}=e("9a19973476c681d5"),{Logger:s,sc:a}=e("165687940d76d60e");t.exports.TradeMessageListener=class{async executeClientMessageActions(e){let t=a.get(e,"message",!1);if(!t)return s.error("Missing message data on TradeMessageListener.",e),!1;let i=a.get(e,"roomEvents",!1);if(!i)return s.error("Missing RoomEvents on TradeMessageListener.",e),!1;new r({roomEvents:i,message:t}).updateContents()}}},{"9a19973476c681d5":"j079E","165687940d76d60e":"3lwy5"}],j079E:[function(e,t,i,n){let{ErrorManager:r,Logger:s,sc:a}=e("e30448b763daad71"),{InventoryConst:o}=e("279522b619f4737e"),{ObjectsConst:l}=e("1ad3ff060efe34bd"),{UserInterface:h}=e("df59fbf4a3c1f5fe");t.exports.TradeMessageHandler=class{constructor(e){this.roomEvents=a.get(e,"roomEvents",!1),this.message=a.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene,this.itemsManager=this.gameManager?.inventory?.manager,this.validate()}validate(){this.roomEvents||r.error("Missing RoomEvents."),this.message||r.error("Missing message."),this.gameManager||r.error("Missing GameManager."),this.uiScene||r.error("Missing UiScene."),this.itemsManager||r.error("Missing ItemsManager.")}updateContents(){return o.ACTIONS.TRADE_START===this.message.act?this.showTradeRequest():o.ACTIONS.TRADE_SHOW===this.message.act?this.showTradeBox():void 0}showTradeRequest(){let e="trade"+this.message.id;this.createTradeUi(e),this.roomEvents.initUi({id:e,title:this.gameManager.config.getWithoutLogs("client/trade/titles/tradeRequestFromLabel","Trade request from:"),content:this.message.from,options:this.gameManager.config.get("client/ui/options/acceptOrDecline"),overrideSendOptions:{act:o.ACTIONS.TRADE_ACCEPTED,id:this.message.id}}),this.gameDom.getElement("#opt-2-"+e)?.addEventListener("click",()=>{this.gameDom.getElement("#box-close-"+e)?.click()})}showTradeBox(){let e="trade"+this.message.id;this.createTradeUi(e),this.roomEvents.initUi({id:e,title:this.gameManager.services.translator.t("items.tradeWith",{playerName:this.message.with}),content:"",options:{}});let t=this.gameManager.gameDom.getElement("#box-"+e+" .box-content");if(!t)return s.error('Missing container: "#box-'+e+' .box-content".'),!1;if(!0===this.message.isTradeEnd)return this.gameDom.getElement("#box-close-"+"trade"+this.message.id)?.click(),!0;let i=a.get(this.message,"items",!1),n=a.get(this.message,"traderItemsData",{}),r=a.get(this.message,"exchangeData",{}),o=a.get(this.message,"playerToExchangeKey",{}),l="A"===o?"B":"A";this.updateItemsList(i,t,r[l]),this.updateMyExchangeData(r[l]||{},i,l),this.updateTraderExchangeData(r[o]||{},n,o)}createTradeUi(e){let t=a.get(this.roomEvents.tradeUi,e);return t||(this.roomEvents.tradeUi[e]=new h(this.gameManager,{id:e,type:"trade"},"/assets/html/dialog-box.html","trade"),this.roomEvents.tradeUi[e].createUiElement(this.uiScene,"trade")),t}updateItemsList(e,t,i){if(!e)return;let n="",r={};for(let t of Object.keys(e)){let s=e[t],o=Object.assign({manager:this.itemsManager},s,{uid:t}),l=a.get(this.itemsManager.itemClasses,o.key,this.itemsManager.types.classByTypeId(o.type));r[t]=new l(o),r[t].quantityDisplay=1,r[t].quantityMaxDisplay=Math.max(r[t].qty_limit,s.qty),r[t].tradeAction="trade",n+=this.createTradeItemBox(r[t],a.get(i,r[t].uid,!1))}t.innerHTML=this.createTradeContainer(n),this.activateItemsBoxActions(r),this.activateConfirmButtonAction()}activateConfirmButtonAction(){let e=this.gameManager.gameDom.getElement(".confirm-"+this.message.id);e?.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send({act:o.ACTIONS.TRADE_ACTION,id:this.message.id,value:this.message.id,sub:l.TRADE_ACTIONS.CONFIRM})});let t=this.gameManager.gameDom.getElement(".disconfirm-"+this.message.id);t?.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send({act:o.ACTIONS.TRADE_ACTION,id:this.message.id,value:this.message.id,sub:l.TRADE_ACTIONS.DISCONFIRM})});let i=this.gameManager.gameDom.getElement(".cancel-"+this.message.id);i?.addEventListener("click",()=>{this.gameDom.getElement("#box-close-"+"trade"+this.message.id)?.click()})}updateMyExchangeData(e,t,i){if(0===Object.keys(e).length)return!1;let n=this.createConfirmItemsBox(e,t),r=this.gameDom.getElement(".trade-items-boxes .trade-player-col.trade-col-2");return r?(r.innerHTML=n,this.assignRemoveActions(e,t),!0):(s.error('Missing "'+i+'" items container.'),!1)}updateTraderExchangeData(e,t,i){if(0===Object.keys(e).length)return!1;let n=this.createReceivingItemsBox(e,t),r=this.gameDom.getElement(".trade-items-boxes .trade-player-col.trade-col-3");return r?(r.innerHTML=n,!0):(s.error('Missing "'+i+'" items container.'),!1)}createConfirmItemsBox(e,t){let i=Object.keys(e);if(0===i.length)return s.info("Undefined exchange items on confirmation trade-message-handler.",{message:this.message}),"";let n="",r=this.uiScene.cache.html.get("inventoryTradeItem");if(!r)return s.error('Missing template "inventoryTradeItem".'),"";for(let s of i){let i=e[s],a=t[s];n+=this.gameManager.gameEngine.parseTemplate(r,{key:a.key,label:a.label,description:a.description,id:s,qty:a.qty,hiddenClass:"",tradeAction:this.createTradeActionRemove(a),tradeActionKey:this.message.id,tradeQuantityContent:i})}return n}createReceivingItemsBox(e,t){let i=Object.keys(e);if(0===i.length)return s.info("Undefined exchange items on receive trade-message-handler.",{message:this.message}),"";let n="",r=this.uiScene.cache.html.get("inventoryTradeItem");if(!r)return s.error('Missing template "inventoryTradeItem".'),"";for(let s of i){let i=e[s],a=t[s];n+=this.gameManager.gameEngine.parseTemplate(r,{key:a.key,label:a.label,description:a.description,id:s,qty:a.qty,hiddenClass:"",tradeAction:"",tradeActionKey:this.message.id,tradeQuantityContent:i})}return n}assignRemoveActions(e,t){let i=Object.keys(e);if(0===i.length)return s.info("Undefined exchange items on remove trade-message-handler.",{message:this.message}),!1;for(let e of i){let i=".pushed-to-trade .trade-item-"+e,n=this.gameDom.getElement(i);if(!n){s.error('Assign trade item "'+e+'" container not found.');continue}let r=this.gameDom.getElement(".pushed-to-trade .trade-item-"+e+" .trade-action-remove");if(!r){s.error('Assign trade item "'+e+'" remove button not found.');continue}let a=t[e];r.addEventListener("click",()=>{n.classList.remove("hidden");let t={act:o.ACTIONS.TRADE_ACTION,id:this.message.id,value:"remove",itemId:e,itemKey:a.key};t[l.TRADE_ACTIONS.SUB_ACTION]=l.TRADE_ACTIONS.REMOVE,this.gameManager.activeRoomEvents.send(t)})}return!0}createTradeContainer(e){let t=this.uiScene.cache.html.get("inventoryTradePlayerContainer");if(!t)return s.error('Missing template "inventoryTradeContainer".'),"";let i=l.TRADE_ACTIONS_FUNCTION_NAME,n={tradeActionKey:this.message.id,confirmLabel:this.gameManager.config.getWithoutLogs("client/trade/titles/confirmLabel",i.CONFIRM),disconfirmLabel:this.gameManager.config.getWithoutLogs("client/trade/titles/disconfirmLabel",i.DISCONFIRM),cancelLabel:this.gameManager.config.getWithoutLogs("client/trade/titles/cancelLabel",i.CANCEL),myItems:e,myItemsTitle:this.gameManager.config.getWithoutLogs("client/trade/titles/myItems","My Items:"),pushedToTradeTitle:this.gameManager.config.getWithoutLogs("client/trade/titles/pushedToTradeTitle","Sending:"),gotFromTradeTitle:this.gameManager.config.getWithoutLogs("client/trade/titles/gotFromTradeTitle","Receiving:"),playerConfirmedLabel:this.playerConfirmedLabel()};return this.gameManager.gameEngine.parseTemplate(t,n)}playerConfirmedLabel(){return this.message.playerConfirmed?this.gameManager.config.getWithoutLogs("client/trade/titles/playerConfirmedLabel","%playerName CONFIRMED").replace("%playerName",this.message.with):""}createTradeItemBox(e,t){let i=this.uiScene.cache.html.get("inventoryTradeItem");if(!i)return s.error('Missing template "inventoryTradeItem".'),"";let n=this.uiScene.cache.html.get("inventoryTradeItemQuantity");if(!n)return s.error('Missing template "inventoryTradeItemQuantity".'),"";let r=t||0;return this.gameManager.gameEngine.parseTemplate(i,{key:e.key,label:e.label,description:e.description,id:e.getInventoryId(),qty:e.qty,hiddenClass:0<r&&e.qty===r?" hidden":"",tradeAction:this.createTradeActionContent(e),tradeActionKey:"to-be-"+e.tradeAction,tradeQuantityContent:this.gameManager.gameEngine.parseTemplate(n,{quantityDisplay:e.quantityDisplay||1,quantityMaxDisplay:0<e.quantityMaxDisplay?'max="'+e.quantityMaxDisplay+'"':""})})}createTradeActionContent(e,t){let i=this.uiScene.cache.html.get("inventoryTradeAction");return i?this.gameManager.gameEngine.parseTemplate(i,{key:e.key,id:e.getInventoryId(),tradeAction:t||a.get(e,"tradeAction","")}):(s.error('Missing template "inventoryTradeAction".'),"")}createTradeActionRemove(e){let t=this.uiScene.cache.html.get("inventoryTradeActionRemove");return t?this.gameManager.gameEngine.parseTemplate(t,{key:e.key,id:e.uid,tradeAction:"remove"}):(s.error('Missing template "inventoryTradeActionRemove".'),"")}activateItemsBoxActions(e){for(let t of Object.keys(e)){let i=e[t],n=".trade-item-to-be-"+i.tradeAction+".trade-item-"+i.uid+" .trade-action-"+i.tradeAction+" button",r=this.gameDom.getElement(n);if(!r){s.error('Activate trade item "'+i.uid+'" action button not found.');continue}r.addEventListener("click",()=>{let e=this.gameDom.getElement(".trade-item-"+i.getInventoryId()+" .item-qty input"),t=e?.value||1,n={act:o.ACTIONS.TRADE_ACTION,id:this.message.id,value:i.tradeAction,itemId:i.getInventoryId(),itemKey:i.key,qty:Number(t)};n[l.TRADE_ACTIONS.SUB_ACTION]=l.TRADE_ACTIONS.ADD,this.gameManager.activeRoomEvents.send(n)})}}}},{e30448b763daad71:"3lwy5","279522b619f4737e":"kXOaI","1ad3ff060efe34bd":"8k4Rg",df59fbf4a3c1f5fe:"iRs7L"}],k5W2v:[function(e,t,i,n){t.exports.TemplatesHandler=class{static preloadTemplates(e){let t="/assets/features/inventory/templates/";e.load.html("inventory",t+"ui-inventory.html"),e.load.html("equipment",t+"ui-equipment.html"),e.load.html("inventoryItem",t+"item.html"),e.load.html("inventoryItemUse",t+"usable.html"),e.load.html("inventoryItemEquip",t+"equip.html"),e.load.html("inventoryGroup",t+"group.html"),e.load.html("inventoryTradeContainer",t+"trade-container.html"),e.load.html("inventoryTradePlayerContainer",t+"trade-player-container.html"),e.load.html("inventoryTradeRequirements",t+"trade-requirements.html"),e.load.html("inventoryTradeRewards",t+"trade-rewards.html"),e.load.html("inventoryTradeAction",t+"trade-action.html"),e.load.html("inventoryTradeActionRemove",t+"trade-action-remove.html"),e.load.html("inventoryTradeItem",t+"trade-item.html"),e.load.html("inventoryTradeItemQuantity",t+"trade-item-quantity.html"),e.load.html("inventoryTradeStart",t+"trade-start.html"),e.load.html("inventoryTradeAccept",t+"trade-accept.html")}}},{}],dVvnX:[function(e,t,i,n){t.exports={items:{undefinedItem:"Add item error, undefined item.",undefinedMethodInventoryId:"Add item error, undefined getInventoryId.",undefinedItemKey:"Add item error, undefined item key.",invalidItemInstance:"Invalid item instance.",lockedForAddItem:"Inventory locked, cannot add item: %itemUid",maxTotalReachedForAddItem:"Cannot add item, max total reached.",itemExistsForAddItem:"Cannot add item, item already exists: %itemUid",itemLimitExceededForAddItem:"Cannot add item, item qty limit exceeded.",addItemsError:'Cannot add item "%itemUid".',lockedForSetItem:"Inventory locked, cannot set item: %itemUid.",lockedForRemoveItem:"Inventory locked, cannot remove item: %itemUid.",keyNotFound:"Cannot remove item, key not found: %itemUid.",lockedForModifyItemQty:"Inventory locked, cannot modify item qty: %itemUid.",undefinedItemKeyForOperation:'Cannot "%operation" item qty, undefined item key: %itemUid.',qtyNotANumber:'Cannot "%operation" item qty, quantity is not a number: %qty.',itemQtyLimitExceeded:'Cannot "%operation" item qty, item qty limit exceeded: %qty > %limitPerItem.',lockedForSetItems:"Inventory locked, cannot set items.",tradeWith:"Trading with %playerName",exchange:{missingConfirmation:"Missing confirmation.",invalidPushedQuantity:"Invalid item pushed quantity (%qty), available: %pushedItemQty.",invalidQuantity:"Invalid item quantity 0.",invalidExchange:'Inventories "FROM" and "TO" are the same, exchange cancelled.',decreaseQuantity:"Exchange inventory decrease error.",itemAdd:"Exchange add inventory result error."},requirements:{itemNotPresent:'Required item "%requiredItemKey" is not present.',quantityNotAvailable:'Required item "%requiredItemKey" quantity %totalRequiredQuantity is not available.',itemNotPushed:'Required item "%requiredItemKey" was not pushed for exchange.',itemQuantityNotPushed:'Required item "%requiredItemKey" quantity %totalRequiredQuantity was not pushed for exchange.',itemDoesNotExists:'Requirement error, item "%itemUid" does not exits on inventory.',itemAdd:"Requirement add item error."},reward:{doesNotExists:'Reward error, item "%itemUid" does not exits.',missingItem:'Reward error, item "%itemUid" does not exits.',itemNotPresent:'Reward item "%rewardItemKey" is not present on inventory.',quantityNotAvailable:"Reward item %rewardItemKey reward quantity (%rewardQuantity) is not available.",missingPushed:'Missing pushed for exchange item "%itemUid".',getItemDoesNotExists:'Reward error, item "%itemUid" does not exits on inventory.',processItem:'Process item reward error, item "%itemUid".',processInventory:"Rewards process inventory error.",addItems:"Rewards error on add items: %itemsKeys.",quantityOverload:"Reward quantity (%rewardQuantityTotal) is bigger than the available in the inventory (%rewardInventoryItemQty)."},equipment:{modifiersApply:"Cannot apply modifiers the item is not equipped: %itemUid",modifiersRevert:"Cannot revert modifiers the item is not equipped: %itemUid"}}}},{}],fb8TJ:[function(e,t,i,n){let{SkillsUi:r}=e("36d50050599013b8"),{PluginInterface:s}=e("7c05585b97e53470"),{PlayerSelector:a}=e("77b2515903041d20"),{PreloaderHandler:o}=e("5394030c13db68d9"),{MessagesHandler:l}=e("f5d67620a3caae3e"),{GameManagerEnricher:h}=e("303da725ced69b17"),u=e("8b6b513ca32c8a19"),{TranslationsMapper:c}=e("e0c06d6627a6aa25"),{ActionsConst:d}=e("d6df1efa87716f53"),{Logger:f,sc:p}=e("a4340d9acbcb2d0");t.exports.ActionsPlugin=class extends s{setup(e){this.gameManager=p.get(e,"gameManager",!1),this.gameManager||f.error("Game Manager undefined in ActionsPlugin."),this.events=p.get(e,"events",!1),this.events||f.error("EventsManager undefined in ActionsPlugin."),this.playerSelector=new a(e),this.preloaderHandler=new o(e),this.setTranslations(),this.listenEvents()}setTranslations(){if(!this.gameManager)return!1;c.forConfig(this.gameManager.config.client,u,d.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events||!this.gameManager)return!1;this.events.on("reldens.preloadUiScene",e=>{this.preloaderHandler.loadContents(e)}),this.events.on("reldens.createPreload",e=>{this.preloaderHandler.createAnimations(e)}),this.events.on("reldens.createUiScene",e=>{this.uiManager=new r(e),this.uiManager.createUi()}),this.events.on("reldens.beforeCreateEngine",e=>{this.playerSelector.populateClassesSelector(p.get(e,"classesData",{}),e.gameConfig.client.players,e.player)}),this.events.on("reldens.activateRoom",e=>{e.onMessage("*",e=>{l.processOrQueueMessage(e,this.gameManager)})}),this.events.on("reldens.playersOnAddReady",e=>{h.withReceiver(e.player,e.roomEvents,this.gameManager)})}}},{"36d50050599013b8":"7Brqp","7c05585b97e53470":"jorwg","77b2515903041d20":"aJ0QR","5394030c13db68d9":"lK9DF",f5d67620a3caae3e:"gt0rP","303da725ced69b17":"8UAfY","8b6b513ca32c8a19":"9VzyZ",e0c06d6627a6aa25:"hgeoj",d6df1efa87716f53:"4omVM",a4340d9acbcb2d0:"3lwy5"}],"7Brqp":[function(e,t,i,n){let{ActionsConst:r}=e("a90f454084440f9d");t.exports.SkillsUi=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene.gameManager,this.defaultAction=this.gameManager.config.get("client/ui/controls/defaultActionKey")}createUi(){let e=r.SELECTORS.UI_PLAYER_EXTRAS;this.appendToUiContainer(e,"skillsClassPath"),this.appendToUiContainer(e,"skillsLevel"),this.appendToUiContainer(e,"skillsExperience",{experienceLabel:this.gameManager.services.translator.t(r.SNIPPETS.EXPERIENCE_LABEL)}),this.createUiBox("skills",7)}appendSkills(e){let t=Object.keys(e);if(0===t.length)return!1;for(let i of t){let t=e[i];t!==this.defaultAction&&this.createSkillBox(t)}}appendToUiContainer(e,t,i={}){let n=this.uiScene.cache.html.get(t);0<Object.keys(i).length&&(n=this.gameManager.gameEngine.parseTemplate(n,i)),this.gameManager.gameDom.appendToElement(e,n)}createUiBox(e,t){let{uiX:i,uiY:n}=this.uiScene.getUiConfig(e),r=this.uiScene.add.dom(i,n).createFromCache(e);r.setDepth(t),this.uiScene.elementsUi[e]=r}createSkillBox(e){let t=this.parseSkillTemplate(e);this.gameManager.gameDom.appendToElement(r.SELECTORS.SKILLS_CONTAINER,t),this.uiScene.setupActionButtonInBox(e,this.uiScene.getUiElement("skills"))}parseSkillTemplate(e){let t=this.uiScene.cache.html.get("skillBox");return this.gameManager.gameEngine.parseTemplate(t,{key:e,skillName:e})}}},{a90f454084440f9d:"4omVM"}],aJ0QR:[function(e,t,i,n){let{ActionsConst:r}=e("cc17d7a08bdc628f"),{GameConst:s}=e("d589586cb2588d99"),{Logger:a,sc:o}=e("3d92707723ab4002");t.exports.PlayerSelector=class{constructor(e){this.gameManager=o.get(e,"gameManager",!1),this.gameManager||a.error("Game Manager undefined in ActionsPlugin PlayerSelector."),this.events=o.get(e,"events",!1),this.events||a.error("EventsManager undefined in ActionsPlugin PlayerSelector."),this.gameDom=this.gameManager.gameDom}populateClassesSelector(e,t,i){if(!o.isObject(e)||0===Object.keys(e).length)return a.error("Classes not defined, can not populate the classes selector."),this.gameDom.getElement(".player-selection-form-errors")?.append(this.gameManager.services?.translator.t("game.errors.missingClasses")),!1;let n=o.get(t,"multiplePlayers",!1);if((!n||!n.enabled)&&i)return!1;let s=this.gameDom.getElement(r.SELECTORS.PLAYER_CREATION_ADDITIONAL_INFO);if(!s)return!1;this.gameDom.getElement(r.SELECTORS.PLAYER_CREATE_FORM)?.classList.remove("hidden");let l=this.gameDom.createElement("div");l.id="class-path-selector-box",l.classList.add("input-box");let h=this.gameDom.createElement("label"),u="class-path-select";h.htmlFor=u,h.innerText=this.gameManager.services.translator.t(r.SNIPPETS.SELECT_CLASS_PATH);let c=this.gameDom.createElement("select");for(let t of(c.id=u,c.name="class_path_select",Object.keys(e))){let i=new Option(e[t].label,t);i.dataset.key=e[t].key,c.append(i)}if(l.append(h),l.append(c),this.gameManager.config.getWithoutLogs("client/players/multiplePlayers/showAvatar",!0)){let e=this.gameDom.createElement("div");e.className="avatar-container",this.appendAvatarOnSelector(c,e,t),l.append(e)}s.append(l)}appendAvatarOnSelector(e,t,i){let n=this.gameDom.createElement("div"),r=e.options[e.selectedIndex].dataset.key;n.classList.add("class-path-select-avatar"),n.style.backgroundImage=`url('/assets/custom/sprites/${r}${s.FILES.EXTENSIONS.PNG}')`;let a=i.size.width+"px";n.style.backgroundPositionX="-"+a,n.style.width=a,n.style.height=i.size.height+"px",e.addEventListener("change",()=>{let t=e.options[e.selectedIndex].dataset.key;n.style.backgroundImage=`url('/assets/custom/sprites/${t}${s.FILES.EXTENSIONS.PNG}')`}),t.append(n)}}},{cc17d7a08bdc628f:"4omVM",d589586cb2588d99:"7Qdd3","3d92707723ab4002":"3lwy5"}],lK9DF:[function(e,t,i,n){let{Logger:r,sc:s}=e("17d913472ef18f64"),{GameConst:a}=e("3e50345fa8140484");t.exports.PreloaderHandler=class{constructor(e){this.gameManager=s.get(e,"gameManager",!1),this.gameManager||r.error("Game Manager undefined in ActionsPlugin PreloaderHandler."),this.events=s.get(e,"events",!1),this.events||r.error("EventsManager undefined in ActionsPlugin PreloaderHandler."),this.setProperties(e)}setProperties(e){if(!this.gameManager)return!1;this.gameDom=this.gameManager.gameDom,this.initialGameData=this.gameManager.initialGameData,this.levelsAnimConfig=this.gameManager.config.get("client/levels/animations"),this.skillsAnimConfig=this.gameManager.config.get("client/skills/animations"),this.assetsCustomActionsSpritesPath=s.get(e,"assetsCustomActionsSpritesPath","assets/custom/actions/sprites/"),this.gameManager.loadedAssets||(this.gameManager.loadedAssets={}),this.gameManager.createdAnimations||(this.gameManager.createdAnimations={})}loadContents(e){e.load.html("skillsClassPath","/assets/features/skills/templates/ui-class-path.html"),e.load.html("skillsLevel","/assets/features/skills/templates/ui-level.html"),e.load.html("skillsExperience","/assets/features/skills/templates/ui-experience.html"),e.load.html("skills","/assets/features/skills/templates/ui-skills.html"),e.load.html("skillBox","/assets/features/skills/templates/ui-skill-box.html"),e.load.html("actionBox","/assets/html/ui-action-box.html"),this.preloadClassPaths(e),this.loopAnimationsAnd(this.levelsAnimConfig,"preload",e),this.loopAnimationsAnd(this.skillsAnimConfig,"preload",e)}preloadClassPaths(e){let t=s.get(this.initialGameData,"classesData",!1);if(!t)return!1;for(let i of Object.keys(t)){let n=t[i].key;e.load.spritesheet(n,"/assets/custom/sprites/"+n+a.FILES.EXTENSIONS.PNG,e.playerSpriteSize).on("filecomplete",async e=>{this.gameManager.loadedAssets[e]=e})}}createAnimations(e){let t=this.levelsAnimConfig;this.loopAnimationsAnd(t,"create",e);let i=this.skillsAnimConfig;this.loopAnimationsAnd(i,"create",e),this.createAvatarsAnimations(e)}createAvatarsAnimations(e){let t=s.get(this.initialGameData,"classesData",!1);if(!t)return r.debug("Classes data not found. Fallback to player avatar."),!1;for(let i of(this.gameManager.mappedAvatars||(this.gameManager.mappedAvatars={}),r.debug({availableClassesData:t}),Object.keys(t))){let n=t[i].key;this.gameManager.loadedAssets[n]||(n=a.IMAGE_PLAYER,r.info('Avatar for class path "'+n+'" not found in assets. Fallback to player avatar.')),this.gameManager.mappedAvatars[n]=n,e.createPlayerAnimations(n)}return this.gameManager.mappedAvatars}loopAnimationsAnd(e,t,i){if(!e)return r.warning("Animations not found.",e),!1;for(let n of Object.keys(e)){let s=e[n];if(!s.animationData.enabled){r.debug('Animation "'+n+'" not enabled, skipping.',s);continue}r.debug({[t+"Animation"]:s}),this[t+"Animation"](s,i)}}preloadAnimation(e,t){s.hasOwn(e.animationData,["type","img"])&&a.ANIMATIONS_TYPE.SPRITESHEET===e.animationData.type&&this.preloadAnimationsInDirections(e,t),e.classKey&&s.isFunction(e.classKey.prepareAnimation)&&e.classKey.prepareAnimation({data:e,uiScene:t,pack:this})}preloadAnimationsInDirections(e,t){let i=s.get(e.animationData,"dir",0);if(0===i){t.load.spritesheet(this.getAnimationKey(e),this.assetsCustomActionsSpritesPath+e.animationData.img+a.FILES.EXTENSIONS.PNG,e.animationData);return}(1===i||2===i)&&(this.preloadSpriteInDirection(t,e,a.UP),this.preloadSpriteInDirection(t,e,a.DOWN)),(1===i||3===i)&&(this.preloadSpriteInDirection(t,e,a.LEFT),this.preloadSpriteInDirection(t,e,a.RIGHT))}preloadSpriteInDirection(e,t,i){e.load.spritesheet(this.getAnimationKey(t,i),this.assetsCustomActionsSpritesPath+t.animationData.img+"_"+i+a.FILES.EXTENSIONS.PNG,t.animationData)}createAnimation(e,t){if(s.hasOwn(e.animationData,["type","img"])&&e.animationData.type===a.ANIMATIONS_TYPE.SPRITESHEET){let i=s.get(e.animationData,"dir",0);0<i?this.createWithMultipleDirections(t,e,i):this.createWithDirection(e,t)}e.classKey&&s.isFunction(e.classKey.createAnimation)&&e.classKey.createAnimation({data:e,uiScene:t,pack:this})}createWithMultipleDirections(e,t,i){e.directionalAnimations[this.getAnimationKey(t)]=t.animationData.dir,(1===i||2===i)&&(this.createWithDirection(t,e,a.UP),this.createWithDirection(t,e,a.DOWN)),(1===i||3===i)&&(this.createWithDirection(t,e,a.LEFT),this.createWithDirection(t,e,a.RIGHT))}createWithDirection(e,t,i=""){let n=this.prepareAnimationData(e,t,i);if(this.gameManager.createdAnimations[n.key])return this.gameManager.createdAnimations[n.key];let r=t.anims.create(n);return s.hasOwn(e.animationData,"destroyTime")&&(r.destroyTime=e.animationData.destroyTime),s.hasOwn(e.animationData,"depthByPlayer")&&(r.depthByPlayer=e.animationData.depthByPlayer),this.gameManager.createdAnimations[n.key]=r,this.gameManager.createdAnimations[n.key]}prepareAnimationData(e,t,i=""){let n=this.getAnimationKey(e,i),r={key:n,frames:t.anims.generateFrameNumbers(n,e.animationData),hideOnComplete:s.get(e.animationData,"hide",!0)};return s.hasOwn(e.animationData,"duration")?r.duration=e.animationData.duration:r.frameRate=s.get(e.animationData,"frameRate",t.configuredFrameRate),s.hasOwn(e.animationData,"repeat")&&(r.repeat=e.animationData.repeat),r}getAnimationKey(e,t=""){return(e.skillKey?e.skillKey+"_":"")+e.key+(t&&""!==t?"_"+t:"")}}},{"17d913472ef18f64":"3lwy5","3e50345fa8140484":"7Qdd3"}],gt0rP:[function(e,t,i,n){let{MessagesGuard:r}=e("dffe4300e109c38f"),{sc:s}=e("60595e113fc95e4a");t.exports.MessagesHandler=class{static processOrQueueMessage(e,t){if(!r.validate(e))return!1;let i=t.getActiveScene();if(i&&i.player)return t.skills.processMessage(e);s.hasOwn(t,"skillsQueue")||(t.skillsQueue=[]),t.skillsQueue.push(e)}}},{dffe4300e109c38f:"j2UDq","60595e113fc95e4a":"3lwy5"}],j2UDq:[function(e,t,i,n){let{SkillConst:r}=e("16821f133ca8a161"),{ActionsConst:s}=e("41296dc01aea30bf");t.exports.MessagesGuard=class{static validate(e){return!!e.act&&(0===e.act.indexOf(r.ACTIONS_PREF)||-1!==e.act.indexOf(s.ACTIONS.SUFFIX.ATTACK)||-1!==e.act.indexOf(s.ACTIONS.SUFFIX.EFFECT)||-1!==e.act.indexOf(s.ACTIONS.SUFFIX.HIT))}}},{"16821f133ca8a161":"aF25l","41296dc01aea30bf":"4omVM"}],aF25l:[function(e,t,i,n){t.exports={SkillsEvents:e("ee1c8699d1d195b2"),Receiver:e("f446dd089da4381f"),ClassPath:e("8120be7a0841b1e3"),LevelsSet:e("fe220ea00f369dd1"),Level:e("d0a528882520fe7b"),Skill:e("89b2504786e2e8f1"),SkillConst:e("9f5ddfa4ed9d841d"),Attack:e("ff04b48a7ae3df0a"),Effect:e("bc0a31561e8344d2"),PhysicalAttack:e("4f3909cb0bcd41e8"),PhysicalEffect:e("7317fe1b879e8e72")}},{ee1c8699d1d195b2:"9PsTy",f446dd089da4381f:"lDyjH","8120be7a0841b1e3":"30zGe",fe220ea00f369dd1:"9hL3F",d0a528882520fe7b:"gG8XH","89b2504786e2e8f1":"cBYkx","9f5ddfa4ed9d841d":"6b010",ff04b48a7ae3df0a:"3f9O5",bc0a31561e8344d2:"j4v88","4f3909cb0bcd41e8":"8uI2I","7317fe1b879e8e72":"eaAf1"}],"9PsTy":[function(e,t,i,n){let r="reldens.skills.";t.exports={PREF:r,INIT_LEVEL_SET_START:r+"initLevelSetStart",INIT_LEVEL_SET_END:r+"initLevelSetEnd",INIT_CLASS_PATH_END:r+"initClassPathEnd",LOADED_OWNER_SKILLS:r+"loadedOwnerSkills",SET_SKILLS:r+"setSkills",SET_LEVELS:r+"setLevels",GENERATED_LEVELS:r+"generatedLevels",ADD_SKILLS_BEFORE:r+"addSkillBefore",ADD_SKILLS_AFTER:r+"addSkillAfter",REMOVE_SKILLS_BEFORE:r+"removeSkillBefore",REMOVE_SKILLS_AFTER:r+"removeSkillAfter",VALIDATE_BEFORE:r+"beforeValidate",VALIDATE_SUCCESS:r+"validateSuccess",VALIDATE_FAIL:r+"validateFail",EXECUTING_SKILL:r+"executingSkill",LEVEL_EXPERIENCE_ADDED:r+"experienceAdded",LEVEL_UP:r+"levelUp",LEVEL_DOWN:r+"levelDown",LEVEL_APPLY_MODIFIERS:r+"levelApplyModifiers",SKILL_BEFORE_IN_RANGE:r+"beforeIsInRange",SKILL_AFTER_IN_RANGE:r+"afterIsInRange",SKILL_BEFORE_EXECUTE:r+"beforeExecute",SKILL_AFTER_EXECUTE:r+"afterExecute",SKILL_BEFORE_CAST:r+"beforeCast",SKILL_AFTER_CAST:r+"afterCast",SKILL_BEFORE_RUN_LOGIC:r+"beforeRunLogic",SKILL_AFTER_RUN_LOGIC:r+"afterRanLogic",SKILL_APPLY_OWNER_EFFECTS:r+"applyOwnerEffects",SKILL_ATTACK_APPLY_DAMAGE:r+"attackApplyDamage",SKILL_EFFECT_TARGET_MODIFIERS:r+"effectTargetModifiers",SKILL_PHYSICAL_ATTACK_HIT:r+"physicalAttackOnHit",SKILL_PHYSICAL_EFFECT_HIT:r+"physicalEffectOnHit"}},{}],lDyjH:[function(e,t,i,n){let r=e("26dc6552813c7c3"),{ErrorManager:s,Logger:a,sc:o}=e("c1d230545b42faaa");t.exports=class{constructor(e){o.hasOwn(e,"owner")||s.error("Undefined owner."),"function"!=typeof e.owner.getPosition&&s.error("Undefined owner position method."),this.actions=o.get(e,"actions",{}),o.hasOwn(e,"avoidDefaults")&&e.avoidDefaults||this.setDefaultMethods()}setDefaultMethods(){this.actions[r.ACTION_INIT_LEVEL_SET_START]="onInitLevelSetStart",this.actions[r.ACTION_INIT_LEVEL_SET_END]="onInitLevelSetEnd",this.actions[r.ACTION_INIT_CLASS_PATH_END]="onInitClassPathEnd",this.actions[r.ACTION_LOADED_OWNER_SKILLS]="onLoadedOwnerSkills",this.actions[r.ACTION_SET_SKILLS]="onSetSkills",this.actions[r.ACTION_SET_LEVELS]="onSetLevels",this.actions[r.ACTION_ADD_SKILLS_BEFORE]="onAddSkillsBefore",this.actions[r.ACTION_ADD_SKILLS_AFTER]="onAddSkillsAfter",this.actions[r.ACTION_REMOVE_SKILLS_BEFORE]="onRemoveSkillsBefore",this.actions[r.ACTION_REMOVE_SKILLS_AFTER]="onRemoveSkillsAfter",this.actions[r.ACTION_VALIDATE_BEFORE]="onValidateBefore",this.actions[r.ACTION_VALIDATE_SUCCESS]="onValidateSuccess",this.actions[r.ACTION_VALIDATE_FAIL]="onValidateFail",this.actions[r.ACTION_EXECUTING_SKILL]="onExecutingSkill",this.actions[r.ACTION_LEVEL_EXPERIENCE_ADDED]="onLevelExperienceAdded",this.actions[r.ACTION_LEVEL_UP]="onLevelUp",this.actions[r.ACTION_LEVEL_DOWN]="onLevelDown",this.actions[r.ACTION_LEVEL_APPLY_MODIFIERS]="onLevelApplyModifiers",this.actions[r.ACTION_SKILL_BEFORE_IN_RANGE]="onSkillBeforeInRange",this.actions[r.ACTION_SKILL_AFTER_IN_RANGE]="onSkillAfterInRange",this.actions[r.ACTION_SKILL_BEFORE_EXECUTE]="onSkillBeforeExecute",this.actions[r.ACTION_SKILL_AFTER_EXECUTE]="onSkillAfterExecute",this.actions[r.ACTION_SKILL_BEFORE_CAST]="onSkillBeforeCast",this.actions[r.ACTION_SKILL_AFTER_CAST]="onSkillAfterCast",this.actions[r.ACTION_SKILL_ATTACK_APPLY_DAMAGE]="onSkillAttackApplyDamage",this.actions[r.ACTION_SKILL_BEFORE_RUN_LOGIC]="onSkillBeforeRunLogic",this.actions[r.ACTION_SKILL_AFTER_RUN_LOGIC]="onSkillAfterRunLogic",this.actions[r.ACTION_SKILL_PHYSICAL_ATTACK_HIT]="onSkillPhysicalAttackHit",this.actions[r.ACTION_SKILL_PHYSICAL_EFFECT_HIT]="onSkillPhysicalEffectHit"}processMessage(e){return!!this.isValidMessage(e)&&(o.hasOwn(this.actions,e.act)?o.isFunction(this[this.actions[e.act]])?void this[this.actions[e.act]](e):(a.error("Skills action is not a function",e.act),!1):(a.error("Skills action not found",e.act),!1))}isValidMessage(e){return 0===e.act.indexOf(r.ACTIONS_PREF)}}},{"26dc6552813c7c3":"6b010",c1d230545b42faaa:"3lwy5"}],"6b010":[function(e,t,i,n){let r="rski.";t.exports={SKILL:{TYPE:{BASE:1,ATTACK:2,EFFECT:3,PHYSICAL_ATTACK:4,PHYSICAL_EFFECT:5}},MODELS_PREFIX:"skills_",BEHAVIOR_SEND:"send",BEHAVIOR_BROADCAST:"broadcast",BEHAVIOR_BOTH:"both",ACTIONS_PREF:r,ACTION_INIT_LEVEL_SET_START:r+"ILss",ACTION_INIT_LEVEL_SET_END:r+"ILse",ACTION_INIT_CLASS_PATH_END:r+"ICpe",ACTION_LOADED_OWNER_SKILLS:r+"Los",ACTION_SET_SKILLS:r+"Sk",ACTION_SET_LEVELS:r+"Sl",ACTION_ADD_SKILLS_BEFORE:r+"Asb",ACTION_ADD_SKILLS_AFTER:r+"Asa",ACTION_REMOVE_SKILLS_BEFORE:r+"Rsb",ACTION_REMOVE_SKILLS_AFTER:r+"Rsa",ACTION_VALIDATE_BEFORE:r+"Bv",ACTION_VALIDATE_SUCCESS:r+"Vs",ACTION_VALIDATE_FAIL:r+"Vf",ACTION_EXECUTING_SKILL:r+"Es",ACTION_LEVEL_EXPERIENCE_ADDED:r+"Ea",ACTION_LEVEL_UP:r+"Lu",ACTION_LEVEL_DOWN:r+"Ld",ACTION_LEVEL_APPLY_MODIFIERS:r+"Apm",ACTION_SKILL_BEFORE_IN_RANGE:r+"Bir",ACTION_SKILL_AFTER_IN_RANGE:r+"Air",ACTION_SKILL_BEFORE_EXECUTE:r+"Be",ACTION_SKILL_AFTER_EXECUTE:r+"Ae",ACTION_SKILL_BEFORE_CAST:r+"Bc",ACTION_SKILL_AFTER_CAST:r+"Ac",ACTION_SKILL_ATTACK_APPLY_DAMAGE:r+"Ad",ACTION_SKILL_BEFORE_RUN_LOGIC:r+"Brl",ACTION_SKILL_AFTER_RUN_LOGIC:r+"Arl",ACTION_SKILL_PHYSICAL_ATTACK_HIT:r+"Pah",ACTION_SKILL_PHYSICAL_EFFECT_HIT:r+"Peh",SKILL_STATES:{PHYSICAL_SKILL_INVALID_TARGET:"physicalSkillInvalidTarget",PHYSICAL_SKILL_RUN_LOGIC:"physicalSkillRunLogic",OUT_OF_RANGE:"outOfRange",CAN_NOT_ACTIVATE:"canNotActivate",DODGED:"dodged",APPLYING_DAMAGE:"applyingDamage",APPLIED_DAMAGE:"appliedDamage",APPLIED_CRITICAL_DAMAGE:"appliedCriticalDamage",APPLYING_EFFECTS:"applyingEffects",APPLIED_EFFECTS:"appliedEffects",EXECUTE_PHYSICAL_ATTACK:"executePhysicalAttack",TARGET_NOT_AVAILABLE:"targetNotAvailable"}}},{}],"30zGe":[function(e,t,i,n){let r=e("ccfbf682a19f24a3"),s=e("217efc8565fed517"),{ErrorManager:a,sc:o}=e("89e53d0d03d2ebfc");t.exports=class extends r{async init(e){await super.init(e),o.hasOwn(e,"key")||a.error("Undefined key for class path."),this.key=e.key,this.label=o.hasOwn(e,"label")?e.label:e.key,this.labelsByLevel=!!o.hasOwn(e,"labelsByLevel")&&e.labelsByLevel,this.currentLabel=o.hasOwn(e,"currentLabel")?e.currentLabel:this.getCurrentLabel(),this.skillsByLevel=!!o.hasOwn(e,"skillsByLevel")&&e.skillsByLevel,this.skillsByLevelKeys=this.getSkillsByLevelKeys(),await this.setOwnerSkills(o.get(e,"currentSkills",!1)),this.affectedProperty=o.get(e,"affectedProperty",!1),await this.fireEvent(s.INIT_CLASS_PATH_END,this)}getCurrentLabel(){return o.hasOwn(this.labelsByLevel,this.currentLevel)?this.labelsByLevel[this.currentLevel]:this.loopLevelsForLabel()}loopLevelsForLabel(){let e=this.label;for(let t of Object.keys(this.labelsByLevel))t<=this.currentLevel&&(e=this.labelsByLevel[t]);return e}async levelUp(){let e=this.currentLevel+1;o.hasOwn(this.skillsByLevel,e)&&await this.addSkills(this.skillsByLevel[e]),o.hasOwn(this.labelsByLevel,e)&&(this.currentLabel=this.labelsByLevel[e]),await super.levelUp()}async levelDown(){let e=this.currentLevel-1;o.hasOwn(this.skillsByLevel,e)&&await this.removeSkills(this.skillsByLevel[e]),o.hasOwn(this.labelsByLevel,e)&&(this.currentLabel=this.labelsByLevel[e]),await super.levelDown()}async addSkills(e){for(let t of(await this.fireEvent(s.ADD_SKILLS_BEFORE,this,e),Object.keys(e))){let i=e[t];this.currentSkills[i.key]=i}await this.fireEvent(s.ADD_SKILLS_AFTER,this,e)}async removeSkills(e){for(let t of(await this.fireEvent(s.REMOVE_SKILLS_BEFORE,this,e),e))delete this.currentSkills[t];await this.fireEvent(s.REMOVE_SKILLS_AFTER,this,e)}async setOwnerSkills(e){if(e){this.currentSkills=e;return}for(let e of(this.currentSkills={},Object.keys(this.levels))){let t=this.levels[e];this.skillsByLevel&&o.hasOwn(this.skillsByLevel,t.key)&&t.key<=this.currentLevel&&await this.addSkills(this.skillsByLevel[t.key])}await this.fireEvent(s.SET_SKILLS,this)}getSkillsByLevelKeys(){if(!this.skillsByLevel)return!1;let e={};for(let t of Object.keys(this.skillsByLevel)){let i=this.skillsByLevel[t];for(let n of(o.hasOwn(e,i)||(e[t]=[]),Object.keys(i))){let r=i[n];e[t].push(r.key)}}return e}}},{ccfbf682a19f24a3:"9hL3F","217efc8565fed517":"9PsTy","89e53d0d03d2ebfc":"3lwy5"}],"9hL3F":[function(e,t,i,n){let r=e("c16a85c98eb0e011"),s=e("a02ba4decc8e64ee"),{EventsManagerSingleton:a,ErrorManager:o,Logger:l,sc:h}=e("aece71e8d3833b40");t.exports=class{constructor(e={}){this.events=h.get(e,"events",a),this.owner=h.get(e,"owner",!1)}setOwner(e){h.hasOwn(e,"owner")||o.error("Undefined owner for levels."),"function"!=typeof e.owner.getPosition&&o.error("Undefined owner position method."),this.owner=e.owner,this.ownerIdProperty=h.hasOwn(e,"ownerIdProperty")?e.ownerIdProperty:"id"}async init(e){h.hasOwn(this,"owner")||o.error("Undefined owner for levels."),"function"!=typeof this.owner.getPosition&&o.error("Undefined owner position method."),h.hasOwn(e,"levels")&&Object.keys(e.levels).length||o.error("Levels were not specified."),await this.fireEvent(r.INIT_LEVEL_SET_START,this),this.autoFillRanges=h.get(e,"autoFillRanges",!1),this.autoFillExperienceMultiplier=h.get(e,"autoFillExperienceMultiplier",1.5),this.currentLevel=h.get(e,"currentLevel",0),this.currentExp=h.get(e,"currentExp",0),this.setRequiredExperienceLimit=h.get(e,"setRequiredExperienceLimit",!1),this.levels=await this.setLevels(e.levels),this.increaseLevelsWithExperience=h.get(e,"increaseLevelsWithExperience",!0),this.levelsByExperience=h.get(e,"levelsByExperience",this.sortLevelsBy(this.levels)),await this.fireEvent(r.INIT_LEVEL_SET_END,this)}async setLevels(e){return this.autoFillRanges?await this.createLevels(e):this.levels=e,await this.fireEvent(r.SET_LEVELS,this,e),this.levels}async createLevels(e){this.levels={};let t=Object.keys(e);for(let i of t){let n=e[i];this.levels[i]=n;let r=t.indexOf(i)+1,s=t.length>r&&t[r],a=!1;h.hasOwn(e,s)&&(a=e[s]),h.hasOwn(a,"key")&&a.key-n.key>0&&await this.createAndAutofillLevelsInstances(n,a)}}async createAndAutofillLevelsInstances(e,t){for(let i=e.key+1;i<t.key;i++){let t=Math.round(this.levels[i-1].requiredExperience*this.autoFillExperienceMultiplier),n={key:i,modifiers:e.modifiers,requiredExperience:t};this.levels[i]=new s(n),await this.fireEvent(r.GENERATED_LEVELS,this)}}sortLevelsBy(e,t="key"){return Object.keys(e).sort((i,n)=>e[i][t]>e[n][t]?1:-1)}async levelUp(){let e=Object.keys(this.levels).pop();if(this.currentLevel>=this.levels[e].key)return!1;this.currentLevel++,await this.applyLevelModifiers(),await this.fireEvent(r.LEVEL_UP,this)}async levelDown(){if(1>=this.currentLevel)return!1;await this.applyLevelModifiers(!0),this.currentLevel--,await this.fireEvent(r.LEVEL_DOWN,this)}async applyLevelModifiers(e){let t=this.getLevelInstance(this.currentLevel);if(!t)return l.error(["Current level instance not found.","Current Level Key:",this.currentLevel]),!1;if(await this.fireEvent(r.LEVEL_APPLY_MODIFIERS,this,t),!t.modifiers)return!1;for(let i of t.modifiers)e?i.revert(this.owner):i.apply(this.owner)}getLevelInstance(e){return h.get(this.levels,e,!1)}async addExperience(e){let t=this.currentExp+e,i=this.levelsByExperience.indexOf(this.currentLevel.toString()),n=i+1,s=this.levelsByExperience[n],a=this.levels[s],o=0,l=!1;if(h.hasOwn(this.levels,this.currentLevel)&&a&&t>=a.requiredExperience){for(let e of this.levelsByExperience.slice(n))if(t>=this.levels[e].requiredExperience&&(l=!0,await this.levelUp()),t<this.levels[e].requiredExperience){o=this.levels[e].requiredExperience;break}}let u=l?n+1:n;(!a||u===this.levelsByExperience.length)&&this.setRequiredExperienceLimit&&(t=this.getLevelInstance(this.currentLevel).requiredExperience),this.currentExp=t,await this.fireEvent(r.LEVEL_EXPERIENCE_ADDED,this,e,t,i,n,s,a,o,l)}getNextLevelExperience(){let e=this.levelsByExperience.indexOf(this.currentLevel.toString()),t=this.getLevelInstance(this.currentLevel),i=e+1,n=this.levelsByExperience[i],r=this.getLevelInstance(n);if(!r)return t.requiredExperience;if(r&&this.currentExp<r.requiredExperience||!h.hasOwn(this.levels,this.currentLevel)||!r)return r.requiredExperience;for(let e of this.levelsByExperience.slice(i))if(this.currentExp<this.levels[e].requiredExperience)return this.levels[e].requiredExperience;return r.requiredExperience}getOwnerId(){return this.owner[this.ownerIdProperty]}getOwnerEventKey(){return h.get(this.owner,"eventsPrefix","skills.ownerId."+this.getOwnerId())}getOwnerUniqueEventKey(e){return(h.isFunction(this.owner.eventUniqueKey)?this.owner.eventUniqueKey():"skills.ownerId."+this.getOwnerId()+".uKey."+h.getTime())+(e?"."+e:"")}async fireEvent(e,...t){return await this.events.emit(this.eventFullName(e),...t)}listenEvent(e,t,i,n){return this.events.onWithKey(this.eventFullName(e),t,i,n)}eventFullName(e){return this.getOwnerEventKey()+"."+e}}},{c16a85c98eb0e011:"9PsTy",a02ba4decc8e64ee:"gG8XH",aece71e8d3833b40:"3lwy5"}],gG8XH:[function(e,t,i,n){let{ErrorManager:r,Logger:s,sc:a}=e("faf9f4d0a81cecea");t.exports=class{constructor(e){(!a.hasOwn(e,"key")||isNaN(e.key))&&r.error("Invalid Level key."),(!a.hasOwn(e,"modifiers")||0>=e.modifiers.length)&&s.warning("Level modifiers were not specified.","Level ID:",e.id," - Key:",e.key),this.key=parseInt(e.key),this.modifiers=e.modifiers,this.label=a.get(e,"label",e.key),this.requiredExperience=a.get(e,"requiredExperience",a.get(e,"required_experience",0))}}},{faf9f4d0a81cecea:"3lwy5"}],cBYkx:[function(e,t,i,n){let r=e("1a8b79feac2da9b0"),s=e("867678cea9a9cfca"),{PropertyManager:a,Condition:o,Calculator:l}=e("2b878b9cf457d0fc"),{InteractionArea:h,EventsManagerSingleton:u,ErrorManager:c,Logger:d,sc:f}=e("cfa6f665a4da61d4");t.exports=class{constructor(e){f.hasOwn(e,"key")||c.error("Missing skill key."),f.hasOwn(e,"owner")||c.error("Missing skill owner."),"function"!=typeof e.owner.getPosition&&c.error("Undefined owner position method."),this.key=e.key,this.owner=e.owner,this.ownerIdProperty=f.get(e,"ownerIdProperty","id"),this.type=r.SKILL.TYPE.BASE,this.customData=f.get(e,"customData",!1),this.autoValidation=f.get(e,"autoValidation",!1),this.skillDelay=f.get(e,"skillDelay",0),this.castTime=f.get(e,"castTime",0),this.owner.isCasting=!1,this.owner.castingTimer=!1,this.isValid=!0,this.usesLimit=f.get(e,"usesLimit",0),this.uses=0,this.canActivate=f.get(e,"canActivate",!0),this.range=f.get(e,"range",0),this.skillActivationTimer=!1,this.lastState="",this.groups=f.get(e,"groups",[]),this.lastAppliedModifiers={},this.rangeAutomaticValidation=f.get(e,"rangeAutomaticValidation",!1),this.rangePropertyX=f.get(e,"rangePropertyX",!1),this.rangePropertyY=f.get(e,"rangePropertyY",!1),this.rangeTargetPropertyX=f.get(e,"rangeTargetPropertyX",!1),this.rangeTargetPropertyY=f.get(e,"rangeTargetPropertyY",!1),this.allowSelfTarget=f.get(e,"allowSelfTarget",!1),this.target=f.get(e,"target",!1),this.events=f.get(e,"events",u),this.ownerConditions=f.get(e,"ownerConditions",[]),this.ownerEffects=f.get(e,"ownerEffects",[]),this.criticalChance=f.get(e,"criticalChance",0),this.criticalMultiplier=f.get(e,"criticalMultiplier",1),this.criticalFixedValue=f.get(e,"criticalFixedValue",0),this.propertyManager=new a,this.calculator=new l}validate(){return(this.isValid=!0,this.fireEvent(s.VALIDATE_BEFORE,this).catch(e=>{d.error(e)}),!this.canActivate||this.owner.isCasting)?(this.lastState=r.SKILL_STATES.CAN_NOT_ACTIVATE,!1):!!this.validateConditions()&&(!(0<this.usesLimit)||!(this.uses>=this.usesLimit))&&(0<this.skillDelay?(this.canActivate=!1,this.skillActivationTimer=setTimeout(()=>{this.canActivate=!0},this.skillDelay)):this.canActivate=!0,this.fireEvent(s.VALIDATE_SUCCESS,this).catch(e=>{d.error(e)}),this.isValid)}validateConditions(){for(let e of this.ownerConditions)if(e instanceof o||c.error(["Wrong Condition instance.",typeof e,"was specified."]),!e.isValidOn(this.owner))return this.fireEvent(s.VALIDATE_FAIL,this,e).catch(e=>{d.error(e)}),!1;return!0}validateRange(e){this.rangePropertyX&&this.rangePropertyY||c.error("Missing range properties for validation.");let t={x:this.propertyManager.getPropertyValue(this.owner,this.rangePropertyX),y:this.propertyManager.getPropertyValue(this.owner,this.rangePropertyY)},i={x:this.propertyManager.getPropertyValue(e,this.rangeTargetPropertyX||this.rangePropertyX),y:this.propertyManager.getPropertyValue(e,this.rangeTargetPropertyY||this.rangePropertyY)};return this.isInRange(t,i)}isInRange(e,t){if(this.fireEvent(s.SKILL_BEFORE_IN_RANGE,this).catch(e=>{d.error(e)}),0===this.range)return!0;let i=new h;i.setupInteractionArea(this.range,t.x,t.y);let n=i.isValidInteraction(e.x,e.y);return this.fireEvent(s.SKILL_AFTER_IN_RANGE,this,n).catch(e=>{d.error(e)}),n}async execute(e){if(await this.fireEvent(s.SKILL_BEFORE_EXECUTE,this,e),e&&(this.target=e),this.target||c.error("Target undefined."),!this.onExecuteConditions()||await this.isValidRange(e)||this.autoValidation&&!this.validate())return!1;let t=!1;return this.ownerEffects&&(this.applyModifiers(this.ownerEffects,this.owner,!0),await this.fireEvent(s.SKILL_APPLY_OWNER_EFFECTS,this,e)),0<this.castTime?(await this.fireEvent(s.SKILL_BEFORE_CAST,this,e),this.owner.isCasting=!0,this.owner.castingTimer=setTimeout(()=>{t=this.finishExecution(e),this.owner.isCasting=!1,this.fireEvent(s.SKILL_AFTER_CAST,this,e,t)},this.castTime)):t=await this.finishExecution(e),this.uses++,await this.onExecuteRewards(),await this.fireEvent(s.SKILL_AFTER_EXECUTE,this,e),t}async isValidRange(e){return this.rangeAutomaticValidation&&this.rangePropertyX&&this.rangePropertyY&&!await this.validateRange(e)}async finishExecution(e){await this.fireEvent(s.SKILL_BEFORE_RUN_LOGIC,this,e);let t=await this.runSkillLogic();return await this.fireEvent(s.SKILL_AFTER_RUN_LOGIC,this,e),t}onExecuteConditions(){return!0}async runSkillLogic(){return!0}async onExecuteRewards(){}applyCriticalValue(e){return this.isCritical()&&(this.criticalMultiplier&&(e*=this.criticalMultiplier),this.criticalFixedValue&&(e+=this.criticalFixedValue)),e}getCriticalDiff(e){return this.applyCriticalValue(e)-e}isCritical(){return!(this.criticalChance<=0)&&this.criticalChance<f.randomInteger(1,100)}applyModifiers(e,t,i=!1){for(let n of(this.lastAppliedModifiers={},Object.keys(e))){let r=e[n];r.target=t;let s=r.getModifiedValue();i||(s=this.applyCriticalValue(s)),r.setOwnerProperty(r.propertyKey,s),this.lastAppliedModifiers[r.propertyKey]=s}}getOwnerId(){return this.owner[this.ownerIdProperty]}getOwnerEventKey(){return f.get(this.owner,"eventsPrefix","skill.ownerId."+this.getOwnerId())}getOwnerUniqueEventKey(e){return(f.isFunction(this.owner.eventUniqueKey)?this.owner.eventUniqueKey():"skills.ownerId."+this.getOwnerId()+".uKey."+f.getTime())+(e?"."+e:"")}async fireEvent(e,...t){return await this.events.emit(this.eventFullName(e),...t)}listenEvent(e,t,i,n){return this.events.onWithKey(this.eventFullName(e),t,i,n)}eventFullName(e){return this.getOwnerEventKey()+"."+e}}},{"1a8b79feac2da9b0":"6b010","867678cea9a9cfca":"9PsTy","2b878b9cf457d0fc":"iJUHo",cfa6f665a4da61d4:"3lwy5"}],"3f9O5":[function(e,t,i,n){let r=e("9dba7a1ed3b87f64"),s=e("d7a74c1b6b680357"),a=e("db39812edc044706"),{ErrorManager:o,sc:l,Logger:h}=e("fbb03c16891d35a5");t.exports=class extends r{constructor(e){super(e),this.type=a.SKILL.TYPE.ATTACK,l.get(e,"affectedProperty",!1)||o.error("Missing skill affectedProperty to which the result damage will be applied."),this.affectedProperty=e.affectedProperty,this.allowEffectBelowZero=l.get(e,"allowEffectBelowZero",!1),this.hitDamage=l.hasOwn(e,"hitDamage")?e.hitDamage:0,this.applyDirectDamage=!!l.hasOwn(e,"applyDirectDamage")&&e.applyDirectDamage,this.attackProperties=l.hasOwn(e,"attackProperties")?e.attackProperties:[],this.defenseProperties=l.hasOwn(e,"defenseProperties")?e.defenseProperties:[],this.aimProperties=l.hasOwn(e,"aimProperties")?e.aimProperties:[],this.dodgeProperties=l.hasOwn(e,"dodgeProperties")?e.dodgeProperties:[],this.dodgeFullEnabled=!l.hasOwn(e,"dodgeFullEnabled")||e.dodgeFullEnabled,this.dodgeOverAimSuccess=l.hasOwn(e,"dodgeOverAimSuccess")?e.dodgeOverAimSuccess:1,this.damageAffected=!!l.hasOwn(e,"damageAffected")&&e.damageAffected,this.criticalAffected=!!l.hasOwn(e,"criticalAffected")&&e.criticalAffected,this.propertiesTotalOperators=l.get(e,"propertiesTotalOperators",{})}async runSkillLogic(){return(this.lastState=null,this.validateRange(this.target))?(this.lastState=a.SKILL_STATES.APPLYING_DAMAGE,await this.applyDamageTo(this.target)):(this.lastState=a.SKILL_STATES.OUT_OF_RANGE,!1)}async applyDamageTo(e){if(!e)return this.lastState=a.SKILL_STATES.TARGET_NOT_AVAILABLE,!1;let t=this.getPropertiesTotal(this.owner,this.aimProperties);if(!1===t)return h.debug("Missing owner aim properties.",this.owner),!1;let i=this.getPropertiesTotal(e,this.dodgeProperties);if(!1===i)return h.debug("Missing target dodge properties.",e),!1;if(this.dodgeFullEnabled&&i>t*this.dodgeOverAimSuccess)return this.lastState=a.SKILL_STATES.DODGED,!1;let n=this.getAffectedPropertyValue(e);if(!this.allowEffectBelowZero&&0>=n)return!1;let r=this.getDiffProportion(t,i),o=this.applyDirectDamage?this.hitDamage:this.calculateProportionDamage(e,this.hitDamage,i,t,r);o+=this.calculateCriticalDamage(o,i,t,r);let l=!this.allowEffectBelowZero&&n<o?0:n-o;this.setAffectedPropertyValue(e,l),this.lastState=a.SKILL_STATES.APPLIED_DAMAGE,await this.fireEvent(s.SKILL_ATTACK_APPLY_DAMAGE,this,e,o,l)}calculateCriticalDamage(e,t,i,n){let r=this.getCriticalDiff(e);return!this.criticalAffected||t>i?r:(this.lastState=a.SKILL_STATES.APPLIED_CRITICAL_DAMAGE,r-Math.floor(r*n/100))}calculateProportionDamage(e,t,i,n,r){let s=this.getPropertiesTotal(this.owner,this.attackProperties),a=this.getPropertiesTotal(e,this.defenseProperties),o=s-a;if(o>0){let e=o<a?100*o/a:99,i=Math.ceil((e=e>99?99:e)*t/100);t+=i}if(o<0){let e=-o<s?-(100*o)/s:99,i=Math.floor((e=e>99?99:e)*t/100);t-=i}if(this.damageAffected&&i>n){let e=Math.floor(t*r/100);t-=e}return t}getPropertiesTotal(e,t){if(!e)return h.warning("Missing object to get properties total."),!1;if(0===t.length)return 0;try{let i=0;for(let n of t){let t=this.propertyManager.getPropertyValue(e,n);i=l.hasOwn(this.propertiesTotalOperators,n)?this.calculator.calculateNewValue(i,this.propertiesTotalOperators[n],t):i+t}return i}catch(e){return h.debug(e.message),!1}}getDiffProportion(e,t){return 100*(t-e)/e}getAffectedPropertyValue(e){return this.propertyManager.getPropertyValue(e,this.affectedProperty)}setAffectedPropertyValue(e,t){return this.propertyManager.setOwnerProperty(e,this.affectedProperty,t)}}},{"9dba7a1ed3b87f64":"cBYkx",d7a74c1b6b680357:"9PsTy",db39812edc044706:"6b010",fbb03c16891d35a5:"3lwy5"}],j4v88:[function(e,t,i,n){let r=e("e44f791774823c1"),s=e("2db6f1da8a2a090f"),a=e("7b8b51bc133daece"),{ErrorManager:o,sc:l}=e("fba4e87138a39fd8");t.exports=class extends r{constructor(e){super(e),this.type=a.SKILL.TYPE.EFFECT,l.hasOwn(e,"targetEffects")||o.error("Missing targetEffects for skill."),this.targetEffects=e.targetEffects}async runSkillLogic(){if(this.lastState=null,!this.validateRange(this.target))return this.lastState=a.SKILL_STATES.OUT_OF_RANGE,!1;this.lastState=a.SKILL_STATES.APPLYING_EFFECTS,this.applyModifiers(this.targetEffects,this.target),this.lastState=a.SKILL_STATES.APPLIED_EFFECTS,await this.fireEvent(s.SKILL_EFFECT_TARGET_MODIFIERS,this)}}},{e44f791774823c1:"cBYkx","2db6f1da8a2a090f":"9PsTy","7b8b51bc133daece":"6b010",fba4e87138a39fd8:"3lwy5"}],"8uI2I":[function(e,t,i,n){let r=e("e0c5b517af7e95eb"),{PhysicalPropertiesValidator:s}=e("53bee4a4b8ffb847"),{PhysicalSkillRunner:a}=e("2eeab888db9bf32c"),o=e("816db325f0372799"),l=e("da275099098bc955"),{sc:h}=e("c2948bad11643034");t.exports=class extends r{constructor(e){super(e),this.type=o.SKILL.TYPE.PHYSICAL_ATTACK,this.parentType=o.SKILL.TYPE.ATTACK,s.validate(e),this.magnitude=e.magnitude,this.objectWidth=e.objectWidth,this.objectHeight=e.objectHeight,this.validateTargetOnHit=h.get(e,"validateTargetOnHit",!1)}async runSkillLogic(){return a.runSkillLogic(this)}async executeOnHit(e){return a.executeOnHit(e,this,l.SKILL_PHYSICAL_ATTACK_HIT,e=>{super.runSkillLogic(e)})}}},{e0c5b517af7e95eb:"3f9O5","53bee4a4b8ffb847":"1WOg9","2eeab888db9bf32c":"15hwT","816db325f0372799":"6b010",da275099098bc955:"9PsTy",c2948bad11643034:"3lwy5"}],"1WOg9":[function(e,t,i,n){let{ErrorManager:r,sc:s}=e("35abe0003c2a362d");t.exports.PhysicalPropertiesValidator=class{static validate(e){"function"!=typeof e.owner.executePhysicalSkill&&r.error("Missing executePhysicalSkill required method."),s.hasOwn(e,"magnitude")||r.error("Missing magnitude property."),s.hasOwn(e,"objectWidth")||r.error("Missing objectWidth property."),s.hasOwn(e,"objectHeight")||r.error("Missing objectHeight property.")}}},{"35abe0003c2a362d":"3lwy5"}],"15hwT":[function(e,t,i,n){let r=e("633d3b21cd84c369");t.exports.PhysicalSkillRunner=class{static async runSkillLogic(e){return(this.lastState=null,e.validateRange(e.target))?(this.lastState=r.SKILL_STATES.EXECUTE_PHYSICAL_ATTACK,await e.owner.executePhysicalSkill(e.target,e)):this.lastState=r.SKILL_STATES.OUT_OF_RANGE,!1}static async executeOnHit(e,t,i,n){return(await t.fireEvent(i,t,e),t.validateTargetOnHit&&e!==t.target)?(this.lastState=r.SKILL_STATES.PHYSICAL_SKILL_INVALID_TARGET,!1):"function"==typeof n&&(this.lastState=r.SKILL_STATES.PHYSICAL_SKILL_RUN_LOGIC,await n(e))}}},{"633d3b21cd84c369":"6b010"}],eaAf1:[function(e,t,i,n){let r=e("d5317b62b21ebf53"),{PhysicalPropertiesValidator:s}=e("161757e13fa22e4c"),{PhysicalSkillRunner:a}=e("63a7f8ae8a1c8d9b"),o=e("1ec320fdf9897900"),l=e("366775bdaf1fe082"),{sc:h}=e("456bc4241930a2a9");t.exports=class extends r{constructor(e){super(e),this.type=o.SKILL.TYPE.PHYSICAL_EFFECT,this.parentType=o.SKILL.TYPE.EFFECT,s.validate(e),this.magnitude=e.magnitude,this.objectWidth=e.objectWidth,this.objectHeight=e.objectHeight,this.validateTargetOnHit=h.get(e,"validateTargetOnHit",!1)}async runSkillLogic(){return a.runSkillLogic(this)}async executeOnHit(e){return a.executeOnHit(e,this,l.SKILL_PHYSICAL_EFFECT_HIT,e=>{super.runSkillLogic(e)})}}},{d5317b62b21ebf53:"j4v88","161757e13fa22e4c":"1WOg9","63a7f8ae8a1c8d9b":"15hwT","1ec320fdf9897900":"6b010","366775bdaf1fe082":"9PsTy","456bc4241930a2a9":"3lwy5"}],"8UAfY":[function(e,t,i,n){let{ReceiverWrapper:r}=e("ef6a621c01cb83eb"),{Logger:s}=e("98a4859089d226b3");t.exports.GameManagerEnricher=class{static withReceiver(e,t,i){if(!e||!t||!i)return s.error("Invalid input parameters for GameManagerEnricher.withReceiver method."),!1;if(e?.playerId!==t?.room.sessionId||(i.skills||(i.skills=new r({owner:e,roomEvents:t,events:i.events})),!i.skillsQueue?.length))return!1;for(let e of i.skillsQueue)i.skills.processMessage(e);i.skillsQueue=[]}}},{ef6a621c01cb83eb:"2UdYd","98a4859089d226b3":"3lwy5"}],"2UdYd":[function(e,t,i,n){let{Receiver:r}=e("85b5f6fb1bc36f5a"),{Logger:s,sc:a}=e("4dcc11df2027f27a"),{GameConst:o}=e("f827a112a3b038fa"),{ActionsConst:l}=e("158b7279cb7b4e52");t.exports.ReceiverWrapper=class extends r{constructor(e){super(e),this.events=a.get(e,"events",!1),this.events||s.error("EventsManager undefined in ReceiverWrapper."),this.gameManager=a.get(e.roomEvents,"gameManager",!1),this.gameManager||s.error("Game Manager undefined in ReceiverWrapper."),this.room=a.get(e.roomEvents,"room",!1),this.room||s.error("Room undefined in ReceiverWrapper."),this.translator=this.gameManager?.services?.translator}processMessage(e){if(!this.gameManager)return!1;let t=this.gameManager.getActiveScene();if(!t||!t.player)return!1;super.processMessage(e),this.playAttackOrEffectAnimation(e,t),this.playHitAnimation(e,t)}playHitAnimation(e,t){-1!==e.act.indexOf("_hit")&&this.runHitAnimation(e.x,e.y,t,e.act)}playAttackOrEffectAnimation(e,t){let i=-1!==e.act.indexOf("_eff");if(!(-1!==e.act.indexOf("_atk"))&&!i)return;this.events.emitSync("reldens.playerAttack",e,this.room);let n=i?"_eff":"_atk",r=e.act.substring(0,e.act.indexOf(n)),{ownerSprite:s,targetSprite:o,targetType:l}=this.extractOwnerTargetAndType(t,e),h=a.get(this.gameManager.config.client.skills.animations,r,"default"+n);if(s&&t.getAnimationByKey(h)){let e=t.physics.add.sprite(s.x,s.y,h);e.setDepth(2e5);let i="";a.hasOwn(this.gameManager.gameEngine.uiScene.directionalAnimations,h)&&(i=3===this.gameManager.gameEngine.uiScene.directionalAnimations[h]?s.x<o.x?"_right":"_left":s.y<o.y?"_down":"_up"),e.anims.play(h+i,!0).on("animationcomplete",()=>{e.destroy()})}o&&this.runHitAnimation(o.x,o.y,t,r+"_hit",e.target,l)}extractOwnerTargetAndType(e,t){if(!e)return s.critical("Current scene not found.",e,t),!1;let i=!1,n=!1,r=l.DATA_TYPE_VALUE_PLAYER,o=e.player.players,h=e.objectsAnimations;return a.hasOwn(o,t.owner)&&a.hasOwn(o,t.target)?{ownerSprite:i=o[t.owner],targetSprite:n=o[t.target],targetType:r}:(a.hasOwn(h,t.owner)&&(i=h[t.owner].sceneSprite,n=o[t.target]),a.hasOwn(h,t.target)&&(n=h[t.target].sceneSprite,i=o[t.owner],r=l.DATA_TYPE_VALUE_OBJECT),{ownerSprite:i,targetSprite:n,targetType:r})}runHitAnimation(e,t,i,n,r,s){let o=this.gameManager.config.client.skills.animations,h=a.hasOwn(o,n)?n:l.DEFAULT_HIT_ANIMATION_KEY;if(!i.getAnimationByKey(h)||!a.hasOwn(o,h))return!1;let u=!1,c=!1;s===l.DATA_TYPE_VALUE_PLAYER&&(c=(u=this.gameManager.getCurrentPlayer().players[r]).playerId),s===l.DATA_TYPE_VALUE_OBJECT&&(u=i.objectsAnimations[r],c=r);let d=i.physics.add.sprite(e,t,h);(d=this.setTargetSpriteDepth(u,h,c,d,o)).anims.play(h,!0).on("animationcomplete",()=>{d.destroy(),u&&a.hasOwn(u,"moveSprites")&&delete u.moveSprites[h+"_"+c]})}setTargetSpriteDepth(e,t,i,n,r){if(!e)return n.setDepth(3e5),n;a.hasOwn(e,"targetSprite")&&(e.moveSprites[t+"_"+i]=n);let s=r[t],o=e.depth+("above"===a.get(s.animationData,"depthByPlayer","")?100:-.1);return n.depthByPlayer=s.animationData.depthByPlayer,n.setDepth(o),n}updateLevelAndExperience(e){this.gameManager.gameDom.updateContent(l.SELECTORS.LEVEL_LABEL,this.translator.t(l.SNIPPETS.LEVEL,{currentLevel:e.data[l.MESSAGE.DATA.LEVEL]})),this.onLevelExperienceAdded(e);let t=e.data[l.MESSAGE.DATA.CLASS_PATH_LABEL];t&&this.gameManager.gameDom.updateContent(l.SELECTORS.CLASS_PATH_LABEL,this.translator.t(l.SNIPPETS.CLASS_PATH_LABEL,{classPathLabel:t}));let i=e.data[l.MESSAGE.DATA.NEXT_LEVEL_EXPERIENCE];i&&this.gameManager.gameDom.updateContent(l.SELECTORS.NEXT_LEVEL_EXPERIENCE,this.translator.t(l.SNIPPETS.NEXT_LEVEL_EXPERIENCE,{nextLevelExperience:i}))}onInitClassPathEnd(e){if(this.gameManager.skills&&this.gameManager.skills.uiCreated)return!1;this.gameManager.skills.uiCreated=!0,this.updateLevelAndExperience(e),this.gameManager.skills.skills=e.data[l.MESSAGE.DATA.SKILL_LEVEL],this.gameManager.getFeature("actions").uiManager.appendSkills(e.data.skl)}onLevelUp(e){this.updateLevelAndExperience(e),a.hasOwn(e.data,"skl")&&(Object.assign(this.gameManager.skills.skills,e.data.skl),this.gameManager.getFeature("actions").uiManager.appendSkills(e.data.skl));let t=this.getLevelUpAnimationKey(e.data.skl);t&&this.playSkillPlayerAnimation(this.gameManager.getCurrentPlayer().playerId,t)}getLevelUpAnimationKey(e){let t=this.gameManager.config.client.levels.animations,i="level_"+this.gameManager.playerData.avatarKey+"_"+e;if(a.hasOwn(t,i))return i;let n="level_"+this.gameManager.playerData.avatarKey;if(a.hasOwn(t,n))return n;let r="level_"+e;return a.hasOwn(t,r)?r:!!a.hasOwn(t,"level_default")&&"level_default"}onLevelExperienceAdded(e){this.gameManager.gameDom.updateContent(l.SELECTORS.CURRENT_EXPERIENCE,this.translator.t(l.SNIPPETS.EXPERIENCE,{experience:e.data[l.MESSAGE.DATA.EXPERIENCE]}))}onSkillBeforeCast(e){this.playSkillPlayerAnimation(e.data.extraData[l.DATA_OWNER_KEY],this.determineCastKey(e))}determineCastKey(e){let t=e.data.skillKey+"_cast";return a.hasOwn(this.gameManager.config.client.skills.animations,t)?t:"default_cast"}playSkillPlayerAnimation(e,t){let i=this.gameManager.getActiveScene(),n=i.getAnimationByKey(t);if(!n)return -1===t.indexOf("default")&&s.error('Animation sprite not found for "'+t+'".',this.gameManager.config.client.skills.animations),!1;let r=this.gameManager.getCurrentPlayer().players[e],o=r.x,l=r.y,h=i.physics.add.sprite(o,l,t),u=a.hasOwn(n,"depthByPlayer")&&"above"===n.depthByPlayer?r.depth+1:r.depth-.1;h.depthByPlayer=n.depthByPlayer,h.setDepth(u),a.get(n,"blockMovement",!1)||(r.moveSprites[t+"_"+r.playerId]=h),h.anims.play(t,!0);let c=a.get(n,"destroyTime",!1);c&&setTimeout(()=>{h.destroy(),delete r.moveSprites[t+"_"+r.playerId]},c)}onSkillAfterCast(e){let t=this.gameManager.getCurrentPlayer();if(!a.hasOwn(e.data.extraData,l.DATA_OWNER_TYPE)||!a.hasOwn(e.data.extraData,l.DATA_OWNER_KEY)||e.data.extraData[l.DATA_OWNER_TYPE]!==l.DATA_TYPE_VALUE_PLAYER||!a.hasOwn(t.players,e.data.extraData[l.DATA_OWNER_KEY]))return!1;let i=this.gameManager.getActiveScene(),n=this.gameManager.getCurrentPlayer().players[e.data.extraData[l.DATA_OWNER_KEY]],r=this.getPlayDirection(e.data.extraData,n,t,i);r&&(n.anims.play(n.avatarKey+"_"+r,!0),n.anims.stop())}onSkillAttackApplyDamage(e){let t=this.gameManager.config.get("client/actions/damage");if(!t.enabled)return!1;let i=this.gameManager.getCurrentPlayer();if(!t.showAll&&e.data.extraData[l.DATA_OWNER_KEY]!==i.playerId)return!1;let n=this.gameManager.getActiveScene(),r=n.getObjectFromExtraData(l.DATA_OBJECT_KEY_TARGET,e.data.extraData,i);if(!r)return!1;n.createFloatingText(r.x,r.y,e.data.d,t.color,t.font,t.fontSize,t.duration,t.top,t.stroke,t.strokeThickness,t.shadowColor)}getPlayDirection(e,t,i,n){let r=!1,s=n.getObjectFromExtraData(l.DATA_OBJECT_KEY_TARGET,e,i);if(!s)return!1;let a=s.x-t.x,h=s.y-t.y;return r=a>=0?o.RIGHT:o.LEFT,Math.abs(a)<Math.abs(h)&&(r=h>=0?o.DOWN:o.UP),r}}},{"85b5f6fb1bc36f5a":"aF25l","4dcc11df2027f27a":"3lwy5",f827a112a3b038fa:"7Qdd3","158b7279cb7b4e52":"4omVM"}],"9VzyZ":[function(e,t,i,n){t.exports={actions:{selectClassPath:"Select Your Class-Path",currentLevel:"Level %currentLevel",experience:"%experience",experienceLabel:"XP",classPathLabel:"%classPathLabel",nextLevelExperience:"%nextLevelExperience"}}},{}],kfhaD:[function(e,t,i,n){let{LifebarUi:r}=e("4884f11b075b66ea"),{PlayerStatsUi:s}=e("3f79c9046c35f178"),{ActionsConst:a}=e("674e49489e51556c"),{GameConst:o}=e("a2e74f825a350c56"),l=e("13407cdee0cc1fb5"),{TranslationsMapper:h}=e("8132da4e97588b49"),{UsersConst:u}=e("b40b9d44591fbc8d"),{PluginInterface:c}=e("9762c449204f05e7"),{Logger:d,sc:f}=e("b18ec97bd329135d");t.exports.UsersPlugin=class extends c{setup(e){this.gameManager=f.get(e,"gameManager",!1),this.events=f.get(e,"events",!1),this.initialGameData={},this.validateProperties()&&(this.setTranslations(),this.listenEvents(),this.setupPlayerStatsUi())}validateProperties(){return this.gameManager?!!this.events||(d.error("EventsManager undefined in UsersPlugin."),!1):(d.error("Game Manager undefined in UsersPlugin."),!1)}setupPlayerStatsUi(){this.playerStatsUi=new s({events:this.events}),this.playerStatsUi.createPlayerStatsUi()}listenEvents(){this.events.on("reldens.beforeCreateEngine",(e,t)=>{this.initialGameData=e,this.onBeforeCreateEngine(e,t),this.lifeBarUi||(this.lifeBarUi=new r({events:this.events}),this.lifeBarUi.createLifeBarUi(t))})}setTranslations(){if(!this.events||!this.gameManager)return!1;h.forConfig(this.gameManager.config.client,l,u.MESSAGE.DATA_VALUES)}onBeforeCreateEngine(e,t){let i=t.config.get("client/players/multiplePlayers/enabled",!1),n=t.config.get("client/rooms/selection/allowOnLogin",!1),r=f.isTrue(e,"players")?Object.keys(e.players).length:0;if(0<r&&!i&&!n){e.player=e.players[0];return}t.canInitEngine=!1;let s=t.gameDom.getElement(o.SELECTORS.PLAYER_SELECTION);if(s.classList.remove("hidden"),!i&&1===r){this.prepareSinglePlayerInput(s,e,t);return}i&&0<r&&this.preparePlayerSelector(s,e,t),this.preparePlayerCreator(s,e,t)}prepareSinglePlayerInput(e,t,i){let n=i.gameDom.getElement(o.SELECTORS.PLAYER_SELECTION_FORM),r=t.player;if(!n||!r)return d.error("Form or player not defined in prepareSinglePlayerInput."),!1;i.gameDom.getElement(o.SELECTORS.PLAYER_SELECT_ELEMENT)?.remove();let s=this.gameManager.services.translator.t(u.SNIPPETS.OPTION_LABEL,{playerName:r.name,currentLevel:r.currentLevel,classPathLabel:r.currentClassPathLabel}),a=i.gameDom.createElement("input");a.type="hidden",a.id=o.SELECTORS.PLAYER_SELECT_ELEMENT,a.value=r.id;let l=i.gameDom.createElement("div");l.innerText=s,n.append(a);let h=i.gameDom.getElement(".player-select-box");h?.append(l),n.addEventListener("submit",t=>(t.preventDefault(),e.classList.add("hidden"),this.submitSelectedPlayer(i,n,a,r),!1)),this.showAvatarContainer(i,t,a),n.classList.remove("hidden")}submitSelectedPlayer(e,t,i,n){e.events.emitSync("reldens.onPrepareSinglePlayerSelectorFormSubmit",{usersPlugin:this,form:t,selectElement:i,player:n,gameManager:e}),e.initEngine().catch(e=>{d.error(e)})}showAvatarContainer(e,t,i){let n=e.gameDom.getElement(o.SELECTORS.PLAYER_SELECTION_ADDITIONAL_INFO);if(!n||!this.gameManager.config.getWithoutLogs("client/players/multiplePlayers/showAvatar",!0))return;let r=e.gameDom.createElement("div");r.className="avatar-container";let s=e.gameDom.createElement("div"),a=t.player.avatarKey;s.classList.add("class-path-select-avatar"),s.style.backgroundImage=`url('/assets/custom/sprites/${a}${o.FILES.EXTENSIONS.PNG}')`;let l=this.gameManager.config.getWithoutLogs("client/players/size/width","0")+"px";s.style.backgroundPositionX="-"+l,s.style.width=l,s.style.height=this.gameManager.config.getWithoutLogs("client/players/size/height","0")+"px",r.append(s),n.append(r)}preparePlayerSelector(e,t,i){let n=i.gameDom.getElement(o.SELECTORS.PLAYER_SELECTION_FORM),r=i.gameDom.getElement(o.SELECTORS.PLAYER_SELECT_ELEMENT);if(!n||!r)return!1;for(let e of(n.addEventListener("submit",e=>{e.preventDefault();let s=r.options[r.selectedIndex].value,a=this.getPlayerById(t.players,Number(s));if(a){let e=n.querySelector(o.SELECTORS.LOADING_CONTAINER);e&&e?.classList.remove(o.CLASSES.HIDDEN),i.initialGameData.player=a,i.events.emitSync("reldens.onPreparePlayerSelectorFormSubmit",{usersPlugin:this,form:n,select:r,selectedPlayer:a,gameManager:i}),i.initEngine().catch(e=>{d.error(e)})}return!1}),Object.keys(t.players))){let i=t.players[e],n=new Option(this.gameManager.services.translator.t(u.SNIPPETS.OPTION_LABEL,{playerName:i.name,currentLevel:i.currentLevel,classPathLabel:i.currentClassPathLabel}),i.id);n.dataset.key=i.avatarKey,r.append(n)}this.showAvatarContainer(i,t,r),n.classList.remove("hidden")}preparePlayerCreator(e,t,i){let n=i.gameDom.getElement(a.SELECTORS.PLAYER_CREATE_FORM);n&&n.addEventListener("submit",e=>{e.preventDefault(),i.gameDom.getElement("#player-create-form .response-error").innerHTML="";let t=new FormData(n),r=f.serializeFormData(t);if(3>r["new-player-name"].toString().length)return!1;i.submitedForm=!0,i.events.emitSync("reldens.onPreparePlayerCreationFormSubmit",{usersPlugin:this,form:n,gameManager:i});try{i.gameRoom.send("*",{act:o.CREATE_PLAYER,formData:r})}catch(e){d.critical("Create player error.",e),i.gameDom.alertReload(i.services.translator.t("game.errors.connectionLost"))}return!1})}getPlayerById(e,t){if(0===e.length)return!1;for(let i of e)if(i.id===t)return i;return!1}}},{"4884f11b075b66ea":"1zSjx","3f79c9046c35f178":"eBvRr","674e49489e51556c":"4omVM",a2e74f825a350c56:"7Qdd3","13407cdee0cc1fb5":"8qbgn","8132da4e97588b49":"hgeoj",b40b9d44591fbc8d:"gkvPg","9762c449204f05e7":"jorwg",b18ec97bd329135d:"3lwy5"}],"1zSjx":[function(e,t,i,n){let{UsersConst:r}=e("f7fb9e778df1ad65"),{ActionsConst:s}=e("879f80e873cb79af"),{GameConst:a}=e("cd291612d478124"),{ObjectsConst:o}=e("400f53691795e348"),{ObjectsHandler:l}=e("b09b37f3a649897"),{sc:h}=e("852ef9687b71167f");t.exports.LifebarUi=class{constructor(e){this.events=e.events}createLifeBarUi(e){return this.barConfig=e.config.get("client/ui/lifeBar"),!!this.barConfig.enabled&&(this.gameManager=e,this.fixedPositionX=!1,this.fixedPositionY=!1,this.barProperty=this.gameManager.config.get("client/actions/skills/affectedProperty"),this.playerSize=this.gameManager.config.get("client/players/size"),this.lifeBars={},this.lifeDataByKey={},this.listenEvents(),this)}listenEvents(){this.events.on("reldens.playerStatsUpdateAfter",(e,t)=>{this.updatePlayerLifeBar(e,t)}),this.events.on("reldens.joinedRoom",e=>{this.listenMessages(e)}),this.events.on("reldens.runPlayerAnimation",(e,t)=>{this.drawPlayerLifeBar(t)}),this.events.on("reldens.updateGameSizeBefore",(e,t,i)=>{this.drawOnGameResize(t,i)}),this.events.on("reldens.playersOnRemove",(e,t)=>{this.removePlayerLifeBar(t)}),this.events.on("reldens.playerEngineAddPlayer",()=>{this.processLifeBarQueue()}),this.events.on("reldens.createAnimationAfter",()=>{l.drawObjectsLifeBar(this)}),this.events.on("reldens.objectBodyChanged",e=>{l.generateObjectLifeBar(e.key,this)}),this.events.on("reldens.gameEngineShowTarget",(e,t,i)=>{this.showTargetLifeBar(t,i)}),this.events.on("reldens.gameEngineClearTarget",(e,t)=>{this.clearPreviousBar(t)})}drawOnGameResize(e,t){if(!this.barConfig.fixedPosition)return!1;this.setPlayerLifeBarFixedPosition(e,t),this.drawPlayerLifeBar(this.gameManager.getCurrentPlayer().playerId)}clearPreviousBar(e){e&&h.hasOwn(this.lifeBars,e.id)&&this.gameManager.getCurrentPlayer().playerId!==e.id&&this.lifeBars[e.id].destroy()}showTargetLifeBar(e,t){if(!this.barConfig.showOnClick)return!1;this.clearPreviousBar(t),e.type===o.TYPE_OBJECT&&l.generateObjectLifeBar(e.id,this),e.type===a.TYPE_PLAYER&&this.drawPlayerLifeBar(e.id)}barPropertyValue(){return this.barProperty+"Value"}barPropertyTotal(){return this.barProperty+"Total"}setPlayerLifeBarFixedPosition(e,t){if(!e||!t){let i=this.gameManager.gameEngine.getCurrentScreenSize(this.gameManager);e=i.newWidth,t=i.newHeight}let{uiX:i,uiY:n}=this.gameManager.gameEngine.uiScene.getUiConfig("lifeBar",e,t);this.fixedPositionX=i,this.fixedPositionY=n}updatePlayerLifeBar(e,t){let i=t.gameManager.getCurrentPlayer();this.updatePlayerBarData(i.playerId,e.statsBase[this.barProperty],e.stats[this.barProperty]),this.drawPlayerLifeBar(i.playerId)}listenMessages(e){e.onMessage("*",e=>{this.listenBattleEnd(e),this.listenLifeBarUpdates(e)})}listenBattleEnd(e){if(e.act!==s.BATTLE_ENDED||!h.hasOwn(this.lifeBars,e.t))return!1;this.lifeBars[e.t].destroy()}listenLifeBarUpdates(e){if(e.act!==r.ACTION_LIFEBAR_UPDATE)return!1;l.processObjectLifeBarMessage(e,!0,this),this.processPlayerLifeBarMessage(e,!0)}canShowPlayerLifeBar(e){let t=this.gameManager.getCurrentPlayer();if(!h.isFunction(t?.isDeath))return!1;let i=e===t?.playerId;return i&&t&&(t.isDeath()||t.isDisabled())?(this.lifeBars[e]?.setVisible(!1),!1):!!i||!!this.barConfig.showAllPlayers||this.barConfig.showOnClick&&e===this.getCurrentTargetId()}queueLifeBarMessage(e){h.hasOwn(this.gameManager,"lifeBarQueue")||(this.gameManager.lifeBarQueue=[]),this.gameManager.lifeBarQueue.push(e)}processPlayerLifeBarMessage(e,t=!1){if(s.DATA_TYPE_VALUE_PLAYER!==e[s.DATA_OWNER_TYPE])return!1;let i=this.gameManager.getCurrentPlayer(),n=e[s.DATA_OWNER_KEY];return i&&i.players&&i.players[n]?(this.updatePlayerBarData(n,e.totalValue,e.newValue),this.canShowPlayerLifeBar(n)&&this.drawPlayerLifeBar(n),!0):(t&&this.queueLifeBarMessage(e),!1)}updatePlayerBarData(e,t,i){let n=this.gameManager.getCurrentPlayer();n.players[e][this.barPropertyTotal()]=t,n.players[e][this.barPropertyValue()]=i}processLifeBarQueue(){if(0===this.gameManager.lifeBarQueue.length)return!1;let e=[];for(let t of this.gameManager.lifeBarQueue)l.processObjectLifeBarMessage(t,!1,this)&&e.push(t),this.processPlayerLifeBarMessage(t,!1)&&e.push(t);0<e.length&&(this.gameManager.lifeBarQueue=this.gameManager.lifeBarQueue.filter(t=>!e.includes(t)))}drawPlayerLifeBar(e){if(this.destroyByKey(e),!this.canShowPlayerLifeBar(e))return this.lifeBars[e]?.setVisible(!1),!1;let t=this.prepareBarData(e),i=this.barConfig.height,n=this.barConfig.top,r=this.barConfig.width,s=t.player.x-r/2,a=t.player.y-i-n+t.ownerTop/2;return e===this.gameManager.getCurrentPlayer().playerId&&this.barConfig.fixedPosition?(this.lifeBars[e]=this.gameManager.getActiveScenePreloader().add.graphics(),(!1===this.fixedPositionX||!1===this.fixedPositionY)&&this.setPlayerLifeBarFixedPosition(),s=this.fixedPositionX,a=this.fixedPositionY):this.lifeBars[e]=this.gameManager.getActiveScene().add.graphics(),this.drawBar(this.lifeBars[e],t.fullValue,t.filledValue,s,a),this}destroyByKey(e){h.hasOwn(this.lifeBars,e)&&this.lifeBars[e].destroy()}prepareBarData(e){let t=this.gameManager.getCurrentPlayer().players[e],i=t[this.barPropertyTotal()],n=t[this.barPropertyValue()],r=h.get(t,"topOff",0)-this.playerSize.height;return{player:t,fullValue:i,filledValue:n,ownerTop:r}}removePlayerLifeBar(e){if(!h.hasOwn(this.lifeBars,e))return!1;this.lifeBars[e].destroy(),delete this.lifeBars[e]}drawBar(e,t,i,n,r){let s=this.barConfig.height,a=this.barConfig.width;e.clear(),e.fillStyle(parseInt(this.barConfig.fillStyle),1),e.fillRect(n,r,i*a/t,s),e.lineStyle(1,parseInt(this.barConfig.lineStyle)),e.strokeRect(n,r,a,s),e.alpha=.6,e.setDepth(3e5)}getCurrentTargetId(){return h.get(this.gameManager.getCurrentPlayer()?.currentTarget,"id",!1)}getObjectByKey(e){return h.get(this.gameManager.getActiveScene()?.objectsAnimations,e,!1)}}},{f7fb9e778df1ad65:"gkvPg","879f80e873cb79af":"4omVM",cd291612d478124:"7Qdd3","400f53691795e348":"8k4Rg",b09b37f3a649897:"9UhgB","852ef9687b71167f":"3lwy5"}],gkvPg:[function(e,t,i,n){let r="users.";t.exports.UsersConst={ACTION_LIFEBAR_UPDATE:"alu",SNIPPETS:{PREFIX:r,OPTION_LABEL:r+"optionLabel"},MESSAGE:{DATA_VALUES:{NAMESPACE:"users"}}}},{}],"9UhgB":[function(e,t,i,n){let{ActionsConst:r}=e("c554ff8c96b8723a"),{GameConst:s}=e("3cad0fd004bd2a29");t.exports.ObjectsHandler=class{static processObjectLifeBarMessage(e,t=!1,i){if(!this.isValidMessage(e,i))return!1;let n=e[r.DATA_OWNER_KEY],s={};s[i.barPropertyTotal()]=e.totalValue,s[i.barPropertyValue()]=e.newValue,i.lifeDataByKey[n]=s;let a=i.getObjectByKey(n);return a?(this.drawObjectLifeBar(a,e[r.DATA_OWNER_KEY],e.totalValue,e.newValue,i),!0):(t&&i.queueLifeBarMessage(e),!1)}static isValidMessage(e,t){return r.DATA_TYPE_VALUE_OBJECT===e[r.DATA_OWNER_TYPE]&&t.barConfig.showEnemies}static drawObjectsLifeBar(e){for(let t of Object.keys(e.lifeDataByKey)){let i=e.getObjectByKey(t);this.drawObjectLifeBar(i,t,e.lifeDataByKey[t][e.barPropertyTotal()],e.lifeDataByKey[t][e.barPropertyValue()],e)}}static isValidToDraw(e,t,i){return!!e&&s.STATUS.DEATH!==e.inState&&s.STATUS.DISABLED!==e.inState&&!(i.barConfig.showOnClick&&t!==i.getCurrentTargetId())}static generateObjectLifeBar(e,t){let i=t.lifeDataByKey[e];if(!i)return!1;let n=t.getObjectByKey(e);this.drawObjectLifeBar(n,e,i[t.barPropertyTotal()],i[t.barPropertyValue()],t)}static drawObjectLifeBar(e,t,i,n,r){if(r.destroyByKey(t),!this.isValidToDraw(e,t,r))return!1;this.drawLifeBarInPosition(r,t,e,i,n)}static drawLifeBarInPosition(e,t,i,n,r){e.lifeBars[t]=e.gameManager.getActiveScene().add.graphics();let{x:s,y:a}=this.calculateObjectLifeBarPosition(i,e);e.drawBar(e.lifeBars[t],n,r,s,a)}static calculateObjectLifeBarPosition(e,t){return{x:e.x-e.sceneSprite.width/2,y:e.y-e.sceneSprite.height/2-t.barConfig.height-t.barConfig.top}}}},{c554ff8c96b8723a:"4omVM","3cad0fd004bd2a29":"7Qdd3"}],eBvRr:[function(e,t,i,n){t.exports.PlayerStatsUi=class{constructor(e){this.events=e.events}createPlayerStatsUi(){this.events.on("reldens.beforePreloadUiScene",e=>{if(!e.gameManager.config.get("client/ui/playerStats/enabled"))return!1;e.load.html("playerStats","/assets/html/ui-player-stats.html"),e.load.html("playerStat","/assets/html/player-stat.html")}),this.events.on("reldens.beforeCreateUiScene",e=>{let t=e.getUiConfig("playerStats");if(!t.enabled)return!1;let i=e.add.dom(t.uiX,t.uiY).createFromCache("playerStats"),n=i.getChildByProperty("id","player-stats-close"),r=i.getChildByProperty("id","player-stats-open");r?.addEventListener("click",()=>{let t=i.getChildByProperty("id","player-stats-ui");t.style.display="block",r.style.display="none",i.setDepth(4),this.events.emit("reldens.openUI",{ui:this,openButton:r,dialogBox:i,dialogContainer:t,uiScene:e})}),n?.addEventListener("click",()=>{let t=i.getChildByProperty("id","player-stats-ui");t.style.display="none",r&&(r.style.display="block"),i.setDepth(1),this.events.emit("reldens.closeUI",{ui:this,closeButton:n,openButton:r,dialogBox:i,dialogContainer:t,uiScene:e})}),e.elementsUi.playerStats=i})}}},{}],"8qbgn":[function(e,t,i,n){t.exports={users:{optionLabel:"%playerName - LvL %currentLevel - %classPathLabel"}}},{}],"4qLtm":[function(e,t,i,n){let{AudioManager:r}=e("f0889e1805ac30ae"),{SceneAudioPlayer:s}=e("fa2abd3e6fef423e"),{MessagesListener:a}=e("db53c1900c602955"),{AudioUi:o}=e("2762c14d95e654ec"),{TranslationsMapper:l}=e("e7efea8d47baf6a9"),h=e("11e948f4d8656d91"),{PluginInterface:u}=e("2644ab6cd69ea38d"),{AudioConst:c}=e("b8ecbb176547e3f6"),{Logger:d,sc:f}=e("78fc36a78c9f343a");t.exports.AudioPlugin=class extends u{setup(e){this.events=f.get(e,"events",!1),this.events||d.error("EventsManager undefined in AudioPlugin."),this.gameManager=f.get(e,"gameManager",!1),this.gameManager||d.error("Game Manager undefined in AudioPlugin."),this.setTranslations(),this.messagesListener=new a,this.sceneAudioPlayer=s,this.initialAudiosData={},this.listenEvents()}setTranslations(){if(!this.gameManager)return!1;l.forConfig(this.gameManager.config.client,h,c.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events)return!1;this.events.on("reldens.joinedRoom",(e,t)=>{this.initializeAudioManager(t),this.messagesListener.listenMessages(e,t)}),this.events.on("reldens.preloadUiScene",async e=>{e.load.html("audio","/assets/html/ui-audio.html"),e.load.html("audio-category","/assets/html/ui-audio-category-row.html")}),this.events.on("reldens.createUiScene",e=>{this.uiManager=new o(e),this.uiManager.createUi()}),this.events.on("reldens.afterSceneDynamicCreate",async e=>{let t=e.gameManager.audioManager;if(!t)return d.warning("Audio manager undefined in AudioPlugin."),!1;let i=f.get(this.initialAudiosData,"globalAudios",{});await t.loadGlobalAudios(i,e),await this.messagesListener.processQueue(),this.sceneAudioPlayer.associateSceneAnimationsAudios(t,e),e.cameras.main.on("camerafadeincomplete",()=>{this.sceneAudioPlayer.playSceneAudio(t,e)})}),this.events.on("reldens.changeSceneDestroyPrevious",e=>{e.gameManager.audioManager.destroySceneAudios()}),this.events.on("reldens.allAudiosLoaded",(e,t,i)=>{this.sceneAudioPlayer.playSceneAudio(e,i,!0)})}initializeAudioManager(e){e.audioManager||(e.initialGameData.player||d.warning("Missing initialGameData.player",e.initialGameData),e.audioManager=new r({events:this.events,currentPlayerData:e.initialGameData.player}),e.audioManager.updateDefaultConfig(e.config.getWithoutLogs("client/general/audio/defaultAudioConfig")),this.initialAudiosData=f.get(e.initialGameData,"audio",{}))}}},{f0889e1805ac30ae:"a2OiI",fa2abd3e6fef423e:"HbUnD",db53c1900c602955:"2kbUj","2762c14d95e654ec":"4Dhmj",e7efea8d47baf6a9:"hgeoj","11e948f4d8656d91":"fP1Fq","2644ab6cd69ea38d":"jorwg",b8ecbb176547e3f6:"iOW9C","78fc36a78c9f343a":"3lwy5"}],a2OiI:[function(e,t,i,n){let{AudioConst:r}=e("2d414fa7de1cef79"),{Logger:s,sc:a}=e("25bd7cab17919029");t.exports.AudioManager=class{constructor(e){this.events=a.get(e,"events",!1),this.events||s.error("EventsManager undefined in AudioManager."),this.globalAudios=a.get(e,"globalAudios",{}),this.roomsAudios=a.get(e,"roomsAudios",{}),this.categories=a.get(e,"categories",{}),this.playerConfig=a.get(e,"playerConfig",{}),this.currentPlayerData=a.get(e,"currentPlayerData",{}),this.playing={},this.currentMuteState=!1,this.changedMutedState={},this.lockedMuteState=!1,this.defaultAudioConfig={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!0,delay:0}}async setAudio(e,t){if(this.lockedMuteState)return s.info("Locked mute state to set audio."),!1;await this.events.emit("reldens.setAudio",{audioManager:this,categoryKey:e,enabled:t});let i=this.categories[e];if(this.playerConfig[i.id]=t?1:0,!a.hasOwn(this.playing,e))return!0;let n=t?"play":"stop",r=this.playing[e];return i.single_audio&&a.isObjectFunction(r,n)?this.setAudioForSingleEntity(r,n,e,t):this.setAudioForElementChildren(r,i,t)}setAudioForSingleEntity(e,t,i,n){if(!e)return s.error("Missing playingElement.",{audioKey:i,playingElement:e}),!1;if(!e.currentConfig)return!1;if(!a.isObjectFunction(e,t))return s.error("Missing playOrStop method in playingElement.",{audioKey:i,playOrStop:t,playingElement:e}),!1;try{e[t](),e.mute=!n}catch(n){s.error("PlayingElement error.",{audioKey:i,playOrStop:t,playingElement:e,error:n})}return!0}setAudioForElementChildren(e,t,i){if(t.single_audio)return!1;let n=Object.keys(e);if(0===n.length)return!1;for(let t of n)this.setAudioForSingleEntity(e[t],"stop",t,i);return!0}generateAudio(e,t){let i=Object.assign({},this.defaultAudioConfig,t.config||{});if(!a.hasOwn(e.cache.audio.entries.entries,t.audio_key))return s.error("Audio file does not exists. Audio key: "+t.audio_key,e.cache.audio.entries.entries),!1;let n=e.sound.add(t.audio_key,i);if(t.markers&&0<t.markers.length)for(let e of t.markers){let t=Object.assign({},i,e.config||{},{name:e.marker_key,start:e.start,duration:e.duration});n.addMarker(t)}return{data:t,audioInstance:n}}findAudio(e,t){return this.findRoomAudio(e,t)||this.findGlobalAudio(e)}findRoomAudio(e,t){return a.hasOwn(this.roomsAudios,t)||(this.roomsAudios[t]={}),this.findAudioInObjectKey(e,this.roomsAudios[t])}findGlobalAudio(e){return this.findAudioInObjectKey(e,this.globalAudios)}findAudioInObjectKey(e,t){if(a.hasOwn(t,e))return{audio:t[e],marker:!1};let i=Object.keys(t);if(0===i.length)return!1;for(let n of i){let i=t[n];if(a.hasOwn(i.audioInstance.markers,e))return{audio:i,marker:e}}return!1}addCategories(e){for(let t of e)a.hasOwn(this.categories,t.category_key)||(this.categories[t.category_key]=t),a.hasOwn(this.playing,t.category_key)||(this.playing[t.category_key]={})}async loadGlobalAudios(e,t){let i=Object.keys(e);if(0===i.length)return!1;await this.loadByKeys(i,e,t,"globalAudios")}async loadAudiosInScene(e,t){let i=Object.keys(e);if(0===i.length)return!1;a.hasOwn(this.roomsAudios,t.key)||(this.roomsAudios[t.key]={}),await this.loadByKeys(i,e,t,"roomsAudios")}async loadByKeys(e,t,i,n){let r=0;for(let a of e){let e=t[a];this.removeSceneAudioByAudioKey(i,e.audio_key);let o=await this.prepareFiles(e);if(0===o.length)continue;let l=i.load.audio(e.audio_key,o);l.on("filecomplete",async a=>{if(a!==e.audio_key)return!1;let o=this.generateAudio(i,e);if(!1===o)return s.error("AudioLoader can not generate the audio.",{"Audio key:":e.audio_key,"Storage key:":n}),!1;"roomsAudios"===n?this.roomsAudios[i.key][e.audio_key]=o:this.globalAudios[e.audio_key]=o,r++,await this.fireAudioEvents(t,i,e,r)}),l.start()}}async existsFileByXMLHttpRequest(e){try{let t=await fetch(e,{method:"HEAD"});return 404!==t.status}catch(e){return s.error("Error fetching:",e),!1}}async prepareFiles(e){let t=e.files_name.split(","),i=[];for(let e of t){let t=r.AUDIO_BUCKET+"/"+e;!1!==await this.existsFileByXMLHttpRequest(t)&&i.push(t)}return i}async fireAudioEvents(e,t,i,n){await t.gameManager.events.emit("reldens.audioLoaded",this,e,t,i),n===e.length&&await t.gameManager.events.emit("reldens.allAudiosLoaded",this,e,t,i)}removeAudiosFromScene(e,t){if(0===e.length||!t)return!1;for(let i of e)this.removeSceneAudioByAudioKey(t,i.audio_key);return!0}removeSceneAudioByAudioKey(e,t){e.sound.removeByKey(t),a.hasOwn(e.cache.audio.entries.entries,t)&&delete e.cache.audio.entries.entries[t],a.hasOwn(this.roomsAudios[e.key],t)&&delete this.roomsAudios[e.key][t],a.hasOwn(this.globalAudios,t)&&delete this.globalAudios[t]}updateDefaultConfig(e){a.isObject(e)&&Object.assign(this.defaultAudioConfig,e)}async processUpdateData(e,t,i){e.playerConfig&&(this.playerConfig=e.playerConfig),e.categories&&(this.addCategories(e.categories),await this.events.emit("reldens.audioManagerUpdateCategoriesLoaded",this,t,i,e));let n=a.get(e,"audios",{});if(0<Object.keys(n).length){let r=i.gameEngine.scene.getScene(t.name);await this.loadAudiosInScene(n,r),await this.events.emit("reldens.audioManagerUpdateAudiosLoaded",this,t,i,e)}}async processDeleteData(e,t,i){if(0===e.audios.length)return!1;let n=i.gameEngine.scene.getScene(t.name);this.removeAudiosFromScene(e.audios,n),await this.events.emit("reldens.audioManagerDeleteAudios",this,t,i,e)}destroySceneAudios(){let e=Object.keys(this.playing);if(0===e.length)return!1;for(let t of e){let e=this.playing[t],i=this.categories[t];if(i.single_audio&&a.isObjectFunction(e,"stop")){e.stop(),delete this.playing[t];continue}let n=Object.keys(e);if(i.single_audio||0!==n.length)for(let i of n){let n=e[i];a.isObjectFunction(n,"stop")&&(n.stop(),delete n[t])}}}async changeMuteState(e,t){return(!1===t&&(this.lockedMuteState=!1),this.currentMuteState=e,this.lockedMuteState&&!1!==t)?(s.info("Locked mute state from changes."),!1):e?await this.muteCategories(t):await this.restoreMute(t)}async muteCategories(e){let t=Object.keys(this.categories);if(0<t.length)return s.info("Mute categories not found."),!1;for(let e of t)this.changedMutedState[e]=this.currentMuteState,await this.setAudio(e,!1);return this.setMuteLock(e),!0}async restoreMute(e){let t=Object.keys(this.changedMutedState);if(0===t.length)return this.setMuteLock(e),!1;for(let e of t)await this.setAudio(e,!0);return this.setMuteLock(e),this.changedMutedState={},!0}setMuteLock(e){!1===e&&(this.lockedMuteState=!1),!0===e&&(this.lockedMuteState=!0)}}},{"2d414fa7de1cef79":"iOW9C","25bd7cab17919029":"3lwy5"}],iOW9C:[function(e,t,i,n){t.exports.AudioConst={AUDIO_UPDATE:"ap",AUDIO_DELETE:"ad",AUDIO_ANIMATION_KEY_START:"i_",AUDIO_ANIMATION_KEY_UPDATE:"u_",AUDIO_ANIMATION_KEY_COMPLETE:"c_",AUDIO_ANIMATION_KEY_REPEAT:"r_",AUDIO_ANIMATION_KEY_STOP:"s_",AUDIO_BUCKET:"/assets/audio",MESSAGE:{DATA:{UPDATE_TYPE:"ck",UPDATE_VALUE:"uv"},DATA_VALUES:{NAMESPACE:"audio"}}}},{}],HbUnD:[function(e,t,i,n){let{AudioConst:r}=e("f731a7f8fab776ad"),{Logger:s,sc:a}=e("a54fcbcc49a76a60");t.exports.SceneAudioPlayer=new class{playSceneAudio(e,t,i){let n=t.associatedAudio;return(!0===i||!1!==n&&(!n||!n.audio.audioInstance.isPlaying))&&(t.associatedAudio=e.findAudio(t.key,t.key),!!t.associatedAudio&&(this.playSpriteAudio(t.associatedAudio,t,!1,e),t.associatedAudio))}associateSceneAnimationsAudios(e,t){t.cameras.main.on("camerafadeincomplete",()=>{if(t.children.list.length<=0)return!1;for(let i of t.children.list)"Sprite"===i.type&&(i.on("animationstart",n=>{let s=r.AUDIO_ANIMATION_KEY_START+n.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}),i.on("animationupdate",n=>{let s=r.AUDIO_ANIMATION_KEY_UPDATE+n.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}),i.on("animationcomplete",n=>{let s=r.AUDIO_ANIMATION_KEY_COMPLETE+n.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}),i.on("animationrepeat",n=>{let s=r.AUDIO_ANIMATION_KEY_REPEAT+n.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}),i.on("animationstop",n=>{let s=r.AUDIO_ANIMATION_KEY_STOP+n.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}))})}attachAudioToSprite(e,t,i,n){return a.hasOwn(e.associatedAudio,t)||(a.hasOwn(e,"associatedAudio")||(e.associatedAudio={}),a.hasOwn(e.associatedAudio,t)||(e.associatedAudio[t]=i.findAudio(t,n.key))),e.associatedAudio[t]}playSpriteAudio(e,t,i,n){let r=Number(n.currentPlayerData.id),o=Number(a.get(i,"player_id")),l=this.isCurrentPlayerSprite(o,r);if(e.audio.data.config?.onlyCurrentPlayer&&!l)return!1;let h=t.player;if(l&&h&&(h.isDisabled()||h.isDeath()))return!1;if(!e||!e.audio||!e.audio.data)return s.error("Missing associated audio data.",e),!1;let u=e.audio.data.category.category_key,c=a.get(n.categories,u,!1),d=a.get(n.playerConfig,c.id,c.enabled);if(!c||!d)return!1;let f=e.audio.audioInstance;if(c.single_audio&&a.isObjectFunction(n.playing[c.category_key],"stop")&&n.playing[c.category_key].stop(),c.single_audio)return n.playing[c.category_key]=f,!this.isMutedState(n,c.category_key,f)&&(f.mute=!1,f.play(),!0);if(!c.single_audio){if(!e.marker)return n.playing[c.category_key][e.audio.data.audio_key]=f,!this.isMutedState(n,c.category_key,f)&&(f.mute=!1,f.play(),!0);if(e.marker)return n.playing[c.category_key][e.marker]=f,!this.isMutedState(n,c.category_key,f)&&(f.mute=!1,f.play(e.marker),!0)}}isCurrentPlayerSprite(e,t){return e&&e===t}isMutedState(e,t,i){return!1!==e.currentMuteState&&(s.info("AudioManager in muted state to play audio.",{mutedKey:t,audioInstance:i}),e.changedMutedState[t]=e.currentMuteState,!0)}}},{f731a7f8fab776ad:"iOW9C",a54fcbcc49a76a60:"3lwy5"}],"2kbUj":[function(e,t,i,n){let{AudioConst:r}=e("7c37a875a4ede872");t.exports.MessagesListener=class{constructor(){this.queueMessages=[],this.sceneReady=!1}listenMessages(e,t){e.onMessage("*",async i=>{await this.processMessage(i,e,t)})}async processQueue(){if(this.sceneReady=!0,0===this.queueMessages.length)return!1;for(let e of this.queueMessages){let{message:t,room:i,gameManager:n}=e;await this.processMessage(t,i,n)}return!0}async processMessage(e,t,i){!1===this.sceneReady&&this.queueMessages.push({message:e,room:t,gameManager:i}),e.act===r.AUDIO_UPDATE&&await i.audioManager.processUpdateData(e,t,i),e.act===r.AUDIO_DELETE&&await i.audioManager.processDeleteData(e,t,i)}}},{"7c37a875a4ede872":"iOW9C"}],"4Dhmj":[function(e,t,i,n){let{SceneAudioPlayer:r}=e("cab4fb9f8a467533"),{AudioUpdate:s}=e("fd2803834723a17f"),{sc:a}=e("a6e36c332d705b7f");t.exports.AudioUi=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene.gameManager,this.audioManager=this.gameManager.audioManager,this.sceneAudioPlayer=r}createUi(){if(!this.audioManager.categories)return;let e=this.uiScene.cache.html.get("audio"),t=this.uiScene.cache.html.get("audio-category"),i=this.prepareAudioSettingsContent(t,e);this.gameManager.gameDom.appendToElement("#settings-dynamic",i);let n=this.gameManager.gameDom.getElements(".audio-setting");if(0===n.length)return!1;for(let e of n)e.addEventListener("click",async t=>{await this.audioManager.setAudio(t.target.dataset.categoryKey,e.checked),this.gameManager.activeRoomEvents.send(new s(e.value,e.checked)),this.sceneAudioPlayer.playSceneAudio(this.audioManager,this.gameManager.getActiveScene())})}prepareAudioSettingsContent(e,t){let i=this.prepareCategoriesRows(e);return this.gameManager.gameEngine.parseTemplate(t,{audioCategories:i,settingsTitle:this.gameManager.services.translator.t("audio.settingsTitle")})}prepareCategoriesRows(e){let t="";for(let i of Object.keys(this.audioManager.categories)){let n=this.audioManager.categories[i],r=a.get(this.audioManager.playerConfig,n.id,n.enabled);t+=this.gameManager.gameEngine.parseTemplate(e,{categoryId:n.id,categoryLabel:n.category_label,categoryKey:n.category_key,categoryChecked:r?' checked="checked"':""})}return t}}},{cab4fb9f8a467533:"HbUnD",fd2803834723a17f:"6RrEs",a6e36c332d705b7f:"3lwy5"}],"6RrEs":[function(e,t,i,n){let{AudioConst:r}=e("c6282358940d3030"),{GameConst:s}=e("f796ac11391ac94f");t.exports.AudioUpdate=class{constructor(e,t){this[s.ACTION_KEY]=r.AUDIO_UPDATE,this[r.MESSAGE.DATA.UPDATE_TYPE]=e,this[r.MESSAGE.DATA.UPDATE_VALUE]=t}}},{c6282358940d3030:"iOW9C",f796ac11391ac94f:"7Qdd3"}],fP1Fq:[function(e,t,i,n){t.exports={audio:{settingsTitle:"Audio Settings"}}},{}],"4FPKN":[function(e,t,i,n){let{ActionsConst:r}=e("29c0272b4b704e1a"),{RoomsConst:s}=e("3956319db3be63df"),{PluginInterface:a}=e("467a2ea8f06e99ae"),{Logger:o,sc:l}=e("1d01f54fcfe4090e");t.exports.RoomsPlugin=class extends a{setup(e){this.gameManager=l.get(e,"gameManager",!1),this.gameManager||o.error("Game Manager undefined in RoomsPlugin."),this.events=l.get(e,"events",!1),this.events||o.error("EventsManager undefined in RoomsPlugin."),this.events.on("reldens.beforeCreateEngine",(e,t)=>{t.config.get("client/rooms/selection/allowOnLogin",!1)&&e.roomSelection&&this.populateSceneSelector(e.roomSelection,t)}),this.events.on("reldens.onPrepareSinglePlayerSelectorFormSubmit",e=>{this.appendSelectedScene(e.gameManager,e.form)}),this.events.on("reldens.onPreparePlayerSelectorFormSubmit",e=>{this.appendSelectedScene(e.gameManager,e.form)}),this.events.on("reldens.onPreparePlayerCreationFormSubmit",e=>{this.appendSelectedScene(e.gameManager,e.form)})}populateSceneSelector(e,t){let i=t.gameDom.getElement(r.SELECTORS.PLAYER_CREATION_ADDITIONAL_INFO),n=t.gameDom.getElement(r.SELECTORS.PLAYER_SELECTION_ADDITIONAL_INFO);if(!i&&!n)return o.warning("Missing element.",{playerCreationAdditional:i,playerSelectionAdditional:n}),!1;if(i){let n=this.filterCreationRooms(e),r=this.createSelectorElements(t,n,"creation");i.append(r)}if(n){let i=this.createSelectorElements(t,e,"selection");n.append(i)}}filterCreationRooms(e){let t=[];for(let i of e)i.name!==s.ROOM_LAST_LOCATION_KEY&&t.push(i);return t}appendSelectedScene(e,t){let i=e.gameDom.getElement(".scene-select",t);if(!i)return;let n=i.options[i.selectedIndex].value;n&&(e.initialGameData.selectedScene=n)}createSelectorElements(e,t,i){let n=e.gameDom.createElement("div");n.classList.add("input-box");let r=e.gameDom.createElement("label");r.htmlFor=i+"SelectedScene",r.innerText=this.gameManager.services.translator.t("game.pleaseSelectScene");let s=e.gameDom.createElement("select");for(let e of(s.name=i+"SelectedScene",s.id=i+"SelectedScene",s.classList.add("select-element"),s.classList.add("scene-select"),t)){let t=new Option(e.title,e.name);s.append(t)}return n.append(r),n.append(s),n}}},{"29c0272b4b704e1a":"4omVM","3956319db3be63df":"encji","467a2ea8f06e99ae":"jorwg","1d01f54fcfe4090e":"3lwy5"}],"4QWBH":[function(e,t,i,n){let{PredictionWorldCreator:r}=e("698b644ff63be292"),{RoomEventsOverride:s}=e("33ce8b7f1eedd7a9"),{PluginInterface:a}=e("c1ea0248987a09b6"),{Logger:o,sc:l}=e("3c592f7740d29ac2");t.exports.PredictionPlugin=class extends a{setup(e){this.gameManager=l.get(e,"gameManager",!1),this.events=l.get(e,"events",!1),this.predictionWorldCreator=new r,this.roomEventsOverride=new s,this.validateProperties()&&this.listenEvents()}validateProperties(){return this.gameManager?!!this.events||(o.error("EventsManager undefined in PredictionPlugin."),!1):(o.error("Game Manager undefined in PredictionPlugin."),!1)}listenEvents(){this.events.on("reldens.createEngineSceneDone",async e=>{await this.predictionWorldCreator.createSceneWorld(e.currentScene)}),this.events.on("reldens.createdRoomsEventsInstance",(e,t)=>{this.roomEventsOverride.createCurrentPlayerOverride(t.activeRoomEvents),this.roomEventsOverride.playerOnChangeOverride(t.activeRoomEvents),this.roomEventsOverride.createPlayerEngineInstanceOverride(t.activeRoomEvents),this.roomEventsOverride.createSceneInstanceOverride(t.activeRoomEvents)})}}},{"698b644ff63be292":"6tgMb","33ce8b7f1eedd7a9":"jRdF3",c1ea0248987a09b6:"jorwg","3c592f7740d29ac2":"3lwy5"}],"6tgMb":[function(e,t,i,n){let{CollisionsManager:r}=e("81a878d445d114e3"),{P2world:s}=e("a3212e85f9a74e4"),{WorldPointsValidator:a}=e("8c4e487eb60fa4f8"),{WorldTimer:o}=e("50192fe3227e0023"),{Logger:l,sc:h}=e("6f0361e2dca7f7f5");t.exports.PredictionWorldCreator=class{async createSceneWorld(e){if(!e.experimentalClientPrediction)return;let t=this.findValidLayers(e),i=this.cloneMapJson(e,t),n={sceneName:e.key,roomId:e.params.roomId,roomMap:e.params.roomMap,mapJson:i,config:e.configManager,events:e.eventsManager,allowSimultaneous:e.configManager.get("client/general/controls/allowSimultaneousKeys",!0),worldConfig:e.gameManager.activeRoomEvents.roomData?.worldConfig||e.worldConfig};e.worldPrediction=this.createWorldInstance(n),e.worldPrediction.createLimits(),await e.worldPrediction.createWorldContent({});let s=e.gameManager.getCurrentPlayer();if(!s){l.error("Current player not present for prediction.");return}let h={id:s.playerId,width:e.configManager.get("client/players/physicalBody/width"),height:e.configManager.get("client/players/physicalBody/height"),bodyState:s.state},u=e.worldPrediction.createPlayerBody(h);u.updateBodyState=this.updateBodyStateOverride(u,s),s.predictionBody=u,e.worldPredictionTimer=new o({callbacks:[()=>{if(!e.worldPrediction){l.error("Scene World not longer exists.",e.roomWorld);return}e.worldPrediction.removeBodiesFromWorld()}]}),e.worldPredictionTimer.startWorldSteps(e.worldPrediction),e.collisionsManager=new r({roomWorld:e.worldPrediction}),s.pointsValidator=new a(i.width,i.height)}cloneMapJson(e,t){return Object.assign({},e.cache?.tilemap?.entries?.entries[e.tileset.name]?.data||{},{layers:t})}findValidLayers(e){let t=[];for(let i of e.cache.tilemap.entries.entries[e.tileset.name].data.layers)-1!==i.name.indexOf("collision")&&t.push(i);return t}updateBodyStateOverride(e,t){return()=>{if(!h.hasOwn(e.bodyState,"x")||!h.hasOwn(e.bodyState,"y")||!e.position[0]||!e.position[1])return;if(e.isNotMoving()){e.bodyState.mov=!1;return}e.bodyState.x!==e.position[0]&&(e.bodyState.x=e.position[0]),e.bodyState.y!==e.position[1]&&(e.bodyState.y=e.position[1]);let i=0!==Number(Number(e.velocity[0]).toFixed(2))||0!==Number(e.velocity[1].toFixed(2));e.bodyState.mov!==i&&(e.bodyState.mov=i);let n={x:e.position[0],y:e.position[1],dir:e.bodyState.dir};t.updatePlayer(t.playerId,{state:n})}}createWorldInstance(e){return new s(e)}}},{"81a878d445d114e3":"79gwO",a3212e85f9a74e4:"ivoQT","8c4e487eb60fa4f8":"2TXy9","50192fe3227e0023":"9LSjN","6f0361e2dca7f7f5":"3lwy5"}],"79gwO":[function(e,t,i,n){let{PhysicalBody:r}=e("2bac9eebd1669ae7"),{ErrorManager:s,Logger:a,sc:o}=e("6df25a7483afe879");t.exports.CollisionsManager=class{constructor(e){this.activateCollisions(e)}activateCollisions(e){e&&(this.room=e,o.hasOwn(this.room,"roomWorld")||s.error("Room world not found."),this.guestEmailDomain=this.room.config.getWithoutLogs("server/players/guestsUser/emailDomain"),this.room.roomWorld.on("postBroadphase",this.onWorldStepStart.bind(this)),this.room.roomWorld.on("preSolve",this.beforeResolveCollision.bind(this)),this.room.roomWorld.on("beginContact",this.onCollisionsBegin.bind(this)),this.room.roomWorld.on("endContact",this.onCollisionsEnd.bind(this)))}onWorldStepStart(e){let{pairs:t}=e;if(1>=t.length)return;let i=!1,n=!1,r=!1,s=!1;for(let e of t)e.playerId&&e.pStop&&e.stopFull(),e.roomObject&&e.pStop&&e.stopFull(),e.playerId&&(r=e),e.isBullet&&(i&&!n&&(n=e),i||(i=e),e.removeInvalidStateBulletBody()),e.isRoomObject&&!e.isBullet&&(s=e);this.room.roomWorld.bulletsStopOnPlayer&&r&&i&&r.stopFull(),this.room.roomWorld.bulletsStopOnObject&&s&&i&&s.stopFull(),this.removeIdleBullets()}removeIdleBullets(){if(0!==this.room.roomWorld.removeBulletsStateIds.length)for(let e of this.room.roomWorld.removeBulletsStateIds)this.room.state.removeBody(e),this.room.roomWorld.removeBulletsStateIds.splice(this.room.roomWorld.removeBulletsStateIds.indexOf(e),1)}beforeResolveCollision(e){if(this.room.roomWorld.allowPassWallsFromBelow)for(let t of e.contactEquations){let e=this.getPlayerBody(t),i=this.getWallBody(t);if(!e||!i||i.isWorldWall)return;e.position[1]>i.position[1]&&(t.enabled=!1)}}onCollisionsBegin(e){let t=e.bodyA,i=e.bodyB,n=!1,r=!1,s=!1;return t.playerId&&i.playerId?this.playerHitPlayerBegin(t,i):(t.playerId&&(n=t,r=i),i.playerId&&(n=i,r=t),n&&r.isRoomObject)?this.playerHitObjectBegin(n,r):n&&r.changeScenePoint?this.playerHitChangePointBegin(n,r):n&&r.isWall?this.playerHitWallBegin(n,r):t.isRoomObject&&i.isRoomObject?this.objectHitObjectBegin(t,i):void(t.isRoomObject&&(s=t,r=i),i.isRoomObject&&(s=i,r=t),s&&r.isWall&&this.objectHitWallBegin(s,r))}onCollisionsEnd(e){let t=e.bodyA,i=e.bodyB,n=!1,r=!1,s=!1;return(e.bodyA.playerId&&e.bodyB.playerId&&this.playerHitPlayerEnd(e.bodyA,e.bodyB),t.playerId&&(n=t,r=i),i.playerId&&(n=i,r=t),n&&r.isRoomObject)?this.playerHitObjectEnd(n,r):n&&r.isWall?this.playerHitWallEnd(n,r):(t.isRoomObject&&i.isRoomObject&&this.objectHitObjectEnd(t,i),t.isRoomObject&&(s=t,r=i),i.isRoomObject&&(s=i,r=t),s&&r.isWall)?this.objectHitWallEnd(s,r):void 0}playerHitPlayerBegin(e,t){this.room.events.emit("reldens.playerHitPlayer",{bodyA:e,bodyB:t})}playerHitPlayerEnd(e,t){e.stopFull(),t.stopFull(),this.room.events.emit("reldens.playerHitPlayerEnd",{bodyA:e,bodyB:t})}playerHitObjectBegin(e,t){this.room.events.emit("reldens.startPlayerHitObjectBegin",{playerBody:e,otherBody:t}),this.findAlternativePath(e),t.roomObject&&o.isFunction(t.roomObject.onHit)&&t.roomObject.onHit({bodyA:e,bodyB:t,room:this.room}),this.room.events.emit("reldens.endPlayerHitObjectBegin",{playerBody:e,otherBody:t})}playerHitObjectEnd(e,t){let i={stopFull:!0,continue:!0};if(this.room.events.emit("reldens.playerHitObjectEnd",{playerBody:e,result:i}),!i.continue)return!1;e.stopFull(i.stopFull)}playerHitWallBegin(e,t){this.room.events.emit("reldens.playerHitWallBegin",{playerBody:e,wallBody:t})}playerHitWallEnd(e,t){if(this.room.events.emit("reldens.startPlayerHitWallEnd",{playerBody:e,wallBody:t}),e.autoMoving&&1<e.autoMoving.length){let t=e.autoMoving.pop();e.moveToPoint({column:t[0],row:t[1]});return}e.world&&!e.world.applyGravity&&e.stopFull(!0),this.room.events.emit("reldens.endPlayerHitWallEnd",{playerBody:e,wallBody:t})}playerHitChangePointBegin(e,t){if(this.room.events.emit("reldens.startPlayerHitChangePoint",{collisionsManager:this,playerBody:e,changePoint:t}),e.resetAuto(),o.get(e,"isChangingScene",!1))return a.info("Player is busy for a change point: "+e.playerId),!1;let i=this.room.playerBySessionIdFromState(e.playerId),n=this.room.getClientById(e.playerId),r=-1!==n.auth.email?.indexOf(this.guestEmailDomain);if(!this.room.validateRoom(t.changeScenePoint,r,!0))return a.info("Guest Player hit change point but is not allowed to the room: "+i.state.scene),this.room.events.emit("reldens.guestInvalidChangePoint",{collisionsManager:this,playerBody:e,changePoint:t,playerSchema:i,contactClient:n,isGuest:r}),!1;let s={x:e.position[0],y:e.position[1]};this.room.state.positionPlayer(e.playerId,s);let l={prev:i.state.scene,next:t.changeScenePoint};e.isChangingScene=!0,this.room.nextSceneInitialPosition(n,l,e).catch(e=>{a.error("There was an error while setting the next scene initial position.",e)}),this.room.events.emit("reldens.endPlayerHitChangePoint",{collisionsManager:this,playerSchema:i,playerBody:e,changePoint:t,changeData:l})}objectHitObjectBegin(e,t){this.room.events.emit("reldens.startObjectHitObject",{bodyA:e,bodyB:t});let i=o.hasOwn(e,"hitPriority"),n=o.hasOwn(t,"hitPriority"),r={bodyA:e,bodyB:t,room:this.room},s=(i||n)&&(!i||n&&!(i>n))?t:e;s.roomObject&&o.isFunction(s.roomObject?.onHit)&&s.roomObject.onHit(r),e.isBullet&&e.roomObject.removeBullet(e),t.isBullet&&t.roomObject.removeBullet(t),this.findAlternativePath(e),this.findAlternativePath(t),this.room.events.emit("reldens.endObjectHitObject",{bodyA:e,bodyB:t,priorityObject:s})}objectHitObjectEnd(e,t){this.bodyFullStop(e),this.bodyFullStop(t),this.room.events.emit("reldens.objectHitObjectEnd",{bodyA:e,bodyB:t})}objectHitWallBegin(e,t){let i={objectBody:e,wall:t,continue:!0};return this.room.events.emit("reldens.objectHitWallBegin",i),i.continue&&e.isBullet&&e.roomObject.removeBullet(e),i}objectHitWallEnd(e){this.room.events.emit("reldens.startObjectHitWall",{objectBody:e}),this.resetObjectAutoMove(e),this.room.events.emit("reldens.endObjectHitWall",{objectBody:e})}bodyFullStop(e){if(!e)return!1;!(e.autoMoving&&0<e.autoMoving.length)&&!e.isBullet&&e.isRoomObject&&e instanceof r&&e.stopFull(!0),e.isBullet&&e.roomObject.removeBullet(e)}findAlternativePath(e){if(!e.autoMoving||0===e.autoMoving.length)return!1;let t=e.autoMoving.shift(),i=e.autoMoving.pop();e.autoMoving=e.getPathFinder().findPath(t,i)}resetObjectAutoMove(e){if(!(e instanceof r)||!e.world)return;let t=!1;if(o.isArray(e.autoMoving)&&0<e.autoMoving.length&&(t=e.autoMoving.pop()),t){if(e.world.applyGravity?e.stopFull(!0):e.stopX(!0),e.autoMovingResetRetries++,e.autoMovingResetMaxRetries===e.autoMovingResetRetries)return e.autoMovingResetRetries=0,e.moveToOriginalPoint();e.moveToPoint({column:t[0],row:t[1]})}}getWallBody(e){let{bodyA:t,bodyB:i}=e;return t&&t.isWall?t:!!i&&!!i.isWall&&i}getObjectBody(e){let{bodyA:t,bodyB:i}=e;return t&&t.isRoomObject?t:!!i&&!!i.isRoomObject&&i}getPlayerBody(e){let{bodyA:t,bodyB:i}=e;return t&&t.playerId?t:!!i&&!!i.playerId&&i}}},{"2bac9eebd1669ae7":"dGMGI","6df25a7483afe879":"3lwy5"}],dGMGI:[function(e,t,i,n){let{Body:r,vec2:s}=e("58640466804c3117"),{GameConst:a}=e("7021c6716e058072"),{Logger:o,sc:l}=e("b47ac5fab7662b94");t.exports.PhysicalBody=class extends r{constructor(e){super(e),this.bodyState=null,this.animationBasedOnPress=e.animationBasedOnPress,this.diagonalHorizontal=e.diagonalHorizontal,this.autoMoving=!1,this.pathFinder=!1,this.isChangingScene=!1,this.currentCol=!1,this.currentRow=!1,this.originalCol=!1,this.originalRow=!1,this.jumpSpeed=l.get(e,"jumpSpeed",540),this.jumpTimeMs=l.get(e,"jumpTimeMs",180),this.movementSpeed=l.get(e,"movementSpeed",180),this.speedThreshold=l.get(e,"speedThreshold",.1),this.applySpeedThresholdOnBullets=l.get(e,"applySpeedThresholdOnBullets",!0),this.worldPositionPrecision=l.get(e,"worldPositionPrecision",0),this.worldSpeedPrecision=l.get(e,"worldSpeedPrecision",0),this.autoMovingResetMaxRetries=l.get(e,"autoMovingResetMaxRetries",5),this.autoMovingResetRetries=0,this.moveToOriginalPointWithDelay=l.get(e,"moveToOriginalPointWithDelay",100),this.moveToOriginalPointTimer=!1,this.originalSpeed={x:0,y:0},this.speedToNextMaxRetries=l.get(e,"speedToNextMaxRetries",3),this.speedToNextRetryCounter={col:0,row:0,retries:0},this.lastSetCollisionGroup=!1,this.blockBodyStates=l.get(e,"blockBodyStates",[a.STATUS.DISABLED,a.STATUS.DEATH])}integrate(e){if(-1!==this.blockBodyStates.indexOf(this.bodyState?.inState))return;let t=this.invMass,i=this.force,n=this.position,r=this.velocity;s.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*e);let a=s.create();if(s.scale(a,i,e*t),s.multiply(a,this.massMultiplier,a),s.add(r,a,r),!this.integrateToTimeOfImpact(e)){let t=s.create();s.scale(t,r,e),s.add(n,n,t),this.fixedRotation||(this.angle+=this.angularVelocity*e)}this.speedToNext(),this.aabbNeedsUpdate=!0,this.velocity[0]=1e-4>Math.abs(this.velocity[0])?0:l.roundToPrecision(this.velocity[0],4),this.velocity[1]=1e-4>Math.abs(this.velocity[1])?0:l.roundToPrecision(this.velocity[1],4),.001>Math.abs(this.velocity[0])&&this.stopX(),.001>Math.abs(this.velocity[1])&&this.stopY(),this.updateBodyState()}speedToNext(){if(!this.autoMoving||0===this.autoMoving.length){this.setShapesCollisionGroup(this.originalCollisionGroup);return}if(!this.autoMoving[0]){o.error("Missing autoMoving first index."),this.setShapesCollisionGroup(this.originalCollisionGroup);return}let e=this.autoMoving[0][0],t=this.autoMoving[0][1];if(0!==this.speedToNextRetryCounter.col&&this.speedToNextRetryCounter.col===e&&0!==this.speedToNextRetryCounter.row&&this.speedToNextRetryCounter.row===t&&0!==this.velocity[0]&&0!==this.velocity[1]&&this.speedToNextRetryCounter.retries++,this.speedToNextMaxRetries===this.speedToNextRetryCounter.retries){this.speedToNextRetryCounter.col=0,this.speedToNextRetryCounter.row=0;let e=this.autoMoving.shift(),t=this.autoMoving.pop();this.stopFull(!0),this.alignToTile(),this.autoMoving=this.getPathFinder().findPath(e,t),this.speedToNextRetryCounter.retries=0;return}if(this.speedToNextRetryCounter.col=e,this.speedToNextRetryCounter.row=t,this.currentCol===e&&this.currentRow===t){this.autoMoving.shift(),0===this.autoMoving.length&&this.stopAutoMoving();return}this.currentCol===e&&0!==this.velocity[0]&&(this.stopX(),this.alignToTile()),this.currentCol>e&&this.initMove(a.LEFT,!0),this.currentCol<e&&this.initMove(a.RIGHT,!0),this.currentRow===t&&0!==this.velocity[1]&&(this.stopY(),this.alignToTile()),this.currentRow>t&&this.initMove(a.UP,!0),this.currentRow<t&&this.initMove(a.DOWN,!0),this.updateCurrentPoints()}stopAutoMoving(){this.stopFull(),this.resetAuto(),this.alignToTile(),this.setShapesCollisionGroup(this.originalCollisionGroup)}alignToTile(){this.currentCol&&this.currentRow||this.updateCurrentPoints();let e=this.currentCol*this.worldTileWidth,t=this.currentRow*this.worldTileHeight,i=e-this.position[0],n=t-this.position[1];.01>=Math.abs(i)&&.01>=Math.abs(n)&&(this.position[0]=e,this.position[1]=t)}updateBodyState(){if(!l.hasOwn(this.bodyState,"x")||!l.hasOwn(this.bodyState,"y"))return;if(this.isNotMoving()){this.bodyState.mov=!1;return}let e=l.roundToPrecision(this.position[0],0),t=l.roundToPrecision(this.position[1],0);if(!e||!t)return;this.bodyState.x!==e&&(this.bodyState.x=l.roundToPrecision(e,this.worldPositionPrecision)),this.bodyState.y!==t&&(this.bodyState.y=l.roundToPrecision(t,this.worldPositionPrecision));let i=l.roundToPrecision(this.velocity[0],this.worldSpeedPrecision),n=l.roundToPrecision(this.velocity[1],this.worldSpeedPrecision);this.bodyState.mov=0!==i||0!==n,this.removeInvalidStateBulletBody()}bodyLogKey(){return this.playerId?"PJ-"+this.playerId:this.bodyState?.key}removeInvalidStateBulletBody(){this.isBullet&&(this.isOutOfWorldBounds()||this.hasInvalidSpeed())&&(this.world.removeBodies.push(this),this.bodyStateId&&this.world.removeBulletsStateIds.push(this.bodyStateId))}hasInvalidSpeed(){if(!this.applySpeedThresholdOnBullets&&this.isBullet)return!1;let e=this.isBullet?this.originalSpeed.x:this.movementSpeed,t=this.isBullet?this.originalSpeed.x:this.movementSpeed,i=e*this.speedThreshold,n=t*this.speedThreshold,r=Math.abs(this.velocity[0]);0<r&&r<i&&(o.debug("Invalid speed, stopping X:",{speedX:r,minimumSpeedX:i}),this.stopX(!0));let s=Math.abs(this.velocity[1]);return 0<s&&s<n&&(o.debug("Invalid speed, stopping Y.",{speedY:s,minimumSpeedY:n}),this.stopY(!0)),0===this.velocity[0]&&0===this.velocity[1]}isOutOfWorldBounds(){return 0>this.position[0]||this.position[0]>this.worldWidth*this.worldTileWidth||0>this.position[1]||this.position[1]>this.worldHeight*this.worldTileHeight}isNotMoving(){let e=this.movementSpeed*this.speedThreshold,t=l.roundToPrecision(this.velocity[0]),i=l.roundToPrecision(this.velocity[1]);0!==this.velocity[0]&&Math.abs(t)<e&&(this.position[0]=l.roundToPrecision(this.position[0]+(0<t?1:-1)),this.stopX(!0)),0!==this.velocity[1]&&Math.abs(i)<e&&!this.world.applyGravity&&(this.position[1]=this.position[1]+(0<i?1:-1),this.stopY(!0));let n=l.roundToPrecision(this.position[0],0),r=l.roundToPrecision(this.position[1],0);return this.bodyState.x===n&&this.bodyState.y===r&&0===t&&0===i}resetAuto(){this.autoMoving=!1}initMove(e,t=!1){if(t||this.resetAuto(),this.world){if(this.world.allowSimultaneous){this.simultaneousKeyPressMovement(e);return}return this.singleKeyPressMovement(e)}}singleKeyPressMovement(e){e===a.RIGHT&&0===this.velocity[1]&&(this.velocity[0]=this.movementSpeed),e===a.LEFT&&0===this.velocity[1]&&(this.velocity[0]=-this.movementSpeed),e===a.UP&&0===this.velocity[0]&&this.moveUp(this.movementSpeed),e!==a.DOWN||0!==this.velocity[0]||this.world.applyGravity||(this.velocity[1]=this.movementSpeed)}simultaneousKeyPressMovement(e){if(!this.world.applyGravity){this.simultaneousMovementDiagonalSpeedFix(e,this.movementSpeed);return}e===a.RIGHT&&(this.validateAndSetDirection(e,this.diagonalHorizontal,this.velocity[1]),this.velocity[0]=this.movementSpeed),e===a.LEFT&&(this.validateAndSetDirection(e,this.diagonalHorizontal,this.velocity[1]),this.velocity[0]=-this.movementSpeed),e===a.UP&&(this.validateAndSetDirection(e,!this.diagonalHorizontal,this.velocity[0]),this.moveUp(this.movementSpeed))}simultaneousMovementDiagonalSpeedFix(e,t){let i=0===this.velocity[0]?0:0>this.velocity[0]?-1:1,n=0===this.velocity[1]?0:0>this.velocity[1]?-1:1;e===a.RIGHT&&(i=1),e===a.LEFT&&(i=-1),e===a.UP&&(n=-1),e===a.DOWN&&(n=1);let r=this.normalizeSpeed(i,n);this.velocity[0]=t*i*r,this.velocity[1]=t*n*r,(e===a.RIGHT||e===a.LEFT)&&this.validateAndSetDirection(e,this.diagonalHorizontal,this.velocity[1]),(e===a.UP||e===a.DOWN)&&this.validateAndSetDirection(e,!this.diagonalHorizontal,this.velocity[0])}moveUp(e){if(!this.world.applyGravity){this.velocity[1]=-e;return}this.canJump()&&(this.velocity[1]=-this.jumpSpeed,setTimeout(()=>{this.stopY()},this.jumpTimeMs))}calculateMagnitude(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}checkNonZeroComponents(e,t){return Math.abs(e)>0||Math.abs(t)>0}normalizeSpeed(e,t){return this.checkNonZeroComponents(e,t)?1/this.calculateMagnitude(e,t):0}validateAndSetDirection(e,t,i){(this.animationBasedOnPress||this.bodyState.autoDirection)&&(t||0===i)&&(this.bodyState.dir=e)}stopMove(){this.world&&this.world.applyGravity?this.stopX():this.stopFull()}stopFull(e=!1){this.velocity[0]=0,this.world?.applyGravity||(this.velocity[1]=0),this.angularVelocity=0,this.angularForce=0,this.pStop=e}stopX(e=!1){this.velocity[0]=0,this.angularVelocity=0,this.angularForce=0,this.pStop=e}stopY(e=!1){this.velocity[1]=0,this.angularVelocity=0,this.angularForce=0,this.pStop=e}moveToPoint(e){this.resetAuto(),this.updateCurrentPoints();let t=[this.currentCol,this.currentRow],i=[e.column,e.row],n=this.getPathFinder();return n?(this.autoMoving=n.findPath(t,i),this.autoMoving||(this.setShapesCollisionGroup(this.originalCollisionGroup),this.stopMove()),this.autoMoving):(this.setShapesCollisionGroup(this.originalCollisionGroup),!1)}updateCurrentPoints(){if(!this.world)return;let{currentCol:e,currentRow:t}=this.positionToTiles(this.position[0],this.position[1]);return this.originalCol||(this.originalCol=e),this.originalRow||(this.originalRow=t),this.currentCol=e,this.currentRow=t,this}moveToOriginalPoint(){if(this.originalCol&&this.originalRow||this.updateCurrentPoints(),this.disableObjectsCollisionsOnReturn&&this.setShapesCollisionGroup(0),this.stopFull(),0===this.moveToOriginalPointWithDelay){this.moveToPoint({column:this.originalCol,row:this.originalRow});return}this.moveToOriginalPointTimer=setTimeout(()=>{this.moveToPoint({column:this.originalCol,row:this.originalRow})},this.moveToOriginalPointWithDelay)}setShapesCollisionGroup(e){if(this.lastSetCollisionGroup!==e)for(let t of(this.lastSetCollisionGroup=e,this.shapes))t.collisionGroup=e}canJump(){for(let e of this.world.narrowphase.contactEquations){let t=e.bodyA===this?e.bodyA:e.bodyB,i=e.bodyA.isWall?e.bodyA:e.bodyB;if(t.playerId&&0<=Number(Number(t.velocity[1]).toFixed(2))&&i.isWall&&!i.isWorldWall&&t.position[1]<i.position[1])return!0}return!1}positionToTiles(e,t){let i=Math.round((e-this.worldTileWidth/2)/this.worldTileWidth);i=i>=0?i>this.worldWidth?this.worldWidth:i:0;let n=Math.round((t-this.worldTileHeight/2)/this.worldTileHeight);return{currentCol:i,currentRow:n=n>=0?n>this.worldHeight?this.worldHeight:n:0}}getPathFinder(){return this.pathFinder?this.pathFinder:this.world?.pathFinder}get worldTileWidth(){return this.world?.mapJson?.tilewidth}get worldTileHeight(){return this.world?.mapJson?.tileheight}get worldWidth(){return this.world?.mapJson?.width}get worldHeight(){return this.world?.mapJson?.height}}},{"58640466804c3117":"6bkiu","7021c6716e058072":"7Qdd3",b47ac5fab7662b94:"3lwy5"}],"6bkiu":[function(e,t,i,n){Object.defineProperty(t.exports={AABB:e("684b4c2f51a7982f"),AngleLockEquation:e("bdffc69900b9d197"),Body:e("3f75664c0e64d6f0"),Broadphase:e("6a91eca7403fbf23"),Capsule:e("856d4f0d9932be15"),Circle:e("2ed19d42da3c562d"),Constraint:e("aa927dde400e3497"),ContactEquation:e("2d074b8afa958c13"),ContactEquationPool:e("c3b18056b7840eb7"),ContactMaterial:e("95c5dc13a3c7c260"),Convex:e("ac59578c032edc9f"),DistanceConstraint:e("5c90feeb31df3d5e"),Equation:e("f8f4511fa21776ff"),EventEmitter:e("c3d3b3771d6558ce"),FrictionEquation:e("cab660c3bd983ee4"),FrictionEquationPool:e("87607de358c9c21"),GearConstraint:e("90a946d116b90b53"),GSSolver:e("6894c0e11a66902e"),Heightfield:e("4b3b7392ecef1240"),Line:e("1e20d14367f50060"),LockConstraint:e("fdc7a4304d635ff8"),Material:e("2ead159ba8c055f3"),Narrowphase:e("9e6fca932dff920d"),NaiveBroadphase:e("b1c0219aba2108d9"),Particle:e("9633119b46909ded"),Plane:e("4f144cae12074657"),Pool:e("a996dbee78852c0f"),RevoluteConstraint:e("34cc4dd48e1d0bad"),PrismaticConstraint:e("53d36735aa65530e"),Ray:e("1d4b6783af535b58"),RaycastResult:e("f9b0bdbeada25bdf"),Box:e("1eaca10f1a6fb0c1"),RotationalVelocityEquation:e("316198d4ce4102e3"),SAPBroadphase:e("60bfc18e7e665b71"),Shape:e("1eb899949248649e"),Solver:e("3c21f4f3806b3be"),Spring:e("e3ff62163c08949b"),TopDownVehicle:e("e782a409308bbff6"),LinearSpring:e("78e7b803f9bca9ee"),RotationalSpring:e("fe49496c221554ba"),Utils:e("36b147cdc3f4bb72"),World:e("551a53932a4cfdc8"),vec2:e("19262ec940ce734e"),version:e("df51020e342624b").version},"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},{"684b4c2f51a7982f":"7Fman",bdffc69900b9d197:"jaQW1","3f75664c0e64d6f0":"1vLHz","6a91eca7403fbf23":"5ZGdm","856d4f0d9932be15":"iCu6l","2ed19d42da3c562d":"71oh9",aa927dde400e3497:"fl4d5","2d074b8afa958c13":"2hWGL",c3b18056b7840eb7:"c7vmA","95c5dc13a3c7c260":"7VedP",ac59578c032edc9f:"jXoGk","5c90feeb31df3d5e":"eMph3",f8f4511fa21776ff:"kSmDE",c3d3b3771d6558ce:"3wc90",cab660c3bd983ee4:"6o1RQ","87607de358c9c21":"dT2Zx","90a946d116b90b53":"c2nuE","6894c0e11a66902e":"Kc35t","4b3b7392ecef1240":"g5PHm","1e20d14367f50060":"3e8Uk",fdc7a4304d635ff8:"3C7H6","2ead159ba8c055f3":"kKj3c","9e6fca932dff920d":"bsKDm",b1c0219aba2108d9:"liK4P","9633119b46909ded":"hsc7O","4f144cae12074657":"kpexr",a996dbee78852c0f:"5lrfq","34cc4dd48e1d0bad":"aOW07","53d36735aa65530e":"iK7mQ","1d4b6783af535b58":"3aaBs",f9b0bdbeada25bdf:"bK4Qs","1eaca10f1a6fb0c1":"1uf32","316198d4ce4102e3":"dpMuH","60bfc18e7e665b71":"cJxaR","1eb899949248649e":"fyiLV","3c21f4f3806b3be":"cslpB",e3ff62163c08949b:"cXKmN",e782a409308bbff6:"cQjmW","78e7b803f9bca9ee":"4chxn",fe49496c221554ba:"j6tWA","36b147cdc3f4bb72":"7sQcP","551a53932a4cfdc8":"5xqPb","19262ec940ce734e":"geg3A",df51020e342624b:"aPywz"}],"7Fman":[function(e,t,i,n){var r=e("b3f1d8665c8114ff");function s(e){this.lowerBound=r.create(),e&&e.lowerBound&&r.copy(this.lowerBound,e.lowerBound),this.upperBound=r.create(),e&&e.upperBound&&r.copy(this.upperBound,e.upperBound)}e("def10f340a350e0e"),t.exports=s;var a=r.create();s.prototype.setFromPoints=function(e,t,i,n){var s=this.lowerBound,o=this.upperBound;"number"!=typeof i&&(i=0),0!==i?r.rotate(s,e[0],i):r.copy(s,e[0]),r.copy(o,s);for(var l=Math.cos(i),h=Math.sin(i),u=1;u<e.length;u++){var c=e[u];if(0!==i){var d=c[0],f=c[1];a[0]=l*d-h*f,a[1]=h*d+l*f,c=a}for(var p=0;p<2;p++)c[p]>o[p]&&(o[p]=c[p]),c[p]<s[p]&&(s[p]=c[p])}t&&(r.add(this.lowerBound,this.lowerBound,t),r.add(this.upperBound,this.upperBound,t)),n&&(this.lowerBound[0]-=n,this.lowerBound[1]-=n,this.upperBound[0]+=n,this.upperBound[1]+=n)},s.prototype.copy=function(e){r.copy(this.lowerBound,e.lowerBound),r.copy(this.upperBound,e.upperBound)},s.prototype.extend=function(e){for(var t=2;t--;){var i=e.lowerBound[t];this.lowerBound[t]>i&&(this.lowerBound[t]=i);var n=e.upperBound[t];this.upperBound[t]<n&&(this.upperBound[t]=n)}},s.prototype.overlaps=function(e){var t=this.lowerBound,i=this.upperBound,n=e.lowerBound,r=e.upperBound;return(n[0]<=i[0]&&i[0]<=r[0]||t[0]<=r[0]&&r[0]<=i[0])&&(n[1]<=i[1]&&i[1]<=r[1]||t[1]<=r[1]&&r[1]<=i[1])},s.prototype.containsPoint=function(e){var t=this.lowerBound,i=this.upperBound;return t[0]<=e[0]&&e[0]<=i[0]&&t[1]<=e[1]&&e[1]<=i[1]},s.prototype.overlapsRay=function(e){var t=1/e.direction[0],i=1/e.direction[1],n=(this.lowerBound[0]-e.from[0])*t,r=(this.upperBound[0]-e.from[0])*t,s=(this.lowerBound[1]-e.from[1])*i,a=(this.upperBound[1]-e.from[1])*i,o=Math.max(Math.max(Math.min(n,r),Math.min(s,a))),l=Math.min(Math.min(Math.max(n,r),Math.max(s,a)));return l<0||o>l?-1:o}},{b3f1d8665c8114ff:"geg3A",def10f340a350e0e:"7sQcP"}],geg3A:[function(e,t,i,n){var r=t.exports={},s=e("d83d88b709f376af");r.crossLength=function(e,t){return e[0]*t[1]-e[1]*t[0]},r.crossVZ=function(e,t,i){return r.rotate(e,t,-Math.PI/2),r.scale(e,e,i),e},r.crossZV=function(e,t,i){return r.rotate(e,i,Math.PI/2),r.scale(e,e,t),e},r.rotate=function(e,t,i){if(0!==i){var n=Math.cos(i),r=Math.sin(i),s=t[0],a=t[1];e[0]=n*s-r*a,e[1]=r*s+n*a}else e[0]=t[0],e[1]=t[1]},r.rotate90cw=function(e,t){var i=t[0],n=t[1];e[0]=n,e[1]=-i},r.toLocalFrame=function(e,t,i,n){r.copy(e,t),r.sub(e,e,i),r.rotate(e,e,-n)},r.toGlobalFrame=function(e,t,i,n){r.copy(e,t),r.rotate(e,e,n),r.add(e,e,i)},r.vectorToLocalFrame=function(e,t,i){r.rotate(e,t,-i)},r.vectorToGlobalFrame=function(e,t,i){r.rotate(e,t,i)},r.centroid=function(e,t,i,n){return r.add(e,t,i),r.add(e,e,n),r.scale(e,e,1/3),e},r.create=function(){var e=new s.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},r.clone=function(e){var t=new s.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},r.fromValues=function(e,t){var i=new s.ARRAY_TYPE(2);return i[0]=e,i[1]=t,i},r.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},r.set=function(e,t,i){return e[0]=t,e[1]=i,e},r.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e},r.subtract=function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e},r.sub=r.subtract,r.multiply=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e},r.mul=r.multiply,r.divide=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e},r.div=r.divide,r.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e},r.distance=function(e,t){var i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)},r.dist=r.distance,r.squaredDistance=function(e,t){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n},r.sqrDist=r.squaredDistance,r.length=function(e){var t=e[0],i=e[1];return Math.sqrt(t*t+i*i)},r.len=r.length,r.squaredLength=function(e){var t=e[0],i=e[1];return t*t+i*i},r.sqrLen=r.squaredLength,r.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},r.normalize=function(e,t){var i=t[0],n=t[1],r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e},r.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},r.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},r.lerp=function(e,t,i,n){var r=t[0],s=t[1];return e[0]=r+n*(i[0]-r),e[1]=s+n*(i[1]-s),e},r.reflect=function(e,t,i){var n=t[0]*i[0]+t[1]*i[1];e[0]=t[0]-2*i[0]*n,e[1]=t[1]-2*i[1]*n},r.getLineSegmentsIntersection=function(e,t,i,n,s){var a=r.getLineSegmentsIntersectionFraction(t,i,n,s);return!(a<0)&&(e[0]=t[0]+a*(i[0]-t[0]),e[1]=t[1]+a*(i[1]-t[1]),!0)},r.getLineSegmentsIntersectionFraction=function(e,t,i,n){var r,s,a=t[0]-e[0],o=t[1]-e[1],l=n[0]-i[0],h=n[1]-i[1];return(r=(-o*(e[0]-i[0])+a*(e[1]-i[1]))/(-l*o+a*h),s=(l*(e[1]-i[1])-h*(e[0]-i[0]))/(-l*o+a*h),r>=0&&r<=1&&s>=0&&s<=1)?s:-1}},{d83d88b709f376af:"7sQcP"}],"7sQcP":[function(e,t,i,n){function r(){}t.exports=r,r.appendArray=function(e,t){if(t.length<15e4)e.push.apply(e,t);else for(var i=0,n=t.length;i!==n;++i)e.push(t[i])},r.splice=function(e,t,i){i=i||1;for(var n=t,r=e.length-i;n<r;n++)e[n]=e[n+i];e.length=r},"undefined"!=typeof P2_ARRAY_TYPE?r.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?r.ARRAY_TYPE=Float32Array:r.ARRAY_TYPE=Array,r.extend=function(e,t){for(var i in t)e[i]=t[i]},r.defaults=function(e,t){for(var i in e=e||{},t)i in e||(e[i]=t[i]);return e}},{}],jaQW1:[function(e,t,i,n){var r=e("96b39f139ed9fe19");function s(e,t,i){i=i||{},r.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0,this.ratio="number"==typeof i.ratio?i.ratio:1,this.setRatio(this.ratio)}e("65e9c376f4842e26"),t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},s.prototype.setRatio=function(e){var t=this.G;t[2]=e,t[5]=-1,this.ratio=e},s.prototype.setMaxTorque=function(e){this.maxForce=e,this.minForce=-e}},{"96b39f139ed9fe19":"kSmDE","65e9c376f4842e26":"geg3A"}],kSmDE:[function(e,t,i,n){t.exports=a;var r=e("409fe7de84f659c2"),s=e("899649d302242471");function a(e,t,i,n){this.minForce=void 0===i?-Number.MAX_VALUE:i,this.maxForce=void 0===n?Number.MAX_VALUE:n,this.bodyA=e,this.bodyB=t,this.stiffness=a.DEFAULT_STIFFNESS,this.relaxation=a.DEFAULT_RELAXATION,this.G=new s.ARRAY_TYPE(6);for(var r=0;r<6;r++)this.G[r]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}e("96f5ab3af7110940"),a.prototype.constructor=a,a.DEFAULT_STIFFNESS=1e6,a.DEFAULT_RELAXATION=4,a.prototype.update=function(){var e=this.stiffness,t=this.relaxation,i=this.timeStep;this.a=4/(i*(1+4*t)),this.b=4*t/(1+4*t),this.epsilon=4/(i*i*e*(1+4*t)),this.needsUpdate=!1},a.prototype.gmult=function(e,t,i,n,r){return e[0]*t[0]+e[1]*t[1]+e[2]*i+e[3]*n[0]+e[4]*n[1]+e[5]*r},a.prototype.computeB=function(e,t,i){var n=this.computeGW();return-this.computeGq()*e-n*t-this.computeGiMf()*i};var o=r.create(),l=r.create();a.prototype.computeGq=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=(t.position,i.position,t.angle),r=i.angle;return this.gmult(e,o,n,l,r)+this.offset},a.prototype.computeGW=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.velocity,r=i.velocity,s=t.angularVelocity,a=i.angularVelocity;return this.gmult(e,n,s,r,a)+this.relativeVelocity},a.prototype.computeGWlambda=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.vlambda,r=i.vlambda,s=t.wlambda,a=i.wlambda;return this.gmult(e,n,s,r,a)};var h=r.create(),u=r.create();a.prototype.computeGiMf=function(){var e=this.bodyA,t=this.bodyB,i=e.force,n=e.angularForce,s=t.force,a=t.angularForce,o=e.invMassSolve,l=t.invMassSolve,c=e.invInertiaSolve,d=t.invInertiaSolve,f=this.G;return r.scale(h,i,o),r.multiply(h,e.massMultiplier,h),r.scale(u,s,l),r.multiply(u,t.massMultiplier,u),this.gmult(f,h,n*c,u,a*d)},a.prototype.computeGiMGt=function(){var e=this.bodyA,t=this.bodyB,i=e.invMassSolve,n=t.invMassSolve,r=e.invInertiaSolve,s=t.invInertiaSolve,a=this.G;return a[0]*a[0]*i*e.massMultiplier[0]+a[1]*a[1]*i*e.massMultiplier[1]+a[2]*a[2]*r+a[3]*a[3]*n*t.massMultiplier[0]+a[4]*a[4]*n*t.massMultiplier[1]+a[5]*a[5]*s};var c=r.create(),d=r.create(),f=r.create();r.create(),r.create(),r.create(),a.prototype.addToWlambda=function(e){var t=this.bodyA,i=this.bodyB,n=t.invMassSolve,s=i.invMassSolve,a=t.invInertiaSolve,o=i.invInertiaSolve,l=this.G;d[0]=l[0],d[1]=l[1],f[0]=l[3],f[1]=l[4],r.scale(c,d,n*e),r.multiply(c,c,t.massMultiplier),r.add(t.vlambda,t.vlambda,c),t.wlambda+=a*l[2]*e,r.scale(c,f,s*e),r.multiply(c,c,i.massMultiplier),r.add(i.vlambda,i.vlambda,c),i.wlambda+=o*l[5]*e},a.prototype.computeInvC=function(e){return 1/(this.computeGiMGt()+e)}},{"409fe7de84f659c2":"geg3A","899649d302242471":"7sQcP","96f5ab3af7110940":"1vLHz"}],"1vLHz":[function(e,t,i,n){var r=e("e93126ba09caa5de"),s=e("75db1bf8b12d094"),a=e("85daf14b1e993a58"),o=e("bca387afe93c506d"),l=e("8404a18a841f8c6f"),h=e("b3d48c1afc29fb22"),u=e("1546b4044e1fff1d");function c(e){e=e||{},u.call(this),this.id=e.id||++c._idCounter,this.world=null,this.shapes=[],this.mass=e.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!e.fixedRotation,this.fixedX=!!e.fixedX,this.fixedY=!!e.fixedY,this.massMultiplier=r.create(),this.position=r.fromValues(0,0),e.position&&r.copy(this.position,e.position),this.interpolatedPosition=r.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=r.fromValues(0,0),this.previousAngle=0,this.velocity=r.fromValues(0,0),e.velocity&&r.copy(this.velocity,e.velocity),this.vlambda=r.fromValues(0,0),this.wlambda=0,this.angle=e.angle||0,this.angularVelocity=e.angularVelocity||0,this.force=r.create(),e.force&&r.copy(this.force,e.force),this.angularForce=e.angularForce||0,this.damping="number"==typeof e.damping?e.damping:.1,this.angularDamping="number"==typeof e.angularDamping?e.angularDamping:.1,this.type=c.STATIC,void 0!==e.type?this.type=e.type:e.mass?this.type=c.DYNAMIC:this.type=c.STATIC,this.boundingRadius=0,this.aabb=new h,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===e.allowSleep||e.allowSleep,this.wantsToSleep=!1,this.sleepState=c.AWAKE,this.sleepSpeedLimit=void 0!==e.sleepSpeedLimit?e.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==e.sleepTimeLimit?e.sleepTimeLimit:1,this.gravityScale=void 0!==e.gravityScale?e.gravityScale:1,this.collisionResponse=void 0===e.collisionResponse||e.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==e.ccdSpeedThreshold?e.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==e.ccdIterations?e.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}t.exports=c,c.prototype=new u,c.prototype.constructor=c,c._idCounter=0,c.prototype.updateSolveMassProperties=function(){this.sleepState===c.SLEEPING||this.type===c.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},c.prototype.setDensity=function(e){var t=this.getArea();this.mass=t*e,this.updateMassProperties()},c.prototype.getArea=function(){for(var e=0,t=0;t<this.shapes.length;t++)e+=this.shapes[t].area;return e},c.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var d=new h,f=r.create();c.prototype.updateAABB=function(){for(var e=this.shapes,t=e.length,i=this.angle,n=0;n!==t;n++){var s=e[n],a=s.angle+i;r.rotate(f,s.position,i),r.add(f,f,this.position),s.computeAABB(d,f,a),0===n?this.aabb.copy(d):this.aabb.extend(d)}this.aabbNeedsUpdate=!1},c.prototype.updateBoundingRadius=function(){for(var e=this.shapes,t=e.length,i=0,n=0;n!==t;n++){var s=e[n],a=r.length(s.position),o=s.boundingRadius;a+o>i&&(i=a+o)}this.boundingRadius=i},c.prototype.addShape=function(e,t,i){if(e.body)throw Error("A shape can only be added to one body.");e.body=this,t?r.copy(e.position,t):r.set(e.position,0,0),e.angle=i||0,this.shapes.push(e),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},c.prototype.removeShape=function(e){var t=this.shapes.indexOf(e);return -1!==t&&(this.shapes.splice(t,1),this.aabbNeedsUpdate=!0,e.body=null,!0)},c.prototype.updateMassProperties=function(){if(this.type===c.STATIC||this.type===c.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var e=this.shapes,t=e.length,i=this.mass/t,n=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var s=0;s<t;s++){var a=e[s],o=r.squaredLength(a.position);n+=a.computeMomentOfInertia(i)+i*o}this.inertia=n,this.invInertia=n>0?1/n:0}this.invMass=1/this.mass,r.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}},r.create(),c.prototype.applyForce=function(e,t){if(r.add(this.force,this.force,e),t){var i=r.crossLength(t,e);this.angularForce+=i}};var p=r.create(),m=r.create(),g=r.create();c.prototype.applyForceLocal=function(e,t){t=t||g,this.vectorToWorldFrame(p,e),this.vectorToWorldFrame(m,t),this.applyForce(p,m)};var v=r.create();c.prototype.applyImpulse=function(e,t){if(this.type===c.DYNAMIC&&(r.scale(v,e,this.invMass),r.multiply(v,this.massMultiplier,v),r.add(this.velocity,v,this.velocity),t)){var i=r.crossLength(t,e);i*=this.invInertia,this.angularVelocity+=i}};var y=r.create(),b=r.create(),x=r.create();c.prototype.applyImpulseLocal=function(e,t){t=t||x,this.vectorToWorldFrame(y,e),this.vectorToWorldFrame(b,t),this.applyImpulse(y,b)},c.prototype.toLocalFrame=function(e,t){r.toLocalFrame(e,t,this.position,this.angle)},c.prototype.toWorldFrame=function(e,t){r.toGlobalFrame(e,t,this.position,this.angle)},c.prototype.vectorToLocalFrame=function(e,t){r.vectorToLocalFrame(e,t,this.angle)},c.prototype.vectorToWorldFrame=function(e,t){r.vectorToGlobalFrame(e,t,this.angle)},c.prototype.fromPolygon=function(e,t){t=t||{};for(var i,n=this.shapes.length;n>=0;--n)this.removeShape(this.shapes[n]);var o=new s.Polygon;if(o.vertices=e,o.makeCCW(),"number"==typeof t.removeCollinearPoints&&o.removeCollinearPoints(t.removeCollinearPoints),void 0===t.skipSimpleCheck&&!o.isSimple())return!1;this.concavePath=o.vertices.slice(0);for(var n=0;n<this.concavePath.length;n++){var l=[0,0];r.copy(l,this.concavePath[n]),this.concavePath[n]=l}i=t.optimalDecomp?o.decomp():o.quickDecomp();for(var h=r.create(),n=0;n!==i.length;n++){for(var u=new a({vertices:i[n].vertices}),c=0;c!==u.vertices.length;c++){var l=u.vertices[c];r.sub(l,l,u.centerOfMass)}r.scale(h,u.centerOfMass,1),u.updateTriangles(),u.updateCenterOfMass(),u.updateBoundingRadius(),this.addShape(u,h)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0},r.fromValues(0,0);var E=r.fromValues(0,0),w=r.fromValues(0,0),S=r.fromValues(0,0);c.prototype.adjustCenterOfMass=function(){var e=0;r.set(w,0,0);for(var t=0;t!==this.shapes.length;t++){var i=this.shapes[t];r.scale(E,i.position,i.area),r.add(w,w,E),e+=i.area}r.scale(S,w,1/e);for(var t=0;t!==this.shapes.length;t++){var i=this.shapes[t];r.sub(i.position,i.position,S)}r.add(this.position,this.position,S);for(var t=0;this.concavePath&&t<this.concavePath.length;t++)r.sub(this.concavePath[t],this.concavePath[t],S);this.updateMassProperties(),this.updateBoundingRadius()},c.prototype.setZeroForce=function(){r.set(this.force,0,0),this.angularForce=0},c.prototype.resetConstraintVelocity=function(){var e=this.vlambda;r.set(e,0,0),this.wlambda=0},c.prototype.addConstraintVelocity=function(){var e=this.velocity;r.add(e,e,this.vlambda),this.angularVelocity+=this.wlambda},c.prototype.applyDamping=function(e){if(this.type===c.DYNAMIC){var t=this.velocity;r.scale(t,t,Math.pow(1-this.damping,e)),this.angularVelocity*=Math.pow(1-this.angularDamping,e)}},c.prototype.wakeUp=function(){var e=this.sleepState;this.sleepState=c.AWAKE,this.idleTime=0,e!==c.AWAKE&&this.emit(c.wakeUpEvent)},c.prototype.sleep=function(){this.sleepState=c.SLEEPING,this.angularVelocity=0,this.angularForce=0,r.set(this.velocity,0,0),r.set(this.force,0,0),this.emit(c.sleepEvent)},c.prototype.sleepTick=function(e,t,i){this.allowSleep&&this.type!==c.SLEEPING&&(this.wantsToSleep=!1,this.sleepState,r.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)>=Math.pow(this.sleepSpeedLimit,2)?(this.idleTime=0,this.sleepState=c.AWAKE):(this.idleTime+=i,this.sleepState=c.SLEEPY),this.idleTime>this.sleepTimeLimit&&(t?this.wantsToSleep=!0:this.sleep()))},c.prototype.overlaps=function(e){return this.world.overlapKeeper.bodiesAreOverlapping(this,e)};var T=r.create(),A=r.create();c.prototype.integrate=function(e){var t=this.invMass,i=this.force,n=this.position,s=this.velocity;r.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*e),r.scale(T,i,e*t),r.multiply(T,this.massMultiplier,T),r.add(s,T,s),this.integrateToTimeOfImpact(e)||(r.scale(A,s,e),r.add(n,n,A),this.fixedRotation||(this.angle+=this.angularVelocity*e)),this.aabbNeedsUpdate=!0};var _=new o,C=new l({mode:l.ALL}),I=r.create(),P=r.create(),R=r.create(),O=r.create();c.prototype.integrateToTimeOfImpact=function(e){if(this.ccdSpeedThreshold<0||r.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;r.normalize(I,this.velocity),r.scale(P,this.velocity,e),r.add(P,P,this.position),r.sub(R,P,this.position);var t,i=this.angularVelocity*e,n=r.length(R),s=1,a=this;if(_.reset(),C.callback=function(e){e.body!==a&&(t=e.body,e.getHitPoint(P,C),r.sub(R,P,a.position),s=r.length(R)/n,e.stop())},r.copy(C.from,this.position),r.copy(C.to,P),C.update(),this.world.raycast(_,C),!t)return!1;var o=this.angle;r.copy(O,this.position);for(var l=0,h=0,u=0,c=s;c>=h&&l<this.ccdIterations;)l++,u=(c-h)/2,r.scale(A,R,s),r.add(this.position,O,A),this.angle=o+i*s,this.updateAABB(),this.aabb.overlaps(t.aabb)&&this.world.narrowphase.bodiesOverlap(this,t)?h=u:c=u;return s=u,r.copy(this.position,O),this.angle=o,r.scale(A,R,s),r.add(this.position,this.position,A),this.fixedRotation||(this.angle+=i*s),!0},c.prototype.getVelocityAtPoint=function(e,t){return r.crossVZ(e,t,this.angularVelocity),r.subtract(e,this.velocity,e),e},c.sleepyEvent={type:"sleepy"},c.sleepEvent={type:"sleep"},c.wakeUpEvent={type:"wakeup"},c.DYNAMIC=1,c.STATIC=2,c.KINEMATIC=4,c.AWAKE=0,c.SLEEPY=1,c.SLEEPING=2},{e93126ba09caa5de:"geg3A","75db1bf8b12d094":"5arAY","85daf14b1e993a58":"jXoGk",bca387afe93c506d:"bK4Qs","8404a18a841f8c6f":"3aaBs",b3d48c1afc29fb22:"7Fman","1546b4044e1fff1d":"3wc90"}],"5arAY":[function(e,t,i,n){t.exports={Polygon:e("2eab5d17bb85406d"),Point:e("bd8f4793cca96f82")}},{"2eab5d17bb85406d":"cUvDj",bd8f4793cca96f82:"jyNL6"}],cUvDj:[function(e,t,i,n){var r=e("d8008e40e643f58e"),s=e("27760a6f627f557e"),a=e("edd1be50e7a94605");function o(){this.vertices=[]}t.exports=o,o.prototype.at=function(e){var t=this.vertices,i=t.length;return t[e<0?e%i+i:e%i]},o.prototype.first=function(){return this.vertices[0]},o.prototype.last=function(){return this.vertices[this.vertices.length-1]},o.prototype.clear=function(){this.vertices.length=0},o.prototype.append=function(e,t,i){if(void 0===t)throw Error("From is not given!");if(void 0===i)throw Error("To is not given!");if(i-1<t)throw Error("lol1");if(i>e.vertices.length)throw Error("lol2");if(t<0)throw Error("lol3");for(var n=t;n<i;n++)this.vertices.push(e.vertices[n])},o.prototype.makeCCW=function(){for(var e=0,t=this.vertices,i=1;i<this.vertices.length;++i)(t[i][1]<t[e][1]||t[i][1]==t[e][1]&&t[i][0]>t[e][0])&&(e=i);s.left(this.at(e-1),this.at(e),this.at(e+1))||this.reverse()},o.prototype.reverse=function(){for(var e=[],t=0,i=this.vertices.length;t!==i;t++)e.push(this.vertices.pop());this.vertices=e},o.prototype.isReflex=function(e){return s.right(this.at(e-1),this.at(e),this.at(e+1))};var l=[],h=[];function u(e,t,i,n,r){r=r||0;var s=t[1]-e[1],o=e[0]-t[0],l=s*e[0]+o*e[1],h=n[1]-i[1],u=i[0]-n[0],c=h*i[0]+u*i[1],d=s*u-h*o;return a.eq(d,0,r)?[0,0]:[(u*l-o*c)/d,(s*c-h*l)/d]}o.prototype.canSee=function(e,t){var i,n;if(s.leftOn(this.at(e+1),this.at(e),this.at(t))&&s.rightOn(this.at(e-1),this.at(e),this.at(t)))return!1;n=s.sqdist(this.at(e),this.at(t));for(var a=0;a!==this.vertices.length;++a)if((a+1)%this.vertices.length!==e&&a!==e&&s.leftOn(this.at(e),this.at(t),this.at(a+1))&&s.rightOn(this.at(e),this.at(t),this.at(a))&&(l[0]=this.at(e),l[1]=this.at(t),h[0]=this.at(a),h[1]=this.at(a+1),i=r.lineInt(l,h),s.sqdist(this.at(e),i)<n))return!1;return!0},o.prototype.copy=function(e,t,i){var n=i||new o;if(n.clear(),e<t)for(var r=e;r<=t;r++)n.vertices.push(this.vertices[r]);else{for(var r=0;r<=t;r++)n.vertices.push(this.vertices[r]);for(var r=e;r<this.vertices.length;r++)n.vertices.push(this.vertices[r])}return n},o.prototype.getCutEdges=function(){for(var e=[],t=[],i=[],n=new o,r=Number.MAX_VALUE,s=0;s<this.vertices.length;++s)if(this.isReflex(s)){for(var a=0;a<this.vertices.length;++a)if(this.canSee(s,a)){t=this.copy(s,a,n).getCutEdges(),i=this.copy(a,s,n).getCutEdges();for(var l=0;l<i.length;l++)t.push(i[l]);t.length<r&&(e=t,r=t.length,e.push([this.at(s),this.at(a)]))}}return e},o.prototype.decomp=function(){var e=this.getCutEdges();return e.length>0?this.slice(e):[this]},o.prototype.slice=function(e){if(0==e.length)return[this];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2==e[0].length&&e[0][0]instanceof Array){for(var t=[this],i=0;i<e.length;i++)for(var n=e[i],r=0;r<t.length;r++){var s=t[r].slice(n);if(s){t.splice(r,1),t.push(s[0],s[1]);break}}return t}var n=e,i=this.vertices.indexOf(n[0]),r=this.vertices.indexOf(n[1]);return -1!=i&&-1!=r&&[this.copy(i,r),this.copy(r,i)]},o.prototype.isSimple=function(){for(var e=this.vertices,t=0;t<e.length-1;t++)for(var i=0;i<t-1;i++)if(r.segmentsIntersect(e[t],e[t+1],e[i],e[i+1]))return!1;for(var t=1;t<e.length-2;t++)if(r.segmentsIntersect(e[0],e[e.length-1],e[t],e[t+1]))return!1;return!0},o.prototype.quickDecomp=function(e,t,i,n,r,a){r=r||100,a=a||0,n=n||25,e=void 0!==e?e:[],t=t||[],i=i||[];var l=[0,0],h=[0,0],c=[0,0],d=0,f=0,p=0,m=0,g=0,v=0,y=0,b=new o,x=new o,E=this.vertices;if(E.length<3)return e;if(++a>r)return console.warn("quickDecomp: max level ("+r+") reached."),e;for(var w=0;w<this.vertices.length;++w)if(this.isReflex(w)){t.push(this.vertices[w]),d=f=Number.MAX_VALUE;for(var S=0;S<this.vertices.length;++S)s.left(this.at(w-1),this.at(w),this.at(S))&&s.rightOn(this.at(w-1),this.at(w),this.at(S-1))&&(c=u(this.at(w-1),this.at(w),this.at(S),this.at(S-1)),s.right(this.at(w+1),this.at(w),c)&&(p=s.sqdist(this.vertices[w],c))<f&&(f=p,h=c,v=S)),s.left(this.at(w+1),this.at(w),this.at(S+1))&&s.rightOn(this.at(w+1),this.at(w),this.at(S))&&(c=u(this.at(w+1),this.at(w),this.at(S),this.at(S+1)),s.left(this.at(w-1),this.at(w),c)&&(p=s.sqdist(this.vertices[w],c))<d&&(d=p,l=c,g=S));if(v==(g+1)%this.vertices.length)c[0]=(h[0]+l[0])/2,c[1]=(h[1]+l[1])/2,i.push(c),w<g?(b.append(this,w,g+1),b.vertices.push(c),x.vertices.push(c),0!=v&&x.append(this,v,this.vertices.length),x.append(this,0,w+1)):(0!=w&&b.append(this,w,this.vertices.length),b.append(this,0,g+1),b.vertices.push(c),x.vertices.push(c),x.append(this,v,w+1));else{if(v>g&&(g+=this.vertices.length),m=Number.MAX_VALUE,g<v)return e;for(var S=v;S<=g;++S)s.leftOn(this.at(w-1),this.at(w),this.at(S))&&s.rightOn(this.at(w+1),this.at(w),this.at(S))&&(p=s.sqdist(this.at(w),this.at(S)))<m&&(m=p,y=S%this.vertices.length);w<y?(b.append(this,w,y+1),0!=y&&x.append(this,y,E.length),x.append(this,0,w+1)):(0!=w&&b.append(this,w,E.length),b.append(this,0,y+1),x.append(this,y,w+1))}return b.vertices.length<x.vertices.length?(b.quickDecomp(e,t,i,n,r,a),x.quickDecomp(e,t,i,n,r,a)):(x.quickDecomp(e,t,i,n,r,a),b.quickDecomp(e,t,i,n,r,a)),e}return e.push(this),e},o.prototype.removeCollinearPoints=function(e){for(var t=0,i=this.vertices.length-1;this.vertices.length>3&&i>=0;--i)s.collinear(this.at(i-1),this.at(i),this.at(i+1),e)&&(this.vertices.splice(i%this.vertices.length,1),i--,t++);return t}},{d8008e40e643f58e:"4K6SZ","27760a6f627f557e":"jyNL6",edd1be50e7a94605:"7TFSV"}],"4K6SZ":[function(e,t,i,n){var r=e("fea8e7ecc9e8fe4");function s(){}t.exports=s,s.lineInt=function(e,t,i){i=i||0;var n,s,a,o,l,h,u,c=[0,0];return n=e[1][1]-e[0][1],s=e[0][0]-e[1][0],a=n*e[0][0]+s*e[0][1],o=t[1][1]-t[0][1],l=t[0][0]-t[1][0],h=o*t[0][0]+l*t[0][1],u=n*l-o*s,r.eq(u,0,i)||(c[0]=(l*a-s*h)/u,c[1]=(n*h-o*a)/u),c},s.segmentsIntersect=function(e,t,i,n){var r=t[0]-e[0],s=t[1]-e[1],a=n[0]-i[0],o=n[1]-i[1];if(a*s-o*r==0)return!1;var l=(r*(i[1]-e[1])+s*(e[0]-i[0]))/(a*s-o*r),h=(a*(e[1]-i[1])+o*(i[0]-e[0]))/(o*r-a*s);return l>=0&&l<=1&&h>=0&&h<=1}},{fea8e7ecc9e8fe4:"7TFSV"}],"7TFSV":[function(e,t,i,n){function r(){}t.exports=r,r.eq=function(e,t,i){return Math.abs(e-t)<(i=i||0)}},{}],jyNL6:[function(e,t,i,n){function r(){}t.exports=r,r.area=function(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])},r.left=function(e,t,i){return r.area(e,t,i)>0},r.leftOn=function(e,t,i){return r.area(e,t,i)>=0},r.right=function(e,t,i){return 0>r.area(e,t,i)},r.rightOn=function(e,t,i){return 0>=r.area(e,t,i)};var s=[],a=[];r.collinear=function(e,t,i,n){return n?(s[0]=t[0]-e[0],s[1]=t[1]-e[1],a[0]=i[0]-t[0],a[1]=i[1]-t[1],Math.acos((s[0]*a[0]+s[1]*a[1])/(Math.sqrt(s[0]*s[0]+s[1]*s[1])*Math.sqrt(a[0]*a[0]+a[1]*a[1])))<n):0==r.area(e,t,i)},r.sqdist=function(e,t){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}},{}],jXoGk:[function(e,t,i,n){var r=e("841fd986776e9f0c"),s=e("dcb74eb19e59e896"),a=e("84be6d54e4a9572e");function o(e){Array.isArray(arguments[0])&&(e={vertices:arguments[0],axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),e=e||{},this.vertices=[];for(var t=void 0!==e.vertices?e.vertices:[],i=0;i<t.length;i++){var n=s.create();s.copy(n,t[i]),this.vertices.push(n)}if(this.axes=[],e.axes)for(var i=0;i<e.axes.length;i++){var a=s.create();s.copy(a,e.axes[i]),this.axes.push(a)}else for(var i=0;i<this.vertices.length;i++){var o=this.vertices[i],l=this.vertices[(i+1)%this.vertices.length],h=s.create();s.sub(h,l,o),s.rotate90cw(h,h),s.normalize(h,h),this.axes.push(h)}if(this.centerOfMass=s.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,e.type=r.CONVEX,r.call(this,e),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw Error("Convex vertices must be given in conter-clockwise winding.")}e("a884cbe4162e15c3"),t.exports=o,o.prototype=new r,o.prototype.constructor=o;var l=s.create(),h=s.create();o.prototype.projectOntoLocalAxis=function(e,t){for(var i,n,r=null,a=null,e=l,o=0;o<this.vertices.length;o++)i=this.vertices[o],n=s.dot(i,e),(null===r||n>r)&&(r=n),(null===a||n<a)&&(a=n);if(a>r){var h=a;a=r,r=h}s.set(t,a,r)},o.prototype.projectOntoWorldAxis=function(e,t,i,n){var r=h;this.projectOntoLocalAxis(e,n),0!==i?s.rotate(r,e,i):r=e;var a=s.dot(t,r);s.set(n,n[0]+a,n[1]+a)},o.prototype.updateTriangles=function(){this.triangles.length=0;for(var e=[],t=0;t<this.vertices.length;t++){var i=this.vertices[t];e.push(i[0],i[1])}for(var n=a.Triangulate(e),t=0;t<n.length;t+=3){var r=n[t],s=n[t+1],o=n[t+2];this.triangles.push([r,s,o])}};var u=s.create(),c=s.create(),d=s.create(),f=s.create(),p=s.create();s.create(),s.create(),s.create(),s.create(),o.prototype.updateCenterOfMass=function(){var e=this.triangles,t=this.vertices,i=this.centerOfMass,n=d,r=f,a=p;s.set(i,0,0);for(var l=0,h=0;h!==e.length;h++){var m=e[h],n=t[m[0]],r=t[m[1]],a=t[m[2]];s.centroid(u,n,r,a);var g=o.triangleArea(n,r,a);l+=g,s.scale(c,u,g),s.add(i,i,c)}s.scale(i,i,1/l)},o.prototype.computeMomentOfInertia=function(e){for(var t=0,i=0,n=this.vertices.length,r=n-1,a=0;a<n;r=a,a++){var o=this.vertices[r],l=this.vertices[a],h=Math.abs(s.crossLength(o,l));t+=h*(s.dot(l,l)+s.dot(l,o)+s.dot(o,o)),i+=h}return e/6*(t/i)},o.prototype.updateBoundingRadius=function(){for(var e=this.vertices,t=0,i=0;i!==e.length;i++){var n=s.squaredLength(e[i]);n>t&&(t=n)}this.boundingRadius=Math.sqrt(t)},o.triangleArea=function(e,t,i){return((t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1]))*.5},o.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var e=this.triangles,t=this.vertices,i=0;i!==e.length;i++){var n=e[i],r=t[n[0]],s=t[n[1]],a=t[n[2]],l=o.triangleArea(r,s,a);this.area+=l}},o.prototype.computeAABB=function(e,t,i){e.setFromPoints(this.vertices,t,i,0)};var m=s.create(),g=s.create(),v=s.create();o.prototype.raycast=function(e,t,i,n){var r=this.vertices;s.toLocalFrame(m,t.from,i,n),s.toLocalFrame(g,t.to,i,n);for(var a=r.length,o=0;o<a&&!e.shouldStop(t);o++){var l=r[o],h=r[(o+1)%a],u=s.getLineSegmentsIntersectionFraction(m,g,l,h);u>=0&&(s.sub(v,h,l),s.rotate(v,v,-Math.PI/2+n),s.normalize(v,v),t.reportIntersection(e,u,v,o))}}},{"841fd986776e9f0c":"fyiLV",dcb74eb19e59e896:"geg3A","84be6d54e4a9572e":"5fcbo",a884cbe4162e15c3:"5arAY"}],fyiLV:[function(e,t,i,n){t.exports=s;var r=e("7f0647825fa1536d");function s(e){e=e||{},this.body=null,this.position=r.fromValues(0,0),e.position&&r.copy(this.position,e.position),this.angle=e.angle||0,this.type=e.type||0,this.id=s.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==e.collisionGroup?e.collisionGroup:1,this.collisionResponse=void 0===e.collisionResponse||e.collisionResponse,this.collisionMask=void 0!==e.collisionMask?e.collisionMask:1,this.material=e.material||null,this.area=0,this.sensor=void 0!==e.sensor&&e.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}s.idCounter=0,s.CIRCLE=1,s.PARTICLE=2,s.PLANE=4,s.CONVEX=8,s.LINE=16,s.BOX=32,Object.defineProperty(s,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),s.BOX}}),s.CAPSULE=64,s.HEIGHTFIELD=128,s.prototype.computeMomentOfInertia=function(e){},s.prototype.updateBoundingRadius=function(){},s.prototype.updateArea=function(){},s.prototype.computeAABB=function(e,t,i){},s.prototype.raycast=function(e,t,i,n){}},{"7f0647825fa1536d":"geg3A"}],"5fcbo":[function(e,t,i,n){var r={};r.GetArea=function(e){if(e.length<6)return 0;for(var t=e.length-2,i=0,n=0;n<t;n+=2)i+=(e[n+2]-e[n])*(e[n+1]+e[n+3]);return-(.5*(i+=(e[0]-e[t])*(e[t+1]+e[1])))},r.Triangulate=function(e){var t=e.length>>1;if(t<3)return[];for(var i=[],n=[],s=0;s<t;s++)n.push(s);for(var s=0,a=t;a>3;){var o=n[(s+0)%a],l=n[(s+1)%a],h=n[(s+2)%a],u=e[2*o],c=e[2*o+1],d=e[2*l],f=e[2*l+1],p=e[2*h],m=e[2*h+1],g=!1;if(r._convex(u,c,d,f,p,m)){g=!0;for(var v=0;v<a;v++){var y=n[v];if(y!=o&&y!=l&&y!=h&&r._PointInTriangle(e[2*y],e[2*y+1],u,c,d,f,p,m)){g=!1;break}}}if(g)i.push(o,l,h),n.splice((s+1)%a,1),a--,s=0;else if(s++>3*a)break}return i.push(n[0],n[1],n[2]),i},r._PointInTriangle=function(e,t,i,n,r,s,a,o){var l=a-i,h=o-n,u=r-i,c=s-n,d=e-i,f=t-n,p=l*l+h*h,m=l*u+h*c,g=l*d+h*f,v=u*u+c*c,y=u*d+c*f,b=1/(p*v-m*m),x=(v*g-m*y)*b,E=(p*y-m*g)*b;return x>=0&&E>=0&&x+E<1},r._convex=function(e,t,i,n,r,s){return(t-n)*(r-i)+(i-e)*(s-n)>=0},t.exports=r},{}],bK4Qs:[function(e,t,i,n){var r=e("ffed16535981586e"),s=e("b8c131fd689cab6d");function a(){this.normal=r.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}t.exports=a,a.prototype.reset=function(){r.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},a.prototype.getHitDistance=function(e){return r.distance(e.from,e.to)*this.fraction},a.prototype.hasHit=function(){return -1!==this.fraction},a.prototype.getHitPoint=function(e,t){r.lerp(e,t.from,t.to,this.fraction)},a.prototype.stop=function(){this.isStopped=!0},a.prototype.shouldStop=function(e){return this.isStopped||-1!==this.fraction&&e.mode===s.ANY},a.prototype.set=function(e,t,i,n,s){r.copy(this.normal,e),this.shape=t,this.body=i,this.fraction=n,this.faceIndex=s}},{ffed16535981586e:"geg3A",b8c131fd689cab6d:"3aaBs"}],"3aaBs":[function(e,t,i,n){t.exports=s;var r=e("33edfb61f004dada");function s(e){e=e||{},this.from=e.from?r.fromValues(e.from[0],e.from[1]):r.create(),this.to=e.to?r.fromValues(e.to[0],e.to[1]):r.create(),this.checkCollisionResponse=void 0===e.checkCollisionResponse||e.checkCollisionResponse,this.skipBackfaces=!!e.skipBackfaces,this.collisionMask=void 0!==e.collisionMask?e.collisionMask:-1,this.collisionGroup=void 0!==e.collisionGroup?e.collisionGroup:-1,this.mode=void 0!==e.mode?e.mode:s.ANY,this.callback=e.callback||function(e){},this.direction=r.create(),this.length=1,this.update()}e("9e89c41e6357f79c"),e("197f77279886c828"),e("bb1f87d75f3ca6c0"),s.prototype.constructor=s,s.CLOSEST=1,s.ANY=2,s.ALL=4,s.prototype.update=function(){var e=this.direction;r.sub(e,this.to,this.from),this.length=r.length(e),r.normalize(e,e)},s.prototype.intersectBodies=function(e,t){for(var i=0,n=t.length;!e.shouldStop(this)&&i<n;i++){var r=t[i],s=r.getAABB();(s.overlapsRay(this)>=0||s.containsPoint(this.from))&&this.intersectBody(e,r)}};var a=r.create();s.prototype.intersectBody=function(e,t){var i=this.checkCollisionResponse;if(!i||t.collisionResponse)for(var n=0,s=t.shapes.length;n<s;n++){var o=t.shapes[n];if((!i||o.collisionResponse)&&(this.collisionGroup&o.collisionMask)!=0&&(o.collisionGroup&this.collisionMask)!=0){r.rotate(a,o.position,t.angle),r.add(a,a,t.position);var l=o.angle+t.angle;if(this.intersectShape(e,o,l,a,t),e.shouldStop(this))break}}},s.prototype.intersectShape=function(e,t,i,n,s){var a,h,u;a=this.from,h=this.direction,r.sub(o,n,a),u=r.dot(o,h),r.scale(l,h,u),r.add(l,l,a),r.squaredDistance(n,l)>t.boundingRadius*t.boundingRadius||(this._currentBody=s,this._currentShape=t,t.raycast(e,this,n,i),this._currentBody=this._currentShape=null)},s.prototype.getAABB=function(e){var t=this.to,i=this.from;r.set(e.lowerBound,Math.min(t[0],i[0]),Math.min(t[1],i[1])),r.set(e.upperBound,Math.max(t[0],i[0]),Math.max(t[1],i[1]))},r.create(),s.prototype.reportIntersection=function(e,t,i,n){this.from,this.to;var a=this._currentShape,o=this._currentBody;if(!(this.skipBackfaces&&r.dot(i,this.direction)>0))switch(this.mode){case s.ALL:e.set(i,a,o,t,n),this.callback(e);break;case s.CLOSEST:(t<e.fraction||!e.hasHit())&&e.set(i,a,o,t,n);break;case s.ANY:e.set(i,a,o,t,n)}};var o=r.create(),l=r.create()},{"33edfb61f004dada":"geg3A","9e89c41e6357f79c":"bK4Qs","197f77279886c828":"fyiLV",bb1f87d75f3ca6c0:"7Fman"}],"3wc90":[function(e,t,i,n){var r=function(){};t.exports=r,r.prototype={constructor:r,on:function(e,t,i){t.context=i||this,void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t),this},has:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;if(t){if(void 0!==i[e]&&-1!==i[e].indexOf(t))return!0}else if(void 0!==i[e])return!0;return!1},off:function(e,t){if(void 0===this._listeners)return this;var i=this._listeners,n=i[e].indexOf(t);return -1!==n&&i[e].splice(n,1),this},emit:function(e){if(void 0===this._listeners)return this;var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var i=0,n=t.length;i<n;i++){var r=t[i];r.call(r.context,e)}}return this}}},{}],"5ZGdm":[function(e,t,i,n){var r=e("1627a00dfa455de0"),s=e("2a79571e0c411022");function a(e){this.type=e,this.result=[],this.world=null,this.boundingVolumeType=a.AABB}t.exports=a,a.AABB=1,a.BOUNDING_CIRCLE=2,a.prototype.setWorld=function(e){this.world=e},a.prototype.getCollisionPairs=function(e){};var o=r.create();a.boundingRadiusCheck=function(e,t){r.sub(o,e.position,t.position);var i=r.squaredLength(o),n=e.boundingRadius+t.boundingRadius;return i<=n*n},a.aabbCheck=function(e,t){return e.getAABB().overlaps(t.getAABB())},a.prototype.boundingVolumeCheck=function(e,t){var i;switch(this.boundingVolumeType){case a.BOUNDING_CIRCLE:i=a.boundingRadiusCheck(e,t);break;case a.AABB:i=a.aabbCheck(e,t);break;default:throw Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return i},a.canCollide=function(e,t){var i=s.KINEMATIC,n=s.STATIC;return(e.type!==n||t.type!==n)&&(e.type!==i||t.type!==n)&&(e.type!==n||t.type!==i)&&(e.type!==i||t.type!==i)&&(e.sleepState!==s.SLEEPING||t.sleepState!==s.SLEEPING)&&(e.sleepState!==s.SLEEPING||t.type!==n)&&(t.sleepState!==s.SLEEPING||e.type!==n)},a.NAIVE=1,a.SAP=2},{"1627a00dfa455de0":"geg3A","2a79571e0c411022":"1vLHz"}],iCu6l:[function(e,t,i,n){var r=e("9e9977082ca4fe14"),s=e("18975187aa31e1cf");function a(e){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e={length:arguments[0],radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),e=e||{},this.length=e.length||1,this.radius=e.radius||1,e.type=r.CAPSULE,r.call(this,e)}t.exports=a,a.prototype=new r,a.prototype.constructor=a,a.prototype.computeMomentOfInertia=function(e){var t=this.radius,i=this.length+t,n=2*t;return e*(n*n+i*i)/12},a.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},a.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var o=s.create();a.prototype.computeAABB=function(e,t,i){var n=this.radius;s.set(o,this.length/2,0),0!==i&&s.rotate(o,o,i),s.set(e.upperBound,Math.max(o[0]+n,-o[0]+n),Math.max(o[1]+n,-o[1]+n)),s.set(e.lowerBound,Math.min(o[0]-n,-o[0]-n),Math.min(o[1]-n,-o[1]-n)),s.add(e.lowerBound,e.lowerBound,t),s.add(e.upperBound,e.upperBound,t)};var l=s.create(),h=s.create(),u=s.create(),c=s.create(),d=s.fromValues(0,1);a.prototype.raycast=function(e,t,i,n){var r=t.from,a=t.to;t.direction;for(var o=this.length/2,f=0;f<2;f++){var p=this.radius*(2*f-1);s.set(u,-o,p),s.set(c,o,p),s.toGlobalFrame(u,u,i,n),s.toGlobalFrame(c,c,i,n);var m=s.getLineSegmentsIntersectionFraction(r,a,u,c);if(m>=0&&(s.rotate(h,d,n),s.scale(h,h,2*f-1),t.reportIntersection(e,m,h,-1),e.shouldStop(t)))return}for(var g=Math.pow(this.radius,2)+Math.pow(o,2),f=0;f<2;f++){s.set(u,o*(2*f-1),0),s.toGlobalFrame(u,u,i,n);var v=Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2),y=2*((a[0]-r[0])*(r[0]-u[0])+(a[1]-r[1])*(r[1]-u[1])),m=Math.pow(y,2)-4*v*(Math.pow(r[0]-u[0],2)+Math.pow(r[1]-u[1],2)-Math.pow(this.radius,2));if(!(m<0)){if(0===m){if(s.lerp(l,r,a,m),s.squaredDistance(l,i)>g&&(s.sub(h,l,u),s.normalize(h,h),t.reportIntersection(e,m,h,-1),e.shouldStop(t)))return}else{var b=Math.sqrt(m),x=1/(2*v),E=(-y-b)*x,w=(-y+b)*x;if(E>=0&&E<=1&&(s.lerp(l,r,a,E),s.squaredDistance(l,i)>g&&(s.sub(h,l,u),s.normalize(h,h),t.reportIntersection(e,E,h,-1),e.shouldStop(t)))||w>=0&&w<=1&&(s.lerp(l,r,a,w),s.squaredDistance(l,i)>g&&(s.sub(h,l,u),s.normalize(h,h),t.reportIntersection(e,w,h,-1),e.shouldStop(t))))return}}}}},{"9e9977082ca4fe14":"fyiLV","18975187aa31e1cf":"geg3A"}],"71oh9":[function(e,t,i,n){var r=e("7b96c457d59a0d0"),s=e("b89d644e39bbe061");function a(e){"number"==typeof arguments[0]&&(e={radius:arguments[0]},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),e=e||{},this.radius=e.radius||1,e.type=r.CIRCLE,r.call(this,e)}t.exports=a,a.prototype=new r,a.prototype.constructor=a,a.prototype.computeMomentOfInertia=function(e){var t=this.radius;return e*t*t/2},a.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},a.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},a.prototype.computeAABB=function(e,t,i){var n=this.radius;s.set(e.upperBound,n,n),s.set(e.lowerBound,-n,-n),t&&(s.add(e.lowerBound,e.lowerBound,t),s.add(e.upperBound,e.upperBound,t))};var o=s.create(),l=s.create();a.prototype.raycast=function(e,t,i,n){var r=t.from,a=t.to,h=this.radius,u=Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2),c=2*((a[0]-r[0])*(r[0]-i[0])+(a[1]-r[1])*(r[1]-i[1])),d=Math.pow(c,2)-4*u*(Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2)-Math.pow(h,2));if(!(d<0)){if(0===d)s.lerp(o,r,a,d),s.sub(l,o,i),s.normalize(l,l),t.reportIntersection(e,d,l,-1);else{var f=Math.sqrt(d),p=1/(2*u),m=(-c-f)*p,g=(-c+f)*p;if(m>=0&&m<=1&&(s.lerp(o,r,a,m),s.sub(l,o,i),s.normalize(l,l),t.reportIntersection(e,m,l,-1),e.shouldStop(t)))return;g>=0&&g<=1&&(s.lerp(o,r,a,g),s.sub(l,o,i),s.normalize(l,l),t.reportIntersection(e,g,l,-1))}}}},{"7b96c457d59a0d0":"fyiLV",b89d644e39bbe061:"geg3A"}],fl4d5:[function(e,t,i,n){t.exports=s;var r=e("72b9dd33e1ac0322");function s(e,t,i,n){this.type=i,n=r.defaults(n,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=e,this.bodyB=t,this.collideConnected=n.collideConnected,n.wakeUpBodies&&(e&&e.wakeUp(),t&&t.wakeUp())}s.prototype.update=function(){throw Error("method update() not implmemented in this Constraint subclass!")},s.DISTANCE=1,s.GEAR=2,s.LOCK=3,s.PRISMATIC=4,s.REVOLUTE=5,s.prototype.setStiffness=function(e){for(var t=this.equations,i=0;i!==t.length;i++){var n=t[i];n.stiffness=e,n.needsUpdate=!0}},s.prototype.setRelaxation=function(e){for(var t=this.equations,i=0;i!==t.length;i++){var n=t[i];n.relaxation=e,n.needsUpdate=!0}}},{"72b9dd33e1ac0322":"7sQcP"}],"2hWGL":[function(e,t,i,n){var r=e("d1ef8939b96b621"),s=e("b8f27de80732e752");function a(e,t){r.call(this,e,t,0,Number.MAX_VALUE),this.contactPointA=s.create(),this.penetrationVec=s.create(),this.contactPointB=s.create(),this.normalA=s.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}t.exports=a,a.prototype=new r,a.prototype.constructor=a,a.prototype.computeB=function(e,t,i){var n,r,a=this.bodyA,o=this.bodyB,l=this.contactPointA,h=this.contactPointB,u=a.position,c=o.position,d=this.penetrationVec,f=this.normalA,p=this.G,m=s.crossLength(l,f),g=s.crossLength(h,f);return p[0]=-f[0],p[1]=-f[1],p[2]=-m,p[3]=f[0],p[4]=f[1],p[5]=g,s.add(d,c,h),s.sub(d,d,u),s.sub(d,d,l),this.firstImpact&&0!==this.restitution?(r=0,n=1/t*(1+this.restitution)*this.computeGW()):(r=s.dot(f,d)+this.offset,n=this.computeGW()),-r*e-n*t-i*this.computeGiMf()};var o=s.create(),l=s.create(),h=s.create();a.prototype.getVelocityAlongNormal=function(){return this.bodyA.getVelocityAtPoint(o,this.contactPointA),this.bodyB.getVelocityAtPoint(l,this.contactPointB),s.subtract(h,o,l),s.dot(this.normalA,h)}},{d1ef8939b96b621:"kSmDE",b8f27de80732e752:"geg3A"}],c7vmA:[function(e,t,i,n){var r=e("c9592f5c11436c3c"),s=e("16e85c8eda8f563e");function a(){s.apply(this,arguments)}t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.create=function(){return new r},a.prototype.destroy=function(e){return e.bodyA=e.bodyB=null,this}},{c9592f5c11436c3c:"2hWGL","16e85c8eda8f563e":"5lrfq"}],"5lrfq":[function(e,t,i,n){function r(e){e=e||{},this.objects=[],void 0!==e.size&&this.resize(e.size)}t.exports=r,r.prototype.resize=function(e){for(var t=this.objects;t.length>e;)t.pop();for(;t.length<e;)t.push(this.create());return this},r.prototype.get=function(){var e=this.objects;return e.length?e.pop():this.create()},r.prototype.release=function(e){return this.destroy(e),this.objects.push(e),this}},{}],"7VedP":[function(e,t,i,n){var r=e("fc2def147583745d"),s=e("91d2d0213c5dc868");function a(e,t,i){if(i=i||{},!(e instanceof r)||!(t instanceof r))throw Error("First two arguments must be Material instances.");this.id=a.idCounter++,this.materialA=e,this.materialB=t,this.friction=void 0!==i.friction?Number(i.friction):.3,this.restitution=void 0!==i.restitution?Number(i.restitution):0,this.stiffness=void 0!==i.stiffness?Number(i.stiffness):s.DEFAULT_STIFFNESS,this.relaxation=void 0!==i.relaxation?Number(i.relaxation):s.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==i.frictionStiffness?Number(i.frictionStiffness):s.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==i.frictionRelaxation?Number(i.frictionRelaxation):s.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==i.surfaceVelocity?Number(i.surfaceVelocity):0,this.contactSkinSize=.005}t.exports=a,a.idCounter=0},{fc2def147583745d:"kKj3c","91d2d0213c5dc868":"kSmDE"}],kKj3c:[function(e,t,i,n){function r(e){this.id=e||r.idCounter++}t.exports=r,r.idCounter=0},{}],eMph3:[function(e,t,i,n){var r=e("620aafee58b85d7b"),s=e("9a9c76eef024f50"),a=e("631888c66aae238e"),o=e("6fddc2832ed3f9f");function l(e,t,i){i=o.defaults(i,{localAnchorA:[0,0],localAnchorB:[0,0]}),r.call(this,e,t,r.DISTANCE,i),this.localAnchorA=a.fromValues(i.localAnchorA[0],i.localAnchorA[1]),this.localAnchorB=a.fromValues(i.localAnchorB[0],i.localAnchorB[1]);var n,l=this.localAnchorA,h=this.localAnchorB;if(this.distance=0,"number"==typeof i.distance)this.distance=i.distance;else{var u=a.create(),c=a.create(),d=a.create();a.rotate(u,l,e.angle),a.rotate(c,h,t.angle),a.add(d,t.position,c),a.sub(d,d,u),a.sub(d,d,e.position),this.distance=a.length(d)}var f=new s(e,t,-(n=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce),n);this.equations=[f],this.maxForce=n;var d=a.create(),p=a.create(),m=a.create(),g=this;f.computeGq=function(){var e=this.bodyA,t=this.bodyB,i=e.position,n=t.position;return a.rotate(p,l,e.angle),a.rotate(m,h,t.angle),a.add(d,n,m),a.sub(d,d,p),a.sub(d,d,i),a.length(d)-g.distance},this.setMaxForce(n),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}t.exports=l,l.prototype=new r,l.prototype.constructor=l;var h=a.create(),u=a.create(),c=a.create();l.prototype.update=function(){var e=this.equations[0],t=this.bodyA,i=this.bodyB,n=(this.distance,t.position),r=i.position,s=this.equations[0],o=e.G;a.rotate(u,this.localAnchorA,t.angle),a.rotate(c,this.localAnchorB,i.angle),a.add(h,r,c),a.sub(h,h,u),a.sub(h,h,n),this.position=a.length(h);var l=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(s.maxForce=0,s.minForce=-this.maxForce,this.distance=this.upperLimit,l=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(s.maxForce=this.maxForce,s.minForce=0,this.distance=this.lowerLimit,l=!0),(this.lowerLimitEnabled||this.upperLimitEnabled)&&!l){s.enabled=!1;return}s.enabled=!0,a.normalize(h,h);var d=a.crossLength(u,h),f=a.crossLength(c,h);o[0]=-h[0],o[1]=-h[1],o[2]=-d,o[3]=h[0],o[4]=h[1],o[5]=f},l.prototype.setMaxForce=function(e){var t=this.equations[0];t.minForce=-e,t.maxForce=e},l.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"620aafee58b85d7b":"fl4d5","9a9c76eef024f50":"kSmDE","631888c66aae238e":"geg3A","6fddc2832ed3f9f":"7sQcP"}],"6o1RQ":[function(e,t,i,n){var r=e("b0acfea61f6f4161"),s=e("4a773823483ed44");function a(e,t,i){s.call(this,e,t,-i,i),this.contactPointA=r.create(),this.contactPointB=r.create(),this.t=r.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}e("981c32654f98c292"),t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.setSlipForce=function(e){this.maxForce=e,this.minForce=-e},a.prototype.getSlipForce=function(){return this.maxForce},a.prototype.computeB=function(e,t,i){this.bodyA,this.bodyB;var n=this.contactPointA,s=this.contactPointB,a=this.t,o=this.G;return o[0]=-a[0],o[1]=-a[1],o[2]=-r.crossLength(n,a),o[3]=a[0],o[4]=a[1],o[5]=r.crossLength(s,a),-this.computeGW()*t-i*this.computeGiMf()}},{b0acfea61f6f4161:"geg3A","4a773823483ed44":"kSmDE","981c32654f98c292":"7sQcP"}],dT2Zx:[function(e,t,i,n){var r=e("4ef88f5abe9e17d5"),s=e("f82e12a03081c4a8");function a(){s.apply(this,arguments)}t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.create=function(){return new r},a.prototype.destroy=function(e){return e.bodyA=e.bodyB=null,this}},{"4ef88f5abe9e17d5":"6o1RQ",f82e12a03081c4a8:"5lrfq"}],c2nuE:[function(e,t,i,n){var r=e("73ca40a78930f02d"),s=(e("1e7494b86ac8914c"),e("c98a2cf2d75a2125"));function a(e,t,i){i=i||{},r.call(this,e,t,r.GEAR,i),this.ratio=void 0!==i.ratio?i.ratio:1,this.angle=void 0!==i.angle?i.angle:t.angle-this.ratio*e.angle,i.angle=this.angle,i.ratio=this.ratio,this.equations=[new s(e,t,i)],void 0!==i.maxTorque&&this.setMaxTorque(i.maxTorque)}e("5750fdd4fabd8533"),t.exports=a,a.prototype=new r,a.prototype.constructor=a,a.prototype.update=function(){var e=this.equations[0];e.ratio!==this.ratio&&e.setRatio(this.ratio),e.angle=this.angle},a.prototype.setMaxTorque=function(e){this.equations[0].setMaxTorque(e)},a.prototype.getMaxTorque=function(e){return this.equations[0].maxForce}},{"73ca40a78930f02d":"fl4d5","1e7494b86ac8914c":"kSmDE",c98a2cf2d75a2125:"jaQW1","5750fdd4fabd8533":"geg3A"}],Kc35t:[function(e,t,i,n){var r=e("5da883f1a169a767"),s=e("806c911d364412af"),a=e("860c6aa487698116"),o=e("407b0a2d87bc3b6e");function l(e){s.call(this,e,s.GS),e=e||{},this.iterations=e.iterations||10,this.tolerance=e.tolerance||1e-7,this.arrayStep=30,this.lambda=new a.ARRAY_TYPE(this.arrayStep),this.Bs=new a.ARRAY_TYPE(this.arrayStep),this.invCs=new a.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=void 0!==e.frictionIterations?0:e.frictionIterations,this.usedIterations=0}t.exports=l,l.prototype=new s,l.prototype.constructor=l,l.prototype.solve=function(e,t){this.sortEquations();var i,n,s,h,u=0,c=this.iterations,d=this.frictionIterations,f=this.equations,p=f.length,m=Math.pow(this.tolerance*p,2),g=t.bodies,v=t.bodies.length,y=(r.add,r.set,this.useZeroRHS),b=this.lambda;if(this.usedIterations=0,p)for(var s=0;s!==v;s++){var x=g[s];x.updateSolveMassProperties()}b.length<p&&(b=this.lambda=new a.ARRAY_TYPE(p+this.arrayStep),this.Bs=new a.ARRAY_TYPE(p+this.arrayStep),this.invCs=new a.ARRAY_TYPE(p+this.arrayStep)),function(e){for(var t=e.length;t--;)e[t]=0}(b);for(var E=this.invCs,w=this.Bs,b=this.lambda,s=0;s!==f.length;s++){var i=f[s];(i.timeStep!==e||i.needsUpdate)&&(i.timeStep=e,i.update()),w[s]=i.computeB(i.a,i.b,e),E[s]=i.computeInvC(i.epsilon)}if(0!==p){for(s=0;s!==v;s++){var x=g[s];x.resetConstraintVelocity()}if(d){for(u=0;u!==d;u++){for(h=0,n=0;h!==p;h++){i=f[h];var S=l.iterateEquation(h,i,i.epsilon,w,E,b,y,e,u);n+=Math.abs(S)}if(this.usedIterations++,n*n<=m)break}for(l.updateMultipliers(f,b,1/e),h=0;h!==p;h++){var T=f[h];if(T instanceof o){for(var A=0,_=0;_!==T.contactEquations.length;_++)A+=T.contactEquations[_].multiplier;A*=T.frictionCoefficient/T.contactEquations.length,T.maxForce=A,T.minForce=-A}}}for(u=0;u!==c;u++){for(h=0,n=0;h!==p;h++){i=f[h];var S=l.iterateEquation(h,i,i.epsilon,w,E,b,y,e,u);n+=Math.abs(S)}if(this.usedIterations++,n*n<=m)break}for(s=0;s!==v;s++)g[s].addConstraintVelocity();l.updateMultipliers(f,b,1/e)}},l.updateMultipliers=function(e,t,i){for(var n=e.length;n--;)e[n].multiplier=t[n]*i},l.iterateEquation=function(e,t,i,n,r,s,a,o,l){var h=n[e],u=r[e],c=s[e],d=t.computeGWlambda(),f=t.maxForce,p=t.minForce;a&&(h=0);var m=u*(h-d-i*c),g=c+m;return g<p*o?m=p*o-c:g>f*o&&(m=f*o-c),s[e]+=m,t.addToWlambda(m),m}},{"5da883f1a169a767":"geg3A","806c911d364412af":"cslpB","860c6aa487698116":"7sQcP","407b0a2d87bc3b6e":"6o1RQ"}],cslpB:[function(e,t,i,n){e("ead7d6ca55bdfe1c");var r=e("d16ea32444765393");function s(e,t){e=e||{},r.call(this),this.type=t,this.equations=[],this.equationSortFunction=e.equationSortFunction||!1}t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.solve=function(e,t){throw Error("Solver.solve should be implemented by subclasses!")};var a={bodies:[]};s.prototype.solveIsland=function(e,t){this.removeAllEquations(),t.equations.length&&(this.addEquations(t.equations),a.bodies.length=0,t.getBodies(a.bodies),a.bodies.length&&this.solve(e,a))},s.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},s.prototype.addEquation=function(e){e.enabled&&this.equations.push(e)},s.prototype.addEquations=function(e){for(var t=0,i=e.length;t!==i;t++){var n=e[t];n.enabled&&this.equations.push(n)}},s.prototype.removeEquation=function(e){var t=this.equations.indexOf(e);-1!==t&&this.equations.splice(t,1)},s.prototype.removeAllEquations=function(){this.equations.length=0},s.GS=1,s.ISLAND=2},{ead7d6ca55bdfe1c:"7sQcP",d16ea32444765393:"3wc90"}],g5PHm:[function(e,t,i,n){var r=e("8b74883bebf2335f"),s=e("2a849db0ba73e95d");function a(e){if(Array.isArray(arguments[0])){if(e={heights:arguments[0]},"object"==typeof arguments[1])for(var t in arguments[1])e[t]=arguments[1][t];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}e=e||{},this.heights=e.heights?e.heights.slice(0):[],this.maxValue=e.maxValue||null,this.minValue=e.minValue||null,this.elementWidth=e.elementWidth||.1,(void 0===e.maxValue||void 0===e.minValue)&&this.updateMaxMinValues(),e.type=r.HEIGHTFIELD,r.call(this,e)}e("2dc7f9a400756551"),t.exports=a,a.prototype=new r,a.prototype.constructor=a,a.prototype.updateMaxMinValues=function(){for(var e=this.heights,t=e[0],i=e[0],n=0;n!==e.length;n++){var r=e[n];r>t&&(t=r),r<i&&(i=r)}this.maxValue=t,this.minValue=i},a.prototype.computeMomentOfInertia=function(e){return Number.MAX_VALUE},a.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},a.prototype.updateArea=function(){for(var e=this.heights,t=0,i=0;i<e.length-1;i++)t+=(e[i]+e[i+1])/2*this.elementWidth;this.area=t};var o=[s.create(),s.create(),s.create(),s.create()];a.prototype.computeAABB=function(e,t,i){s.set(o[0],0,this.maxValue),s.set(o[1],this.elementWidth*this.heights.length,this.maxValue),s.set(o[2],this.elementWidth*this.heights.length,this.minValue),s.set(o[3],0,this.minValue),e.setFromPoints(o,t,i)},a.prototype.getLineSegment=function(e,t,i){var n=this.heights,r=this.elementWidth;s.set(e,i*r,n[i]),s.set(t,(i+1)*r,n[i+1])},a.prototype.getSegmentIndex=function(e){return Math.floor(e[0]/this.elementWidth)},a.prototype.getClampedSegmentIndex=function(e){var t=this.getSegmentIndex(e);return Math.min(this.heights.length,Math.max(t,0))},s.create();var l=s.create(),h=s.create(),u=s.create(),c=s.create(),d=s.create();s.fromValues(0,1),a.prototype.raycast=function(e,t,i,n){var r=t.from,a=t.to;t.direction,s.toLocalFrame(c,r,i,n),s.toLocalFrame(d,a,i,n);var o=this.getClampedSegmentIndex(c),f=this.getClampedSegmentIndex(d);if(o>f){var p=o;o=f,f=p}for(var m=0;m<this.heights.length-1;m++){this.getLineSegment(h,u,m);var g=s.getLineSegmentsIntersectionFraction(c,d,h,u);if(g>=0&&(s.sub(l,u,h),s.rotate(l,l,n+Math.PI/2),s.normalize(l,l),t.reportIntersection(e,g,l,-1),e.shouldStop(t)))return}}},{"8b74883bebf2335f":"fyiLV","2a849db0ba73e95d":"geg3A","2dc7f9a400756551":"7sQcP"}],"3e8Uk":[function(e,t,i,n){var r=e("e0cff235fc0213eb"),s=e("f3353cee691d66a4");function a(e){"number"==typeof arguments[0]&&(e={length:arguments[0]},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),e=e||{},this.length=e.length||1,e.type=r.LINE,r.call(this,e)}t.exports=a,a.prototype=new r,a.prototype.constructor=a,a.prototype.computeMomentOfInertia=function(e){return e*Math.pow(this.length,2)/12},a.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var o=[s.create(),s.create()];a.prototype.computeAABB=function(e,t,i){var n=this.length/2;s.set(o[0],-n,0),s.set(o[1],n,0),e.setFromPoints(o,t,i,0)},s.create();var l=s.create(),h=s.create(),u=s.create(),c=s.fromValues(0,1);a.prototype.raycast=function(e,t,i,n){var r=t.from,a=t.to,o=this.length/2;s.set(h,-o,0),s.set(u,o,0),s.toGlobalFrame(h,h,i,n),s.toGlobalFrame(u,u,i,n);var d=s.getLineSegmentsIntersectionFraction(h,u,r,a);d>=0&&(s.rotate(l,c,n),t.reportIntersection(e,d,l,-1))}},{e0cff235fc0213eb:"fyiLV",f3353cee691d66a4:"geg3A"}],"3C7H6":[function(e,t,i,n){var r=e("97b5dc61d97fd4de"),s=e("48200108ddae2806"),a=e("6dd72d87868993d0");function o(e,t,i){i=i||{},r.call(this,e,t,r.LOCK,i);var n=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce;i.localAngleB;var o=new a(e,t,-n,n),l=new a(e,t,-n,n),h=new a(e,t,-n,n),u=s.create(),c=s.create(),d=this;o.computeGq=function(){return s.rotate(u,d.localOffsetB,e.angle),s.sub(c,t.position,e.position),s.sub(c,c,u),c[0]},l.computeGq=function(){return s.rotate(u,d.localOffsetB,e.angle),s.sub(c,t.position,e.position),s.sub(c,c,u),c[1]};var f=s.create(),p=s.create();h.computeGq=function(){return s.rotate(f,d.localOffsetB,t.angle-d.localAngleB),s.scale(f,f,-1),s.sub(c,e.position,t.position),s.add(c,c,f),s.rotate(p,f,-Math.PI/2),s.normalize(p,p),s.dot(c,p)},this.localOffsetB=s.create(),i.localOffsetB?s.copy(this.localOffsetB,i.localOffsetB):(s.sub(this.localOffsetB,t.position,e.position),s.rotate(this.localOffsetB,this.localOffsetB,-e.angle)),this.localAngleB=0,"number"==typeof i.localAngleB?this.localAngleB=i.localAngleB:this.localAngleB=t.angle-e.angle,this.equations.push(o,l,h),this.setMaxForce(n)}t.exports=o,o.prototype=new r,o.prototype.constructor=o,o.prototype.setMaxForce=function(e){for(var t=this.equations,i=0;i<this.equations.length;i++)t[i].maxForce=e,t[i].minForce=-e},o.prototype.getMaxForce=function(){return this.equations[0].maxForce};var l=s.create(),h=s.create(),u=s.create(),c=s.fromValues(1,0),d=s.fromValues(0,1);o.prototype.update=function(){var e=this.equations[0],t=this.equations[1],i=this.equations[2],n=this.bodyA,r=this.bodyB;s.rotate(l,this.localOffsetB,n.angle),s.rotate(h,this.localOffsetB,r.angle-this.localAngleB),s.scale(h,h,-1),s.rotate(u,h,Math.PI/2),s.normalize(u,u),e.G[0]=-1,e.G[1]=0,e.G[2]=-s.crossLength(l,c),e.G[3]=1,t.G[0]=0,t.G[1]=-1,t.G[2]=-s.crossLength(l,d),t.G[4]=1,i.G[0]=-u[0],i.G[1]=-u[1],i.G[3]=u[0],i.G[4]=u[1],i.G[5]=s.crossLength(h,u)}},{"97b5dc61d97fd4de":"fl4d5","48200108ddae2806":"geg3A","6dd72d87868993d0":"kSmDE"}],bsKDm:[function(e,t,i,n){var r=e("d204b374af39e639"),s=r.sub,a=r.add,o=r.dot,l=(e("20933053438ebab6"),e("d95153d3fb05b14")),h=e("f0516d5454f63cd7"),u=e("bfdf9baf3e6a5d5e"),c=e("bcecfc97841fc70f"),d=(e("4364ae5edbd1b6f2"),e("d45d0e6691fce04d"),e("ae87cd0523cc9ee0")),f=e("25f1c61bf04b8848"),p=e("6ee63ef2e0948d6f"),m=(e("390f12b6d811410f"),e("4ace90d86ba1ce1"));t.exports=N;var g=r.fromValues(0,1),v=r.fromValues(0,0),y=r.fromValues(0,0),b=r.fromValues(0,0),x=r.fromValues(0,0),E=r.fromValues(0,0),w=r.fromValues(0,0),S=r.fromValues(0,0),T=r.fromValues(0,0),A=r.fromValues(0,0),_=r.fromValues(0,0),C=r.fromValues(0,0),I=r.fromValues(0,0),P=r.fromValues(0,0),R=r.fromValues(0,0),O=r.fromValues(0,0),M=r.fromValues(0,0),L=r.fromValues(0,0),D=r.fromValues(0,0),k=[];function N(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new l({size:32}),this.frictionEquationPool=new h({size:64}),this.restitution=0,this.stiffness=c.DEFAULT_STIFFNESS,this.relaxation=c.DEFAULT_RELAXATION,this.frictionStiffness=c.DEFAULT_STIFFNESS,this.frictionRelaxation=c.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new u,this.contactSkinSize=.01}var F=r.create(),B=r.create();function U(e,t){r.set(e.vertices[0],-(.5*t.length),-t.radius),r.set(e.vertices[1],.5*t.length,-t.radius),r.set(e.vertices[2],.5*t.length,t.radius),r.set(e.vertices[3],-(.5*t.length),t.radius)}N.prototype.bodiesOverlap=function(e,t){for(var i=0,n=e.shapes.length;i!==n;i++){var r=e.shapes[i];e.toWorldFrame(F,r.position);for(var s=0,a=t.shapes.length;s!==a;s++){var o=t.shapes[s];if(t.toWorldFrame(B,o.position),this[r.type|o.type](e,r,F,r.angle+e.angle,t,o,B,o.angle+t.angle,!0))return!0}}return!1},N.prototype.collidedLastStep=function(e,t){var i=0|e.id,n=0|t.id;return!!this.collidingBodiesLastStep.get(i,n)},N.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var e=this.contactEquations,t=e.length;t--;){var i=e[t],n=i.bodyA.id,r=i.bodyB.id;this.collidingBodiesLastStep.set(n,r,!0)}for(var s=this.contactEquations,a=this.frictionEquations,o=0;o<s.length;o++)this.contactEquationPool.release(s[o]);for(var o=0;o<a.length;o++)this.frictionEquationPool.release(a[o]);this.contactEquations.length=this.frictionEquations.length=0},N.prototype.createContactEquation=function(e,t,i,n){var r=this.contactEquationPool.get();return r.bodyA=e,r.bodyB=t,r.shapeA=i,r.shapeB=n,r.restitution=this.restitution,r.firstImpact=!this.collidedLastStep(e,t),r.stiffness=this.stiffness,r.relaxation=this.relaxation,r.needsUpdate=!0,r.enabled=this.enabledEquations,r.offset=this.contactSkinSize,r},N.prototype.createFrictionEquation=function(e,t,i,n){var r=this.frictionEquationPool.get();return r.bodyA=e,r.bodyB=t,r.shapeA=i,r.shapeB=n,r.setSlipForce(this.slipForce),r.frictionCoefficient=this.frictionCoefficient,r.relativeVelocity=this.surfaceVelocity,r.enabled=this.enabledEquations,r.needsUpdate=!0,r.stiffness=this.frictionStiffness,r.relaxation=this.frictionRelaxation,r.contactEquations.length=0,r},N.prototype.createFrictionFromContact=function(e){var t=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB);return r.copy(t.contactPointA,e.contactPointA),r.copy(t.contactPointB,e.contactPointB),r.rotate90cw(t.t,e.normalA),t.contactEquations.push(e),t},N.prototype.createFrictionFromAverage=function(e){var t=this.contactEquations[this.contactEquations.length-1],i=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB),n=t.bodyA;t.bodyB,r.set(i.contactPointA,0,0),r.set(i.contactPointB,0,0),r.set(i.t,0,0);for(var s=0;s!==e;s++)(t=this.contactEquations[this.contactEquations.length-1-s]).bodyA===n?(r.add(i.t,i.t,t.normalA),r.add(i.contactPointA,i.contactPointA,t.contactPointA),r.add(i.contactPointB,i.contactPointB,t.contactPointB)):(r.sub(i.t,i.t,t.normalA),r.add(i.contactPointA,i.contactPointA,t.contactPointB),r.add(i.contactPointB,i.contactPointB,t.contactPointA)),i.contactEquations.push(t);var a=1/e;return r.scale(i.contactPointA,i.contactPointA,a),r.scale(i.contactPointB,i.contactPointB,a),r.normalize(i.t,i.t),r.rotate90cw(i.t,i.t),i},N.prototype[p.LINE|p.CONVEX]=N.prototype.convexLine=function(e,t,i,n,r,s,a,o,l){return!l&&0},N.prototype[p.LINE|p.BOX]=N.prototype.lineBox=function(e,t,i,n,r,s,a,o,l){return!l&&0};var j=new m({width:1,height:1}),V=r.create();N.prototype[p.CAPSULE|p.CONVEX]=N.prototype[p.CAPSULE|p.BOX]=N.prototype.convexCapsule=function(e,t,i,n,s,a,o,l,h){r.set(V,a.length/2,0),r.rotate(V,V,l),r.add(V,V,o);var u=this.circleConvex(s,a,V,l,e,t,i,n,h,a.radius);r.set(V,-a.length/2,0),r.rotate(V,V,l),r.add(V,V,o);var c=this.circleConvex(s,a,V,l,e,t,i,n,h,a.radius);return!!h&&(!!u||!!c)||(U(j,a),this.convexConvex(e,t,i,n,s,j,o,l,h)+u+c)},N.prototype[p.CAPSULE|p.LINE]=N.prototype.lineCapsule=function(e,t,i,n,r,s,a,o,l){return!l&&0};var G=r.create(),W=r.create(),z=new m({width:1,height:1});N.prototype[p.CAPSULE|p.CAPSULE]=N.prototype.capsuleCapsule=function(e,t,i,n,s,a,o,l,h){for(var u,c=0,d=0;d<2;d++){r.set(G,(0===d?-1:1)*t.length/2,0),r.rotate(G,G,n),r.add(G,G,i);for(var f=0;f<2;f++){r.set(W,(0===f?-1:1)*a.length/2,0),r.rotate(W,W,l),r.add(W,W,o),this.enableFrictionReduction&&(u=this.enableFriction,this.enableFriction=!1);var p=this.circleCircle(e,t,G,n,s,a,W,l,h,t.radius,a.radius);if(this.enableFrictionReduction&&(this.enableFriction=u),h&&p)return!0;c+=p}}this.enableFrictionReduction&&(u=this.enableFriction,this.enableFriction=!1),U(z,t);var m=this.convexCapsule(e,z,i,n,s,a,o,l,h);if(this.enableFrictionReduction&&(this.enableFriction=u),h&&m)return!0;if(c+=m,this.enableFrictionReduction){var u=this.enableFriction;this.enableFriction=!1}U(z,a);var g=this.convexCapsule(s,z,o,l,e,t,i,n,h);return this.enableFrictionReduction&&(this.enableFriction=u),!!h&&!!g||(c+=g,this.enableFrictionReduction&&c&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(c)),c)},N.prototype[p.LINE|p.LINE]=N.prototype.lineLine=function(e,t,i,n,r,s,a,o,l){return!l&&0},N.prototype[p.PLANE|p.LINE]=N.prototype.planeLine=function(e,t,i,n,l,h,u,c,d){var f=0;r.set(v,-h.length/2,0),r.set(y,h.length/2,0),r.rotate(b,v,c),r.rotate(x,y,c),a(b,b,u),a(x,x,u),r.copy(v,b),r.copy(y,x),s(E,y,v),r.normalize(w,E),r.rotate90cw(A,w),r.rotate(T,g,n),k[0]=v,k[1]=y;for(var p=0;p<k.length;p++){var m=k[p];s(S,m,i);var _=o(S,T);if(_<0){if(d)return!0;var C=this.createContactEquation(e,l,t,h);f++,r.copy(C.normalA,T),r.normalize(C.normalA,C.normalA),r.scale(S,T,_),s(C.contactPointA,m,S),s(C.contactPointA,C.contactPointA,e.position),s(C.contactPointB,m,u),a(C.contactPointB,C.contactPointB,u),s(C.contactPointB,C.contactPointB,l.position),this.contactEquations.push(C),!this.enableFrictionReduction&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(C))}}return!d&&(!this.enableFrictionReduction&&f&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(f)),f)},N.prototype[p.PARTICLE|p.CAPSULE]=N.prototype.particleCapsule=function(e,t,i,n,r,s,a,o,l){return this.circleLine(e,t,i,n,r,s,a,o,l,s.radius,0)},N.prototype[p.CIRCLE|p.LINE]=N.prototype.circleLine=function(e,t,i,n,l,h,u,c,d,f,p){var f=f||0,p=void 0!==p?p:t.radius;r.set(T,-h.length/2,0),r.set(A,h.length/2,0),r.rotate(_,T,c),r.rotate(C,A,c),a(_,_,u),a(C,C,u),r.copy(T,_),r.copy(A,C),s(w,A,T),r.normalize(S,w),r.rotate90cw(E,S),s(I,i,T);var m=o(I,E);s(x,T,u),s(P,i,u);var g=p+f;if(Math.abs(m)<g){r.scale(v,E,m),s(b,i,v),r.scale(y,E,o(E,P)),r.normalize(y,y),r.scale(y,y,f),a(b,b,y);var O=o(S,b),M=o(S,T),L=o(S,A);if(O>M&&O<L){if(d)return!0;var D=this.createContactEquation(e,l,t,h);return r.scale(D.normalA,v,-1),r.normalize(D.normalA,D.normalA),r.scale(D.contactPointA,D.normalA,p),a(D.contactPointA,D.contactPointA,i),s(D.contactPointA,D.contactPointA,e.position),s(D.contactPointB,b,u),a(D.contactPointB,D.contactPointB,u),s(D.contactPointB,D.contactPointB,l.position),this.contactEquations.push(D),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(D)),1}}k[0]=T,k[1]=A;for(var N=0;N<k.length;N++){var F=k[N];if(s(I,F,i),r.squaredLength(I)<Math.pow(g,2)){if(d)return!0;var D=this.createContactEquation(e,l,t,h);return r.copy(D.normalA,I),r.normalize(D.normalA,D.normalA),r.scale(D.contactPointA,D.normalA,p),a(D.contactPointA,D.contactPointA,i),s(D.contactPointA,D.contactPointA,e.position),s(D.contactPointB,F,u),r.scale(R,D.normalA,-f),a(D.contactPointB,D.contactPointB,R),a(D.contactPointB,D.contactPointB,u),s(D.contactPointB,D.contactPointB,l.position),this.contactEquations.push(D),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(D)),1}}return 0},N.prototype[p.CIRCLE|p.CAPSULE]=N.prototype.circleCapsule=function(e,t,i,n,r,s,a,o,l){return this.circleLine(e,t,i,n,r,s,a,o,l,s.radius)},N.prototype[p.CIRCLE|p.CONVEX]=N.prototype[p.CIRCLE|p.BOX]=N.prototype.circleConvex=function(e,t,i,n,o,l,h,u,c,d){for(var d="number"==typeof d?d:t.radius,f=!1,p=Number.MAX_VALUE,m=l.vertices,g=0;g!==m.length+1;g++){var w=m[g%m.length],S=m[(g+1)%m.length];if(r.rotate(v,w,u),r.rotate(y,S,u),a(v,v,h),a(y,y,h),s(b,y,v),r.normalize(x,b),r.rotate90cw(E,x),r.scale(R,E,-t.radius),a(R,R,i),K(R,l,h,u)){r.sub(O,v,R);var T=Math.abs(r.dot(O,E));T<p&&(r.copy(M,R),p=T,r.scale(P,E,T),r.add(P,P,R),f=!0)}}if(f){if(c)return!0;var A=this.createContactEquation(e,o,t,l);return r.sub(A.normalA,M,i),r.normalize(A.normalA,A.normalA),r.scale(A.contactPointA,A.normalA,d),a(A.contactPointA,A.contactPointA,i),s(A.contactPointA,A.contactPointA,e.position),s(A.contactPointB,P,h),a(A.contactPointB,A.contactPointB,h),s(A.contactPointB,A.contactPointB,o.position),this.contactEquations.push(A),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(A)),1}if(d>0)for(var g=0;g<m.length;g++){var I=m[g];if(r.rotate(C,I,u),a(C,C,h),s(_,C,i),r.squaredLength(_)<Math.pow(d,2)){if(c)return!0;var A=this.createContactEquation(e,o,t,l);return r.copy(A.normalA,_),r.normalize(A.normalA,A.normalA),r.scale(A.contactPointA,A.normalA,d),a(A.contactPointA,A.contactPointA,i),s(A.contactPointA,A.contactPointA,e.position),s(A.contactPointB,C,h),a(A.contactPointB,A.contactPointB,h),s(A.contactPointB,A.contactPointB,o.position),this.contactEquations.push(A),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(A)),1}}return 0};var Y=r.create(),H=r.create(),X=r.create(),q=r.create();function K(e,t,i,n){for(var o=t.vertices,l=null,h=0;h!==o.length+1;h++){var u=o[h%o.length],c=o[(h+1)%o.length];r.rotate(Y,u,n),r.rotate(H,c,n),a(Y,Y,i),a(H,H,i),s(X,Y,e),s(q,H,e);var d=r.crossLength(X,q);if(null===l&&(l=d),d*l<=0)return!1;l=d}return!0}N.prototype[p.PARTICLE|p.CONVEX]=N.prototype[p.PARTICLE|p.BOX]=N.prototype.particleConvex=function(e,t,i,n,l,h,u,c,d){var f=Number.MAX_VALUE,p=!1,m=h.vertices;if(!K(i,h,u,c))return 0;if(d)return!0;for(var g=0;g!==m.length+1;g++){var T=m[g%m.length],A=m[(g+1)%m.length];r.rotate(v,T,c),r.rotate(y,A,c),a(v,v,u),a(y,y,u),s(b,y,v),r.normalize(x,b),r.rotate90cw(E,x),s(_,i,v),o(_,E),s(w,v,u),s(S,i,u),r.sub(L,v,i);var C=Math.abs(r.dot(L,E));C<f&&(f=C,r.scale(P,E,C),r.add(P,P,i),r.copy(D,E),p=!0)}if(p){var I=this.createContactEquation(e,l,t,h);return r.scale(I.normalA,D,-1),r.normalize(I.normalA,I.normalA),r.set(I.contactPointA,0,0),a(I.contactPointA,I.contactPointA,i),s(I.contactPointA,I.contactPointA,e.position),s(I.contactPointB,P,u),a(I.contactPointB,I.contactPointB,u),s(I.contactPointB,I.contactPointB,l.position),this.contactEquations.push(I),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(I)),1}return 0},N.prototype[p.CIRCLE]=N.prototype.circleCircle=function(e,t,i,n,o,l,h,u,c,d,f){var d=d||t.radius,f=f||l.radius;s(v,i,h);var p=d+f;if(r.squaredLength(v)>Math.pow(p,2))return 0;if(c)return!0;var m=this.createContactEquation(e,o,t,l);return s(m.normalA,h,i),r.normalize(m.normalA,m.normalA),r.scale(m.contactPointA,m.normalA,d),r.scale(m.contactPointB,m.normalA,-f),a(m.contactPointA,m.contactPointA,i),s(m.contactPointA,m.contactPointA,e.position),a(m.contactPointB,m.contactPointB,h),s(m.contactPointB,m.contactPointB,o.position),this.contactEquations.push(m),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(m)),1},N.prototype[p.PLANE|p.CONVEX]=N.prototype[p.PLANE|p.BOX]=N.prototype.planeConvex=function(e,t,i,n,l,h,u,c,d){var f=0;r.rotate(y,g,n);for(var p=0;p!==h.vertices.length;p++){var m=h.vertices[p];if(r.rotate(v,m,c),a(v,v,u),s(b,v,i),0>=o(b,y)){if(d)return!0;f++;var x=this.createContactEquation(e,l,t,h);s(b,v,i),r.copy(x.normalA,y);var E=o(b,x.normalA);r.scale(b,x.normalA,E),s(x.contactPointB,v,l.position),s(x.contactPointA,v,b),s(x.contactPointA,x.contactPointA,e.position),this.contactEquations.push(x),!this.enableFrictionReduction&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(x))}}return this.enableFrictionReduction&&this.enableFriction&&f&&this.frictionEquations.push(this.createFrictionFromAverage(f)),f},N.prototype[p.PARTICLE|p.PLANE]=N.prototype.particlePlane=function(e,t,i,n,a,l,h,u,c){u=u||0,s(v,i,h),r.rotate(y,g,u);var d=o(v,y);if(d>0)return 0;if(c)return!0;var f=this.createContactEquation(a,e,l,t);return r.copy(f.normalA,y),r.scale(v,f.normalA,d),s(f.contactPointA,i,v),s(f.contactPointA,f.contactPointA,a.position),s(f.contactPointB,i,e.position),this.contactEquations.push(f),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(f)),1},N.prototype[p.CIRCLE|p.PARTICLE]=N.prototype.circleParticle=function(e,t,i,n,o,l,h,u,c){if(s(v,h,i),r.squaredLength(v)>Math.pow(t.radius,2))return 0;if(c)return!0;var d=this.createContactEquation(e,o,t,l);return r.copy(d.normalA,v),r.normalize(d.normalA,d.normalA),r.scale(d.contactPointA,d.normalA,t.radius),a(d.contactPointA,d.contactPointA,i),s(d.contactPointA,d.contactPointA,e.position),s(d.contactPointB,h,o.position),this.contactEquations.push(d),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(d)),1};var $=new d({radius:1}),Q=r.create(),J=r.create();r.create(),N.prototype[p.PLANE|p.CAPSULE]=N.prototype.planeCapsule=function(e,t,i,n,s,o,l,h,u){r.set(Q,-o.length/2,0),r.rotate(Q,Q,h),a(Q,Q,l),r.set(J,o.length/2,0),r.rotate(J,J,h),a(J,J,l),$.radius=o.radius,this.enableFrictionReduction&&(c=this.enableFriction,this.enableFriction=!1);var c,d=this.circlePlane(s,$,Q,0,e,t,i,n,u),f=this.circlePlane(s,$,J,0,e,t,i,n,u);if(this.enableFrictionReduction&&(this.enableFriction=c),u)return d||f;var p=d+f;return this.enableFrictionReduction&&p&&this.frictionEquations.push(this.createFrictionFromAverage(p)),p},N.prototype[p.CIRCLE|p.PLANE]=N.prototype.circlePlane=function(e,t,i,n,l,h,u,c,d){var f=c;f=f||0,s(v,i,u),r.rotate(y,g,f);var p=o(y,v);if(p>t.radius)return 0;if(d)return!0;var m=this.createContactEquation(l,e,h,t);return r.copy(m.normalA,y),r.scale(m.contactPointB,m.normalA,-t.radius),a(m.contactPointB,m.contactPointB,i),s(m.contactPointB,m.contactPointB,e.position),r.scale(b,m.normalA,p),s(m.contactPointA,v,b),a(m.contactPointA,m.contactPointA,u),s(m.contactPointA,m.contactPointA,l.position),this.contactEquations.push(m),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(m)),1},N.prototype[p.CONVEX]=N.prototype[p.CONVEX|p.BOX]=N.prototype[p.BOX]=N.prototype.convexConvex=function(e,t,i,n,l,h,u,c,d,f){var p=0,f="number"==typeof f?f:0;if(!N.findSeparatingAxis(t,i,n,h,u,c,v))return 0;s(T,u,i),o(v,T)>0&&r.scale(v,v,-1);var m=N.getClosestEdge(t,n,v,!0),g=N.getClosestEdge(h,c,v);if(-1===m||-1===g)return 0;for(var w=0;w<2;w++){var _,C=m,I=g,P=t,R=h,O=i,M=u,L=n,D=c,k=e,F=l;0===w&&(_=C,C=I,I=_,_=P,P=R,R=_,_=O,O=M,M=_,_=L,L=D,D=_,_=k,k=F,F=_);for(var B=I;B<I+2;B++){var U=R.vertices[(B+R.vertices.length)%R.vertices.length];r.rotate(y,U,D),a(y,y,M);for(var j=0,V=C-1;V<C+2;V++){var G=P.vertices[(V+P.vertices.length)%P.vertices.length],W=P.vertices[(V+1+P.vertices.length)%P.vertices.length];r.rotate(b,G,L),r.rotate(x,W,L),a(b,b,O),a(x,x,O),s(E,x,b),r.rotate90cw(A,E),r.normalize(A,A),s(T,y,b);var z=o(A,T);(V===C&&z<=f||V!==C&&z<=0)&&j++}if(j>=3){if(d)return!0;var Y=this.createContactEquation(k,F,P,R);p++;var G=P.vertices[C%P.vertices.length],W=P.vertices[(C+1)%P.vertices.length];r.rotate(b,G,L),r.rotate(x,W,L),a(b,b,O),a(x,x,O),s(E,x,b),r.rotate90cw(Y.normalA,E),r.normalize(Y.normalA,Y.normalA),s(T,y,b);var z=o(Y.normalA,T);r.scale(S,Y.normalA,z),s(Y.contactPointA,y,O),s(Y.contactPointA,Y.contactPointA,S),a(Y.contactPointA,Y.contactPointA,O),s(Y.contactPointA,Y.contactPointA,k.position),s(Y.contactPointB,y,M),a(Y.contactPointB,Y.contactPointB,M),s(Y.contactPointB,Y.contactPointB,F.position),this.contactEquations.push(Y),!this.enableFrictionReduction&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Y))}}}return this.enableFrictionReduction&&this.enableFriction&&p&&this.frictionEquations.push(this.createFrictionFromAverage(p)),p};var Z=r.fromValues(0,0);N.projectConvexOntoAxis=function(e,t,i,n,s){var a,l=null,h=null;r.rotate(Z,n,-i);for(var u=0;u<e.vertices.length;u++)a=o(e.vertices[u],Z),(null===l||a>l)&&(l=a),(null===h||a<h)&&(h=a);if(h>l){var c=h;h=l,l=c}var d=o(t,n);r.set(s,h+d,l+d)};var ee=r.fromValues(0,0),et=r.fromValues(0,0),ei=r.fromValues(0,0),en=r.fromValues(0,0),er=r.fromValues(0,0),es=r.fromValues(0,0);N.findSeparatingAxis=function(e,t,i,n,a,o,l){var h=null,u=!1,c=!1;if(e instanceof m&&n instanceof m)for(var d=0;2!==d;d++){var f=e,p=i;1===d&&(f=n,p=o);for(var g=0;2!==g;g++){0===g?r.set(en,0,1):1===g&&r.set(en,1,0),0!==p&&r.rotate(en,en,p),N.projectConvexOntoAxis(e,t,i,en,er),N.projectConvexOntoAxis(n,a,o,en,es);var v=er,y=es;er[0]>es[0]&&(y=er,v=es);var b=y[0]-v[1];u=b<=0,(null===h||b>h)&&(r.copy(l,en),h=b,c=u)}}else for(var d=0;2!==d;d++){var f=e,p=i;1===d&&(f=n,p=o);for(var g=0;g!==f.vertices.length;g++){r.rotate(et,f.vertices[g],p),r.rotate(ei,f.vertices[(g+1)%f.vertices.length],p),s(ee,ei,et),r.rotate90cw(en,ee),r.normalize(en,en),N.projectConvexOntoAxis(e,t,i,en,er),N.projectConvexOntoAxis(n,a,o,en,es);var v=er,y=es;er[0]>es[0]&&(y=er,v=es);var b=y[0]-v[1];u=b<=0,(null===h||b>h)&&(r.copy(l,en),h=b,c=u)}}return c};var ea=r.fromValues(0,0),eo=r.fromValues(0,0),el=r.fromValues(0,0);N.getClosestEdge=function(e,t,i,n){r.rotate(ea,i,-t),n&&r.scale(ea,ea,-1);for(var a=-1,l=e.vertices.length,h=-1,u=0;u!==l;u++){s(eo,e.vertices[(u+1)%l],e.vertices[u%l]),r.rotate90cw(el,eo),r.normalize(el,el);var c=o(el,ea);(-1===a||c>h)&&(a=u%l,h=c)}return a};var eh=r.create(),eu=r.create(),ec=r.create(),ed=r.create(),ef=r.create(),ep=r.create(),em=r.create();N.prototype[p.CIRCLE|p.HEIGHTFIELD]=N.prototype.circleHeightfield=function(e,t,i,n,o,l,h,u,c,d){var f=l.heights,d=d||t.radius,p=l.elementWidth,m=Math.floor((i[0]-d-h[0])/p),g=Math.ceil((i[0]+d-h[0])/p);m<0&&(m=0),g>=f.length&&(g=f.length-1);for(var v=f[m],y=f[g],b=m;b<g;b++)f[b]<y&&(y=f[b]),f[b]>v&&(v=f[b]);if(i[1]-d>v)return!c&&0;for(var x=!1,b=m;b<g;b++){r.set(ec,b*p,f[b]),r.set(ed,(b+1)*p,f[b+1]),r.add(ec,ec,h),r.add(ed,ed,h),r.sub(ep,ed,ec),r.rotate(ep,ep,Math.PI/2),r.normalize(ep,ep),r.scale(eh,ep,-d),r.add(eh,eh,i),r.sub(eu,eh,ec);var E=r.dot(eu,ep);if(eh[0]>=ec[0]&&eh[0]<ed[0]&&E<=0){if(c)return!0;x=!0,r.scale(eu,ep,-E),r.add(ef,eh,eu),r.copy(em,ep);var w=this.createContactEquation(o,e,l,t);r.copy(w.normalA,em),r.scale(w.contactPointB,w.normalA,-d),a(w.contactPointB,w.contactPointB,i),s(w.contactPointB,w.contactPointB,e.position),r.copy(w.contactPointA,ef),r.sub(w.contactPointA,w.contactPointA,o.position),this.contactEquations.push(w),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(w))}}if(x=!1,d>0){for(var b=m;b<=g;b++)if(r.set(ec,b*p,f[b]),r.add(ec,ec,h),r.sub(eu,i,ec),r.squaredLength(eu)<Math.pow(d,2)){if(c)return!0;x=!0;var w=this.createContactEquation(o,e,l,t);r.copy(w.normalA,eu),r.normalize(w.normalA,w.normalA),r.scale(w.contactPointB,w.normalA,-d),a(w.contactPointB,w.contactPointB,i),s(w.contactPointB,w.contactPointB,e.position),s(w.contactPointA,ec,h),a(w.contactPointA,w.contactPointA,h),s(w.contactPointA,w.contactPointA,o.position),this.contactEquations.push(w),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(w))}}return x?1:0};var eg=r.create(),ev=r.create(),ey=r.create(),eb=new f({vertices:[r.create(),r.create(),r.create(),r.create()]});N.prototype[p.BOX|p.HEIGHTFIELD]=N.prototype[p.CONVEX|p.HEIGHTFIELD]=N.prototype.convexHeightfield=function(e,t,i,n,s,a,o,l,h){var u=a.heights,c=a.elementWidth,d=Math.floor((e.aabb.lowerBound[0]-o[0])/c),f=Math.ceil((e.aabb.upperBound[0]-o[0])/c);d<0&&(d=0),f>=u.length&&(f=u.length-1);for(var p=u[d],m=u[f],g=d;g<f;g++)u[g]<m&&(m=u[g]),u[g]>p&&(p=u[g]);if(e.aabb.lowerBound[1]>p)return!h&&0;for(var v=0,g=d;g<f;g++)r.set(eg,g*c,u[g]),r.set(ev,(g+1)*c,u[g+1]),r.add(eg,eg,o),r.add(ev,ev,o),r.set(ey,(ev[0]+eg[0])*.5,(ev[1]+eg[1]-100)*.5),r.sub(eb.vertices[0],ev,ey),r.sub(eb.vertices[1],eg,ey),r.copy(eb.vertices[2],eb.vertices[1]),r.copy(eb.vertices[3],eb.vertices[0]),eb.vertices[2][1]-=100,eb.vertices[3][1]-=100,v+=this.convexConvex(e,t,i,n,s,eb,ey,0,h);return v}},{d204b374af39e639:"geg3A","20933053438ebab6":"7sQcP",d95153d3fb05b14:"c7vmA",f0516d5454f63cd7:"dT2Zx",bfdf9baf3e6a5d5e:"gyzPH",bcecfc97841fc70f:"kSmDE","4364ae5edbd1b6f2":"2hWGL",d45d0e6691fce04d:"6o1RQ",ae87cd0523cc9ee0:"71oh9","25f1c61bf04b8848":"jXoGk","6ee63ef2e0948d6f":"fyiLV","390f12b6d811410f":"1vLHz","4ace90d86ba1ce1":"1uf32"}],gyzPH:[function(e,t,i,n){var r=e("8f6c901d02437d27");function s(){this.data={},this.keys=[]}t.exports=s,s.prototype.getKey=function(e,t){return(0|(e|=0))==(0|(t|=0))?-1:((0|e)>(0|t)?e<<16|65535&t:t<<16|65535&e)|0},s.prototype.getByKey=function(e){return e|=0,this.data[e]},s.prototype.get=function(e,t){return this.data[this.getKey(e,t)]},s.prototype.set=function(e,t,i){if(!i)throw Error("No data!");var n=this.getKey(e,t);return this.data[n]||this.keys.push(n),this.data[n]=i,n},s.prototype.reset=function(){for(var e=this.data,t=this.keys,i=t.length;i--;)delete e[t[i]];t.length=0},s.prototype.copy=function(e){this.reset(),r.appendArray(this.keys,e.keys);for(var t=e.keys.length;t--;){var i=e.keys[t];this.data[i]=e.data[i]}}},{"8f6c901d02437d27":"7sQcP"}],"1uf32":[function(e,t,i,n){var r=e("57927c61fbcf992f"),s=e("1e621ded3903d68e"),a=e("a8501ada722b06e1");function o(e){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e={width:arguments[0],height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })")),e=e||{};var t=this.width=e.width||1,i=this.height=e.height||1,n=[r.fromValues(-t/2,-i/2),r.fromValues(t/2,-i/2),r.fromValues(t/2,i/2),r.fromValues(-t/2,i/2)],o=[r.fromValues(1,0),r.fromValues(0,1)];e.vertices=n,e.axes=o,e.type=s.BOX,a.call(this,e)}t.exports=o,o.prototype=new a,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(e){var t=this.width,i=this.height;return e*(i*i+t*t)/12},o.prototype.updateBoundingRadius=function(){var e=this.width,t=this.height;this.boundingRadius=Math.sqrt(e*e+t*t)/2},r.create(),r.create(),r.create(),r.create(),o.prototype.computeAABB=function(e,t,i){e.setFromPoints(this.vertices,t,i,0)},o.prototype.updateArea=function(){this.area=this.width*this.height}},{"57927c61fbcf992f":"geg3A","1e621ded3903d68e":"fyiLV",a8501ada722b06e1:"jXoGk"}],liK4P:[function(e,t,i,n){e("852348000d7d6d69"),e("b1906358d63dd535"),e("2589eb1c960dc6a0"),e("41d1d194c5bc6ec2");var r=e("c59906df004f11c2");function s(){r.call(this,r.NAIVE)}e("3a4bfb1510f2f292"),t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.getCollisionPairs=function(e){var t=e.bodies,i=this.result;i.length=0;for(var n=0,s=t.length;n!==s;n++)for(var a=t[n],o=0;o<n;o++){var l=t[o];r.canCollide(a,l)&&this.boundingVolumeCheck(a,l)&&i.push(a,l)}return i},s.prototype.aabbQuery=function(e,t,i){i=i||[];for(var n=e.bodies,r=0;r<n.length;r++){var s=n[r];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(t)&&i.push(s)}return i}},{"852348000d7d6d69":"71oh9",b1906358d63dd535:"kpexr","2589eb1c960dc6a0":"fyiLV","41d1d194c5bc6ec2":"hsc7O",c59906df004f11c2:"5ZGdm","3a4bfb1510f2f292":"geg3A"}],kpexr:[function(e,t,i,n){var r=e("40d47a7ae5f74602"),s=e("d6a039ff95ed19ff");function a(e){(e=e||{}).type=r.PLANE,r.call(this,e)}e("99b09beaade4db61"),t.exports=a,a.prototype=new r,a.prototype.constructor=a,a.prototype.computeMomentOfInertia=function(e){return 0},a.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},a.prototype.computeAABB=function(e,t,i){var n=i%(2*Math.PI),r=s.set,a=e.lowerBound,o=e.upperBound;r(a,-1e7,-1e7),r(o,1e7,1e7),0===n?o[1]=0:n===Math.PI/2?a[0]=0:n===Math.PI?a[1]=0:n===3*Math.PI/2&&(o[0]=0)},a.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var o=s.create();s.create(),s.create();var l=s.create(),h=s.create();a.prototype.raycast=function(e,t,i,n){var r=t.from,a=t.to,u=t.direction;s.set(l,0,1),s.rotate(l,l,n),s.sub(h,r,i);var c=s.dot(h,l);if(s.sub(h,a,i),!(c*s.dot(h,l)>0)&&!(s.squaredDistance(r,a)<c*c)){var d=s.dot(l,u);s.sub(o,r,i);var f=-s.dot(l,o)/d/t.length;t.reportIntersection(e,f,l,-1)}}},{"40d47a7ae5f74602":"fyiLV",d6a039ff95ed19ff:"geg3A","99b09beaade4db61":"7sQcP"}],hsc7O:[function(e,t,i,n){var r=e("8c3c67d5ddbef9a9"),s=e("f808570b9798e32c");function a(e){(e=e||{}).type=r.PARTICLE,r.call(this,e)}t.exports=a,a.prototype=new r,a.prototype.constructor=a,a.prototype.computeMomentOfInertia=function(e){return 0},a.prototype.updateBoundingRadius=function(){this.boundingRadius=0},a.prototype.computeAABB=function(e,t,i){s.copy(e.lowerBound,t),s.copy(e.upperBound,t)}},{"8c3c67d5ddbef9a9":"fyiLV",f808570b9798e32c:"geg3A"}],aOW07:[function(e,t,i,n){var r=e("7bb9001261b70165"),s=e("c254ded0f86d88a6"),a=e("782f46607b8e1f04"),o=e("2180020912c5d37f"),l=e("274a00bc1872e73d");t.exports=p;var h=l.create(),u=l.create(),c=l.fromValues(1,0),d=l.fromValues(0,1),f=l.create();function p(e,t,i){i=i||{},r.call(this,e,t,r.REVOLUTE,i);var n=this.maxForce=void 0!==i.maxForce?i.maxForce:Number.MAX_VALUE;this.pivotA=l.create(),this.pivotB=l.create(),i.worldPivot?(l.sub(this.pivotA,i.worldPivot,e.position),l.sub(this.pivotB,i.worldPivot,t.position),l.rotate(this.pivotA,this.pivotA,-e.angle),l.rotate(this.pivotB,this.pivotB,-t.angle)):(l.copy(this.pivotA,i.localPivotA),l.copy(this.pivotB,i.localPivotB));var p=this.equations=[new s(e,t,-n,n),new s(e,t,-n,n)],m=p[0],g=p[1],v=this;m.computeGq=function(){return l.rotate(h,v.pivotA,e.angle),l.rotate(u,v.pivotB,t.angle),l.add(f,t.position,u),l.sub(f,f,e.position),l.sub(f,f,h),l.dot(f,c)},g.computeGq=function(){return l.rotate(h,v.pivotA,e.angle),l.rotate(u,v.pivotB,t.angle),l.add(f,t.position,u),l.sub(f,f,e.position),l.sub(f,f,h),l.dot(f,d)},g.minForce=m.minForce=-n,g.maxForce=m.maxForce=n,this.motorEquation=new a(e,t),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new o(e,t),this.lowerLimitEquation=new o(e,t),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}p.prototype=new r,p.prototype.constructor=p,p.prototype.setLimits=function(e,t){"number"==typeof e?(this.lowerLimit=e,this.lowerLimitEnabled=!0):(this.lowerLimit=e,this.lowerLimitEnabled=!1),"number"==typeof t?(this.upperLimit=t,this.upperLimitEnabled=!0):(this.upperLimit=t,this.upperLimitEnabled=!1)},p.prototype.update=function(){var e=this.bodyA,t=this.bodyB,i=this.pivotA,n=this.pivotB,r=this.equations,s=(r[0],r[1],r[0]),a=r[1],o=this.upperLimit,f=this.lowerLimit,p=this.upperLimitEquation,m=this.lowerLimitEquation,g=this.angle=t.angle-e.angle;if(this.upperLimitEnabled&&g>o)p.angle=o,-1===r.indexOf(p)&&r.push(p);else{var v=r.indexOf(p);-1!==v&&r.splice(v,1)}if(this.lowerLimitEnabled&&g<f)m.angle=f,-1===r.indexOf(m)&&r.push(m);else{var v=r.indexOf(m);-1!==v&&r.splice(v,1)}l.rotate(h,i,e.angle),l.rotate(u,n,t.angle),s.G[0]=-1,s.G[1]=0,s.G[2]=-l.crossLength(h,c),s.G[3]=1,s.G[4]=0,s.G[5]=l.crossLength(u,c),a.G[0]=0,a.G[1]=-1,a.G[2]=-l.crossLength(h,d),a.G[3]=0,a.G[4]=1,a.G[5]=l.crossLength(u,d)},p.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},p.prototype.disableMotor=function(){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations.splice(e,1),this.motorEnabled=!1}},p.prototype.motorIsEnabled=function(){return!!this.motorEnabled},p.prototype.setMotorSpeed=function(e){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations[t].relativeVelocity=e}},p.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"7bb9001261b70165":"fl4d5",c254ded0f86d88a6:"kSmDE","782f46607b8e1f04":"dpMuH","2180020912c5d37f":"cuyM8","274a00bc1872e73d":"geg3A"}],dpMuH:[function(e,t,i,n){var r=e("4035d4d99eba87f");function s(e,t){r.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}e("ee6b2fe68ba01697"),t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.computeB=function(e,t,i){var n=this.G;n[2]=-1,n[5]=this.ratio;var r=this.computeGiMf();return-this.computeGW()*t-i*r}},{"4035d4d99eba87f":"kSmDE",ee6b2fe68ba01697:"geg3A"}],cuyM8:[function(e,t,i,n){var r=e("d4425f27662d9010"),s=e("867c2e114efbe97f");function a(e,t,i){i=i||{},r.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0;var n=this.G;n[2]=1,n[5]=-1}t.exports=a,a.prototype=new r,a.prototype.constructor=a;var o=s.create(),l=s.create(),h=s.fromValues(1,0),u=s.fromValues(0,1);a.prototype.computeGq=function(){return s.rotate(o,h,this.bodyA.angle+this.angle),s.rotate(l,u,this.bodyB.angle),s.dot(o,l)}},{d4425f27662d9010:"kSmDE","867c2e114efbe97f":"geg3A"}],iK7mQ:[function(e,t,i,n){var r=e("1b130cbf15113819"),s=e("556121ab2e42c55f"),a=e("dad4f74d2d1bd1e4"),o=e("fdc2f7cc299227f5"),l=e("38523a5be66d6187");function h(e,t,i){i=i||{},r.call(this,e,t,r.PRISMATIC,i);var n=o.fromValues(0,0),h=o.fromValues(1,0),u=o.fromValues(0,0);i.localAnchorA&&o.copy(n,i.localAnchorA),i.localAxisA&&o.copy(h,i.localAxisA),i.localAnchorB&&o.copy(u,i.localAnchorB),this.localAnchorA=n,this.localAnchorB=u,this.localAxisA=h;var c=this.maxForce=void 0!==i.maxForce?i.maxForce:Number.MAX_VALUE,d=new a(e,t,-c,c),f=new o.create,p=new o.create,m=new o.create,g=new o.create;if(d.computeGq=function(){return o.dot(m,g)},d.updateJacobian=function(){var i=this.G,r=e.position,s=t.position;o.rotate(f,n,e.angle),o.rotate(p,u,t.angle),o.add(m,s,p),o.sub(m,m,r),o.sub(m,m,f),o.rotate(g,h,e.angle+Math.PI/2),i[0]=-g[0],i[1]=-g[1],i[2]=-o.crossLength(f,g)+o.crossLength(g,m),i[3]=g[0],i[4]=g[1],i[5]=o.crossLength(p,g)},this.equations.push(d),!i.disableRotationalLock){var v=new l(e,t,-c,c);this.equations.push(v)}this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==i.lowerLimit,this.upperLimitEnabled=void 0!==i.upperLimit,this.lowerLimit=void 0!==i.lowerLimit?i.lowerLimit:0,this.upperLimit=void 0!==i.upperLimit?i.upperLimit:1,this.upperLimitEquation=new s(e,t),this.lowerLimitEquation=new s(e,t),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=c,this.motorEquation=new a(e,t),this.motorEnabled=!1,this.motorSpeed=0;var y=this,b=this.motorEquation;b.computeGW,b.computeGq=function(){return 0},b.computeGW=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.velocity,r=i.velocity,s=t.angularVelocity,a=i.angularVelocity;return this.gmult(e,n,s,r,a)+y.motorSpeed}}t.exports=h,h.prototype=new r,h.prototype.constructor=h;var u=o.create(),c=o.create(),d=o.create(),f=o.create(),p=o.create(),m=o.create();h.prototype.update=function(){var e=this.equations,t=e[0],i=this.upperLimit,n=this.lowerLimit,r=this.upperLimitEquation,s=this.lowerLimitEquation,a=this.bodyA,l=this.bodyB,h=this.localAxisA,g=this.localAnchorA,v=this.localAnchorB;t.updateJacobian(),o.rotate(u,h,a.angle),o.rotate(f,g,a.angle),o.add(c,f,a.position),o.rotate(p,v,l.angle),o.add(d,p,l.position);var y=this.position=o.dot(d,u)-o.dot(c,u);if(this.motorEnabled){var b=this.motorEquation.G;b[0]=u[0],b[1]=u[1],b[2]=o.crossLength(u,p),b[3]=-u[0],b[4]=-u[1],b[5]=-o.crossLength(u,f)}if(this.upperLimitEnabled&&y>i)o.scale(r.normalA,u,-1),o.sub(r.contactPointA,c,a.position),o.sub(r.contactPointB,d,l.position),o.scale(m,u,i),o.add(r.contactPointA,r.contactPointA,m),-1===e.indexOf(r)&&e.push(r);else{var x=e.indexOf(r);-1!==x&&e.splice(x,1)}if(this.lowerLimitEnabled&&y<n)o.scale(s.normalA,u,1),o.sub(s.contactPointA,c,a.position),o.sub(s.contactPointB,d,l.position),o.scale(m,u,n),o.sub(s.contactPointB,s.contactPointB,m),-1===e.indexOf(s)&&e.push(s);else{var x=e.indexOf(s);-1!==x&&e.splice(x,1)}},h.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},h.prototype.disableMotor=function(){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations.splice(e,1),this.motorEnabled=!1}},h.prototype.setLimits=function(e,t){"number"==typeof e?(this.lowerLimit=e,this.lowerLimitEnabled=!0):(this.lowerLimit=e,this.lowerLimitEnabled=!1),"number"==typeof t?(this.upperLimit=t,this.upperLimitEnabled=!0):(this.upperLimit=t,this.upperLimitEnabled=!1)}},{"1b130cbf15113819":"fl4d5","556121ab2e42c55f":"2hWGL",dad4f74d2d1bd1e4:"kSmDE",fdc2f7cc299227f5:"geg3A","38523a5be66d6187":"cuyM8"}],cJxaR:[function(e,t,i,n){var r=e("5f7fde3e1d0c7a5"),s=e("689fe0ee9da66c8a");function a(){s.call(this,s.SAP),this.axisList=[],this.axisIndex=0;var e=this;this._addBodyHandler=function(t){e.axisList.push(t.body)},this._removeBodyHandler=function(t){var i=e.axisList.indexOf(t.body);-1!==i&&e.axisList.splice(i,1)}}t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.setWorld=function(e){this.axisList.length=0,r.appendArray(this.axisList,e.bodies),e.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),e.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=e},a.sortAxisList=function(e,t){t|=0;for(var i=1,n=e.length;i<n;i++){for(var r=e[i],s=i-1;s>=0&&!(e[s].aabb.lowerBound[t]<=r.aabb.lowerBound[t]);s--)e[s+1]=e[s];e[s+1]=r}return e},a.prototype.sortList=function(){var e=this.axisList,t=this.axisIndex;a.sortAxisList(e,t)},a.prototype.getCollisionPairs=function(e){var t=this.axisList,i=this.result,n=this.axisIndex;i.length=0;for(var r=t.length;r--;){var a=t[r];a.aabbNeedsUpdate&&a.updateAABB()}this.sortList();for(var o=0,l=0|t.length;o!==l;o++)for(var h=t[o],u=o+1;u<l;u++){var c=t[u];if(!(c.aabb.lowerBound[n]<=h.aabb.upperBound[n]))break;s.canCollide(h,c)&&this.boundingVolumeCheck(h,c)&&i.push(h,c)}return i},a.prototype.aabbQuery=function(e,t,i){i=i||[],this.sortList();var n=this.axisIndex,r="x";1===n&&(r="y"),2===n&&(r="z");var s=this.axisList;t.lowerBound[r],t.upperBound[r];for(var a=0;a<s.length;a++){var o=s[a];o.aabbNeedsUpdate&&o.updateAABB(),o.aabb.overlaps(t)&&i.push(o)}return i}},{"5f7fde3e1d0c7a5":"7sQcP","689fe0ee9da66c8a":"5ZGdm"}],cXKmN:[function(e,t,i,n){e("c01443790b82d458");var r=e("3dbb7f02d0685adc");function s(e,t,i){i=r.defaults(i,{stiffness:100,damping:1}),this.stiffness=i.stiffness,this.damping=i.damping,this.bodyA=e,this.bodyB=t}t.exports=s,s.prototype.applyForce=function(){}},{c01443790b82d458:"geg3A","3dbb7f02d0685adc":"7sQcP"}],cQjmW:[function(e,t,i,n){var r=e("dd64cf8f6127747a");e("e3f3e8f2c9812e59");var s=e("e98c7cf86e72c936"),a=e("5dc61689b839dcb7"),o=e("cf0d23db120d4a5b");function l(e,t){t=t||{},this.chassisBody=e,this.wheels=[],this.groundBody=new o({mass:0}),this.world=null;var i=this;this.preStepCallback=function(){i.update()}}function h(e,t){t=t||{},this.vehicle=e,this.forwardEquation=new a(e.chassisBody,e.groundBody),this.sideEquation=new a(e.chassisBody,e.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==t.sideFriction?t.sideFriction:5),this.localForwardVector=r.fromValues(0,1),t.localForwardVector&&r.copy(this.localForwardVector,t.localForwardVector),this.localPosition=r.fromValues(0,0),t.localPosition&&r.copy(this.localPosition,t.localPosition),s.apply(this,e.chassisBody,e.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}t.exports=l,l.prototype.addToWorld=function(e){this.world=e,e.addBody(this.groundBody),e.on("preStep",this.preStepCallback);for(var t=0;t<this.wheels.length;t++){var i=this.wheels[t];e.addConstraint(i)}},l.prototype.removeFromWorld=function(){var e=this.world;e.removeBody(this.groundBody),e.off("preStep",this.preStepCallback);for(var t=0;t<this.wheels.length;t++){var i=this.wheels[t];e.removeConstraint(i)}this.world=null},l.prototype.addWheel=function(e){var t=new h(this,e);return this.wheels.push(t),t},l.prototype.update=function(){for(var e=0;e<this.wheels.length;e++)this.wheels[e].update()},h.prototype=new s,h.prototype.setBrakeForce=function(e){this.forwardEquation.setSlipForce(e)},h.prototype.setSideFriction=function(e){this.sideEquation.setSlipForce(e)};var u=r.create(),c=r.create();h.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(c,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(u,c),r.dot(u,c)};var d=r.create();h.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),r.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),r.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),r.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),r.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),r.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),r.normalize(d,this.forwardEquation.t),r.scale(d,d,this.engineForce),this.vehicle.chassisBody.applyForce(d,this.forwardEquation.contactPointA)}},{dd64cf8f6127747a:"geg3A",e3f3e8f2c9812e59:"7sQcP",e98c7cf86e72c936:"fl4d5","5dc61689b839dcb7":"6o1RQ",cf0d23db120d4a5b:"1vLHz"}],"4chxn":[function(e,t,i,n){var r=e("5543f36d5db55575"),s=e("36cd71b80d3e81e");function a(e,t,i){i=i||{},s.call(this,e,t,i),this.localAnchorA=r.fromValues(0,0),this.localAnchorB=r.fromValues(0,0),i.localAnchorA&&r.copy(this.localAnchorA,i.localAnchorA),i.localAnchorB&&r.copy(this.localAnchorB,i.localAnchorB),i.worldAnchorA&&this.setWorldAnchorA(i.worldAnchorA),i.worldAnchorB&&this.setWorldAnchorB(i.worldAnchorB);var n=r.create(),a=r.create();this.getWorldAnchorA(n),this.getWorldAnchorB(a);var o=r.distance(n,a);this.restLength="number"==typeof i.restLength?i.restLength:o}e("aabdc6762f524d"),t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.setWorldAnchorA=function(e){this.bodyA.toLocalFrame(this.localAnchorA,e)},a.prototype.setWorldAnchorB=function(e){this.bodyB.toLocalFrame(this.localAnchorB,e)},a.prototype.getWorldAnchorA=function(e){this.bodyA.toWorldFrame(e,this.localAnchorA)},a.prototype.getWorldAnchorB=function(e){this.bodyB.toWorldFrame(e,this.localAnchorB)};var o=r.create(),l=r.create(),h=r.create(),u=r.create(),c=r.create(),d=r.create(),f=r.create(),p=r.create(),m=r.create();a.prototype.applyForce=function(){var e=this.stiffness,t=this.damping,i=this.restLength,n=this.bodyA,s=this.bodyB;this.getWorldAnchorA(c),this.getWorldAnchorB(d),r.sub(f,c,n.position),r.sub(p,d,s.position),r.sub(o,d,c);var a=r.len(o);r.normalize(l,o),r.sub(h,s.velocity,n.velocity),r.crossZV(m,s.angularVelocity,p),r.add(h,h,m),r.crossZV(m,n.angularVelocity,f),r.sub(h,h,m),r.scale(u,l,-e*(a-i)-t*r.dot(h,l)),r.sub(n.force,n.force,u),r.add(s.force,s.force,u);var g=r.crossLength(f,u),v=r.crossLength(p,u);n.angularForce-=g,s.angularForce+=v}},{"5543f36d5db55575":"geg3A","36cd71b80d3e81e":"cXKmN",aabdc6762f524d:"7sQcP"}],j6tWA:[function(e,t,i,n){e("8946c1bacbbeb8d1");var r=e("28ac4889264da0ac");function s(e,t,i){i=i||{},r.call(this,e,t,i),this.restAngle="number"==typeof i.restAngle?i.restAngle:t.angle-e.angle}t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.applyForce=function(){var e=this.stiffness,t=this.damping,i=this.restAngle,n=this.bodyA,r=this.bodyB,s=-e*(r.angle-n.angle-i)-t*(r.angularVelocity-n.angularVelocity)*0;n.angularForce-=s,r.angularForce+=s}},{"8946c1bacbbeb8d1":"geg3A","28ac4889264da0ac":"cXKmN"}],"5xqPb":[function(e,t,i,n){var r=e("89f95dae5663d69d"),s=(e("1597060712a09eda"),e("e52fd346faa95ec5"),e("69e4774cee40db6d")),a=e("99235bbf4c27bfa5"),o=e("1a98bd60511f77ed"),l=(e("cac3a7e4a83aa352"),e("355e7b17b84d94f5")),h=e("b52cd0c8b35d5ddf"),u=e("d925c0839ca7edb5"),c=e("5feecb4008ad1788"),d=e("1bbc320b09c5a9fc"),f=(e("57e0920a6ef810a1"),e("a1d53f66bd715fd"),e("a5a7fbc7f4141c89")),p=e("a0f61690d079281f"),m=(e("974f59d76858707e"),e("94a2df0e7bb7858a"),e("c35840d95975c61d"),e("8c79984d8ee97d1f"),e("e356359911ba3311"),e("cf18ab7ef6aa5886"),e("62007958f12ce1dc"),e("d719e11dcfb0a9b1"),e("6a5dc8c97e432e93")),g=e("c2de07faf4223809"),v=e("88208900f1c274d3"),y=e("6f27f3e1a911a2d9"),b=e("97b04d6bb659a62a"),x=e("7703c149f2b0dd53");function E(e){c.apply(this),e=e||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=e.solver||new r,this.narrowphase=new v(this),this.islandManager=new x,this.gravity=s.fromValues(0,-9.78),e.gravity&&s.copy(this.gravity,e.gravity),this.frictionGravity=s.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=e.broadphase||new g,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new f,this.defaultContactMaterial=new p(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===e.islandSplit||!!e.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=E.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new b}e("ff1e4b24c7b18637"),t.exports=E,E.prototype=Object(c.prototype),E.prototype.constructor=E,E.NO_SLEEPING=1,E.BODY_SLEEPING=2,E.ISLAND_SLEEPING=4,E.prototype.addConstraint=function(e){this.constraints.push(e)},E.prototype.addContactMaterial=function(e){this.contactMaterials.push(e)},E.prototype.removeContactMaterial=function(e){var t=this.contactMaterials.indexOf(e);-1!==t&&y.splice(this.contactMaterials,t,1)},E.prototype.getContactMaterial=function(e,t){for(var i=this.contactMaterials,n=0,r=i.length;n!==r;n++){var s=i[n];if(s.materialA.id===e.id&&s.materialB.id===t.id||s.materialA.id===t.id&&s.materialB.id===e.id)return s}return!1},E.prototype.removeConstraint=function(e){var t=this.constraints.indexOf(e);-1!==t&&y.splice(this.constraints,t,1)},s.create(),s.create(),s.create(),s.create(),s.create(),s.create();var w=s.create(),S=s.fromValues(0,0),T=s.fromValues(0,0);s.fromValues(0,0),s.fromValues(0,0),E.prototype.step=function(e,t,i){if(i=i||10,0===(t=t||0))this.internalStep(e),this.time+=e;else{this.accumulator+=t;for(var n=0;this.accumulator>=e&&n<i;)this.internalStep(e),this.time+=e,this.accumulator-=e,n++;for(var r=this.accumulator%e/e,a=0;a!==this.bodies.length;a++){var o=this.bodies[a];s.lerp(o.interpolatedPosition,o.previousPosition,o.position,r),o.interpolatedAngle=o.previousAngle+r*(o.angle-o.previousAngle)}}};var A=[];E.prototype.internalStep=function(e){this.stepping=!0;var t=this.springs.length,i=this.springs,n=this.bodies,r=this.gravity,a=this.solver,o=this.bodies.length,l=this.broadphase,h=this.narrowphase,u=this.constraints,c=(s.scale,s.add),f=(s.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=e,this.useWorldGravityAsFrictionGravity){var p=s.length(this.gravity);0===p&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=p)}if(this.applyGravity)for(var m=0;m!==o;m++){var g=n[m],v=g.force;g.type===d.DYNAMIC&&g.sleepState!==d.SLEEPING&&(s.scale(w,r,g.mass*g.gravityScale),c(v,v,w))}if(this.applySpringForces)for(var m=0;m!==t;m++)i[m].applyForce();if(this.applyDamping)for(var m=0;m!==o;m++){var g=n[m];g.type===d.DYNAMIC&&g.applyDamping(e)}for(var b=l.getCollisionPairs(this),x=this.disabledBodyCollisionPairs,m=x.length-2;m>=0;m-=2)for(var S=b.length-2;S>=0;S-=2)(x[m]===b[S]&&x[m+1]===b[S+1]||x[m+1]===b[S]&&x[m]===b[S+1])&&b.splice(S,2);var T=u.length;for(m=0;m!==T;m++){var _=u[m];if(!_.collideConnected)for(var S=b.length-2;S>=0;S-=2)(_.bodyA===b[S]&&_.bodyB===b[S+1]||_.bodyB===b[S]&&_.bodyA===b[S+1])&&b.splice(S,2)}this.postBroadphaseEvent.pairs=b,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,h.reset(this);for(var m=0,C=b.length;m!==C;m+=2)for(var I=b[m],P=b[m+1],R=0,O=I.shapes.length;R!==O;R++)for(var M=I.shapes[R],L=M.position,D=M.angle,k=0,N=P.shapes.length;k!==N;k++){var F=P.shapes[k],B=F.position,U=F.angle,j=this.defaultContactMaterial;if(M.material&&F.material){var V=this.getContactMaterial(M.material,F.material);V&&(j=V)}this.runNarrowphase(h,I,M,L,D,P,F,B,U,j,this.frictionGravity)}for(var m=0;m!==o;m++){var G=n[m];G._wakeUpAfterNarrowphase&&(G.wakeUp(),G._wakeUpAfterNarrowphase=!1)}if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(A);for(var W=this.endContactEvent,k=A.length;k--;){var z=A[k];W.shapeA=z.shapeA,W.shapeB=z.shapeB,W.bodyA=z.bodyA,W.bodyB=z.bodyB,this.emit(W)}A.length=0}var Y=this.preSolveEvent;Y.contactEquations=h.contactEquations,Y.frictionEquations=h.frictionEquations,this.emit(Y),Y.contactEquations=Y.frictionEquations=null;var T=u.length;for(m=0;m!==T;m++)u[m].update();if(h.contactEquations.length||h.frictionEquations.length||T){if(this.islandSplit){for(f.equations.length=0,y.appendArray(f.equations,h.contactEquations),y.appendArray(f.equations,h.frictionEquations),m=0;m!==T;m++)y.appendArray(f.equations,u[m].equations);f.split(this);for(var m=0;m!==f.islands.length;m++){var H=f.islands[m];H.equations.length&&a.solveIsland(e,H)}}else{for(a.addEquations(h.contactEquations),a.addEquations(h.frictionEquations),m=0;m!==T;m++)a.addEquations(u[m].equations);this.solveConstraints&&a.solve(e,this),a.removeAllEquations()}}for(var m=0;m!==o;m++){var G=n[m];G.integrate(e)}for(var m=0;m!==o;m++)n[m].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var X=this.impactEvent,m=0;m!==h.contactEquations.length;m++){var q=h.contactEquations[m];q.firstImpact&&(X.bodyA=q.bodyA,X.bodyB=q.bodyB,X.shapeA=q.shapeA,X.shapeB=q.shapeB,X.contactEquation=q,this.emit(X))}if(this.sleepMode===E.BODY_SLEEPING)for(m=0;m!==o;m++)n[m].sleepTick(this.time,!1,e);else if(this.sleepMode===E.ISLAND_SLEEPING&&this.islandSplit){for(m=0;m!==o;m++)n[m].sleepTick(this.time,!0,e);for(var m=0;m<this.islandManager.islands.length;m++){var H=this.islandManager.islands[m];H.wantsToSleep()&&H.sleep()}}this.stepping=!1;for(var K=this.bodiesToBeRemoved,m=0;m!==K.length;m++)this.removeBody(K[m]);K.length=0,this.emit(this.postStepEvent)},E.prototype.runNarrowphase=function(e,t,i,n,r,a,o,l,h,u,c){if((i.collisionGroup&o.collisionMask)!=0&&(o.collisionGroup&i.collisionMask)!=0){s.rotate(S,n,t.angle),s.rotate(T,l,a.angle),s.add(S,S,t.position),s.add(T,T,a.position);var f,p=r+t.angle,m=h+a.angle;e.enableFriction=u.friction>0,e.frictionCoefficient=u.friction,f=t.type===d.STATIC||t.type===d.KINEMATIC?a.mass:a.type===d.STATIC||a.type===d.KINEMATIC?t.mass:t.mass*a.mass/(t.mass+a.mass),e.slipForce=u.friction*c*f,e.restitution=u.restitution,e.surfaceVelocity=u.surfaceVelocity,e.frictionStiffness=u.frictionStiffness,e.frictionRelaxation=u.frictionRelaxation,e.stiffness=u.stiffness,e.relaxation=u.relaxation,e.contactSkinSize=u.contactSkinSize,e.enabledEquations=t.collisionResponse&&a.collisionResponse&&i.collisionResponse&&o.collisionResponse;var g=e[i.type|o.type],v=0;if(g){var y=i.sensor||o.sensor,b=e.frictionEquations.length;v=i.type<o.type?g.call(e,t,i,S,p,a,o,T,m,y):g.call(e,a,o,T,m,t,i,S,p,y);var x=e.frictionEquations.length-b;if(v){if(t.allowSleep&&t.type===d.DYNAMIC&&t.sleepState===d.SLEEPING&&a.sleepState===d.AWAKE&&a.type!==d.STATIC&&s.squaredLength(a.velocity)+Math.pow(a.angularVelocity,2)>=2*Math.pow(a.sleepSpeedLimit,2)&&(t._wakeUpAfterNarrowphase=!0),a.allowSleep&&a.type===d.DYNAMIC&&a.sleepState===d.SLEEPING&&t.sleepState===d.AWAKE&&t.type!==d.STATIC&&s.squaredLength(t.velocity)+Math.pow(t.angularVelocity,2)>=2*Math.pow(t.sleepSpeedLimit,2)&&(a._wakeUpAfterNarrowphase=!0),this.overlapKeeper.setOverlapping(t,i,a,o),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(i,o)){var E=this.beginContactEvent;if(E.shapeA=i,E.shapeB=o,E.bodyA=t,E.bodyB=a,E.contactEquations.length=0,"number"==typeof v)for(var w=e.contactEquations.length-v;w<e.contactEquations.length;w++)E.contactEquations.push(e.contactEquations[w]);this.emit(E)}if("number"==typeof v&&x>1)for(var w=e.frictionEquations.length-x;w<e.frictionEquations.length;w++){var A=e.frictionEquations[w];A.setSlipForce(A.getSlipForce()/x)}}}}},E.prototype.addSpring=function(e){this.springs.push(e);var t=this.addSpringEvent;t.spring=e,this.emit(t),t.spring=null},E.prototype.removeSpring=function(e){var t=this.springs.indexOf(e);-1!==t&&y.splice(this.springs,t,1)},E.prototype.addBody=function(e){if(-1===this.bodies.indexOf(e)){this.bodies.push(e),e.world=this;var t=this.addBodyEvent;t.body=e,this.emit(t),t.body=null}},E.prototype.removeBody=function(e){if(this.stepping)this.bodiesToBeRemoved.push(e);else{e.world=null;var t=this.bodies.indexOf(e);-1!==t&&(y.splice(this.bodies,t,1),this.removeBodyEvent.body=e,e.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},E.prototype.getBodyById=function(e){for(var t=this.bodies,i=0;i<t.length;i++){var n=t[i];if(n.id===e)return n}return!1},E.prototype.disableBodyCollision=function(e,t){this.disabledBodyCollisionPairs.push(e,t)},E.prototype.enableBodyCollision=function(e,t){for(var i=this.disabledBodyCollisionPairs,n=0;n<i.length;n+=2)if(i[n]===e&&i[n+1]===t||i[n+1]===e&&i[n]===t){i.splice(n,2);return}},E.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var e=this.constraints,t=e.length-1;t>=0;t--)this.removeConstraint(e[t]);for(var i=this.bodies,t=i.length-1;t>=0;t--)this.removeBody(i[t]);for(var n=this.springs,t=n.length-1;t>=0;t--)this.removeSpring(n[t]);for(var r=this.contactMaterials,t=r.length-1;t>=0;t--)this.removeContactMaterial(r[t]);E.apply(this)};var _=s.create(),C=(s.fromValues(0,0),s.fromValues(0,0));E.prototype.hitTest=function(e,t,i){i=i||0;var n=new d({position:e}),r=new u;n.addShape(r);for(var c=this.narrowphase,f=[],p=0,m=t.length;p!==m;p++)for(var g=t[p],v=0,y=g.shapes.length;v!==y;v++){var b=g.shapes[v];s.rotate(_,b.position,g.angle),s.add(_,_,g.position);var x=b.angle+g.angle;(b instanceof a&&c.circleParticle(g,b,_,x,n,r,e,0,!0)||b instanceof o&&c.particleConvex(n,r,e,0,g,b,_,x,!0)||b instanceof l&&c.particlePlane(n,r,e,0,g,b,_,x,!0)||b instanceof h&&c.particleCapsule(n,r,e,0,g,b,_,x,!0)||b instanceof u&&s.squaredLength(s.sub(C,_,e))<i*i)&&f.push(g)}return f},E.prototype.setGlobalStiffness=function(e){for(var t=this.constraints,i=0;i!==t.length;i++)for(var n=t[i],r=0;r!==n.equations.length;r++){var s=n.equations[r];s.stiffness=e,s.needsUpdate=!0}for(var a=this.contactMaterials,i=0;i!==a.length;i++){var n=a[i];n.stiffness=n.frictionStiffness=e}var n=this.defaultContactMaterial;n.stiffness=n.frictionStiffness=e},E.prototype.setGlobalRelaxation=function(e){for(var t=0;t!==this.constraints.length;t++)for(var i=this.constraints[t],n=0;n!==i.equations.length;n++){var r=i.equations[n];r.relaxation=e,r.needsUpdate=!0}for(var t=0;t!==this.contactMaterials.length;t++){var i=this.contactMaterials[t];i.relaxation=i.frictionRelaxation=e}var i=this.defaultContactMaterial;i.relaxation=i.frictionRelaxation=e};var I=new m,P=[];E.prototype.raycast=function(e,t){return t.getAABB(I),this.broadphase.aabbQuery(this,I,P),t.intersectBodies(e,P),P.length=0,e.hasHit()}},{"89f95dae5663d69d":"Kc35t","1597060712a09eda":"cslpB",e52fd346faa95ec5:"3aaBs","69e4774cee40db6d":"geg3A","99235bbf4c27bfa5":"71oh9","1a98bd60511f77ed":"jXoGk",cac3a7e4a83aa352:"3e8Uk","355e7b17b84d94f5":"kpexr",b52cd0c8b35d5ddf:"iCu6l",d925c0839ca7edb5:"hsc7O","5feecb4008ad1788":"3wc90","1bbc320b09c5a9fc":"1vLHz","57e0920a6ef810a1":"fyiLV",a1d53f66bd715fd:"4chxn",a5a7fbc7f4141c89:"kKj3c",a0f61690d079281f:"7VedP","974f59d76858707e":"eMph3","94a2df0e7bb7858a":"fl4d5",c35840d95975c61d:"3C7H6","8c79984d8ee97d1f":"aOW07",e356359911ba3311:"iK7mQ",cf18ab7ef6aa5886:"c2nuE","62007958f12ce1dc":"aPywz",d719e11dcfb0a9b1:"5ZGdm","6a5dc8c97e432e93":"7Fman",c2de07faf4223809:"cJxaR","88208900f1c274d3":"bsKDm","6f27f3e1a911a2d9":"7sQcP","97b04d6bb659a62a":"kYZwj","7703c149f2b0dd53":"bVaR4",ff1e4b24c7b18637:"j6tWA"}],aPywz:[function(e,t,i,n){t.exports=JSON.parse('{"name":"p2","version":"0.7.1","description":"A JavaScript 2D physics engine.","author":"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)","keywords":["p2.js","p2","physics","engine","2d"],"main":"./src/p2.js","engines":{"node":"*"},"repository":{"type":"git","url":"https://github.com/schteppe/p2.js.git"},"bugs":{"url":"https://github.com/schteppe/p2.js/issues"},"licenses":[{"type":"MIT"}],"devDependencies":{"grunt":"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},"dependencies":{"poly-decomp":"0.1.1"}}')},{}],kYZwj:[function(e,t,i,n){var r=e("d1c511ff43075908");e("6ad6aae9d3178c1c");var s=e("ae69163b5e95d902");function a(){this.overlappingShapesLastState=new r,this.overlappingShapesCurrentState=new r,this.recordPool=new s({size:16}),this.tmpDict=new r,this.tmpArray1=[]}e("ca81eee98f7bd467"),t.exports=a,a.prototype.tick=function(){for(var e=this.overlappingShapesLastState,t=this.overlappingShapesCurrentState,i=e.keys.length;i--;){var n=e.keys[i],r=e.getByKey(n);t.getByKey(n),r&&this.recordPool.release(r)}e.reset(),e.copy(t),t.reset()},a.prototype.setOverlapping=function(e,t,i,n){this.overlappingShapesLastState;var r=this.overlappingShapesCurrentState;if(!r.get(t.id,n.id)){var s=this.recordPool.get();s.set(e,t,i,n),r.set(t.id,n.id,s)}},a.prototype.getNewOverlaps=function(e){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,e)},a.prototype.getEndOverlaps=function(e){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,e)},a.prototype.bodiesAreOverlapping=function(e,t){for(var i=this.overlappingShapesCurrentState,n=i.keys.length;n--;){var r=i.keys[n],s=i.data[r];if(s.bodyA===e&&s.bodyB===t||s.bodyA===t&&s.bodyB===e)return!0}return!1},a.prototype.getDiff=function(e,t,i){var i=i||[];i.length=0;for(var n=t.keys.length;n--;){var r=t.keys[n],s=t.data[r];if(!s)throw Error("Key "+r+" had no data!");e.data[r]||i.push(s)}return i},a.prototype.isNewOverlap=function(e,t){var i=0|e.id,n=0|t.id,r=this.overlappingShapesLastState,s=this.overlappingShapesCurrentState;return!r.get(i,n)&&!!s.get(i,n)},a.prototype.getNewBodyOverlaps=function(e){this.tmpArray1.length=0;var t=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(t,e)},a.prototype.getEndBodyOverlaps=function(e){this.tmpArray1.length=0;var t=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(t,e)},a.prototype.getBodyDiff=function(e,t){t=t||[];for(var i=this.tmpDict,n=e.length;n--;){var r=e[n];i.set(0|r.bodyA.id,0|r.bodyB.id,r)}for(n=i.keys.length;n--;){var r=i.getByKey(i.keys[n]);r&&t.push(r.bodyA,r.bodyB)}return i.reset(),t}},{d1c511ff43075908:"gyzPH","6ad6aae9d3178c1c":"cwAfS",ae69163b5e95d902:"fO0xd",ca81eee98f7bd467:"7sQcP"}],cwAfS:[function(e,t,i,n){function r(e,t,i,n){this.shapeA=t,this.shapeB=n,this.bodyA=e,this.bodyB=i}t.exports=r,r.prototype.set=function(e,t,i,n){r.call(this,e,t,i,n)}},{}],fO0xd:[function(e,t,i,n){var r=e("ef39e4c8e830c20e"),s=e("6e41b1482492ad2f");function a(){s.apply(this,arguments)}t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.create=function(){return new r},a.prototype.destroy=function(e){return e.bodyA=e.bodyB=e.shapeA=e.shapeB=null,this}},{ef39e4c8e830c20e:"cwAfS","6e41b1482492ad2f":"5lrfq"}],bVaR4:[function(e,t,i,n){e("f7108e810eaecffd"),e("50bfc1b1a312ac2f"),e("2f6d951f62024392");var r=e("9526c01719846e44"),s=e("82ea80983f48bd5f"),a=e("29efc1b1b871dc45");function o(e){this.nodePool=new r({size:16}),this.islandPool=new s({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}t.exports=o,o.getUnvisitedNode=function(e){for(var t=e.length,i=0;i!==t;i++){var n=e[i];if(!n.visited&&n.body.type===a.DYNAMIC)return n}return!1},o.prototype.visit=function(e,t,i){t.push(e.body);for(var n=e.equations.length,r=0;r!==n;r++){var s=e.equations[r];-1===i.indexOf(s)&&i.push(s)}},o.prototype.bfs=function(e,t,i){var n=this.queue;for(n.length=0,n.push(e),e.visited=!0,this.visit(e,t,i);n.length;)for(var r,s=n.pop();r=o.getUnvisitedNode(s.neighbors);)r.visited=!0,this.visit(r,t,i),r.body.type===a.DYNAMIC&&n.push(r)},o.prototype.split=function(e){for(var t,i=e.bodies,n=this.nodes,r=this.equations;n.length;)this.nodePool.release(n.pop());for(var s=0;s!==i.length;s++){var a=this.nodePool.get();a.body=i[s],n.push(a)}for(var l=0;l!==r.length;l++){var h=r[l],s=i.indexOf(h.bodyA),u=i.indexOf(h.bodyB),c=n[s],d=n[u];c.neighbors.push(d),d.neighbors.push(c),c.equations.push(h),d.equations.push(h)}for(var f=this.islands,s=0;s<f.length;s++)this.islandPool.release(f[s]);for(f.length=0;t=o.getUnvisitedNode(n);){var p=this.islandPool.get();this.bfs(t,p.bodies,p.equations),f.push(p)}return f}},{f7108e810eaecffd:"geg3A","50bfc1b1a312ac2f":"9wtT5","2f6d951f62024392":"jBEnk","9526c01719846e44":"jFQNb","82ea80983f48bd5f":"koVuB","29efc1b1b871dc45":"1vLHz"}],"9wtT5":[function(e,t,i,n){var r=e("3a86c65cb2375424");function s(){this.equations=[],this.bodies=[]}t.exports=s,s.prototype.reset=function(){this.equations.length=this.bodies.length=0};var a=[];s.prototype.getBodies=function(e){var t=e||[],i=this.equations;a.length=0;for(var n=0;n!==i.length;n++){var r=i[n];-1===a.indexOf(r.bodyA.id)&&(t.push(r.bodyA),a.push(r.bodyA.id)),-1===a.indexOf(r.bodyB.id)&&(t.push(r.bodyB),a.push(r.bodyB.id))}return t},s.prototype.wantsToSleep=function(){for(var e=0;e<this.bodies.length;e++){var t=this.bodies[e];if(t.type===r.DYNAMIC&&!t.wantsToSleep)return!1}return!0},s.prototype.sleep=function(){for(var e=0;e<this.bodies.length;e++)this.bodies[e].sleep();return!0}},{"3a86c65cb2375424":"1vLHz"}],jBEnk:[function(e,t,i,n){function r(e){this.body=e,this.neighbors=[],this.equations=[],this.visited=!1}t.exports=r,r.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],jFQNb:[function(e,t,i,n){var r=e("1eec35b5274cd8f"),s=e("d22686e86ec94159");function a(){s.apply(this,arguments)}t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.create=function(){return new r},a.prototype.destroy=function(e){return e.reset(),this}},{"1eec35b5274cd8f":"jBEnk",d22686e86ec94159:"5lrfq"}],koVuB:[function(e,t,i,n){var r=e("ad7511310094aed1"),s=e("cb2242e59c24a87e");function a(){s.apply(this,arguments)}t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.create=function(){return new r},a.prototype.destroy=function(e){return e.reset(),this}},{ad7511310094aed1:"9wtT5",cb2242e59c24a87e:"5lrfq"}],ivoQT:[function(e,t,i,n){let{World:r,Body:s,Box:a}=e("22fc0ec2668b15b0"),{PhysicalBody:o}=e("89b97910eb15282e"),{ObjectBodyState:l}=e("bf8e7d8088ffa02"),{PathFinder:h}=e("ca96e46ea11ece0d"),{TypeDeterminer:u}=e("c264acfd264f5635"),{GameConst:c}=e("c03ca356032f25a2"),{RoomsConst:d}=e("66ecc31a8f2dd920"),{WorldConst:f}=e("2b9afdca425e5d96"),{ErrorManager:p,Logger:m,sc:g}=e("521f0bfcfa0908ee");t.exports.P2world=class extends r{constructor(e){super(e),this.events=g.get(e,"events",!1),this.roomId=g.get(e,"roomId",!1),this.sceneName=g.get(e,"sceneName",!1),this.sceneTiledMapFile=g.get(e,"roomMap",!1),this.config=g.get(e,"config",!1),this.validateRequiredProperties(e),this.saveMapData(e),this.objectsManager=g.get(e,"objectsManager",!1),this.applyGravity=g.get(e.worldConfig,"applyGravity",!1),this.gravity=g.get(e.worldConfig,"gravity",[0,0]),this.globalStiffness=g.get(e.worldConfig,"globalStiffness",1e8),this.globalRelaxation=g.get(e.worldConfig,"globalRelaxation",10),this.useFixedWorldStep=g.get(e.worldConfig,"useFixedWorldStep",!0),this.timeStep=g.get(e.worldConfig,"timeStep",.04),this.maxSubSteps=g.get(e.worldConfig,"maxSubSteps",1),this.movementSpeed=g.get(e.worldConfig,"movementSpeed",180),this.allowPassWallsFromBelow=g.get(e.worldConfig,"allowPassWallsFromBelow",!1),this.jumpSpeed=g.get(e.worldConfig,"jumpSpeed",0),this.jumpTimeMs=g.get(e.worldConfig,"jumpTimeMs",0),this.tryClosestPath=g.get(e.worldConfig,"tryClosestPath",!1),this.onlyWalkable=g.get(e.worldConfig,"onlyWalkable",!1),this.wallsMassValue=g.get(e.worldConfig,"wallsMassValue",1),this.playerMassValue=g.get(e.worldConfig,"playerMassValue",1),this.bulletsStopOnPlayer=g.get(e.worldConfig,"bulletsStopOnPlayer",!0),this.bulletsStopOnObject=g.get(e.worldConfig,"bulletsStopOnObject",!0),this.disableObjectsCollisionsOnChase=g.get(e.worldConfig,"disableObjectsCollisionsOnChase",!1),this.disableObjectsCollisionsOnReturn=g.get(e.worldConfig,"disableObjectsCollisionsOnReturn",!0),this.collisionsGroupsByType=g.get(e.worldConfig,"collisionsGroupsByType",!0),this.groupWallsVertically=g.get(e.worldConfig,"groupWallsVertically",!1),this.groupWallsHorizontally=g.get(e.worldConfig,"groupWallsHorizontally",!1),this.allowSimultaneous=g.get(e,"allowSimultaneous",!1),this.allowChangePoints=g.get(e,"allowChangePoints",!0),this.allowRoomObjectsCreation=g.get(e,"allowRoomObjectsCreation",!0),this.allowBodiesWithState=g.get(e,"allowBodiesWithState",!0),this.usePathFinder=g.get(e,"usePathFinder",!0),this.respawnAreas=!1,this.removeBodies=[],this.removeBulletsStateIds=[],this.type=g.get(e,"type",f.WORLD_TYPES.NO_GRAVITY_2D),this.totalBodiesCount=0,this.totalBodiesCreated=0,this.queueBodies=[],this.enablePathFinder(),this.enableWorldDateTime(),this.worldKey=g.randomChars(16),this.limitsBodyType=g.get(e.worldConfig,"limitsBodyType",s.STATIC),this.wallBodyType=g.get(e.worldConfig,"wallBodyType",s.STATIC),this.changePointsBodyType=g.get(e.worldConfig,"changePointsBodyType",s.STATIC),this.worldObjectBodyType=g.get(e.worldConfig,"worldObjectBodyType",s.DYNAMIC),this.playersBodyType=g.get(e.worldConfig,"playersBodyType",s.DYNAMIC),this.bulletsBodyType=g.get(e.worldConfig,"playersBodyType",s.DYNAMIC),this.bodyTypes={KINEMATIC:s.KINEMATIC,STATIC:s.STATIC,DYNAMIC:s.DYNAMIC},this.typeDeterminer=new u,this.playerAnimationBasedOnPress=this.config.get("client/players/animations/basedOnPress",!1),this.playerAnimationDiagonalHorizontal=this.config.get("client/players/animations/diagonalHorizontal",!1),this.usePlayerSpeedConfig=this.config.get("server/players/physicsBody/usePlayerSpeedConfig",!1)}saveMapData(e){this.mapJson=g.get(e,"mapJson"),!this.mapJson&&g.hasOwn(this.config,"server")&&g.hasOwn(this.config.server,"maps")&&(this.mapJson=g.get(this.config.server.maps,this.sceneTiledMapFile,!1)),this.mapJson||(m.critical('Map "'+this.sceneTiledMapFile+'" not found in server maps.',Object.keys(this.config.server.maps)),p.error('Map "'+this.sceneTiledMapFile+'" not found in server maps.'))}enableWorldDateTime(){this.worldDateTime=new Date,this.worldDateTimeInterval=setInterval(()=>{this.worldDateTime=new Date},1e3)}enablePathFinder(){this.usePathFinder&&(this.pathFinder=new h,this.pathFinder.world=this,this.pathFinder.createGridFromMap())}validateRequiredProperties(e){this.events||p.error("EventsManager undefined in P2world."),this.roomId&&this.sceneName&&this.sceneTiledMapFile||(m.critical("World creation missing data in options.",{roomId:this.roomId,sceneName:this.sceneName,sceneTiledMapFile:this.sceneTiledMapFile}),p.error("World creation missing data in options.")),this.config||p.error("Missing Config Manager.")}async createWorldContent(e){if(!this.validateMapData(this.mapJson)){m.error("Missing map data.",this.mapJson);return}this.shouldGroupBodies()||m.warning("Group bodies fully disabled, this can impact performance."),this.changePoints=this.getSceneChangePoints(e);let t=this.mapJson.layers,i=[];for(let e of t){let t={layer:e,world:this};await this.events.emit("reldens.parsingMapLayerBefore",t),i.push(...await this.createLayerContents(t.layer)),await this.events.emit("reldens.parsingMapLayerAfter",t)}for(let e of i){let{layer:t,tileIndex:i,tileW:n,tileH:r,posX:s,posY:a}=e;await this.createRoomObjectBody(t,i,n,r,s,a)}for(let e of(this.processBodiesQueue(),t)){let t={layer:e,world:this};await this.events.emit("reldens.parsingMapLayersAfterBodiesQueue",t)}m.info("Total wall bodies found: "+this.totalBodiesCount,"Total wall bodies created: "+this.totalBodiesCreated)}processBodiesQueue(){for(let e of(this.queueBodies.sort((e,t)=>e.tileIndexes[0]-t.tileIndexes[0]),this.queueBodies))this.addBody(e);this.queueBodies=[]}async createLayerContents(e){let t=this.mapJson.tilewidth,i=this.mapJson.tileheight,n=t/2,r=i/2,s=-1!==e.name.indexOf("change-points"),a=-1!==e.name.indexOf("collisions"),o=[];for(let l=0;l<this.mapJson.width;l++){let h=l*t+n;for(let n=0;n<this.mapJson.height;n++){let u=n*i+r,c=this.tileIndexByRowAndColumn(n,l),d=0===Number(e.data[c]),f=!1,p=!1;!d&&(this.allowChangePoints&&s&&(f=this.createChangePoint(c,t,i,h,u)),a&&(p=this.createWallCollisionBody(c,this.determinePreviousTileIndexFromGroupingType(c,e,n,l),t,i,h,u))),this.usePathFinder&&this.markPathFinderTile(e,d,f,p,l,n),o.push({layer:e,tileIndex:c,tileW:t,tileH:i,posX:h,posY:u})}}return o}determinePreviousTileIndexFromGroupingType(e,t,i,n){return!!this.shouldGroupBodies()&&(this.groupWallsVertically?this.fetchPreviousWallTile(t,i,n):0!==e&&e-1)}fetchPreviousWallTile(e,t,i){if(0===t)return!1;let n=this.tileIndexByRowAndColumn(t-1,i);return 0!==Number(e.data[n])&&n}tileIndexByRowAndColumn(e,t){return e*this.mapJson.width+t}validateMapData(e){return 0<Number(e.width||0)&&0<Number(e.height||0)&&0<Number(e.tilewidth||0)&&0<Number(e.tileheight||0)}async createRoomObjectBody(e,t,i,n,r,s){if(!this.allowRoomObjectsCreation||!this.objectsManager)return;let a=e.name+t,o=this.objectsManager.getObjectData(a);if(o&&!o.multiple)return await this.createWorldObject(o,a,i,n,r,s)}markPathFinderTile(e,t,i,n,r,s){if(!this.pathFinder)return;let a=-1!==e.name.indexOf("pathfinder");(!t&&(i||n)||t&&a)&&this.pathFinder.grid.setWalkableAt(r,s,!1)}createWallCollisionBody(e,t,i,n,r,s){this.totalBodiesCount++;let a=!1!==t&&this.fetchBodyByTileIndexId(t);if(a){let t=a.tileIndexes;if(-1!==t.indexOf(e))return a;t.push(e);let o=this.createWall(this.determineShapeWidth(t,i),this.determineShapeHeight(t,n),this.determineBodyPositionX(a,i,r),this.determineBodyPositionY(a,n,s),this.wallBodyType);return o.tileIndexes=t,o.firstTileIndex=a.firstTileIndex,this.queueBodies.splice(this.queueBodies.indexOf(a),1),this.queueBodies.push(o),o}let o=this.createWall(i,n,r,s,this.wallBodyType);return o.tileIndexes=[e],o.firstTileIndex=e,this.shouldGroupBodies()?this.queueBodies.push(o):this.addBody(o),this.totalBodiesCreated++,o}shouldGroupBodies(){return this.groupWallsVertically||this.groupWallsHorizontally}determineBodyPositionY(e,t,i){return this.groupWallsVertically?e.position[1]+t/2:i}determineBodyPositionX(e,t,i){return this.groupWallsHorizontally?e.position[0]+t/2:i}determineShapeHeight(e,t){return this.groupWallsVertically?e.length*t:t}determineShapeWidth(e,t){return this.groupWallsHorizontally?e.length*t:t}fetchBodyByTileIndexId(e){for(let t of this.queueBodies)if(t.isWall&&t.tileIndexes&&-1!==t.tileIndexes.indexOf(e))return t;return!1}createChangePoint(e,t,i,n,r){let s=g.get(this.changePoints,e,null);if(null===s)return m.error(["Change point data not found in this.changePoints for tileIndex:",e]),!1;let a=this.createCollisionBody(t/2,i/2,n,r,this.changePointsBodyType);return a.changeScenePoint=s,this.addBody(a),m.info("Created change point on tileIndex: "+e),a}async createWorldObject(e,t,i,n,r,s,a=!1){r+=g.get(e,"xFix",0),s+=g.get(e,"yFix",0),e.x=r,e.y=s,this.objectsManager&&g.hasOwn(this.objectsManager.objectsAnimationsData,t)&&(this.objectsManager.objectsAnimationsData[t].x=r,this.objectsManager.objectsAnimationsData[t].y=s),e.interactionArea&&e.setupInteractionArea();let o=g.get(e,"bodyMass",1),l=g.get(e,"collisionResponse",!0),h=!!this.allowBodiesWithState&&g.get(e,"hasState",!1),u=g.get(e,"collisionType",this.worldObjectBodyType),c=g.get(e,"collisionGroup",f.COLLISIONS.OBJECT),d=this.createCollisionBody(i,n,r,s,u,c,o,l,h,t);return d.disableObjectsCollisionsOnChase=this.disableObjectsCollisionsOnChase,d.disableObjectsCollisionsOnReturn=this.disableObjectsCollisionsOnReturn,d.isRoomObject=!0,d.roomObject=e,this.usePathFinder&&a&&(d.pathFinder=a),this.addBody(d),e.state=d.bodyState,e.objectBody=d,m.info("Created object for objectIndex: "+t+" - At x/y: "+r+" / "+s+"."),await this.events.emit("reldens.createdWorldObject",{p2world:this,roomObject:e,bodyObject:d,bodyMass:o,collision:l,hasState:h,objectIndex:t,tileW:i,tileH:n,posX:r,posY:s,pathFinder:a}),e}createLimits(){let e=this.mapJson.tilewidth,t=this.mapJson.tileheight,i=this.mapJson.width*e,n=this.mapJson.height*t,r=i+e,s=n+t,a=this.createWall(r,1,i/2,1,this.limitsBodyType);a.isWorldWall=!0,this.addBody(a);let o=this.createWall(r,1,i/2,n-1,this.limitsBodyType);o.isWorldWall=!0,this.addBody(o);let l=this.createWall(1,s,1,n/2,this.limitsBodyType);l.isWorldWall=!0,this.addBody(l);let h=this.createWall(1,s,i-1,n/2,this.limitsBodyType);h.isWorldWall=!0,this.addBody(h)}createWall(e,t,i,n,r){let s=this.createCollisionBody(e,t,i,n,r,f.COLLISIONS.WALL,this.wallsMassValue);return s.isWall=!0,s}createCollisionBody(e,t,i,n,r,a=f.COLLISIONS.WALL,l=1,h=!0,u=!1,c=!1,d=!1){let p=this.createCollisionShape(e,t,a,h),m=new(u?o:s)({mass:l,position:[i,n],type:r,fixedRotation:!0,movementSpeed:this.movementSpeed,jumpSpeed:this.jumpSpeed,jumpTimeMs:this.jumpTimeMs});return u&&(m.bodyState=this.createBodyState(u,i,n,d,m,c)),m.originalCollisionGroup=a,m.addShape(p),m}createBodyState(e,t,i,n,r,s){return e instanceof o?e:new l({x:t,y:i,dir:n||c.DOWN,scene:this.sceneName,id:r.id,key:s||"",room_id:this.roomId})}createCollisionShape(e,t,i,n=!0,r=0,s=0){let o=new a({width:e,height:t,position:[r,s]});return o.collisionGroup=i,o.collisionMask=this.collisionsGroupsByType[i],o.collisionResponse=n,o}getSceneChangePoints(e){if(!e.changePoints)return{};let t=Object.keys(e.changePoints);if(0===t.length)return{};let i={};for(let n of t){let t=e.changePoints[n];i[t[d.TILE_INDEX]]=t[d.NEXT_SCENE]}return i}createPlayerBody(e){let t=this.createCollisionShape(e.width,e.height,f.COLLISIONS.PLAYER);this.playerMovementSpeed=this.fetchPlayerSpeed(e.speed);let i=new o({mass:this.playerMassValue,position:[e.bodyState.x,e.bodyState.y],type:this.playersBodyType,fixedRotation:!0,animationBasedOnPress:this.playerAnimationBasedOnPress,diagonalHorizontal:this.playerAnimationDiagonalHorizontal,movementSpeed:this.playerMovementSpeed});return i.playerId=e.id,i.collideWorldBounds=!0,i.isChangingScene=!1,i.isBlocked=!1,i.originalCollisionGroup=f.COLLISIONS.PLAYER,i.addShape(t),this.allowBodiesWithState&&(i.bodyState=e.bodyState),this.addBody(i),i}fetchPlayerSpeed(e){let t=this.movementSpeed;if(this.usePlayerSpeedConfig){let i=this.config.get("server/players/physicsBody/speed",e);0<i&&(t=i)}return m.debug("Use movement speed: "+t),t}shootBullet(e,t,i){let{objectWidth:n,objectHeight:r}=i,s=this.mapJson.tileheight/2+r/2,a=this.mapJson.tilewidth/2+n/2,o=e.y+(t.y>e.y?s:-s),l=e.x+(t.x>e.x?a:-a),h=Math.atan2(t.y-o,t.x-l),u=180*h/Math.PI,c=i.key?i.key:"",d=i.magnitude*Math.cos(h),p=i.magnitude*Math.sin(h),g=this.calculateDirection(i,e,t);m.debug('Shooting bullet "'+c+'":',{objectWidth:n,objectHeight:r,bulletY:o,bulletX:l,fromPosition:e,toPosition:t,bulletAngle:u,speedX:d,speedY:p});let v="BULLET_"+this.determineFromType(i),y=this.createCollisionBody(n,r,l,o,this.bulletsBodyType,f.COLLISIONS[v],1,!0,!0,c,g);y.updateMassProperties(),y.roomObject=i,y.hitPriority=i.hitPriority?i.hitPriority:2,y.isRoomObject=!0,y.isBullet=!0,y.key=""===c?"bullet-"+y.id:c,this.addBody(y);let b=c+"_bullet_"+y.id;return y.bodyStateId=b,i.room.state.addBodyToState(y.bodyState,b),y.angle=u,y.originalSpeed={x:d,y:p},y.velocity[0]=d,y.velocity[1]=p,y}determineFromType(e){return this.typeDeterminer.isPlayer(e.owner)?f.FROM_TYPES.PLAYER:this.typeDeterminer.isObject(e.owner)?f.FROM_TYPES.OBJECT:f.FROM_TYPES.OTHER}calculateDirection(e,t,i){return 3===g.get(e,"animDir",!1)?t.x<i.x?c.RIGHT:c.LEFT:t.y<i.y?c.DOWN:c.UP}removeBodiesFromWorld(){if(0!==this.removeBodies.length){for(let e of this.removeBodies)this.removeBody(e);this.removeBodies=[]}}}},{"22fc0ec2668b15b0":"6bkiu","89b97910eb15282e":"dGMGI",bf8e7d8088ffa02:"jGyZT",ca96e46ea11ece0d:"kPIAj",c264acfd264f5635:"ivpJa",c03ca356032f25a2:"7Qdd3","66ecc31a8f2dd920":"encji","2b9afdca425e5d96":"5g1RE","521f0bfcfa0908ee":"3lwy5"}],jGyZT:[function(e,t,i,n){let{type:r}=e("d5ff803566ba0471"),{BodyState:s}=e("f1e1d396ff1578a"),{sc:a}=e("e56fab9f785dc3d1");class o extends s{constructor(e){super(e),this.id=e.id,this.autoDirection=a.get(e,"autoDirection",!0)}}r("number")(o.prototype,"id"),t.exports.ObjectBodyState=o},{d5ff803566ba0471:"hyLjW",f1e1d396ff1578a:"8Cxif",e56fab9f785dc3d1:"3lwy5"}],hyLjW:[function(e,t,i,n){!function(e){var t,i,n,r,s,a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function l(e,t,i,n){var r,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,i,a):r(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}function h(e,t,i){if(i||2==arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,e.OPERATION=void 0,(t=e.OPERATION||(e.OPERATION={}))[t.ADD=128]="ADD",t[t.REPLACE=0]="REPLACE",t[t.DELETE=64]="DELETE",t[t.DELETE_AND_ADD=192]="DELETE_AND_ADD",t[t.TOUCH=1]="TOUCH",t[t.CLEAR=10]="CLEAR";var u=function(){function t(e,t,i){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,i)}return t.prototype.setParent=function(e,t,i){var n=this;if(this.indexes||(this.indexes=this.ref instanceof el?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=i,t){if(this.root=t,this.ref instanceof el){var r=this.ref._definition;for(var s in r.schema){var a=this.ref[s];if(a&&a.$changes){var o=r.indexes[s];a.$changes.setParent(this.ref,t,o)}}}else"object"==typeof this.ref&&this.ref.forEach(function(e,t){if(e instanceof el){var i=e.$changes,r=n.ref.$changes.indexes[t];i.setParent(n.ref,n.root,r)}})}},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,i){void 0===i&&(i=e.OPERATION.ADD);var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t);var r=this.changes.get(n);r&&r.op!==e.OPERATION.DELETE&&r.op!==e.OPERATION.TOUCH||this.changes.set(n,{op:r&&r.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:i,index:n}),this.allChanges.add(n),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var i="number"==typeof t?t:this.indexes[t];this.assertValidIndex(i,t),this.changes.has(i)||this.changes.set(i,{op:e.OPERATION.TOUCH,index:i}),this.allChanges.add(i),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition){var t=this.ref._definition;return t.schema[t.fieldsByIndex[e]]}var t=this.parent._definition;return Object.values(t.schema[t.fieldsByIndex[this.parentIndex]])[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var i="number"==typeof t?t:this.indexes[t];if(void 0===i){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(t," (").concat(i,")"));return}var n=this.getValue(i);this.changes.set(i,{op:e.OPERATION.DELETE,index:i}),this.allChanges.delete(i),delete this.caches[i],n&&n.$changes&&(n.$changes.parent=void 0),this.changed=!0,this.touchParents()},t.prototype.discard=function(t,i){var n=this;void 0===t&&(t=!1),void 0===i&&(i=!1),this.ref instanceof el||this.changes.forEach(function(t){if(t.op===e.OPERATION.DELETE){var i=n.ref.getIndex(t.index);delete n.indexes[i]}}),this.changes.clear(),this.changed=t,i&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach(function(t){var i=e.getValue(t.index);i&&i.$changes&&i.$changes.discardAll()}),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw Error('ChangeTree: missing index for field "'.concat(t,'"'))},t}();function c(e,t,i,n){return e[t]||(e[t]=[]),e[t].push(i),null==n||n.forEach(function(e,t){return i(e,t)}),function(){return f(e[t],e[t].indexOf(i))}}function d(t){var i=this,n="string"!=typeof this.$changes.getType();this.$items.forEach(function(r,s){t.push({refId:i.$changes.refId,op:e.OPERATION.DELETE,field:s,value:void 0,previousValue:r}),n&&i.$changes.root.removeRef(r.$changes.refId)})}function f(e,t){if(-1===t||t>=e.length)return!1;for(var i=e.length-1,n=t;n<i;n++)e[n]=e[n+1];return e.length=i,!0}var p=function(e,t){var i=e.toString(),n=t.toString();return i<n?-1:i>n?1:0},m=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new u(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),c(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return i.forEach(function(i){e=t.$refId++,t.setAt(e,i)}),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0)&&!(e>=this.length)){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)}},t.prototype.setAt=function(t,i){if(null==i){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.$items.get(t)!==i){void 0!==i.$changes&&i.$changes.setParent(this,this.$changes.root,t);var n,r,s=null!==(r=null===(n=this.$changes.indexes[t])||void 0===n?void 0:n.op)&&void 0!==r?r:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,i),this.$changes.change(t,s)}},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return new(t.bind.apply(t,h([void 0],(e=Array.from(this.$items.values())).concat.apply(e,i),!1)))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(i,n){e.setAt(t[n],i)}),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()).shift();if(void 0!==e){var t=this.$items.get(e);return this.$deleteAt(e),t}},t.prototype.slice=function(e,i){var n=new t;return n.push.apply(n,Array.from(this.$items.values()).slice(e,i)),n},t.prototype.sort=function(e){var t=this;void 0===e&&(e=p);var i=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(e).forEach(function(e,n){t.setAt(i[n],e)}),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var r=Array.from(this.$items.keys()),s=[],a=e;a<e+t;a++)s.push(this.$items.get(r[a])),this.$deleteAt(r[a]);for(var a=0;a<i.length;a++)this.setAt(e+a,i[a]);return s},t.prototype.unshift=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=this.length,r=t.length,s=Array.from(this.$items.values());return t.forEach(function(t,i){e.setAt(i,t)}),s.forEach(function(t,i){e.setAt(r+i,t)}),n+r},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},t.prototype.reduceRight=function(e,t){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,i){throw Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,i){throw Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw Error("ArraySchema#flat() is not supported.")},t.prototype.findLast=function(){var e=Array.from(this.$items.values());return e.findLast.apply(e,arguments)},t.prototype.findLastIndex=function(){var e=Array.from(this.$items.values());return e.findLastIndex.apply(e,arguments)},t.prototype.with=function(e,i){var n=Array.from(this.$items.values());return n[e]=i,new(t.bind.apply(t,h([void 0],n,!1)))},t.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},t.prototype.toSorted=function(e){return Array.from(this.$items.values()).sort(e)},t.prototype.toSpliced=function(e,t){var i=Array.from(this.$items.values());return i.toSpliced.apply(i,arguments)},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map(function(e){return"function"==typeof e.toJSON?e.toJSON():e})},t.prototype.clone=function(e){return e?new(t.bind.apply(t,h([void 0],Array.from(this.$items.values()),!1))):new(t.bind.apply(t,h([void 0],this.map(function(e){return e.$changes?e.clone():e}),!1)))},t}(),g=function(){function t(e){var i=this;if(this.$changes=new u(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e){if(e instanceof Map||e instanceof t)e.forEach(function(e,t){return i.set(t,e)});else for(var n in e)this.set(n,e[n])}}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),c(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.set=function(t,i){if(null==i)throw Error("MapSchema#set('".concat(t,"', ").concat(i,"): trying to set ").concat(i," value on '").concat(t,"'."));t=t.toString();var n=void 0!==this.$changes.indexes[t],r=n?this.$changes.indexes[t]:this.$refId++,s=n?e.OPERATION.REPLACE:e.OPERATION.ADD,a=void 0!==i.$changes;if(a&&i.$changes.setParent(this,this.$changes.root,r),n){if(!a&&this.$items.get(t)===i)return;a&&this.$items.get(t)!==i&&(s=e.OPERATION.ADD)}else this.$changes.indexes[t]=r,this.$indexes.set(r,t);return this.$items.set(t,i),this.$changes.change(t,s),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e.toString()),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach(function(t,i){e[i]="function"==typeof t.toJSON?t.toJSON():t}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e,t){e.$changes?i.set(t,e.clone()):i.set(t,e)})),i},t}(),v={},y=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var i=new e;return i.schema=Object.assign({},t&&t.schema||{}),i.indexes=Object.assign({},t&&t.indexes||{}),i.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),i.descriptors=Object.assign({},t&&t.descriptors||{}),i.deprecated=Object.assign({},t&&t.deprecated||{}),i},e.prototype.addField=function(e,t){var i=this.getNextFieldIndex();this.fieldsByIndex[i]=e,this.indexes[e]=i,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.hasField=function(e){return void 0!==this.indexes[e]},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var i=this.indexes[e];if(v[Object.keys(this.schema[e])[0]])return this.childFilters||(this.childFilters={}),this.childFilters[i]=t,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}(),b=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=y.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t={}),function(i){return t.context||(t.context=new e),E(i,t)}},e}(),x=new b;function E(e,t){return void 0===t&&(t={}),function(i,n){var r=t.context||x,s=i.constructor;if(s._context=r,!e)throw Error("".concat(s.name,': @type() reference provided for "').concat(n,"\" is undefined. Make sure you don't have any circular dependencies."));r.has(s)||r.add(s);var a=s._definition;if(a.addField(n,e),a.descriptors[n]){if(a.deprecated[n])return;try{throw Error("@colyseus/schema: Duplicate '".concat(n,"' definition on '").concat(s.name,"'.\nCheck @type() annotation"))}catch(e){var o=e.stack.split("\n")[4].trim();throw Error("".concat(e.message," ").concat(o))}}var l=m.is(e),u=!l&&g.is(e);if("string"!=typeof e&&!el.is(e)){var c=Object.values(e)[0];"string"==typeof c||r.has(c)||r.add(c)}if(t.manual){a.descriptors[n]={enumerable:!0,configurable:!0,writable:!0};return}var d="_".concat(n);a.descriptors[d]={enumerable:!1,configurable:!1,writable:!0},a.descriptors[n]={get:function(){return this[d]},set:function(e){if(e!==this[d]){if(null!=e){if(!l||e instanceof m||(e=new(m.bind.apply(m,h([void 0],e,!1)))),!u||e instanceof g||(e=new g(e)),void 0===e.$proxy){var t,i;u?((t=e).$proxy=!0,e=t=new Proxy(t,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,i){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,i):e[t]=i,!0},deleteProperty:function(e,t){return e.delete(t),!0}})):l&&((i=e).$proxy=!0,e=i=new Proxy(i,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,i){if("symbol"==typeof t||isNaN(t))e[t]=i;else{var n=parseInt(Array.from(e.$items.keys())[t]||t);null==i?e.deleteAt(n):e.setAt(n,i)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0},has:function(e,t){return"symbol"==typeof t||isNaN(Number(t))?Reflect.has(e,t):e.$items.has(Number(t))}}))}this.$changes.change(n),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[n])}else this[d]&&this.$changes.delete(n);this[d]=e}},enumerable:!0,configurable:!0}}}function w(e,t,i){for(var n=0,r=0,s=i.length;r<s;r++)(n=i.charCodeAt(r))<128?e[t++]=n:(n<2048?e[t++]=192|n>>6:(n<55296||n>=57344?e[t++]=224|n>>12:(r++,n=65536+((1023&n)<<10|1023&i.charCodeAt(r)),e[t++]=240|n>>18,e[t++]=128|n>>12&63),e[t++]=128|n>>6&63),e[t++]=128|63&n)}function S(e,t){e.push(255&t)}function T(e,t){e.push(255&t)}function A(e,t){e.push(255&t),e.push(t>>8&255)}function _(e,t){e.push(255&t),e.push(t>>8&255)}function C(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function I(e,t){e.push(255&t),e.push(255&t>>8),e.push(255&t>>16),e.push(255&t>>24)}function P(e,t){var i=Math.floor(t/0x100000000);I(e,t>>>0),I(e,i)}function R(e,t){I(e,t>>>0),I(e,t/0x100000000>>0)}var O=new Int32Array(2),M=new Float32Array(O.buffer),L=new Float64Array(O.buffer);function D(e,t){M[0]=t,C(e,O[0])}function k(e,t){L[0]=t,C(e,O[0]),C(e,O[1])}function N(e,t){t||(t="");var i=function(e){for(var t=0,i=0,n=0,r=e.length;n<r;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}(t),n=0;if(i<32)e.push(160|i),n=1;else if(i<256)e.push(217),T(e,i),n=2;else if(i<65536)e.push(218),_(e,i),n=3;else if(i<0x100000000)e.push(219),I(e,i),n=5;else throw Error("String too long");return w(e,e.length,t),n+i}function F(e,t){return isNaN(t)?F(e,0):isFinite(t)?t!==(0|t)?(e.push(203),k(e,t),9):t>=0?t<128?(T(e,t),1):t<256?(e.push(204),T(e,t),2):t<65536?(e.push(205),_(e,t),3):t<0x100000000?(e.push(206),I(e,t),5):(e.push(207),R(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),S(e,t),2):t>=-32768?(e.push(209),A(e,t),3):t>=-0x80000000?(e.push(210),C(e,t),5):(e.push(211),P(e,t),9):F(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var B=/*#__PURE__*/Object.freeze({__proto__:null,boolean:function(e,t){return T(e,t?1:0)},float32:function(e,t){D(e,t)},float64:function(e,t){k(e,t)},int16:A,int32:C,int64:P,int8:S,number:F,string:N,uint16:_,uint32:I,uint64:R,uint8:T,utf8Write:w,writeFloat32:D,writeFloat64:k});function U(e,t){return j(e,t)<<24>>24}function j(e,t){return e[t.offset++]}function V(e,t){return G(e,t)<<16>>16}function G(e,t){return e[t.offset++]|e[t.offset++]<<8}function W(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function z(e,t){return W(e,t)>>>0}function Y(e,t){var i=z(e,t);return 0x100000000*W(e,t)+i}function H(e,t){var i=z(e,t);return 0x100000000*z(e,t)+i}var X=new Int32Array(2),q=new Float32Array(X.buffer),K=new Float64Array(X.buffer);function $(e,t){return X[0]=W(e,t),q[0]}function Q(e,t){return X[0]=W(e,t),X[1]=W(e,t),K[0]}function J(e,t){var i,n=e[t.offset++];n<192?i=31&n:217===n?i=j(e,t):218===n?i=G(e,t):219===n&&(i=z(e,t));var r=function(e,t,i){for(var n="",r=0,s=t,a=t+i;s<a;s++){var o=e[s];if((128&o)==0){n+=String.fromCharCode(o);continue}if((224&o)==192){n+=String.fromCharCode((31&o)<<6|63&e[++s]);continue}if((240&o)==224){n+=String.fromCharCode((15&o)<<12|(63&e[++s])<<6|(63&e[++s])<<0);continue}if((248&o)==240){(r=(7&o)<<18|(63&e[++s])<<12|(63&e[++s])<<6|(63&e[++s])<<0)>=65536?(r-=65536,n+=String.fromCharCode((r>>>10)+55296,(1023&r)+56320)):n+=String.fromCharCode(r);continue}console.error("Invalid byte "+o.toString(16))}return n}(e,t.offset,i);return t.offset+=i,r}function Z(e,t){var i=e[t.offset++];if(i<128)return i;if(202===i)return $(e,t);if(203===i)return Q(e,t);if(204===i)return j(e,t);if(205===i)return G(e,t);if(206===i)return z(e,t);if(207===i)return H(e,t);else if(208===i)return U(e,t);else if(209===i)return V(e,t);else if(210===i)return W(e,t);else if(211===i)return Y(e,t);else if(i>223)return-((255-i+1)*1)}function ee(e,t){return 255===e[t.offset-1]&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var et=/*#__PURE__*/Object.freeze({__proto__:null,arrayCheck:function(e,t){return e[t.offset]<160},boolean:function(e,t){return j(e,t)>0},float32:function(e,t){return $(e,t)},float64:function(e,t){return Q(e,t)},int16:V,int32:W,int64:Y,int8:U,number:Z,numberCheck:function(e,t){var i=e[t.offset];return i<128||i>=202&&i<=211},readFloat32:$,readFloat64:Q,string:J,stringCheck:function(e,t){var i=e[t.offset];return i<192&&i>160||217===i||218===i||219===i},switchStructureCheck:ee,uint16:G,uint32:z,uint64:H,uint8:j}),ei=function(){function t(e){var t=this;this.$changes=new u(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++;return void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,i,n=this.$items.entries();(i=n.next())&&!i.done;)if(e===i.value[1]){t=i.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some(function(t){return t===e})},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(i,n,r){return e(i,n,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,i){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e){e.$changes?i.add(e.clone()):i.add(e)})),i},t}(),en=function(){function t(e){var t=this;this.$changes=new u(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){if(this.has(t))return!1;var i,n,r=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,r);var s=null!==(n=null===(i=this.$changes.indexes[r])||void 0===i?void 0:i.op)&&void 0!==n?n:e.OPERATION.ADD;return this.$changes.indexes[r]=r,this.$indexes.set(r,r),this.$items.set(r,t),this.$changes.change(r,s),r},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,i,n=this.$items.entries();(i=n.next())&&!i.done;)if(e===i.value[1]){t=i.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,i=this.$items.values(),n=!1;(t=i.next())&&!t.done;)if(e===t.value){n=!0;break}return n},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(i,n,r){return e(i,n,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,i){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e){e.$changes?i.add(e.clone()):i.add(e)})),i},t}(),er=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),es=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,i){void 0===i&&(i=!0),this.refs.set(e,t),i&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){var t=this.refCounts[e];if(void 0===t){console.warn("trying to remove reference ".concat(e," that doesn't exist"));return}if(0===t){console.warn("trying to remove reference ".concat(e," with 0 refCount"));return}this.refCounts[e]=t-1,this.deletedRefs.add(e)},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach(function(t){if(!(e.refCounts[t]>0)){var i=e.refs.get(t);if(i instanceof el)for(var n in i._definition.schema)"string"!=typeof i._definition.schema[n]&&i[n]&&i[n].$changes&&e.removeRef(i[n].$changes.refId);else{var r=i.$changes.parent._definition;"function"==typeof Object.values(r.schema[r.fieldsByIndex[i.$changes.parentIndex]])[0]&&Array.from(i.values()).forEach(function(t){return e.removeRef(t.$changes.refId)})}e.refs.delete(t),delete e.refCounts[t]}}),this.deletedRefs.clear()},e}(),ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error);function eo(e,t,i,n){if(!(e instanceof t))throw new ea("a '".concat(t.name,"' was expected, but '").concat(e.constructor.name,"' was provided in ").concat(i.constructor.name,"#").concat(n))}var el=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new u(this,void 0,new es),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var i=this._definition.descriptors;i&&Object.defineProperties(this,i),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.setDirty=function(e,t){this.$changes.change(e,t)},t.prototype.listen=function(e,t,i){var n=this;return void 0===i&&(i=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[e]||(this.$callbacks[e]=[]),this.$callbacks[e].push(t),i&&void 0!==this[e]&&t(this[e],void 0),function(){return f(n.$callbacks[e],n.$callbacks[e].indexOf(t))}},t.prototype.decode=function(i,n,r){void 0===n&&(n={offset:0}),void 0===r&&(r=this);var s=[],a=this.$changes.root,o=i.length,l=0;for(a.refs.set(l,this);n.offset<o;){var h,u=i[n.offset++];if(255==u){l=Z(i,n);var c=a.refs.get(l);if(!c)throw Error('"refId" not found: '.concat(l));r=c;continue}var d=r.$changes,f=void 0!==r._definition,p=f?u>>6<<6:u;if(p===e.OPERATION.CLEAR){r.clear(s);continue}var y=f?u%(p||255):Z(i,n),b=f?r._definition.fieldsByIndex[y]:"",x=d.getType(y),E=void 0,w=void 0,S=void 0;if(f?w=r["_".concat(b)]:(w=r.getByIndex(y),(p&e.OPERATION.ADD)===e.OPERATION.ADD?(S=r instanceof g?J(i,n):y,r.setIndex(y,S)):S=r.getIndex(y)),(p&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(p!==e.OPERATION.DELETE_AND_ADD&&r.deleteByIndex(y),w&&w.$changes&&a.removeRef(w.$changes.refId),E=null),void 0===b){console.warn("@colyseus/schema: definition mismatch");for(var T={offset:n.offset};n.offset<o&&!(ee(i,n)&&(T.offset=n.offset+1,a.refs.has(Z(i,T))));)n.offset++;continue}if(p===e.OPERATION.DELETE);else if(t.is(x)){var A=Z(i,n);if(E=a.refs.get(A),p!==e.OPERATION.REPLACE){var _=this.getSchemaType(i,n,x);!E&&((E=this.createTypeInstance(_)).$changes.refId=A,w&&(E.$callbacks=w.$callbacks,w.$changes.refId&&A!==w.$changes.refId&&a.removeRef(w.$changes.refId))),a.addRef(A,E,E!==w)}}else if("string"==typeof x)h=n,E=et[x](i,h);else{var C=v[Object.keys(x)[0]],I=Z(i,n),P=a.refs.has(I)?w||a.refs.get(I):new C.constructor;if((E=P.clone(!0)).$changes.refId=I,w&&(E.$callbacks=w.$callbacks,w.$changes.refId&&I!==w.$changes.refId)){a.removeRef(w.$changes.refId);for(var R=w.entries(),O=void 0;(O=R.next())&&!O.done;){var M=O.value,L=M[0],D=M[1];s.push({refId:I,op:e.OPERATION.DELETE,field:L,value:void 0,previousValue:D})}}a.addRef(I,E,P!==w)}if(null!=E){if(E.$changes&&E.$changes.setParent(d.ref,d.root,y),r instanceof t)r[b]=E;else if(r instanceof g){var L=S;r.$items.set(L,E),r.$changes.allChanges.add(y)}else if(r instanceof m)r.setAt(y,E);else if(r instanceof ei){var k=r.add(E);r.setIndex(y,k)}else if(r instanceof en){var k=r.add(E);!1!==k&&r.setIndex(y,k)}}w!==E&&s.push({refId:l,op:p,field:b,dynamicIndex:S,value:E,previousValue:w})}return this._triggerChanges(s),a.garbageCollectDeletedRefs(),s},t.prototype.encode=function(i,n,r){void 0===i&&(i=!1),void 0===n&&(n=[]),void 0===r&&(r=!1);for(var s=this.$changes,a=new WeakSet,o=[s],l=1,h=0;h<l;h++){var u=o[h],c=u.ref,d=c instanceof t;u.ensureRefId(),a.add(u),u!==s&&(u.changed||i)&&(T(n,255),F(n,u.refId));for(var f=i?Array.from(u.allChanges):Array.from(u.changes.values()),p=0,m=f.length;p<m;p++){var y=i?{op:e.OPERATION.ADD,index:f[p]}:f[p],b=y.index,x=d?c._definition.fieldsByIndex&&c._definition.fieldsByIndex[b]:b,E=n.length;if(y.op!==e.OPERATION.TOUCH){if(d)T(n,b|y.op);else{if(T(n,y.op),y.op===e.OPERATION.CLEAR)continue;F(n,b)}}if(!d&&(y.op&e.OPERATION.ADD)==e.OPERATION.ADD&&c instanceof g&&N(n,u.ref.$indexes.get(b)),y.op!==e.OPERATION.DELETE){var w=u.getType(b),S=u.getValue(b);if(S&&S.$changes&&!a.has(S.$changes)&&(o.push(S.$changes),S.$changes.ensureRefId(),l++),y.op!==e.OPERATION.TOUCH){if(t.is(w))eo(S,w,c,x),F(n,S.$changes.refId),(y.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(n,w,S.constructor);else if("string"==typeof w)!function(e,t,i,n,r){!function(e,t,i,n){var r,s=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":r="number",isNaN(e)&&console.log('trying to encode "NaN" in '.concat(i.constructor.name,"#").concat(n));break;case"string":r="string",s=!0;break;case"boolean":return}if(typeof e!==r&&(!s||s&&null!==e)){var a="'".concat(JSON.stringify(e),"'").concat(e&&e.constructor&&" (".concat(e.constructor.name,")")||"");throw new ea("a '".concat(r,"' was expected, but ").concat(a," was provided in ").concat(i.constructor.name,"#").concat(n))}}(i,e,n,r);var s=B[e];if(s)s(t,i);else throw new ea("a '".concat(e,"' was expected, but ").concat(i," was provided in ").concat(n.constructor.name,"#").concat(r))}(w,n,S,c,x);else{var A=v[Object.keys(w)[0]];eo(c["_".concat(x)],A.constructor,c,x),F(n,S.$changes.refId)}r&&u.cache(b,n.slice(E))}}}i||r||u.discard()}return n},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(i,n){void 0===n&&(n=!1);for(var r,s,a=this,o=new Set,l=er.get(i),h=[this.$changes],u=1,c=[],d=0;d<u;d++)!function(d){var f=h[d];if(!o.has(f.refId)){var p=f.ref,m=p instanceof t;T(c,255),F(c,f.refId);var v=l.refIds.has(f),y=n||!v;l.addRefId(f);var b=l.containerIndexes.get(f),x=y?Array.from(f.allChanges):Array.from(f.changes.values());!n&&m&&p._definition.indexesWithFilters&&p._definition.indexesWithFilters.forEach(function(t){!b.has(t)&&f.allChanges.has(t)&&(y?x.push(t):x.push({op:e.OPERATION.ADD,index:t}))});for(var E=0,w=x.length;E<w;E++){var S=y?{op:e.OPERATION.ADD,index:x[E]}:x[E];if(S.op===e.OPERATION.CLEAR){T(c,S.op);continue}var A=S.index;if(S.op===e.OPERATION.DELETE){m?T(c,S.op|A):(T(c,S.op),F(c,A));continue}var _=f.getValue(A),C=f.getType(A);if(m){var I=p._definition.filters&&p._definition.filters[A];if(I&&!I.call(p,i,_,a)){_&&_.$changes&&o.add(_.$changes.refId);continue}}else{var P=f.parent,I=f.getChildrenFilter();if(I&&!I.call(P,i,p.$indexes.get(A),_,a)){_&&_.$changes&&o.add(_.$changes.refId);continue}}if(_.$changes&&(h.push(_.$changes),u++),S.op!==e.OPERATION.TOUCH){if(S.op===e.OPERATION.ADD||m)c.push.apply(c,null!==(r=f.caches[A])&&void 0!==r?r:[]),b.add(A);else if(b.has(A))c.push.apply(c,null!==(s=f.caches[A])&&void 0!==s?s:[]);else{if(b.add(A),T(c,e.OPERATION.ADD),F(c,A),p instanceof g){var R=f.ref.$indexes.get(A);N(c,R)}_.$changes?F(c,_.$changes.refId):B[C](c,_)}}else if(_.$changes&&!m){if(T(c,e.OPERATION.ADD),F(c,A),p instanceof g){var R=f.ref.$indexes.get(A);N(c,R)}F(c,_.$changes.refId)}}}}(d);return c},t.prototype.clone=function(){var e,t=new this.constructor,i=this._definition.schema;for(var n in i)"object"==typeof this[n]&&"function"==typeof(null===(e=this[n])||void 0===e?void 0:e.clone)?t[n]=this[n].clone():t[n]=this[n];return t},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,i={};for(var n in e)t[n]||null===this[n]||void 0===this[n]||(i[n]="function"==typeof this[n].toJSON?this[n].toJSON():this["_".concat(n)]);return i},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,i){t._typeid!==i._typeid&&(T(e,213),F(e,i._typeid))},t.prototype.getSchemaType=function(e,t,i){var n;return 213===e[t.offset]&&(t.offset++,n=this.constructor._context.get(Z(e,t))),n||i},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerChanges=function(i){for(var n,r,s,a,o,l,h,u,c,d=new Set,f=this.$changes.root.refs,p=0;p<i.length;p++)!function(p){var m=i[p],g=m.refId,v=f.get(g),y=v.$callbacks;if((m.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&m.previousValue instanceof t&&(null===(r=null===(n=m.previousValue.$callbacks)||void 0===n?void 0:n[e.OPERATION.DELETE])||void 0===r||r.forEach(function(e){return e()})),y){if(v instanceof t){if(!d.has(g))try{null===(s=null==y?void 0:y[e.OPERATION.REPLACE])||void 0===s||s.forEach(function(e){return e()})}catch(e){t.onError(e)}try{y.hasOwnProperty(m.field)&&(null===(a=y[m.field])||void 0===a||a.forEach(function(e){return e(m.value,m.previousValue)}))}catch(e){t.onError(e)}}else m.op===e.OPERATION.ADD&&void 0===m.previousValue?null===(o=y[e.OPERATION.ADD])||void 0===o||o.forEach(function(e){var t;return e(m.value,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)}):m.op===e.OPERATION.DELETE?void 0!==m.previousValue&&(null===(l=y[e.OPERATION.DELETE])||void 0===l||l.forEach(function(e){var t;return e(m.previousValue,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)})):m.op===e.OPERATION.DELETE_AND_ADD&&(void 0!==m.previousValue&&(null===(h=y[e.OPERATION.DELETE])||void 0===h||h.forEach(function(e){var t;return e(m.previousValue,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)})),null===(u=y[e.OPERATION.ADD])||void 0===u||u.forEach(function(e){var t;return e(m.value,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)})),m.value!==m.previousValue&&(null===(c=y[e.OPERATION.REPLACE])||void 0===c||c.forEach(function(e){var t;return e(m.value,null!==(t=m.dynamicIndex)&&void 0!==t?t:m.field)}));d.add(g)}}(p)},t._definition=y.create(),t}(),eh={context:new b},eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),l([E("string",eh)],t.prototype,"name",void 0),l([E("string",eh)],t.prototype,"type",void 0),l([E("number",eh)],t.prototype,"referencedType",void 0),t}(el),ec=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new m,t}return o(t,e),l([E("number",eh)],t.prototype,"id",void 0),l([E([eu],eh)],t.prototype,"fields",void 0),t}(el),ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new m,t}return o(t,e),t.encode=function(e){var i,n=e.constructor,r=new t;r.rootType=n._typeid;var s=null===(i=n._context)||void 0===i?void 0:i.types;for(var a in s){var o=new ec;o.id=Number(a),function(e,t){for(var i in t){var n=new eu;n.name=i;var s=void 0;if("string"==typeof t[i])s=t[i];else{var a=t[i],o=void 0;el.is(a)?(s="ref",o=t[i]):(s=Object.keys(a)[0],"string"==typeof a[s]?s+=":"+a[s]:o=a[s]),n.referencedType=o?o._typeid:-1}n.type=s,e.fields.push(n)}r.types.push(e)}(o,s[a]._definition.schema)}return r.encodeAll()},t.decode=function(e,i){var n=new b,r=new t;r.decode(e,i);var s=r.types.reduce(function(e,t){var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(el),r=t.id;return e[r]=i,n.add(i,r),e},{});r.types.forEach(function(e){var t=s[e.id];e.fields.forEach(function(e){var i;if(void 0!==e.referencedType){var r=e.type,a=s[e.referencedType];if(!a){var o=e.type.split(":");r=o[0],a=o[1]}"ref"===r?E(a,{context:n})(t.prototype,e.name):E(((i={})[r]=a,i),{context:n})(t.prototype,e.name)}else E(e.type,{context:n})(t.prototype,e.name)})});var a=s[r.rootType],l=new a;for(var h in a._definition.schema){var u=a._definition.schema[h];"string"!=typeof u&&(l[h]="function"==typeof u?new u:new v[Object.keys(u)[0]].constructor)}return l},l([E([ec],eh)],t.prototype,"types",void 0),l([E("number",eh)],t.prototype,"rootType",void 0),t}(el);i={constructor:g},v.map=i,n={constructor:m},v.array=n,r={constructor:en},v.set=r,s={constructor:ei},v.collection=s,e.ArraySchema=m,e.CollectionSchema=ei,e.Context=b,e.MapSchema=g,e.Reflection=ed,e.ReflectionField=eu,e.ReflectionType=ec,e.Schema=el,e.SchemaDefinition=y,e.SetSchema=en,e.decode=et,e.defineTypes=function(e,t,i){for(var n in void 0===i&&(i={}),i.context||(i.context=e._context||i.context||x),t)E(t[n],i)(e.prototype,n);return e},e.deprecated=function(e){return void 0===e&&(e=!0),function(t,i){var n=t.constructor._definition;n.deprecated[i]=!0,e&&(n.descriptors[i]={get:function(){throw Error("".concat(i," is deprecated."))},set:function(e){},enumerable:!1,configurable:!0})}},e.dumpChanges=function(e){for(var t=[e.$changes],i={},n=0;n<1;n++)!function(e){var n=t[e];n.changes.forEach(function(e){var t=n.ref,r=e.index;i[t._definition?t._definition.fieldsByIndex[r]:t.$indexes.get(r)]=n.getValue(r)})}(n);return i},e.encode=B,e.filter=function(e){return function(t,i){var n=t.constructor;n._definition.addFilter(i,e)&&(n._context.useFilters=!0)}},e.filterChildren=function(e){return function(t,i){var n=t.constructor;n._definition.addChildrenFilter(i,e)&&(n._context.useFilters=!0)}},e.hasFilter=function(e){return e._context&&e._context.useFilters},e.registerType=function(e,t){v[e]=t},e.type=E}(i)},{}],"8Cxif":[function(e,t,i,n){let{Schema:r,type:s}=e("2c66e21e2e92b229"),{GameConst:a}=e("d05ecc5ab6f7e497");class o extends r{constructor(e){super(),this.room_id=e.room_id,this.scene=e.scene,this.key=e.key||"",this.x=parseFloat(e.x),this.y=parseFloat(e.y),this.dir=e.dir,this.mov=!1,this.inState=e.inState||a.STATUS.ACTIVE}sync(e){return this.room_id=e.room_id,this.scene=e.scene,this.key=e.key,this.x=parseFloat(e.x),this.y=parseFloat(e.y),this.dir=e.dir,this.mov=e.mov,this.inState=e.inState,this}}s("number")(o.prototype,"room_id"),s("string")(o.prototype,"scene"),s("string")(o.prototype,"key"),s("number")(o.prototype,"x"),s("number")(o.prototype,"y"),s("string")(o.prototype,"dir"),s("boolean")(o.prototype,"mov"),s("number")(o.prototype,"inState"),t.exports.BodyState=o},{"2c66e21e2e92b229":"hyLjW",d05ecc5ab6f7e497:"7Qdd3"}],kPIAj:[function(e,t,i,n){let{sc:r}=e("33b512ab719d83dc"),{Grid:s,AStarFinder:a}=e("3f2eb1c10ae89300");t.exports.PathFinder=class{constructor(){this.finder=new a,this.world=!1,this.grid=!1,this.bodies={}}createGridFromMap(){this.grid=new s(this.world.mapJson.width+1,this.world.mapJson.height+1)}addBodyToProcess(e){this.bodies[e.id]=e}findPath(e,t){if(this.world.onlyWalkable){let e=!1;try{e=!!r.hasOwn(this.grid,"nodes")&&this.grid.getNodeAt(t[0],t[1])}catch(e){}if(!e||!e.walkable)return!1}let i=this.grid.clone(),n=this.finder.findPath(e[0],e[1],t[0],t[1],i);if(!n.length&&this.world.tryClosestPath){let r=[1,1];e[0]<t[0]&&(r[0]=-1),e[1]<t[1]&&(r[1]=-1);let s=this.world.mapJson.width,a=this.world.mapJson.height,o=t[0]+r[0]>s?t[0]+r[0]:s,l=t[1]+r[1]>a?t[1]+r[1]:a,h=t[0]-r[0]<0?t[0]-r[0]:0,u=t[1]-r[1]<0?t[1]-r[1]:0,c=this.grid.getNodeAt(o,t[1]);c&&!c.walkable&&(c=this.grid.getNodeAt(t[0],l))&&!c.walkable&&(c=this.grid.getNodeAt(o,l))&&!c.walkable&&(c=this.grid.getNodeAt(h,t[1]))&&!c.walkable&&(c=this.grid.getNodeAt(t[0],u))&&!c.walkable&&(c=this.grid.getNodeAt(h,u))&&!c.walkable&&(c=this.grid.getNodeAt(h,l))&&!c.walkable&&(c=this.grid.getNodeAt(o,u)),c&&c.walkable&&(i=this.grid.clone(),n=this.finder.findPath(e[0],e[1],c.x,c.y,i))}return n}}},{"33b512ab719d83dc":"3lwy5","3f2eb1c10ae89300":"jSlJ0"}],jSlJ0:[function(e,t,i,n){t.exports=e("c08c5d893d481d77")},{c08c5d893d481d77:"110ct"}],"110ct":[function(e,t,i,n){t.exports={Heap:e("a11c2d2f6228b64d"),Node:e("5d6357416bae419"),Grid:e("eb2500554bbf40a2"),Util:e("b8fdf53e7c2bda86"),DiagonalMovement:e("ea6942fe46b7874a"),Heuristic:e("cc79ac15c71b85de"),AStarFinder:e("92550c19cc8290da"),BestFirstFinder:e("8fe7b6287e43173"),BreadthFirstFinder:e("49f4cbf7cb03de5a"),DijkstraFinder:e("f055f2df42298a76"),BiAStarFinder:e("ae88c656fdc0b402"),BiBestFirstFinder:e("6dfdccafa1ea046a"),BiBreadthFirstFinder:e("4f4a8a58aa00c271"),BiDijkstraFinder:e("f9f2731f8e4ac9f4"),IDAStarFinder:e("548d4f7f580680d4"),JumpPointFinder:e("c94d58273ef6271a")}},{a11c2d2f6228b64d:"j1Rgs","5d6357416bae419":"eTBTH",eb2500554bbf40a2:"4U8Sg",b8fdf53e7c2bda86:"eXbk6",ea6942fe46b7874a:"44ekP",cc79ac15c71b85de:"7ivQz","92550c19cc8290da":"b9jsj","8fe7b6287e43173":"j0U38","49f4cbf7cb03de5a":"c3dtf",f055f2df42298a76:"aTw5v",ae88c656fdc0b402:"gqRU9","6dfdccafa1ea046a":"OQep8","4f4a8a58aa00c271":"5kxE6",f9f2731f8e4ac9f4:"b2sHM","548d4f7f580680d4":"9146d",c94d58273ef6271a:"8thbF"}],j1Rgs:[function(e,t,i,n){t.exports=e("30b1093da33c692b")},{"30b1093da33c692b":"jKwEm"}],jKwEm:[function(e,t,i,n){(function(){var e,i,n,r,s,a,o,l,h,u,c,d,f,p,m;n=Math.floor,u=Math.min,i=function(e,t){return e<t?-1:e>t?1:0},h=function(e,t,r,s,a){var o;if(null==r&&(r=0),null==a&&(a=i),r<0)throw Error("lo must be non-negative");for(null==s&&(s=e.length);r<s;)0>a(t,e[o=n((r+s)/2)])?s=o:r=o+1;return[].splice.apply(e,[r,r-r].concat(t)),t},a=function(e,t,n){return null==n&&(n=i),e.push(t),p(e,0,e.length-1,n)},s=function(e,t){var n,r;return null==t&&(t=i),n=e.pop(),e.length?(r=e[0],e[0]=n,m(e,0,t)):r=n,r},l=function(e,t,n){var r;return null==n&&(n=i),r=e[0],e[0]=t,m(e,0,n),r},o=function(e,t,n){var r;return null==n&&(n=i),e.length&&0>n(e[0],t)&&(t=(r=[e[0],t])[0],e[0]=r[1],m(e,0,n)),t},r=function(e,t){var r,s,a,o,l,h;for(null==t&&(t=i),o=(function(){h=[];for(var t=0,i=n(e.length/2);0<=i?t<i:t>i;0<=i?t++:t--)h.push(t);return h}).apply(this).reverse(),l=[],s=0,a=o.length;s<a;s++)r=o[s],l.push(m(e,r,t));return l},f=function(e,t,n){var r;if(null==n&&(n=i),-1!==(r=e.indexOf(t)))return p(e,0,r,n),m(e,r,n)},c=function(e,t,n){var s,a,l,h;if(null==n&&(n=i),!(s=e.slice(0,t)).length)return s;for(r(s,n),a=0,l=(h=e.slice(t)).length;a<l;a++)o(s,h[a],n);return s.sort(n).reverse()},d=function(e,t,n){var a,o,l,c,d,f,p,m,g;if(null==n&&(n=i),10*t<=e.length){if(!(l=e.slice(0,t).sort(n)).length)return l;for(c=0,o=l[l.length-1],f=(p=e.slice(t)).length;c<f;c++)0>n(a=p[c],o)&&(h(l,a,0,null,n),l.pop(),o=l[l.length-1]);return l}for(r(e,n),g=[],d=0,m=u(t,e.length);0<=m?d<m:d>m;0<=m?++d:--d)g.push(s(e,n));return g},p=function(e,t,n,r){var s,a,o;for(null==r&&(r=i),s=e[n];n>t;){if(0>r(s,a=e[o=n-1>>1])){e[n]=a,n=o;continue}break}return e[n]=s},m=function(e,t,n){var r,s,a,o,l;for(null==n&&(n=i),s=e.length,l=t,a=e[t],r=2*t+1;r<s;)(o=r+1)<s&&!(0>n(e[r],e[o]))&&(r=o),e[t]=e[r],r=2*(t=r)+1;return e[t]=a,p(e,l,t,n)},e=function(){function e(e){this.cmp=null!=e?e:i,this.nodes=[]}return e.push=a,e.pop=s,e.replace=l,e.pushpop=o,e.heapify=r,e.updateItem=f,e.nlargest=c,e.nsmallest=d,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return s(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return -1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return o(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return r(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return f(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),(null!==t?t.exports:void 0)?t.exports=e:window.Heap=e}).call(this)},{}],eTBTH:[function(e,t,i,n){t.exports=function(e,t,i){this.x=e,this.y=t,this.walkable=void 0===i||i}},{}],"4U8Sg":[function(e,t,i,n){var r=e("3debe8dfc5f4b19"),s=e("1630f01fef4aa0f7");function a(e,t,i){var n;"object"!=typeof e?n=e:(t=e.length,n=e[0].length,i=e),this.width=n,this.height=t,this.nodes=this._buildNodes(n,t,i)}a.prototype._buildNodes=function(e,t,i){var n,s,a=Array(t);for(n=0;n<t;++n)for(s=0,a[n]=Array(e);s<e;++s)a[n][s]=new r(s,n);if(void 0===i)return a;if(i.length!==t||i[0].length!==e)throw Error("Matrix size does not fit");for(n=0;n<t;++n)for(s=0;s<e;++s)i[n][s]&&(a[n][s].walkable=!1);return a},a.prototype.getNodeAt=function(e,t){return this.nodes[t][e]},a.prototype.isWalkableAt=function(e,t){return this.isInside(e,t)&&this.nodes[t][e].walkable},a.prototype.isInside=function(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height},a.prototype.setWalkableAt=function(e,t,i){this.nodes[t][e].walkable=i},a.prototype.getNeighbors=function(e,t){var i=e.x,n=e.y,r=[],a=!1,o=!1,l=!1,h=!1,u=!1,c=!1,d=!1,f=!1,p=this.nodes;if(this.isWalkableAt(i,n-1)&&(r.push(p[n-1][i]),a=!0),this.isWalkableAt(i+1,n)&&(r.push(p[n][i+1]),l=!0),this.isWalkableAt(i,n+1)&&(r.push(p[n+1][i]),u=!0),this.isWalkableAt(i-1,n)&&(r.push(p[n][i-1]),d=!0),t===s.Never)return r;if(t===s.OnlyWhenNoObstacles)o=d&&a,h=a&&l,c=l&&u,f=u&&d;else if(t===s.IfAtMostOneObstacle)o=d||a,h=a||l,c=l||u,f=u||d;else if(t===s.Always)o=!0,h=!0,c=!0,f=!0;else throw Error("Incorrect value of diagonalMovement");return o&&this.isWalkableAt(i-1,n-1)&&r.push(p[n-1][i-1]),h&&this.isWalkableAt(i+1,n-1)&&r.push(p[n-1][i+1]),c&&this.isWalkableAt(i+1,n+1)&&r.push(p[n+1][i+1]),f&&this.isWalkableAt(i-1,n+1)&&r.push(p[n+1][i-1]),r},a.prototype.clone=function(){var e,t,i=this.width,n=this.height,s=this.nodes,o=new a(i,n),l=Array(n);for(e=0;e<n;++e)for(t=0,l[e]=Array(i);t<i;++t)l[e][t]=new r(t,e,s[e][t].walkable);return o.nodes=l,o},t.exports=a},{"3debe8dfc5f4b19":"eTBTH","1630f01fef4aa0f7":"44ekP"}],"44ekP":[function(e,t,i,n){t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},{}],eXbk6:[function(e,t,i,n){function r(e){for(var t=[[e.x,e.y]];e.parent;)t.push([(e=e.parent).x,e.y]);return t.reverse()}function s(e,t,i,n){var r,s,a,o,l,h,u=Math.abs,c=[];for(a=u(i-e),o=u(n-t),r=e<i?1:-1,s=t<n?1:-1,l=a-o;c.push([e,t]),e!==i||t!==n;)(h=2*l)>-o&&(l-=o,e+=r),h<a&&(l+=a,t+=s);return c}i.backtrace=r,i.biBacktrace=function(e,t){var i=r(e),n=r(t);return i.concat(n.reverse())},i.pathLength=function(e){var t,i,n,r,s,a=0;for(t=1;t<e.length;++t)i=e[t-1],n=e[t],a+=Math.sqrt((r=i[0]-n[0])*r+(s=i[1]-n[1])*s);return a},i.interpolate=s,i.expandPath=function(e){var t,i,n,r,a,o,l=[],h=e.length;if(h<2)return l;for(a=0;a<h-1;++a)for(o=0,t=e[a],i=e[a+1],r=(n=s(t[0],t[1],i[0],i[1])).length;o<r-1;++o)l.push(n[o]);return l.push(e[h-1]),l},i.smoothenPath=function(e,t){var i,n,r,a,o,l,h,u,c,d=t.length,f=t[0][0],p=t[0][1],m=t[d-1][0],g=t[d-1][1];for(a=2,r=[[i=f,n=p]];a<d;++a){for(o=1,h=s(i,n,(l=t[a])[0],l[1]),c=!1;o<h.length;++o)if(u=h[o],!e.isWalkableAt(u[0],u[1])){c=!0;break}c&&(lastValidCoord=t[a-1],r.push(lastValidCoord),i=lastValidCoord[0],n=lastValidCoord[1])}return r.push([m,g]),r},i.compressPath=function(e){if(e.length<3)return e;var t,i,n,r,s,a,o=[],l=e[0][0],h=e[0][1],u=e[1][0],c=e[1][1],d=u-l,f=c-h;for(s=Math.sqrt(d*d+f*f),d/=s,f/=s,o.push([l,h]),a=2;a<e.length;a++)t=u,i=c,n=d,r=f,u=e[a][0],c=e[a][1],s=Math.sqrt((d=u-t)*d+(f=c-i)*f),d/=s,f/=s,(d!==n||f!==r)&&o.push([t,i]);return o.push([u,c]),o}},{}],"7ivQz":[function(e,t,i,n){t.exports={manhattan:function(e,t){return e+t},euclidean:function(e,t){return Math.sqrt(e*e+t*t)},octile:function(e,t){var i=Math.SQRT2-1;return e<t?i*e+t:i*t+e},chebyshev:function(e,t){return Math.max(e,t)}}},{}],b9jsj:[function(e,t,i,n){var r=e("b757ea534d669965"),s=e("754f144f9fe03b61"),a=e("89babbb01a8c7621"),o=e("253ad51195869677");function l(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.heuristic=e.heuristic||a.manhattan,this.weight=e.weight||1,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=e.heuristic||a.manhattan:this.heuristic=e.heuristic||a.octile}l.prototype.findPath=function(e,t,i,n,a){var o,l,h,u,c,d,f,p,m=new r(function(e,t){return e.f-t.f}),g=a.getNodeAt(e,t),v=a.getNodeAt(i,n),y=this.heuristic,b=this.diagonalMovement,x=this.weight,E=Math.abs,w=Math.SQRT2;for(g.g=0,g.f=0,m.push(g),g.opened=!0;!m.empty();){if((o=m.pop()).closed=!0,o===v)return s.backtrace(v);for(u=0,c=(l=a.getNeighbors(o,b)).length;u<c;++u)(h=l[u]).closed||(d=h.x,f=h.y,p=o.g+(d-o.x==0||f-o.y==0?1:w),(!h.opened||p<h.g)&&(h.g=p,h.h=h.h||x*y(E(d-i),E(f-n)),h.f=h.g+h.h,h.parent=o,h.opened?m.updateItem(h):(m.push(h),h.opened=!0)))}return[]},t.exports=l},{b757ea534d669965:"j1Rgs","754f144f9fe03b61":"eXbk6","89babbb01a8c7621":"7ivQz","253ad51195869677":"44ekP"}],j0U38:[function(e,t,i,n){var r=e("b7db616f6e486e56");function s(e){r.call(this,e);var t=this.heuristic;this.heuristic=function(e,i){return 1e6*t(e,i)}}s.prototype=new r,s.prototype.constructor=s,t.exports=s},{b7db616f6e486e56:"b9jsj"}],c3dtf:[function(e,t,i,n){var r=e("6cf07efeb8a2810"),s=e("4df4f7ec3660ef9c");function a(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never)}a.prototype.findPath=function(e,t,i,n,s){var a,o,l,h,u,c=[],d=this.diagonalMovement,f=s.getNodeAt(e,t),p=s.getNodeAt(i,n);for(c.push(f),f.opened=!0;c.length;){if((l=c.shift()).closed=!0,l===p)return r.backtrace(p);for(h=0,u=(a=s.getNeighbors(l,d)).length;h<u;++h)(o=a[h]).closed||o.opened||(c.push(o),o.opened=!0,o.parent=l)}return[]},t.exports=a},{"6cf07efeb8a2810":"eXbk6","4df4f7ec3660ef9c":"44ekP"}],aTw5v:[function(e,t,i,n){var r=e("45c604de4657667e");function s(e){r.call(this,e),this.heuristic=function(e,t){return 0}}s.prototype=new r,s.prototype.constructor=s,t.exports=s},{"45c604de4657667e":"b9jsj"}],gqRU9:[function(e,t,i,n){var r=e("108c6be25fad91af"),s=e("243c1e91777c041a"),a=e("cd71f9bf8d3d1dc4"),o=e("413e1b12231275fd");function l(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||a.manhattan,this.weight=e.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=e.heuristic||a.manhattan:this.heuristic=e.heuristic||a.octile}l.prototype.findPath=function(e,t,i,n,a){var o,l,h,u,c,d,f,p,m=function(e,t){return e.f-t.f},g=new r(m),v=new r(m),y=a.getNodeAt(e,t),b=a.getNodeAt(i,n),x=this.heuristic,E=this.diagonalMovement,w=this.weight,S=Math.abs,T=Math.SQRT2;for(y.g=0,y.f=0,g.push(y),y.opened=1,b.g=0,b.f=0,v.push(b),b.opened=2;!g.empty()&&!v.empty();){for(u=0,(o=g.pop()).closed=!0,c=(l=a.getNeighbors(o,E)).length;u<c;++u)if(!(h=l[u]).closed){if(2===h.opened)return s.biBacktrace(o,h);d=h.x,f=h.y,p=o.g+(d-o.x==0||f-o.y==0?1:T),(!h.opened||p<h.g)&&(h.g=p,h.h=h.h||w*x(S(d-i),S(f-n)),h.f=h.g+h.h,h.parent=o,h.opened?g.updateItem(h):(g.push(h),h.opened=1))}for(u=0,(o=v.pop()).closed=!0,c=(l=a.getNeighbors(o,E)).length;u<c;++u)if(!(h=l[u]).closed){if(1===h.opened)return s.biBacktrace(h,o);d=h.x,f=h.y,p=o.g+(d-o.x==0||f-o.y==0?1:T),(!h.opened||p<h.g)&&(h.g=p,h.h=h.h||w*x(S(d-e),S(f-t)),h.f=h.g+h.h,h.parent=o,h.opened?v.updateItem(h):(v.push(h),h.opened=2))}}return[]},t.exports=l},{"108c6be25fad91af":"j1Rgs","243c1e91777c041a":"eXbk6",cd71f9bf8d3d1dc4:"7ivQz","413e1b12231275fd":"44ekP"}],OQep8:[function(e,t,i,n){var r=e("a6760298dc2ae1e2");function s(e){r.call(this,e);var t=this.heuristic;this.heuristic=function(e,i){return 1e6*t(e,i)}}s.prototype=new r,s.prototype.constructor=s,t.exports=s},{a6760298dc2ae1e2:"gqRU9"}],"5kxE6":[function(e,t,i,n){var r=e("e34624d6ddfc3286"),s=e("3a2b331c44f27e4");function a(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never)}a.prototype.findPath=function(e,t,i,n,s){var a,o,l,h,u,c=s.getNodeAt(e,t),d=s.getNodeAt(i,n),f=[],p=[],m=this.diagonalMovement;for(f.push(c),c.opened=!0,c.by=0,p.push(d),d.opened=!0,d.by=1;f.length&&p.length;){for(h=0,(l=f.shift()).closed=!0,u=(a=s.getNeighbors(l,m)).length;h<u;++h)if(!(o=a[h]).closed){if(o.opened){if(1===o.by)return r.biBacktrace(l,o);continue}f.push(o),o.parent=l,o.opened=!0,o.by=0}for(h=0,(l=p.shift()).closed=!0,u=(a=s.getNeighbors(l,m)).length;h<u;++h)if(!(o=a[h]).closed){if(o.opened){if(0===o.by)return r.biBacktrace(o,l);continue}p.push(o),o.parent=l,o.opened=!0,o.by=1}}return[]},t.exports=a},{e34624d6ddfc3286:"eXbk6","3a2b331c44f27e4":"44ekP"}],b2sHM:[function(e,t,i,n){var r=e("4d2eb37086fd0a4d");function s(e){r.call(this,e),this.heuristic=function(e,t){return 0}}s.prototype=new r,s.prototype.constructor=s,t.exports=s},{"4d2eb37086fd0a4d":"gqRU9"}],"9146d":[function(e,t,i,n){e("c0387396fce16765");var r=e("dde77a9c5fac2972"),s=e("a8074282e5d01edd"),a=e("19018cfbc93f15b2");function o(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||r.manhattan,this.weight=e.weight||1,this.trackRecursion=e.trackRecursion||!1,this.timeLimit=e.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=e.heuristic||r.manhattan:this.heuristic=e.heuristic||r.octile}o.prototype.findPath=function(e,t,i,n,r){var a,o,l,h=0,u=new Date().getTime(),c=(function(e,t){return this.heuristic(Math.abs(t.x-e.x),Math.abs(t.y-e.y))}).bind(this),d=(function(e,t,i,n,a){if(h++,this.timeLimit>0&&new Date().getTime()-u>1e3*this.timeLimit)return 1/0;var o,l,f,m,g,v=t+c(e,p)*this.weight;if(v>i)return v;if(e==p)return n[a]=[e.x,e.y],e;var y=r.getNeighbors(e,this.diagonalMovement);for(m=0,l=1/0;g=y[m];++m){if(this.trackRecursion&&(g.retainCount=g.retainCount+1||1,!0!==g.tested&&(g.tested=!0)),(f=d(g,t+(o=g,e.x===o.x||e.y===o.y?1:Math.SQRT2),i,n,a+1))instanceof s)return n[a]=[e.x,e.y],f;this.trackRecursion&&0==--g.retainCount&&(g.tested=!1),f<l&&(l=f)}return l}).bind(this),f=r.getNodeAt(e,t),p=r.getNodeAt(i,n),m=c(f,p);for(a=0;(l=d(f,0,m,o=[],0))!==1/0;++a){if(l instanceof s)return o;m=l}return[]},t.exports=o},{c0387396fce16765:"eXbk6",dde77a9c5fac2972:"7ivQz",a8074282e5d01edd:"eTBTH","19018cfbc93f15b2":"44ekP"}],"8thbF":[function(e,t,i,n){var r=e("2891a3456c178f83"),s=e("4bebb1dfbb208333"),a=e("2a49f576027a63b9"),o=e("4870319ec82eda68"),l=e("434359508a2431a3");t.exports=function(e){return(e=e||{}).diagonalMovement===r.Never?new s(e):e.diagonalMovement===r.Always?new a(e):e.diagonalMovement===r.OnlyWhenNoObstacles?new o(e):new l(e)}},{"2891a3456c178f83":"44ekP","4bebb1dfbb208333":"lWu7G","2a49f576027a63b9":"f8Z4Q","4870319ec82eda68":"gnl5v","434359508a2431a3":"eBShv"}],lWu7G:[function(e,t,i,n){var r=e("98703dbb8710efff"),s=e("6cca3053e9062116");function a(e){r.call(this,e)}a.prototype=new r,a.prototype.constructor=a,a.prototype._jump=function(e,t,i,n){var r=this.grid,s=e-i,a=t-n;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-s,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-s,t+1))return[e,t]}else if(0!==a){if(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-a)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-a)||this._jump(e+1,t,e,t)||this._jump(e-1,t,e,t))return[e,t]}else throw Error("Only horizontal and vertical movements are allowed");return this._jump(e+s,t+a,e,t)},a.prototype._findNeighbors=function(e){var t,i,n,r,a,o,l,h,u=e.parent,c=e.x,d=e.y,f=this.grid,p=[];if(u)t=u.x,i=u.y,n=(c-t)/Math.max(Math.abs(c-t),1),r=(d-i)/Math.max(Math.abs(d-i),1),0!==n?(f.isWalkableAt(c,d-1)&&p.push([c,d-1]),f.isWalkableAt(c,d+1)&&p.push([c,d+1]),f.isWalkableAt(c+n,d)&&p.push([c+n,d])):0!==r&&(f.isWalkableAt(c-1,d)&&p.push([c-1,d]),f.isWalkableAt(c+1,d)&&p.push([c+1,d]),f.isWalkableAt(c,d+r)&&p.push([c,d+r]));else for(l=0,h=(a=f.getNeighbors(e,s.Never)).length;l<h;++l)p.push([(o=a[l]).x,o.y]);return p},t.exports=a},{"98703dbb8710efff":"abCz2","6cca3053e9062116":"44ekP"}],abCz2:[function(e,t,i,n){var r=e("8b7979f4607e3762"),s=e("179c54d27a93ac47"),a=e("b48b48ed099ac50b");function o(e){e=e||{},this.heuristic=e.heuristic||a.manhattan,this.trackJumpRecursion=e.trackJumpRecursion||!1}e("f5a1fa39fcf9e158"),o.prototype.findPath=function(e,t,i,n,a){var o,l=this.openList=new r(function(e,t){return e.f-t.f}),h=this.startNode=a.getNodeAt(e,t),u=this.endNode=a.getNodeAt(i,n);for(this.grid=a,h.g=0,h.f=0,l.push(h),h.opened=!0;!l.empty();){if((o=l.pop()).closed=!0,o===u)return s.expandPath(s.backtrace(u));this._identifySuccessors(o)}return[]},o.prototype._identifySuccessors=function(e){var t,i,n,r,s,o,l,h,u,c,d=this.grid,f=this.heuristic,p=this.openList,m=this.endNode.x,g=this.endNode.y,v=e.x,y=e.y,b=Math.abs;for(r=0,s=(t=this._findNeighbors(e)).length;r<s;++r)if(i=t[r],n=this._jump(i[0],i[1],v,y)){if(o=n[0],l=n[1],(c=d.getNodeAt(o,l)).closed)continue;h=a.octile(b(o-v),b(l-y)),u=e.g+h,(!c.opened||u<c.g)&&(c.g=u,c.h=c.h||f(b(o-m),b(l-g)),c.f=c.g+c.h,c.parent=e,c.opened?p.updateItem(c):(p.push(c),c.opened=!0))}},t.exports=o},{"8b7979f4607e3762":"j1Rgs","179c54d27a93ac47":"eXbk6",b48b48ed099ac50b:"7ivQz",f5a1fa39fcf9e158:"44ekP"}],f8Z4Q:[function(e,t,i,n){var r=e("f54d43a0156dd491"),s=e("c0fd5fc87fc6e982");function a(e){r.call(this,e)}a.prototype=new r,a.prototype.constructor=a,a.prototype._jump=function(e,t,i,n){var r=this.grid,s=e-i,a=t-n;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s&&0!==a){if(r.isWalkableAt(e-s,t+a)&&!r.isWalkableAt(e-s,t)||r.isWalkableAt(e+s,t-a)&&!r.isWalkableAt(e,t-a)||this._jump(e+s,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==s){if(r.isWalkableAt(e+s,t+1)&&!r.isWalkableAt(e,t+1)||r.isWalkableAt(e+s,t-1)&&!r.isWalkableAt(e,t-1))return[e,t]}else if(r.isWalkableAt(e+1,t+a)&&!r.isWalkableAt(e+1,t)||r.isWalkableAt(e-1,t+a)&&!r.isWalkableAt(e-1,t))return[e,t];return this._jump(e+s,t+a,e,t)},a.prototype._findNeighbors=function(e){var t,i,n,r,a,o,l,h,u=e.parent,c=e.x,d=e.y,f=this.grid,p=[];if(u)t=u.x,i=u.y,n=(c-t)/Math.max(Math.abs(c-t),1),r=(d-i)/Math.max(Math.abs(d-i),1),0!==n&&0!==r?(f.isWalkableAt(c,d+r)&&p.push([c,d+r]),f.isWalkableAt(c+n,d)&&p.push([c+n,d]),f.isWalkableAt(c+n,d+r)&&p.push([c+n,d+r]),f.isWalkableAt(c-n,d)||p.push([c-n,d+r]),f.isWalkableAt(c,d-r)||p.push([c+n,d-r])):0===n?(f.isWalkableAt(c,d+r)&&p.push([c,d+r]),f.isWalkableAt(c+1,d)||p.push([c+1,d+r]),f.isWalkableAt(c-1,d)||p.push([c-1,d+r])):(f.isWalkableAt(c+n,d)&&p.push([c+n,d]),f.isWalkableAt(c,d+1)||p.push([c+n,d+1]),f.isWalkableAt(c,d-1)||p.push([c+n,d-1]));else for(l=0,h=(a=f.getNeighbors(e,s.Always)).length;l<h;++l)p.push([(o=a[l]).x,o.y]);return p},t.exports=a},{f54d43a0156dd491:"abCz2",c0fd5fc87fc6e982:"44ekP"}],gnl5v:[function(e,t,i,n){var r=e("671509dd03a8d8cf"),s=e("8726ce1aeaa16523");function a(e){r.call(this,e)}a.prototype=new r,a.prototype.constructor=a,a.prototype._jump=function(e,t,i,n){var r=this.grid,s=e-i,a=t-n;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s&&0!==a){if(this._jump(e+s,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==s){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-s,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-s,t+1))return[e,t]}else if(0!==a&&(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-a)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-a)))return[e,t];return r.isWalkableAt(e+s,t)&&r.isWalkableAt(e,t+a)?this._jump(e+s,t+a,e,t):null},a.prototype._findNeighbors=function(e){var t,i,n,r,a,o,l,h,u,c=e.parent,d=e.x,f=e.y,p=this.grid,m=[];if(c){if(i=c.x,n=c.y,r=(d-i)/Math.max(Math.abs(d-i),1),a=(f-n)/Math.max(Math.abs(f-n),1),0!==r&&0!==a)p.isWalkableAt(d,f+a)&&m.push([d,f+a]),p.isWalkableAt(d+r,f)&&m.push([d+r,f]),p.isWalkableAt(d,f+a)&&p.isWalkableAt(d+r,f)&&m.push([d+r,f+a]);else if(0!==r){t=p.isWalkableAt(d+r,f);var g=p.isWalkableAt(d,f+1),v=p.isWalkableAt(d,f-1);t&&(m.push([d+r,f]),g&&m.push([d+r,f+1]),v&&m.push([d+r,f-1])),g&&m.push([d,f+1]),v&&m.push([d,f-1])}else if(0!==a){t=p.isWalkableAt(d,f+a);var y=p.isWalkableAt(d+1,f),b=p.isWalkableAt(d-1,f);t&&(m.push([d,f+a]),y&&m.push([d+1,f+a]),b&&m.push([d-1,f+a])),y&&m.push([d+1,f]),b&&m.push([d-1,f])}}else for(h=0,u=(o=p.getNeighbors(e,s.OnlyWhenNoObstacles)).length;h<u;++h)l=o[h],m.push([l.x,l.y]);return m},t.exports=a},{"671509dd03a8d8cf":"abCz2","8726ce1aeaa16523":"44ekP"}],eBShv:[function(e,t,i,n){var r=e("f2c8225bd6d92e42"),s=e("30a82af97f1647c1");function a(e){r.call(this,e)}a.prototype=new r,a.prototype.constructor=a,a.prototype._jump=function(e,t,i,n){var r=this.grid,s=e-i,a=t-n;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s&&0!==a){if(r.isWalkableAt(e-s,t+a)&&!r.isWalkableAt(e-s,t)||r.isWalkableAt(e+s,t-a)&&!r.isWalkableAt(e,t-a)||this._jump(e+s,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==s){if(r.isWalkableAt(e+s,t+1)&&!r.isWalkableAt(e,t+1)||r.isWalkableAt(e+s,t-1)&&!r.isWalkableAt(e,t-1))return[e,t]}else if(r.isWalkableAt(e+1,t+a)&&!r.isWalkableAt(e+1,t)||r.isWalkableAt(e-1,t+a)&&!r.isWalkableAt(e-1,t))return[e,t];return r.isWalkableAt(e+s,t)||r.isWalkableAt(e,t+a)?this._jump(e+s,t+a,e,t):null},a.prototype._findNeighbors=function(e){var t,i,n,r,a,o,l,h,u=e.parent,c=e.x,d=e.y,f=this.grid,p=[];if(u)t=u.x,i=u.y,n=(c-t)/Math.max(Math.abs(c-t),1),r=(d-i)/Math.max(Math.abs(d-i),1),0!==n&&0!==r?(f.isWalkableAt(c,d+r)&&p.push([c,d+r]),f.isWalkableAt(c+n,d)&&p.push([c+n,d]),(f.isWalkableAt(c,d+r)||f.isWalkableAt(c+n,d))&&p.push([c+n,d+r]),!f.isWalkableAt(c-n,d)&&f.isWalkableAt(c,d+r)&&p.push([c-n,d+r]),!f.isWalkableAt(c,d-r)&&f.isWalkableAt(c+n,d)&&p.push([c+n,d-r])):0===n?f.isWalkableAt(c,d+r)&&(p.push([c,d+r]),f.isWalkableAt(c+1,d)||p.push([c+1,d+r]),f.isWalkableAt(c-1,d)||p.push([c-1,d+r])):f.isWalkableAt(c+n,d)&&(p.push([c+n,d]),f.isWalkableAt(c,d+1)||p.push([c+n,d+1]),f.isWalkableAt(c,d-1)||p.push([c+n,d-1]));else for(l=0,h=(a=f.getNeighbors(e,s.IfAtMostOneObstacle)).length;l<h;++l)p.push([(o=a[l]).x,o.y]);return p},t.exports=a},{f2c8225bd6d92e42:"abCz2","30a82af97f1647c1":"44ekP"}],ivpJa:[function(e,t,i,n){let{sc:r}=e("3cc70fd383ef5bf2");t.exports.TypeDeterminer=class{isPlayer(e){return r.hasOwn(e,"sessionId")}isObject(e){return r.hasOwn(e,"key")}}},{"3cc70fd383ef5bf2":"3lwy5"}],"5g1RE":[function(e,t,i,n){t.exports.WorldConst={WORLD_TYPES:{NO_GRAVITY_2D:"NO_GRAVITY_2D",TOP_DOWN_WITH_GRAVITY:"TOP_DOWN_WITH_GRAVITY"},COLLISIONS:{PLAYER:1,OBJECT:2,WALL:4,BULLET_PLAYER:8,BULLET_OBJECT:16,BULLET_OTHER:32,DROP:64},FROM_TYPES:{PLAYER:"PLAYER",OBJECT:"OBJECT",OTHER:"OTHER"}}},{}],"2TXy9":[function(e,t,i,n){t.exports.WorldPointsValidator=class{constructor(e,t){this.worldWidth=e,this.worldHeight=t}makeValidPoints(e){return e.column=e.column<0?0:e.column,e.column=e.column>this.worldWidth?this.worldWidth:e.column,e.row=e.row<0?0:e.row,e.row=e.row>this.worldHeight?this.worldHeight:e.row,e}}},{}],"9LSjN":[function(e,t,i,n){let{Logger:r,sc:s}=e("a6722c3930f746e5");t.exports.WorldTimer=class{constructor(e){this.clockInstance=s.get(e,"clockInstance",!1),this.callbacks=s.get(e,"callbacks",[]),this.worldTimer={},this.paused=!1,this.lastCallTime=0,this.stepTime=0,this.startedTime=new Date().getTime(),this.currentTime=this.startedTime}startWorldSteps(e){if(!e){r.error("World instance invalid.",{world:e});return}if(this.stepTime=1e3*e.timeStep,this.clockInstance){this.worldTimer=this.clockInstance.setInterval(()=>{this.setIntervalCallback(e)},this.stepTime);return}this.worldTimer=setInterval(()=>{this.setIntervalCallback(e)},this.stepTime)}setIntervalCallback(e){this.paused||(this.currentTime+=this.stepTime,this.stepWorld(e),this.executeCallbacks())}stepWorld(e){if(e.useFixedWorldStep){e.step(e.timeStep);return}this.stepWorldWithSubSteps(e)}executeCallbacks(){if(0!==this.callbacks.length)for(let e of this.callbacks)e()}stepWorldWithSubSteps(e){let t=Date.now()/1e3-this.lastCallTime;e.step(e.timeStep,t,e.maxSubSteps)}}},{a6722c3930f746e5:"3lwy5"}],jRdF3:[function(e,t,i,n){let{PlayerEnginePrediction:r}=e("1136bfe444f5b6ae"),{SceneDynamic:s}=e("6c571f7a13283762");t.exports.RoomEventsOverride=class{createCurrentPlayerOverride(e){e.createCurrentPlayer=async(t,i,n)=>{e.engineStarted=!0,await e.startEngineScene(t,e.room,i);let r=e.getActiveScene();if(!e.isValidScene(r,t))return!1;for(let s of(await e.events.emit("reldens.playersQueueBefore",t,n,i,e),Object.keys(e.playersQueue)))r.player.addPlayer(s,e.playersQueue[s]);r.experimentalClientPrediction&&(r.player.positionFromServer=t);let s={player:t,key:n,previousScene:i,roomEvents:e};return await e.events.emit("reldens.createCurrentPlayer",s),s}}playerOnChangeOverride(e){e.playersOnChange=(t,i,n)=>{if(t.state.scene!==e.roomName)return;let r=e.getActiveScene();if(e.playerExists(r,i)){if(r.experimentalClientPrediction&&e.isCurrentPlayer(i)){r.player.positionFromServer=t;return}r.player.updatePlayer(i,t)}}}createSceneInstanceOverride(e){e.createSceneInstance=(e,t,i)=>{let n=new s(e,t,i);return n.experimentalClientPrediction=i.config.get("client/general/engine/experimentalClientPrediction"),n.worldPrediction=!1,n}}createPlayerEngineInstanceOverride(e){e.createPlayerEngineInstance=(e,t,i,n)=>new r({scene:e,playerData:t,gameManager:i,room:n})}}},{"1136bfe444f5b6ae":"ett16","6c571f7a13283762":"lFjqg"}],ett16:[function(e,t,i,n){let{PlayerEngine:r}=e("2d0d26536cbe8ba6"),{GameConst:s}=e("4c7667d873e570ea");t.exports.PlayerEnginePrediction=class extends r{constructor(e){super(e),this.predictionBody=!1,this.positionFromServer=!1;let t=this.gameManager.config.get("client/players/reconciliation/timeOutMs");this.reconciliationTimeOutMs=!1===t?1e3:Number(t)}left(){if("pressed"===this.lastKeyState[s.LEFT])return;let e={dir:s.LEFT};this.lastKeyState[s.LEFT]="pressed",this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.predictionBody.initMove(s.LEFT,!0)),this.roomEvents.send(e)}right(){if("pressed"===this.lastKeyState[s.RIGHT])return;this.lastKeyState[s.RIGHT]="pressed";let e={dir:s.RIGHT};this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.predictionBody.initMove(s.RIGHT,!0)),this.roomEvents.send(e)}up(){if("pressed"===this.lastKeyState[s.UP])return;this.lastKeyState[s.UP]="pressed";let e={dir:s.UP};this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.predictionBody.initMove(s.UP,!0)),this.roomEvents.send(e)}down(){if("pressed"===this.lastKeyState[s.DOWN])return;this.lastKeyState[s.DOWN]="pressed";let e={dir:s.DOWN};this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.predictionBody.initMove(s.DOWN,!0)),this.roomEvents.send(e)}stop(){this.lastKeyState[s.LEFT]="",this.lastKeyState[s.RIGHT]="",this.lastKeyState[s.UP]="",this.lastKeyState[s.DOWN]="";let e={act:s.STOP};this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.reconcilePosition()),this.roomEvents.send(e)}reconcilePosition(){this.predictionBody&&this.positionFromServer&&(this.predictionBody.stopFull(),setTimeout(()=>{this.predictionBody.position[0]=this.positionFromServer.state.x,this.predictionBody.position[1]=this.positionFromServer.state.y,this.predictionBody.dir=this.positionFromServer.state.dir,this.updatePlayer(this.playerId,this.positionFromServer)},this.reconciliationByTimeOutMs()))}reconciliationTimeOutCallBack(){return!1}reconciliationByTimeOutMs(){let e=this.reconciliationTimeOutCallBack();return Number(!1!==e?e:this.reconciliationTimeOutMs)}moveToPointer(e){this.lastKeyState[s.LEFT]="",this.lastKeyState[s.RIGHT]="",this.lastKeyState[s.UP]="",this.lastKeyState[s.DOWN]="";let t={act:s.POINTER,column:e.worldColumn,row:e.worldRow,x:e.worldX-this.leftOff,y:e.worldY-this.topOff};if(this.predictionBody&&this.pointsValidator){this.reconcilePosition();let e=Object.assign({},t);e=this.pointsValidator.makeValidPoints(e),this.predictionBody.moveToPoint(e)}this.roomEvents.send(t)}}},{"2d0d26536cbe8ba6":"2KXlv","4c7667d873e570ea":"7Qdd3"}],"8GoPg":[function(e,t,i,n){let{PluginInterface:r}=e("3e2556f9927981f8"),{TargetBoxEnricher:s}=e("53d9a911cbdcfbc5"),{TeamMessageListener:a}=e("f6beffb655fa7cb4"),{ClanMessageListener:o}=e("f01b376e357ef11c"),{MessageProcessor:l}=e("a67caf9c691f616d"),{TemplatesHandler:h}=e("caa5a6c6a11fec64"),{TeamsConst:u}=e("54c9661624ae3628"),{Logger:c,sc:d}=e("14e11937ea2c45f4");t.exports.TeamsPlugin=class extends r{setup(e){this.gameManager=d.get(e,"gameManager",!1),this.gameManager||c.error("Game Manager undefined in TeamsPlugin."),this.events=d.get(e,"events",!1),this.events||c.error("EventsManager undefined in TeamsPlugin."),this.teamMessageListener=new a,this.clanMessageListener=new o,this.listenEvents(),this.listenMessages()}listenMessages(){this.gameManager&&this.events&&(this.gameManager.config.client.message.listeners[u.KEY]=this.teamMessageListener,this.gameManager.config.client.message.listeners[u.CLAN_KEY]=this.clanMessageListener)}listenEvents(){this.events&&(this.events.on("reldens.createEngineSceneDone",e=>{let t=e.roomEvents;if(!t)return c.critical("RoomEvents undefined for process Team messages queue on TeamsPlugin.",e),!1;l.processClanMessagesQueue(t,this.clanMessageListener),l.processTeamMessagesQueue(t,this.teamMessageListener)}),this.events.on("reldens.preloadUiScene",e=>{h.preloadTemplates(e)}),this.events.on("reldens.gameEngineShowTarget",(e,t,i,n)=>{s.appendClanInviteButton(this.gameManager,t,i,n),s.appendTeamInviteButton(this.gameManager,t,i,n)}))}fetchTeamPlayerBySessionId(e){let t=this.gameManager.gameEngine.uiScene.currentTeam;if(!t)return!1;for(let i of Object.keys(t)){let n=t[i];if(n.sessionId===e)return n}return!1}}},{"3e2556f9927981f8":"jorwg","53d9a911cbdcfbc5":"77K6X",f6beffb655fa7cb4:"2B3rn",f01b376e357ef11c:"9FSbd",a67caf9c691f616d:"8ToMR",caa5a6c6a11fec64:"kdOXg","54c9661624ae3628":"lAi9G","14e11937ea2c45f4":"3lwy5"}],"77K6X":[function(e,t,i,n){let{TeamsConst:r}=e("9a43cebf087570eb"),{GameConst:s}=e("bbfee0e632b58d31"),{Logger:a,sc:o}=e("bd3cd78fd8a3265c");t.exports.TargetBoxEnricher=class{static appendClanInviteButton(e,t,i,n){let r=e?.gameEngine?.uiScene?.currentClan;if(!r)return!1;if(!r.ownerId)return a.error("Current clan missing owner.",r),!1;if(this.playerBySessionId(r,t.id))return!1;let s=e.getCurrentPlayer();if(!this.targetIsValidPlayer(t,s))return!1;let o=e.config.getWithoutLogs("client/clan/general/openInvites",!1);return(e.playerData.id.toString()===r.ownerId.toString()||!!o)&&this.appendInviteButton("clan",t,e,n)}static appendTeamInviteButton(e,t,i,n){return!(!this.targetIsValidPlayer(t,e.getCurrentPlayer())||e.getFeature("teams").fetchTeamPlayerBySessionId(t.id))&&this.appendInviteButton("team",t,e,n)}static appendInviteButton(e,t,i,n){let s=i.gameEngine.uiScene;if(!1===o.get(s,"uiTarget",!1))return a.critical('Missing "uiTarget" on uiScene.'),!1;let l=s.cache.html.get(e+"PlayerInvite");if(!l)return a.critical('Template "'+e+'PlayerInvite" not found.'),!1;i.gameDom.appendToElement("#target-container",i.gameEngine.parseTemplate(l,{playerName:n,playerId:t.player_id,inviteLabel:i.config.getWithoutLogs(e+"/labels/inviteLabel",r.LABELS[e.toUpperCase()].INVITE_BUTTON_LABEL)}));let h=i.gameDom.getElement("."+e+"-invite-"+t.player_id+" button");h?.addEventListener("click",()=>{let n={act:r.ACTIONS[e.toUpperCase()+"_INVITE"],id:t.player_id};i.activeRoomEvents.send(n),h.style.display="none",i.gameEngine.clearTarget()})}static targetIsValidPlayer(e,t){return s.TYPE_PLAYER===e.type&&t.playerId!==e.id}static playerBySessionId(e,t){let i=Object.keys(e.players);if(0===i.length)return!1;for(let n of i)if(e.players[n].sessionId===t)return e.players[n];return!1}}},{"9a43cebf087570eb":"lAi9G",bbfee0e632b58d31:"7Qdd3",bd3cd78fd8a3265c:"3lwy5"}],lAi9G:[function(e,t,i,n){let r="cln.";t.exports.TeamsConst={KEY:"teams",CLAN_KEY:"clan",TEAM_PREF:"tm.",CLAN_PREF:r,NAME_LIMIT:50,CLAN_STARTING_POINTS:1,VALIDATION:{SUCCESS:1,NAME_EXISTS:2,LEVEL_ISSUE:3,CREATE_ERROR:4,CREATE_OWNER_ERROR:5},ACTIONS:{TEAM_INVITE:"tm.inv",TEAM_ACCEPTED:"tm.acp",TEAM_LEAVE:"tm.lev",TEAM_UPDATE:"tm.upd",TEAM_LEFT:"tm.lef",TEAM_REMOVE:"tm.rem",CLAN_INITIALIZE:r+"ini",CLAN_CREATE:r+"new",CLAN_INVITE:r+"inv",CLAN_ACCEPTED:r+"acp",CLAN_LEAVE:r+"lev",CLAN_UPDATE:r+"upd",CLAN_LEFT:r+"lef",CLAN_REMOVE:r+"rem",CLAN_REMOVED:r+"remd",CLAN_NAME:r+"nam"},LABELS:{TEAM:{INVITE_BUTTON_LABEL:"Team - Invite",REQUEST_FROM:"Accept team request from:",LEADER_NAME_TITLE:"Team leader: %leaderName",DISBAND:"Disband Team",LEAVE:"Leave Team",PROPERTY_MAX_VALUE:"/ %propertyMaxValue"},CLAN:{CREATE_CLAN_TITLE:"Clan - Creation",INVITE_BUTTON_LABEL:"Clan - Invite",REQUEST_FROM:"Accept clan request from:",CLAN_TITLE:"Clan: %clanName - Leader: %leaderName",NAME_PLACEHOLDER:"Choose a clan name...",CREATE:"Create",DISBAND:"Disband Clan",LEAVE:"Leave Clan",PROPERTY_MAX_VALUE:"/ %propertyMaxValue",PLAYERS_TITLE:"Connected Players:",MEMBERS_TITLE:"Clan Members:",NONE_CONNECTED:"None"}},CHAT:{MESSAGE:{INVITE_ACCEPTED:"%playerName has accepted your invitation.",INVITE_REJECTED:"%playerName has rejected your invitation.",DISBANDED:"%playerName has disbanded the %groupName.",LEFT:"You left the %groupName.",LEAVE:"%playerName has left the %groupName.",REMOVED:"%playerName has been removed from the %groupName.",ENTER:"%playerName has enter the %groupName.",NOT_ENOUGH_PLAYERS:"The team was disbanded due to a lack of players."}}}},{}],"2B3rn":[function(e,t,i,n){let{TeamMessageHandler:r}=e("701caf09958e43e6"),{TeamsConst:s}=e("c9b7a4a3fab62382"),{Logger:a,sc:o}=e("bd7025df5510cd1f");t.exports.TeamMessageListener=class{async executeClientMessageActions(e){let t=o.get(e,"message",!1);if(!t)return a.error("Missing message data on TeamMessageListener.",e),!1;let i=o.get(e,"roomEvents",!1);if(!i)return a.error("Missing RoomEvents on TeamMessageListener.",e),!1;let n=new r({roomEvents:i,message:t});return n.validate()?!!this.isTeamMessage(t)&&this.handleTeamMessage(t,n):(this.isTeamMessage(t)&&(i.teamMessagesQueue||(i.teamMessagesQueue=[]),i.teamMessagesQueue.push(t)),a.error("Invalid TeamMessageHandler",n),!1)}handleTeamMessage(e,t){return s.ACTIONS.TEAM_INVITE===e.act?t.showTeamRequest():s.ACTIONS.TEAM_UPDATE===e.act?t.showTeamBox():s.ACTIONS.TEAM_LEFT!==e.act||t.removeTeamUi()}isTeamMessage(e){return 0===e.act?.indexOf(s.TEAM_PREF)}}},{"701caf09958e43e6":"31IUn",c9b7a4a3fab62382:"lAi9G",bd7025df5510cd1f:"3lwy5"}],"31IUn":[function(e,t,i,n){let{UserInterface:r}=e("62989ba9fe821287"),{TeamsConst:s}=e("d105b19ae5b508c7"),{Logger:a,sc:o}=e("77cc951811551deb");t.exports.TeamMessageHandler=class{constructor(e){this.roomEvents=o.get(e,"roomEvents",!1),this.message=o.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene}validate(){return this.roomEvents?this.message?this.gameManager?this.uiScene:(a.info("Missing GameManager on TeamMessageHandler."),!1):(a.info("Missing message on TeamMessageHandler."),!1):(a.info("Missing RoomEvents on TeamMessageHandler."),!1)}showTeamRequest(){this.createTeamUi(this.teamUiKey()),this.roomEvents.initUi({id:this.teamUiKey(),title:this.gameManager.config.getWithoutLogs("client/team/labels/requestFromTitle",s.LABELS.TEAM.REQUEST_FROM),content:this.message.from,options:this.gameManager.config.get("client/ui/options/acceptOrDecline"),overrideSendOptions:{act:s.ACTIONS.TEAM_ACCEPTED,id:this.message.id}}),this.gameDom.getElement("#opt-1-"+this.teamUiKey())?.addEventListener("click",()=>{this.gameDom.removeElement(".team-invite")}),this.gameDom.getElement("#opt-2-"+this.teamUiKey())?.addEventListener("click",()=>{this.removeTeamUi()})}removeTeamUi(){let e=this.gameManager.getUiElement(this.teamUiKey());if(!e)return a.error('UI Element not found by team UI key "'+this.teamUiKey()+'".'),!1;e.removeElement(),delete this.uiScene.userInterfaces[this.teamUiKey()],delete this.uiScene.elementsUi[this.teamUiKey()],this.uiScene.currentTeam=!1}teamUiKey(){return s.KEY+this.message.id}showTeamBox(){let e=this.teamUiKey();this.createTeamUi(e);let t=this.gameManager.config.getWithoutLogs("client/team/labels/leaderNameTitle",s.LABELS.TEAM.LEADER_NAME_TITLE).replace("%leaderName",this.message.leaderName),i=this.gameManager.gameDom.getElement("#box-"+e+" .box-content");if(!i)return a.error('Missing container: "#box-'+e+' .box-content".'),!1;let n=this.uiScene.elementsUi[e];this.roomEvents.uiSetTitle(n,{title:t}),this.roomEvents.uiSetContent(n,{content:""},this.uiScene);let r=o.get(this.message,"players",!1);this.uiScene.currentTeam=r,this.updateTeamBox(r,i)}createTeamUi(e){return o.get(this.uiScene.userInterfaces,e)||(this.uiScene.userInterfaces||(this.uiScene.userInterfaces={}),this.uiScene.userInterfaces[e]=new r(this.gameManager,{id:e,type:s.KEY,defaultOpen:!0,defaultClose:!0},"/assets/features/teams/templates/ui-teams.html",s.KEY),this.uiScene.userInterfaces[e].createUiElement(this.uiScene,s.KEY),this.uiScene.userInterfaces[e])}updateTeamBox(e,t){if(!e){a.error("Players not defined.",e);return}let i="";for(let t of Object.keys(e))i+=this.createTeamMemberBox(e[t]);t.innerHTML=this.createTeamContainer(i),this.activateTeamPlayerActions(e),this.activateTeamLeaveButtonAction()}createTeamContainer(e){let t=this.uiScene.cache.html.get("teamContainer");if(!t)return a.error('Missing template "teamContainer".'),"";let i=this.gameManager.playerData.id.toString(),n=i===this.message.id.toString(),r="client/team/labels/",o=n?this.gameManager.config.getWithoutLogs(r+"disbandLabel",s.LABELS.TEAM.DISBAND):this.gameManager.config.getWithoutLogs(r+"leaveLabel",s.LABELS.TEAM.LEAVE),l={teamId:this.message.id,playerId:i,leaveActionLabel:o,teamMembers:e};return this.gameManager.gameEngine.parseTemplate(t,l)}activateTeamLeaveButtonAction(){let e=this.gameManager.gameDom.getElement(".leave-"+this.gameManager.playerData.id.toString());e?.addEventListener("click",()=>{this.roomEvents.send({act:s.ACTIONS.TEAM_LEAVE,id:this.message.id})})}createTeamMemberBox(e){let t=this.uiScene.cache.html.get("teamPlayerData");if(!t)return a.error('Missing template "teamPlayerData".'),"";let i=this.gameManager.playerData.id.toString()===this.message.id.toString();return this.gameManager.gameEngine.parseTemplate(t,{playerId:e.player_id,playerName:e.name,playerProperties:this.createSharedPropertiesContent(e.sharedProperties),playerRemove:i?this.createDismissPlayerButton(e):""})}createDismissPlayerButton(e){let t=this.uiScene.cache.html.get("teamRemove");return t?this.gameManager.gameEngine.parseTemplate(t,{playerId:e.player_id}):(a.error('Missing template "teamRemove".'),"")}createSharedPropertiesContent(e){let t=this.uiScene.cache.html.get("teamsSharedProperty");if(!t)return a.error('Missing template "teamsSharedProperty".'),"";let i="";for(let n of Object.keys(e)){t=this.uiScene.cache.html.get("teamsSharedProperty");let r=e[n],a=o.get(r,"max","");""!==a&&(a=this.gameManager.config.getWithoutLogs("client/team/labels/propertyMaxValue",s.LABELS.TEAM.PROPERTY_MAX_VALUE).replace("%propertyMaxValue",a)),i+=this.gameManager.gameEngine.parseTemplate(t,{key:n,label:r.label,value:r.value,max:a})}return i}activateTeamPlayerActions(e){for(let t of Object.keys(e)){let i=e[t],n=".team-player-"+i.player_id+" .player-name";this.gameDom.getElement(n)?.addEventListener("click",()=>{this.gameManager.getCurrentPlayer().setTargetPlayerById(i.sessionId)});let r=".team-player-"+i.player_id+" .properties-list-container";this.gameDom.getElement(r)?.addEventListener("click",()=>{this.gameManager.getCurrentPlayer().setTargetPlayerById(i.sessionId)});let a=".team-player-"+i.player_id+" .team-remove-button";this.gameDom.getElement(a)?.addEventListener("click",()=>{this.roomEvents.send({act:s.ACTIONS.TEAM_REMOVE,id:this.message.id,remove:i.player_id})})}}}},{"62989ba9fe821287":"iRs7L",d105b19ae5b508c7:"lAi9G","77cc951811551deb":"3lwy5"}],"9FSbd":[function(e,t,i,n){let{ClanMessageHandler:r}=e("59d0db5e0ce1f07e"),{TeamsConst:s}=e("1efeeb2c14500588"),{Logger:a,sc:o}=e("64e6154f69b290dc");t.exports.ClanMessageListener=class{async executeClientMessageActions(e){let t=o.get(e,"message",!1);if(!t)return a.error("Missing message data on ClanMessageListener.",e),!1;let i=o.get(e,"roomEvents",!1);if(!i)return a.error("Missing RoomEvents on ClanMessageListener.",e),!1;let n=new r({roomEvents:i,message:t});return n.validate()?!!this.isClanMessage(t)&&this.handleClanMessage(t,n):(this.isClanMessage(t)&&(i.clanMessagesQueue||(i.clanMessagesQueue=[]),i.clanMessagesQueue.push(t)),!1)}handleClanMessage(e,t){return s.ACTIONS.CLAN_INITIALIZE===e.act?t.initializeClanUi():s.ACTIONS.CLAN_CREATE===e.act?s.VALIDATION.SUCCESS===e.result?t.showNewClan():t.initializeClanUi():s.ACTIONS.CLAN_INVITE===e.act?t.showClanRequest():s.ACTIONS.CLAN_UPDATE===e.act?t.showClanBox():s.ACTIONS.CLAN_LEFT===e.act?t.removeClanUi():!s.ACTIONS.CLAN_REMOVED||(t.removeClanUi(),t.initializeClanUi())}isClanMessage(e){return 0===e.act?.indexOf(s.CLAN_PREF)}}},{"59d0db5e0ce1f07e":"dj28K","1efeeb2c14500588":"lAi9G","64e6154f69b290dc":"3lwy5"}],dj28K:[function(e,t,i,n){let{UserInterface:r}=e("9d187b52307fde77"),{TeamsConst:s}=e("341f5c6f882a14b2"),{Logger:a,sc:o}=e("e2c8e2f4e3b71ead");t.exports.ClanMessageHandler=class{constructor(e){this.roomEvents=o.get(e,"roomEvents",!1),this.message=o.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene}validate(){return this.roomEvents?this.message?this.gameManager?!!this.uiScene&&this.gameManager.playerData?.id:(a.info("Missing GameManager on ClanMessageHandler."),!1):(a.info("Missing message on ClanMessageHandler."),!1):(a.info("Missing RoomEvents on ClanMessageHandler."),!1)}initializeClanUi(){this.uiScene.currentClan=!1;let e=this.createClanUi(),t=this.gameManager.config.getWithoutLogs("client/clan/labels/createClanTitle",s.LABELS.CLAN.CREATE_CLAN_TITLE),i=this.gameManager.gameDom.getElement(".clan-dialog-box .box-content");if(!i)return a.error('Missing container: "#box-clan .box-content".'),!1;let n=this.uiScene.elementsUi[s.CLAN_KEY];if(!n)return a.error("Clan UI box not found.",{clanUi:e,container:i,uiBox:n}),!1;this.roomEvents.uiSetTitle(n,{title:t}),this.roomEvents.uiSetContent(n,{content:this.createClanContent()},this.uiScene),this.activateCreateButton(),this.addAndRemoveCaptureKeys()}showNewClan(){let e=this.createClanUi(),t=this.gameManager.config.getWithoutLogs("client/clan/labels/clanTitle",s.LABELS.CLAN.CLAN_TITLE).replace("%clanName",this.message.clanName).replace("%leaderName",this.gameManager.currentPlayerName()),i=this.gameManager.gameDom.getElement(".clan-dialog-box .box-content");if(!i)return a.error('Missing container: ".clan-dialog-box .box-content".'),!1;let n=this.uiScene.elementsUi[s.CLAN_KEY];if(!n)return a.error("Clan UI box not found.",{clanUi:e,container:i,uiBox:n}),!1;this.roomEvents.uiSetTitle(n,{title:t}),this.roomEvents.uiSetContent(n,{content:""},this.uiScene),this.updateClanBox(i),this.setClanFromMessage()}showClanRequest(){this.createClanUi(),this.roomEvents.initUi({id:s.CLAN_KEY,title:this.gameManager.config.getWithoutLogs("client/clan/labels/requestFromTitle",s.LABELS.CLAN.REQUEST_FROM),content:this.message.from,options:this.gameManager.config.get("client/ui/options/acceptOrDecline"),overrideSendOptions:{act:s.ACTIONS.CLAN_ACCEPTED,id:this.message.id}}),this.gameDom.getElement("#opt-2-clan")?.addEventListener("click",()=>{this.initializeClanUi()})}showClanBox(){this.createClanUi();let e=this.gameManager.config.getWithoutLogs("client/clan/labels/clanTitle",s.LABELS.CLAN.CLAN_TITLE).replace("%clanName",this.message.clanName).replace("%leaderName",this.message.leaderName),t=this.gameManager.gameDom.getElement("#box-clan .box-content");if(!t)return a.error('Missing container: "#box-clan .box-content".'),!1;let i=this.uiScene.elementsUi[s.CLAN_KEY];this.roomEvents.uiSetTitle(i,{title:e}),this.roomEvents.uiSetContent(i,{content:""},this.uiScene),this.setClanFromMessage(),this.updateClanBox(t)}setClanFromMessage(){let e=o.get(this.message,"players",!1),t=o.get(this.message,"members",!1);this.uiScene.currentClan={id:this.message.id,name:this.message.clanName,leader:this.message.leaderName,ownerId:this.message.ownerId,players:e,members:t}}removeClanUi(){let e=this.gameManager.getUiElement(s.CLAN_KEY);if(!e)return a.error("Clan UI Element not found for remove."),!1;e.removeElement(),delete this.uiScene.userInterfaces[s.CLAN_KEY],delete this.uiScene.elementsUi[s.CLAN_KEY]}createClanUi(){return o.get(this.uiScene.userInterfaces,s.CLAN_KEY)||(this.uiScene.userInterfaces||(this.uiScene.userInterfaces={}),this.uiScene.userInterfaces[s.CLAN_KEY]=new r(this.gameManager,{id:s.CLAN_KEY,type:s.CLAN_KEY,defaultOpen:!0,defaultClose:!0},"/assets/features/teams/templates/ui-clan.html",s.CLAN_KEY),this.uiScene.userInterfaces[s.CLAN_KEY].createUiElement(this.uiScene,s.CLAN_KEY),this.uiScene.userInterfaces[s.CLAN_KEY])}createClanContent(){let e=this.uiScene.cache.html.get("clanCreate");if(!e)return a.error('Missing template "clanCreate".'),"";let t={playerId:this.gameManager.playerData.id.toString(),createLabel:this.gameManager.config.getWithoutLogs("client/clan/labels/createLabel",s.LABELS.CLAN.CREATE),clanNamePlaceholder:this.gameManager.config.getWithoutLogs("client/clan/labels/namePlaceholder",s.LABELS.CLAN.NAME_PLACEHOLDER)};return this.gameManager.gameEngine.parseTemplate(e,t)}activateCreateButton(){let e=this.gameManager.gameDom.getElement(".clan-dialog-box .submit-clan-create");if(!e)return a.warning('Clan create button not found by ".clan-dialog-box .clan-create".'),!1;let t=this.gameManager.gameDom.getElement(".clan-dialog-box .clan-name-input");if(!t)return a.warning('Clan create button not found by ".clan-dialog-box .clan-name-input".'),!1;e.addEventListener("click",()=>{if(0===t.value.length)return!1;this.gameManager.gameDom.updateContent(".clan-dialog-box .box-content",this.uiScene.cache.html.get("uiLoading")),this.gameManager.activeRoomEvents.send({act:s.ACTIONS.CLAN_CREATE,[s.ACTIONS.CLAN_NAME]:t.value})})}updateClanBox(e){let t=o.get(this.message,"players",[]),i=Object.keys(t),n=0===i.length?this.gameManager.config.getWithoutLogs("client/clan/labels/noneConnected",s.LABELS.CLAN.NONE_CONNECTED):"";for(let e of i)n+=this.createClanPlayerBox(t[e]);let r=this.gameManager.playerData.id.toString()===this.message.ownerId.toString(),a=o.get(this.message,"members",[]),l="";for(let e of Object.keys(a))l+=this.createClanMemberBox(a[e],r);e.innerHTML=this.createClanContainer(n,l),this.activateClanPlayersActions(t),this.activateClanMembersActions(a),this.activateClanLeaveButtonAction()}addAndRemoveCaptureKeys(){let e=this.gameManager.getActiveScene(),t=e.availableControllersKeyCodes(),i=this.gameManager.gameDom.getElement(".clan-name-input");e.addAndRemoveCapture(t,i)}createClanContainer(e,t){let i=this.uiScene.cache.html.get("clanContainer");if(!i)return a.error('Missing template "clanContainer".'),"";let n=this.gameManager.playerData.id.toString()===this.message.ownerId.toString()?this.gameManager.config.getWithoutLogs("client/clan/labels/disbandLabel",s.LABELS.CLAN.DISBAND):this.gameManager.config.getWithoutLogs("client/clan/labels/leaveLabel",s.LABELS.CLAN.LEAVE),r={clanId:this.message.id,playerId:this.gameManager.playerData.id.toString(),leaveActionLabel:n,clanPlayersTitle:this.gameManager.config.getWithoutLogs("client/clan/labels/clanPlayersTitle",s.LABELS.CLAN.PLAYERS_TITLE),clanPlayers:e,clanMembersTitle:this.gameManager.config.getWithoutLogs("client/clan/labels/clanMembersTitle",s.LABELS.CLAN.MEMBERS_TITLE),clanMembers:t};return this.gameManager.gameEngine.parseTemplate(i,r)}activateClanLeaveButtonAction(){let e=this.gameManager.gameDom.getElement(".leave-"+this.message.id);e?.addEventListener("click",()=>{let e={act:s.ACTIONS.CLAN_LEAVE,id:this.message.id};this.gameManager.activeRoomEvents.send(e)})}createClanPlayerBox(e){let t=this.uiScene.cache.html.get("clanPlayerData");return t?this.gameManager.gameEngine.parseTemplate(t,{playerId:e.player_id,playerName:e.name,playerProperties:this.createSharedPropertiesContent(e.sharedProperties)}):(a.error('Missing template "clanPlayerData".'),"")}createClanMemberBox(e,t){let i=this.uiScene.cache.html.get("clanMemberData");if(!i)return a.error('Missing template "clanMemberData".'),"";let n=e.id.toString()!==this.message.ownerId.toString();return this.gameManager.gameEngine.parseTemplate(i,{playerId:e.id.toString(),playerName:e.name,clanRemove:t&&n?this.createDismissPlayerButton(e):""})}createDismissPlayerButton(e){let t=this.uiScene.cache.html.get("clanRemove");return t?this.gameManager.gameEngine.parseTemplate(t,{playerId:e.id.toString()}):(a.error('Missing template "clanRemove".'),"")}createSharedPropertiesContent(e){let t=this.uiScene.cache.html.get("teamsSharedProperty");if(!t)return a.error('Missing template "teamsSharedProperty".'),"";let i="";for(let n of Object.keys(e)){t=this.uiScene.cache.html.get("teamsSharedProperty");let r=e[n],a=o.get(r,"max","");""!==a&&(a=this.gameManager.config.getWithoutLogs("client/clan/labels/propertyMaxValue",s.LABELS.CLAN.PROPERTY_MAX_VALUE).replace("%propertyMaxValue",a)),i+=this.gameManager.gameEngine.parseTemplate(t,{key:n,label:r.label,value:r.value,max:a})}return i}activateClanPlayersActions(e){for(let t of Object.keys(e)){let i=e[t],n=".clan-player-"+t+" .player-name",r=".clan-player-"+t+" .properties-list-container",s=this.gameDom.getElement(n);s||a.notice("Player name element not found.",n),s?.addEventListener("click",()=>{this.gameManager.getCurrentPlayer().setTargetPlayerById(i.sessionId)});let o=this.gameDom.getElement(r);s||a.notice("Player properties element not found.",r),o?.addEventListener("click",()=>{this.gameManager.getCurrentPlayer().setTargetPlayerById(i.sessionId)})}}activateClanMembersActions(e){for(let t of Object.keys(e)){let i=e[t],n=".clan-member-"+i.id+" .clan-remove-button";this.gameDom.getElement(n)?.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send({act:s.ACTIONS.CLAN_REMOVE,id:this.message.id,remove:i.id})})}}}},{"9d187b52307fde77":"iRs7L","341f5c6f882a14b2":"lAi9G",e2c8e2f4e3b71ead:"3lwy5"}],"8ToMR":[function(e,t,i,n){let{ClanMessageHandler:r}=e("da134dc7ceb7b0e1"),{TeamMessageHandler:s}=e("5001168d3eb6bb8b"),{sc:a}=e("fbaf401da21f7609");t.exports.MessageProcessor=class{static processClanMessagesQueue(e,t){if(a.isArray(e.clanMessagesQueue)&&0!==e.clanMessagesQueue.length){for(let i of e.clanMessagesQueue)t.handleClanMessage(i,new r({roomEvents:e,message:i}));e.clanMessagesQueue=[]}}static processTeamMessagesQueue(e,t){if(a.isArray(e.teamMessagesQueue)&&0!==e.teamMessagesQueue.length){for(let i of e.teamMessagesQueue)t.handleTeamMessage(i,new s({roomEvents:e,message:i}));e.teamMessagesQueue=[]}}}},{da134dc7ceb7b0e1:"dj28K","5001168d3eb6bb8b":"31IUn",fbaf401da21f7609:"3lwy5"}],kdOXg:[function(e,t,i,n){let{TeamsConst:r}=e("58174eedacbcbef5");t.exports.TemplatesHandler=class{static preloadTemplates(e){let t="/assets/features/teams/templates/";e.load.html(r.KEY,t+"ui-teams.html"),e.load.html(r.CLAN_KEY,t+"ui-clan.html"),e.load.html("teamPlayerInvite",t+"team-invite.html"),e.load.html("teamPlayerAccept",t+"team-accept.html"),e.load.html("teamRemove",t+"team-remove.html"),e.load.html("teamContainer",t+"team-container.html"),e.load.html("teamPlayerData",t+"team-player-data.html"),e.load.html("clanCreate",t+"clan-create.html"),e.load.html("clanPlayerInvite",t+"clan-invite.html"),e.load.html("clanPlayerAccept",t+"clan-accept.html"),e.load.html("clanRemove",t+"clan-remove.html"),e.load.html("clanContainer",t+"clan-container.html"),e.load.html("clanPlayerData",t+"clan-player-data.html"),e.load.html("clanMemberData",t+"clan-member-data.html"),e.load.html("teamsSharedProperty",t+"shared-property.html")}}},{"58174eedacbcbef5":"lAi9G"}],dLedN:[function(e,t,i,n){let{Translator:r}=e("e30167c0897ac135"),{SnippetsUi:s}=e("2d33d4d804e9951f"),{TemplatesHandler:a}=e("e956d7a83f618c7f"),{TranslationsMapper:o}=e("3dab08141eaf4d61"),l=e("18b73f134deeadaa"),{SnippetsConst:h}=e("356d0138dc841911"),{PluginInterface:u}=e("f78bfa8e0318b9ca"),{Logger:c,sc:d}=e("520563192e10fe30");t.exports.SnippetsPlugin=class extends u{setup(e){if(this.gameManager=d.get(e,"gameManager",!1),!this.gameManager)return c.error("Game Manager undefined in InventoryPlugin."),!1;this.events=d.get(e,"events",!1),this.events||c.error("EventsManager undefined in InventoryPlugin."),o.forConfig(this.gameManager.config.client,l),this.activeLocale=this.gameManager.initialGameData?.userLocale?.locale.locale||h.DEFAULT_LOCALE,this.gameManager.services.translator=new r({snippets:Object.assign({},this.gameManager.config.client.snippets),dataValues:Object.assign({},this.gameManager.config.client.snippetsDataValues),locale:h.DEFAULT_LOCALE,activeLocale:this.activeLocale}),this.listenEvents()}listenEvents(){if(!this.events)return!1;this.events.on("reldens.startEngineScene",async(e,t,i,n)=>{this.gameManager.services.translator.snippets=Object.assign(this.gameManager.services.translator.snippets,this.gameManager.config.client.snippets)}),this.events.on("reldens.preloadUiScene",e=>{a.preloadTemplates(e)}),this.events.on("reldens.createUiScene",e=>{this.uiManager=new s(e),this.uiManager.createUi()})}}},{e30167c0897ac135:"eRmyW","2d33d4d804e9951f":"XEWJj",e956d7a83f618c7f:"iFKS8","3dab08141eaf4d61":"hgeoj","18b73f134deeadaa":"lpjC4","356d0138dc841911":"iQaFz",f78bfa8e0318b9ca:"jorwg","520563192e10fe30":"3lwy5"}],eRmyW:[function(e,t,i,n){let{SnippetsConst:r}=e("b71f11da09eccdde"),{sc:s}=e("62e09c29e13db7ae");t.exports.Translator=class{constructor(e){this.snippets=s.get(e,"snippets",{}),this.dataValues=s.get(e,"dataValues",{}),this.locale=s.get(e,"locale",r.DEFAULT_LOCALE),this.activeLocale=s.get(e,"activeLocale",r.DEFAULT_LOCALE)}translate(e,t={},i=!1){i||(i=this.activeLocale);let n=s.get(this.snippets[i],e,e);if(e===n)return e;if(!s.isObject(t))return n;let r=Object.keys(t);if(0===r.length)return n;let a=this.snippetNameSpace(e);for(let e of r){let i=t[e],r="%"+((this.dataValues[a]||{})[e]||e);for(;-1!==n.indexOf(r);)n=n.replace(r,i)}return n}snippetNameSpace(e){let t=e.split(".");return 1===t.length?r.DATA_VALUES_DEFAULT_NAMESPACE:t[0]}t(e,t={},i=!1){return this.translate(e,t,i)}}},{b71f11da09eccdde:"iQaFz","62e09c29e13db7ae":"3lwy5"}],XEWJj:[function(e,t,i,n){let{SnippetsConst:r}=e("aa7de636e8c53e52"),{Logger:s,sc:a}=e("5e6402edf9f7ac34");t.exports.SnippetsUi=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene.gameManager,this.translator=this.gameManager.services.translator,this.locales={}}createUi(){this.locales=a.get(this.gameManager.config.client,"locales",{});let e=Object.keys(this.locales);if(1>=e.length)return!1;let t=this.gameManager.gameEngine.parseTemplate(this.uiScene.cache.html.get(r.KEY),{snippetsTitle:this.translator.t("translator.title"),snippetsLabel:this.translator.t("translator.label"),snippetsNotification:this.translator.t("translator.notification")});if(!this.gameManager.gameDom.appendToElement("#settings-dynamic",t))return s.warning("Could not append snippets settings."),!1;let i=this.gameManager.gameDom.getElement(".snippets-setting");if(!i)return s.warning("Snippets settings container not available."),!1;for(let t of e){let e=this.locales[t],n=this.gameManager.gameDom.createElement("option");n.value=e.id,n.innerHTML=e.country_code,i.appendChild(n)}i.addEventListener("change",async()=>{this.gameManager.activeRoomEvents.send({act:r.ACTIONS.UPDATE,up:i.value})})}}},{aa7de636e8c53e52:"iQaFz","5e6402edf9f7ac34":"3lwy5"}],iFKS8:[function(e,t,i,n){let{SnippetsConst:r}=e("e36cad96ed3e70cd");t.exports.TemplatesHandler=class{static preloadTemplates(e){e.load.html(r.KEY,"/assets/features/snippets/templates/ui-snippets.html")}}},{e36cad96ed3e70cd:"iQaFz"}],lpjC4:[function(e,t,i,n){t.exports={translator:{title:"Languages Settings",label:"Choose your language:",notification:"Changes will take place after next login."}}},{}],waoM0:[function(e,t,i,n){let{MessagesListener:r}=e("888d5cbc978fa0d6"),{SdkHandler:s}=e("c62ae531dc47df64"),{ProvidersList:a}=e("817954c8ae5bd30f"),o=e("3b2b9c9a21730037"),{TranslationsMapper:l}=e("8e1bd14e8842dbbb"),{AdsConst:h}=e("34045a03c82a6a52"),{PluginInterface:u}=e("b837e866da6d66e2"),{Logger:c,sc:d}=e("f840b20eea122e5a");t.exports.AdsPlugin=class extends u{setup(e){this.gameManager=d.get(e,"gameManager",!1),this.gameManager||c.error("Game Manager undefined in AdsPlugin."),this.events=d.get(e,"events",!1),this.events||c.error("EventsManager undefined in AdsPlugin."),this.config={},this.activeProviders={},this.playedAds=null,this.setConfig(),this.setSkdHandler(),this.fetchActiveProviders(),this.setTranslations(),this.listenEvents()}setConfig(){this.config=!!this.gameManager&&this.gameManager.config.get("client/ads/general",{})}setSkdHandler(){let e=this.gameManager?.gameDom;this.sdkHandler=!!e&&new s({gameDom:e,config:this.config})}fetchActiveProviders(){let e=d.get(this.config,"providers",{}),t=Object.keys(e);if(0===t.length)return!1;for(let i of t){let t=e[i];t.enabled&&(t.classDefinition=d.get(a,i,!1),this.activeProviders[i]=t)}}setTranslations(){if(!this.gameManager)return!1;l.forConfig(this.gameManager.config.client,o,h.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events||!this.gameManager||!this.sdkHandler)return c.error("Missing properties for AdsPlugin."),!1;this.events.on("reldens.beforeCreateEngine",async(e,t)=>{if(!this.sdkHandler){c.info("Undefined SDK Handler.");return}await this.sdkHandler.setupProvidersSdk(this.activeProviders,t)}),this.events.on("reldens.joinedRoom",async e=>{await r.listenMessages(e,this)})}}},{"888d5cbc978fa0d6":"l94nW",c62ae531dc47df64:"a8QT6","817954c8ae5bd30f":"d1vmX","3b2b9c9a21730037":"kaXNm","8e1bd14e8842dbbb":"hgeoj","34045a03c82a6a52":"ahvCm",b837e866da6d66e2:"jorwg",f840b20eea122e5a:"3lwy5"}],l94nW:[function(e,t,i,n){let{AdsConst:r}=e("29cd206e54f27180"),{Logger:s}=e("444002dbc8b0c3f6");t.exports.MessagesListener=class{static async listenMessages(e,t){e.onMessage("*",e=>{if(r.ACTIONS.ADS_PLAYED!==e.act)return!1;if(t.playedAds={},!e.playedAdsModels)return s.info("None played ads.",e),!1;for(let i of e.playedAdsModels)t.playedAds[i.ads_id]=i;return!0})}}},{"29cd206e54f27180":"ahvCm","444002dbc8b0c3f6":"3lwy5"}],ahvCm:[function(e,t,i,n){t.exports.AdsConst={ENVIRONMENTS:{DISABLED:"disabled"},ADS_TYPES:{EVENT_VIDEO:"eventVideo",BANNER:"banner"},ACTIONS:{ADS_PLAYED:"adsP",AD_STARTED:"adS",AD_ENDED:"adE"},MESSAGE:{DATA_VALUES:{NAMESPACE:"ads"}},AWAIT_ADS_TIME:1e3,VIDEOS_MINIMUM_DURATION:3e3}},{}],a8QT6:[function(e,t,i,n){let{Logger:r,sc:s}=e("dff6c1e89c3e052a");t.exports.SdkHandler=class{constructor(e){this.gameDom=s.get(e,"gameDom",!1)}async setupProvidersSdk(e,t){if(!this.gameDom)return r.error("Undefined GameDOM on SdkHandler."),!1;if(!s.isObject(e))return!1;let i=Object.keys(e);if(0===i.length)return!1;for(let n of i){let i=e[n];await this.appendSdk(i),await this.activateSdkInstance(i,t),r.info("Activated Ads SDK: "+i.key,i)}}async appendSdk(e){let t=s.get(e,"sdkUrl","");if(""===t)return!1;let i=this.gameDom.getElement("body"),n=this.gameDom.createElement("script");return n.src=t,i.append(n),!0}async activateSdkInstance(e,t){e.classDefinition&&(e.service=new e.classDefinition(e,t,e.activeAds)),s.isFunction(e.service?.activate)&&await e.service.activate()}}},{dff6c1e89c3e052a:"3lwy5"}],d1vmX:[function(e,t,i,n){let{CrazyGames:r}=e("3f8ed3d61d7ffec6"),{GameMonetize:s}=e("8293bf532f21e603"),{GoogleAdSense:a}=e("ce031fd04ee80412");t.exports.ProvidersList={crazyGames:r,gameMonetize:s,googleAdSense:a}},{"3f8ed3d61d7ffec6":"6GeDa","8293bf532f21e603":"Pq2Eb",ce031fd04ee80412:"5PkGO"}],"6GeDa":[function(e,t,i,n){let{BannersHandler:r}=e("a9a3d844c8af144f"),{VideosHandler:s}=e("bde738a7c1ada691"),{AdsProvider:a}=e("226c5e70dbcf853"),{AdsConst:o}=e("f244e70172b4d33e"),{Logger:l}=e("676e545998789235");t.exports.CrazyGames=class{constructor(e,t){this.gameManager=t,this.gameDom=t?.gameDom,this.events=t?.events,this.window=t?.gameDom?.getWindow(),this.metaData=e,this.sdk=this.window?.CrazyGames?.SDK,this.retry=0,this.environment=o.ENVIRONMENTS.DISABLED,this.metaData.sdkRetryTime||(this.metaData.sdkRetryTime=500),this.metaData.sdkMaxRetries||(this.metaData.sdkMaxRetries=10),this.metaData.sdkBannerRefreshTime||(this.metaData.sdkBannerRefreshTime=6e4),this.activeAds=this.fetchActiveAds(e);let i={gameManager:t,metaData:e,sdk:this.sdk,hasAdblock:this.hasAdblock,isEnabled:this.isEnabled};this.bannersHandler=new r(i),this.videosHandler=new s(i)}fetchActiveAds(e){return this.gameManager?.config?a.fetchActiveAdsByProviderId(e.id,this.validAdsTypes(),this.gameManager.config.get("client/ads/collection",{})):{}}validAdsTypes(){return[o.ADS_TYPES.BANNER,o.ADS_TYPES.EVENT_VIDEO]}async activate(){return this.sdk?(this.environment=await this.sdk.getEnvironment(),this.bannersHandler.sdk=this.sdk,this.videosHandler.sdk=this.sdk,!await this.hasAdblock()&&void await this.activateAds()):(this.retry===this.metaData.sdkMaxRetries?l.critical("CrazyGames required object."):this.retry<this.metaData.sdkMaxRetries&&setTimeout(()=>{this.retry++,l.info("CrazyGames required object, retry #"+this.retry+"."),this.sdk=this.window?.CrazyGames?.SDK,this.sdk&&l.info("CrazyGames object found."),this.activate()},this.metaData.sdkRetryTime),!1)}async hasAdblock(){try{let e=await this.sdk.ad.hasAdblock();return e&&l.critical("Adblock detected, please disable."),e}catch(e){l.info("SDK detected error.",e)}return!1}async isEnabled(){return o.ENVIRONMENTS.DISABLED!==await this.sdk.getEnvironment()}async activateAds(){let e=Object.keys(this.activeAds);if(0===e.length)return!1;for(let t of e){let e=this.activeAds[t];o.ADS_TYPES.BANNER===e.type.key&&await this.bannersHandler.activateAdBanner(e),o.ADS_TYPES.EVENT_VIDEO===e.type.key&&await this.videosHandler.activateAdVideo(e)}}}},{a9a3d844c8af144f:"1Tq3t",bde738a7c1ada691:"6xrEj","226c5e70dbcf853":"a9CkN",f244e70172b4d33e:"ahvCm","676e545998789235":"3lwy5"}],"1Tq3t":[function(e,t,i,n){let{Validator:r}=e("b20ca8ca1f25148d"),{Logger:s,sc:a}=e("96ec63b9db0e75b5");t.exports.BannersHandler=class{constructor(e){this.gameManager=a.get(e,"gameManager",!1),this.metaData=a.get(e,"metaData",{}),this.gameDom=this.gameManager?.gameDom,this.events=this.gameManager?.events,this.sdk=a.get(e,"sdk",!1),this.hasAdblock=a.get(e,"hasAdblock",!1),this.isEnabled=a.get(e,"isEnabled",!1),this.activeBanners={},this.validator=new r}availableBanners(){return["728x90","300x250","320x50","468x60","320x100"]}availableResponsiveBanners(){return["970x90","320x50","160x600","336x280","728x90","300x600","468x60","970x250","300x250","250x250","120x600"]}validBannerSize(e){return -1!==this.availableBanners().indexOf(e)}validResponsiveBannerSize(e){return -1!==this.availableResponsiveBanners().indexOf(e)}async activateAdBanner(e){if(!e)return s.info("Missing activate ad.",e),!1;if(!this.validator.validate(this))return s.info("Invalid banner."),!1;let t=e.bannerData;if(!t)return s.info("No banner data."),!1;let i=a.get(t,"fullTime",!1),n=a.get(t,"responsive",!1);if(i)return await this.handleBannerType(n,e);let r=a.get(t,"uiReferenceIds",[]);if(0===r.length)return s.warning("Missing banner reference ID."),!1;this.events.on("reldens.openUI",async t=>{if(-1!==r.indexOf("ANY")||-1!==r.indexOf(t.openButton.id)){let i=e.id+"-"+t.openButton.id,r=new Date().getTime(),s=a.get(this.activeBanners,i,!1);if(s&&r<s.createdAt+this.metaData.sdkBannerRefreshTime){s.banner.classList.remove("hidden");return}s&&s.banner.remove();let o=await this.handleBannerType(n,e,i);this.activeBanners[i]={createdAt:r,banner:o}}}),this.events.on("reldens.closeUI",async t=>{let i=e.id+"-"+t.openButton.id,n=a.get(this.activeBanners,i,!1);n&&n.banner.classList.add("hidden")})}async handleBannerType(e,t,i){return e?this.createResponsiveBanner(t,i):await this.createBanner(t,i)}async createBanner(e,t){if(!this.validator.validate(this)||!await this.validator.canBeActivated(this))return!1;if(!this.isEnabled())return s.info("SDK not enabled."),!1;try{let i=a.get(e.styles,"width","300"),n=a.get(e.styles,"height","250");if(!this.validBannerSize(i+"x"+n))return s.info("CrazyGames - Invalid Banner size."),!1;let r=t||e.id;if(!r)return s.info("CrazyGames - Missing container ID.",e,t),!1;let o=this.gameDom.createElement("div","banner-container-"+r);this.gameDom.getElement("body")?.append(o),await this.isEnabled()&&await this.sdk.banner.requestBanner({id:o.id,width:i,height:n});let l=this.mapStylesWithValues(Object.assign({width:i,height:n},e));return this.gameDom.setElementStyles(o,l),o.classList.add("ads-banner-container"),o}catch(e){return s.critical("CrazyGames - Error on banner request.",e),!1}}mapStylesWithValues(e){let t={"z-index":2e8,width:a.get(e,"width",300),height:a.get(e,"height",250),position:""===a.get(e.styles,"position","")?e.position:"absolute"},i=a.get(e.styles,"top",null);null!==i&&(t.top=i);let n=a.get(e.styles,"bottom",null);null!==n&&(t.bottom=n);let r=a.get(e.styles,"left",null);null!==r&&(t.left=r);let s=a.get(e.styles,"right",null);return null!==s&&(t.right=s),t}async createResponsiveBanner(e,t){if(!this.validator.validate(this)||!await this.validator.canBeActivated(this))return!1;if(!this.isEnabled())return s.info("SDK not enabled."),!1;try{let i=t||e.id;if(!i)return s.info("CrazyGames - Missing container ID.",e,t),!1;let n=this.gameDom.createElement("div","responsive-banner-container-"+i),r=this.mapStylesWithValues(e);return delete r.width,delete r.height,this.gameDom.setElementStyles(n,r),this.gameDom.getElement("body").append(n),await this.isEnabled()&&await this.sdk.banner.requestResponsiveBanner(n.id),n.classList.add("ads-banner-container"),n}catch(e){return s.critical("CrazyGames - Error on banner request.",e),!1}}}},{b20ca8ca1f25148d:"i0AEH","96ec63b9db0e75b5":"3lwy5"}],i0AEH:[function(e,t,i,n){let{Logger:r,sc:s}=e("d1a1464fc2cd37e3");t.exports.Validator=class{validate(e){return e.gameManager?e.sdk?(e.hasAdblock&&s.isFunction(e.hasAdblock)||r.warning("Missing or invalid hasAdblock function on Validator.",e),!!(e.isEnabled&&s.isFunction(e.isEnabled))||(r.error("Missing or invalid isEnabled function on Validator.",e),!1)):(r.error("Missing SDK on Validator.",e),!1):(r.error("Missing Game Manager on Validator.",e),!1)}async canBeActivated(e){return!(!s.isFunction(e.hasAdblock)||await e.hasAdblock())||(r.info("AdBlocker detected."),!1)}}},{d1a1464fc2cd37e3:"3lwy5"}],"6xrEj":[function(e,t,i,n){let{Validator:r}=e("151dab08c009e34c"),{AdsConst:s}=e("8c1021ea6457f100"),{Logger:a,sc:o}=e("87d6b1e6e69bae6e");t.exports.VideosHandler=class{constructor(e){this.gameManager=o.get(e,"gameManager",!1),this.gameDom=this.gameManager?.gameDom,this.events=this.gameManager?.events,this.sdk=o.get(e,"sdk",!1),this.hasAdblock=o.get(e,"hasAdblock",!1),this.isEnabled=o.get(e,"isEnabled",!1),this.validator=new r,this.isPlayingAd=!1,this.setConfig()}setConfig(){this.videoMinimumDuration=this.gameManager?this.gameManager.config.getWithoutLogs("client/ads/general/providers/crazyGames/videoMinimumDuration",s.VIDEOS_MINIMUM_DURATION):s.VIDEOS_MINIMUM_DURATION,this.awaitAdsTime=this.gameManager?this.gameManager.config.getWithoutLogs("client/ads/general/providers/crazyGames/awaitAdsTime",s.AWAIT_ADS_TIME):s.AWAIT_ADS_TIME}async activateAdVideo(e){let t=o.get(e,"eventKey",!1);if(!t)return a.warning("Missing event key.",e),!1;this.events.on(t,async t=>this.isPlayingAd?(a.info("CrazyGames - Another ad is been played."),!1):this.validator.validate(this)&&await this.validator.canBeActivated(this)?this.isEnabled()?await this.tryRePlay(e):(a.info("CrazyGames - SDK not enabled."),!1):(a.error("CrazyGames - Ad can not be activated."),!1))}async tryRePlay(e){let t=this.gameManager.getFeature("ads");if(null===t.playedAds)return setTimeout(()=>{this.tryRePlay(e)},this.awaitAdsTime),!1;if(o.get(t?.playedAds,e.id,!1)&&!e.replay)return a.info("Ad already played",e),!1;let i=o.get(e,"adStartedCallback",()=>{this.isPlayingAd=!0,a.info("CrazyGames - Ad-started callback.",new Date().getTime()),this.send({act:s.ACTIONS.AD_STARTED,ads_id:e.id})}),n=o.get(e,"adFinishedCallback",async()=>{this.isPlayingAd=!1,a.info("CrazyGames - Ad-finished callback.",new Date().getTime()),this.send({act:s.ACTIONS.AD_ENDED,ads_id:e.id}),await this.gameManager.audioManager.changeMuteState(!1,!1)}),r=o.get(e,"adErrorCallback",async t=>{this.isPlayingAd=!1,a.info("CrazyGames - Ad-error callback.",t,new Date().getTime()),this.send({act:s.ACTIONS.AD_ENDED,ads_id:e.id,error:t}),await this.gameManager.audioManager.changeMuteState(!1,!1)}),l=o.get(e,"rewardItemKey",!1);await this.gameManager.audioManager.changeMuteState(!0,!0),await this.sdk.ad.requestAd(l?"rewarded":"midgame",{adStarted:i,adFinished:n,adError:r})}send(e){let t=this.gameManager?.activeRoomEvents;return t?t?.send(e):(a.warning("CrazyGames - RoomEvents undefined to send an Ad Video message."),!1)}}},{"151dab08c009e34c":"i0AEH","8c1021ea6457f100":"ahvCm","87d6b1e6e69bae6e":"3lwy5"}],a9CkN:[function(e,t,i,n){let{Logger:r}=e("f6fb30bd19ef353e");t.exports.AdsProvider=class{static fetchActiveAdsByProviderId(e,t,i){if(!e)return{};let n=Object.keys(i);if(0===n.length)return{};let s={};for(let a of n){let n=i[a];if(e===n.provider.id){if(!n.enabled){r.info("Ad not enabled.",n);continue}if(-1===t.indexOf(n.type.key)){r.info("Invalid ad type.",n);continue}s[a]=n}}return r.info({providerId:e,activeProviderAds:s}),s}}},{f6fb30bd19ef353e:"3lwy5"}],Pq2Eb:[function(e,t,i,n){let{AdsProvider:r}=e("c894c96a87401a74"),{AdsConst:s}=e("32be3a6a825a12db"),{Logger:a,sc:o}=e("7809fdefc811e104");t.exports.GameMonetize=class{constructor(e,t){this.gameManager=t,this.gameDom=t?.gameDom,this.events=t?.events,this.window=t?.gameDom?.getWindow(),this.metaData=e,this.setSdkOptions(),this.sdk=this.window?.sdk,this.retry=0,this.isPlayingAd=!1,this.environment=s.ENVIRONMENTS.DISABLED,this.metaData.sdkRetryTime||(this.metaData.sdkRetryTime=500),this.metaData.sdkMaxRetries||(this.metaData.sdkMaxRetries=10),this.activeAds=this.fetchActiveAds(e),this.activeAdBeenPlayed=!1,this.setConfig()}fetchActiveAds(e){return this.gameManager?.config?r.fetchActiveAdsByProviderId(e.id,this.validAdsTypes(),this.gameManager.config.get("client/ads/collection",{})):{}}eventKeys(){return{sdkAdStarted:"CONTENT_PAUSE_REQUESTED",sdkAdEnded:"SDK_GAME_START",sdkReady:"SDK_READY"}}setSdkOptions(){return!!this.gameDom&&(this.metaData.gameId?void(this.gameDom.getWindow().SDK_OPTIONS={gameId:this.metaData.gameId,onEvent:async e=>{switch(a.info("GameMonetize - SDK event fired: "+e.name),e.name){case this.eventKeys().sdkAdStarted:await this.adStartedCallback(e);break;case this.eventKeys().sdkAdEnded:await this.adEndedCallback(e);break;case this.eventKeys().sdkReady:await this.sdkReadyCallback(e)}}}):(a.error("GameMonetize - Game ID undefined."),!1))}setConfig(){this.videoMinimumDuration=this.gameManager?this.gameManager.config.getWithoutLogs("client/ads/general/providers/gameMonetize/videoMinimumDuration",s.VIDEOS_MINIMUM_DURATION):s.VIDEOS_MINIMUM_DURATION,this.awaitAdsTime=this.gameManager?this.gameManager.config.getWithoutLogs("client/ads/general/providers/gameMonetize/awaitAdsTime",s.AWAIT_ADS_TIME):s.AWAIT_ADS_TIME}validAdsTypes(){return[s.ADS_TYPES.EVENT_VIDEO]}async adStartedCallback(e){if(this.isPlayingAd=!0,await this.gameManager.audioManager.changeMuteState(!0,!0),!this.activeAdBeenPlayed)return a.info("AdStartedCallback undefined activeAd.",e,this.activeAdBeenPlayed),!1;a.info("GameMonetize - Ad-started callback.",new Date().getTime()),this.send({act:s.ACTIONS.AD_STARTED,ads_id:this.activeAdBeenPlayed.id})}async adEndedCallback(e){if(this.isPlayingAd=!1,await this.gameManager.audioManager.changeMuteState(!1,!1),!this.activeAdBeenPlayed)return a.info("AdEndedCallback undefined activeAd.",e,this.activeAdBeenPlayed),!1;a.info("GameMonetize - Ad-finished callback.",new Date().getTime()),this.send({act:s.ACTIONS.AD_ENDED,ads_id:this.activeAdBeenPlayed.id})}async sdkReadyCallback(e){this.sdk=this.window.sdk}async activate(){if(!this.sdk)return this.retry===this.metaData.sdkMaxRetries?a.critical("GameMonetize required object."):this.retry<this.metaData.sdkMaxRetries&&setTimeout(()=>{this.retry++,a.info("GameMonetize required object, retry #"+this.retry+"."),this.sdk=this.window?.sdk,this.sdk&&a.info("GameMonetize object found."),this.activate()},this.metaData.sdkRetryTime),!1;await this.activateAds()}async activateAds(){let e=Object.keys(this.activeAds);if(0===e.length)return a.info("None active ads."),!1;for(let t of e){let e=this.activeAds[t];if(s.ADS_TYPES.EVENT_VIDEO!==e.type.key)continue;let i=o.get(e,"eventKey",!1);if(!i)return a.warning("Missing event key.",e),!1;this.events.on(i,async t=>(a.info("GameMonetize - Video event fired, playing ad.",t,e),this.isPlayingAd)?(a.info("GameMonetize - Ad is been played."),!1):await this.tryRePlay(e))}}async tryRePlay(e){return null===this.gameManager.getFeature("ads").playedAds?(setTimeout(()=>{this.tryRePlay(e)},this.awaitAdsTime),!1):(this.activeAdBeenPlayed=e,o.isObjectFunction(this.sdk,"showBanner"))?void await this.sdk.showBanner():(a.critical("GameMonetize SDK not ready."),!1)}send(e){let t=this.gameManager?.activeRoomEvents;return t?t.send(e):(a.warning("GameMonetize - RoomEvents undefined to send an Ad Video message."),!1)}}},{c894c96a87401a74:"a9CkN","32be3a6a825a12db":"ahvCm","7809fdefc811e104":"3lwy5"}],"5PkGO":[function(e,t,i,n){t.exports.GoogleAdSense=class{constructor(e,t){this.gameManager=t,this.gameDom=t?.gameDom,this.events=t?.events,this.window=t?.gameDom?.getWindow(),this.metaData=e}}},{}],kaXNm:[function(e,t,i,n){t.exports={ads:{}}},{}],j7SWl:[function(e,t,i,n){let{DebugWorldCreator:r}=e("159f68d8a8780377"),{PluginInterface:s}=e("572e1f7ea3924a34"),{Logger:a,sc:o}=e("cb2ceff56813c995");t.exports.WorldPlugin=class extends s{setup(e){this.gameManager=o.get(e,"gameManager",!1),this.events=o.get(e,"events",!1),this.debugWorldCreator=!1,this.validateProperties()&&this.setupDebugMode()}validateProperties(){return this.gameManager?!!this.events||(a.error("EventsManager undefined in PredictionPlugin."),!1):(a.error("Game Manager undefined in PredictionPlugin."),!1)}setupDebugMode(){if(!this.gameManager.config.getWithoutLogs("client/world/debug/enabled",!1))return!1;this.debugWorldCreator=new r,this.events.on("reldens.createEngineSceneDone",async e=>{await this.debugWorldCreator.createSceneWorld(e.currentScene)})}}},{"159f68d8a8780377":"lfGMz","572e1f7ea3924a34":"jorwg",cb2ceff56813c995:"3lwy5"}],lfGMz:[function(e,t,i,n){let{Renderer:r}=e("cbb9503570f9a4d4"),{P2world:s}=e("712e22e86c85722d"),{WorldTimer:a}=e("80454883498e516a"),{Logger:o}=e("27caf2d5a77ed4fe");t.exports.DebugWorldCreator=class{async createSceneWorld(e){let t=this.findValidLayers(e),i=this.cloneMapJson(e,t),n={sceneName:e.key,roomId:e.params.roomId,roomMap:e.params.roomName,mapJson:i,config:e.configManager,events:e.eventsManager,allowSimultaneous:e.configManager.get("client/general/controls/allowSimultaneousKeys",!0),worldConfig:e.gameManager.activeRoomEvents.roomData?.worldConfig||e.worldConfig};e.debugWorld=this.createWorldInstance(n),e.debugWorld.createLimits(),await e.debugWorld.createWorldContent({}),e.debugWorldTimer=new a({callbacks:[()=>{if(!e.debugWorld){o.error("Scene World not longer exists.",e.roomWorld);return}e.debugWorld.removeBodiesFromWorld()}]}),e.debugWorldTimer.startWorldSteps(e.debugWorld),e.debugWorldRenderer=new r(e)}cloneMapJson(e,t){let i=e.tilesets[0];return i?Object.assign({},e.cache?.tilemap?.entries?.entries[i.name]?.data||{},{layers:t}):{}}findValidLayers(e){let t=[],i=e.tilesets[0];if(!i)return t;for(let n of e.cache.tilemap.entries.entries[i.name].data.layers)-1!==n.name.indexOf("collision")&&t.push(n);return t}createWorldInstance(e){return new s(e)}}},{cbb9503570f9a4d4:"lgGz5","712e22e86c85722d":"ivoQT","80454883498e516a":"9LSjN","27caf2d5a77ed4fe":"3lwy5"}],lgGz5:[function(e,t,i,n){let{Box:r}=e("fde0e3cf50e6ff47");t.exports.Renderer=class{constructor(e){this.scene=e,this.gameDom=e.gameManager.gameDom,this.world=e.debugWorld,this.canvasElement=!1,this.canvasContext=!1}fetchCanvasContext(){this.canvasContext=this.canvasElement.getContext("2d")}createCanvas(e,t){this.canvasElement=this.gameDom.createElement("canvas"),this.canvasElement.width=e,this.canvasElement.height=t,this.canvasElement.id="physicsCanvas",this.gameDom.getDocument().body.appendChild(this.canvasElement),this.fetchCanvasContext()}renderLoop(){this.canvasContext.clearRect(0,0,this.canvasElement.width,this.canvasElement.height),this.renderP2World(),this.gameDom.getWindow().requestAnimationFrame(this.renderLoop.bind(this))}renderP2World(){let e=this.canvasContext;for(let t=0;t<this.world.bodies.length;t++){let i=this.world.bodies[t];if(!i.isWall)continue;let n=i.shapes[0];if(e.fillStyle="#2f7dde",e.strokeStyle="#333333",n instanceof r){let t=i.position[0],r=i.position[1],s=n.width,a=n.height;e.save(),e.translate(t,r),e.rotate(i.angle),e.beginPath(),e.rect(-s/2,-a/2,s,a),e.closePath(),e.fill(),e.stroke(),e.restore()}e.closePath(),e.fill(),e.stroke()}for(let t=0;t<this.world.bodies.length;t++){let i=this.world.bodies[t];if(!i.isWall)continue;let n=i.shapes[0];if(n instanceof r){let t=i.firstTileIndex||0;e.fillStyle="#000000",e.font="9px Arial";let r=t.toString()+" / "+n.width+" / "+i.position[0],s=i.position[0],a=i.position[1],o=s-e.measureText(r).width/2;e.textAlign="left",e.textBaseline="middle",e.fillText(r,o,a)}}}debugWorld(){this.gameDom.getElement(".wrapper").style.display="none",this.createCanvas(this.scene.map.width*this.scene.map.tileWidth,this.scene.map.height*this.scene.map.tileHeight),this.renderP2World()}}},{fde0e3cf50e6ff47:"6bkiu"}],qoce2:[function(e,t,i,n){let{PreloaderHandler:r}=e("beb24ac2faa38dcf"),{ScoresMessageListener:s}=e("dee1b20915f8fc4b"),{MessageProcessor:a}=e("6d116519d34b9094"),{ScoresConst:o}=e("1ccd946bfeba00a0"),l=e("b91eaf643f56a617"),{TranslationsMapper:h}=e("3dfe0dee6d22ec47"),{PluginInterface:u}=e("1437aa517ee673e7"),{Logger:c,sc:d}=e("e7bcd0a5b428e237");t.exports.ScoresPlugin=class extends u{setup(e){this.gameManager=d.get(e,"gameManager",!1),this.events=d.get(e,"events",!1),this.preloaderHandler=new r,this.scoresMessageListener=new s,this.validateProperties()&&(this.setTranslations(),this.listenEvents(),this.listenMessages())}validateProperties(){return this.gameManager?!!this.events||(c.error("EventsManager undefined in ScoresPlugin."),!1):(c.error("Game Manager undefined in ScoresPlugin."),!1)}setTranslations(){if(!this.gameManager)return!1;h.forConfig(this.gameManager.config.client,l,o.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events){c.error('EventsManager undefined in ScoresPlugin for "listenEvents".');return}this.events.on("reldens.preloadUiScene",e=>{this.preloaderHandler.loadContents(e)}),this.events.on("reldens.createEngineSceneDone",e=>{let t=e?.roomEvents;if(!t)return c.critical("RoomEvents undefined for process Scores messages queue on ScoresPlugin.",e),!1;a.processScoresMessagesQueue(t,this.scoresMessageListener)})}listenMessages(){if(!this.gameManager||!this.events){c.error('Game Manager or EventsManager undefined in ScoresPlugin for "listenMessages".');return}this.gameManager.config.client.message.listeners[o.KEY]=this.scoresMessageListener}}},{beb24ac2faa38dcf:"8HRdq",dee1b20915f8fc4b:"dhpBv","6d116519d34b9094":"cEVwJ","1ccd946bfeba00a0":"epKM0",b91eaf643f56a617:"i8nnW","3dfe0dee6d22ec47":"hgeoj","1437aa517ee673e7":"jorwg",e7bcd0a5b428e237:"3lwy5"}],"8HRdq":[function(e,t,i,n){let{ScoresConst:r}=e("d5020a58048d8cd6");t.exports.PreloaderHandler=class{loadContents(e){let t="/assets/features/scores/templates/";e.load.html(r.KEY,t+"ui-scores.html"),e.load.html(r.TEMPLATES.SCORES_TABLE,t+"ui-scores-table.html")}}},{d5020a58048d8cd6:"epKM0"}],epKM0:[function(e,t,i,n){let r="scores.";t.exports.ScoresConst={KEY:"scores",PREFIX:"sco",ACTIONS:{UPDATE:"scoUp",TOP_SCORES_UPDATE:"scoTops"},TEMPLATES:{SCORES_TABLE:"scoresTable"},MESSAGE:{DATA_VALUES:{NAMESPACE:"scores"}},SNIPPETS:{PREFIX:r,TITLE:r+"scoresTitle",CONTENT:r+"scoresContent",MY_SCORE:r+"myScore"}}},{}],dhpBv:[function(e,t,i,n){let{ScoresMessageHandler:r}=e("e7cd47cafdf969e"),{ScoresConst:s}=e("4fec0ba8d4e7853a"),{Logger:a,sc:o}=e("f6f863d8fe211644");t.exports.ScoresMessageListener=class{async executeClientMessageActions(e){let t=o.get(e,"message",!1);if(!t)return a.error("Missing message data on ScoresMessageListener.",e),!1;let i=o.get(e,"roomEvents",!1);if(!i)return a.error("Missing RoomEvents on ScoresMessageListener.",e),!1;let n=new r({roomEvents:i,message:t});return n.validate()?!!this.isScoresMessage(t)&&this.handleScoresMessage(t,n):this.isScoresMessage(t)?(i.scoresMessagesQueue||(i.scoresMessagesQueue=[]),i.scoresMessagesQueue.push(t),!0):(a.error("Invalid ScoresMessageHandler",n),!1)}handleScoresMessage(e,t){return s.ACTIONS.UPDATE===e.act?t.updatePlayerScore():s.ACTIONS.TOP_SCORES_UPDATE!==e.act||t.updateScoresBox()}isScoresMessage(e){return 0===e.act?.indexOf(s.PREFIX)}}},{e7cd47cafdf969e:"2wmjV","4fec0ba8d4e7853a":"epKM0",f6f863d8fe211644:"3lwy5"}],"2wmjV":[function(e,t,i,n){let{UserInterface:r}=e("d13665ccdb08d785"),{ScoresConst:s}=e("3607b56eff987992"),{Logger:a,sc:o}=e("6e9ffa46628abd5f");t.exports.ScoresMessageHandler=class{constructor(e){this.roomEvents=o.get(e,"roomEvents",!1),this.message=o.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene}validate(){return this.roomEvents?this.message?this.gameManager?this.uiScene:(a.info("Missing GameManager on ScoresMessageHandler."),!1):(a.info("Missing message on ScoresMessageHandler."),!1):(a.info("Missing RoomEvents on ScoresMessageHandler."),!1)}createScoresUi(){let e=o.get(this.uiScene.userInterfaces,s.KEY);if(e)return e;this.uiScene.userInterfaces||(this.uiScene.userInterfaces={});let t=new r(this.gameManager,{id:s.KEY,type:s.KEY,defaultOpen:!0,defaultClose:!0},"/assets/features/scores/templates/ui-scores.html",s.KEY);t.createUiElement(this.uiScene,s.KEY);let i=this.uiScene.elementsUi[s.KEY];if(!i)return a.error("Scores UI box not found.",{uiScores:t,uiBox:i}),!1;let n=this.gameManager.services.translator.t(this.gameManager.config.getWithoutLogs("client/scores/labels/title",s.SNIPPETS.TITLE)),l=this.gameManager.services.translator.t(this.gameManager.config.getWithoutLogs("client/scores/labels/content",s.SNIPPETS.CONTENT));return this.roomEvents.uiSetTitleAndContent(i,{title:n,content:l},this.uiScene),this.uiScene.userInterfaces[s.KEY]=t,this.uiScene.userInterfaces[s.KEY]}updatePlayerScore(){this.createScoresUi(s.KEY);let e=o.get(this.message,"newTotalScore",!1);if(!e){a.debug("Missing new total score on update message.");return}this.uiScene.currentPlayerScore=e,this.roomEvents.uiSetContent(this.uiScene.elementsUi[s.KEY],{content:this.createContentsUpdate()},this.uiScene)}updateScoresBox(){this.createScoresUi(s.KEY);let e=o.get(this.message,"scores",!1);if(!e){a.debug("Missing scores data on message.");return}this.uiScene.scores=e,this.roomEvents.uiSetContent(this.uiScene.elementsUi[s.KEY],{content:this.createContentsUpdate()},this.uiScene)}createContentsUpdate(){let e=this.uiScene.cache.html.get(s.TEMPLATES.SCORES_TABLE);if(!e)return a.error('Missing template "'+s.TEMPLATES.SCORES_TABLE+'".'),"";let t={scores:this.uiScene.scores,showCurrentPlayer:!0,currentPlayerScore:this.gameManager.services.translator.t(this.gameManager.config.getWithoutLogs("client/scores/labels/myScore",s.SNIPPETS.MY_SCORE),{myScore:this.uiScene.currentPlayerScore||"0"})};return this.gameManager.gameEngine.parseTemplate(e,t)}}},{d13665ccdb08d785:"iRs7L","3607b56eff987992":"epKM0","6e9ffa46628abd5f":"3lwy5"}],cEVwJ:[function(e,t,i,n){let{ScoresMessageHandler:r}=e("2eeb57abc38b4be1"),{sc:s}=e("27775f7f913ec01a");t.exports.MessageProcessor=class{static processScoresMessagesQueue(e,t){if(s.isArray(e.scoresMessagesQueue)&&0!==e.scoresMessagesQueue.length){for(let i of e.scoresMessagesQueue)t.handleScoresMessage(i,new r({roomEvents:e,message:i}));e.scoresMessagesQueue=[]}}}},{"2eeb57abc38b4be1":"2wmjV","27775f7f913ec01a":"3lwy5"}],i8nnW:[function(e,t,i,n){t.exports={scores:{scoresTitle:"Top Players Scores",scoresContent:"No scores available.",myScore:"My score: %myScore"}}},{}],hblTe:[function(e,t,i,n){let{PreloaderHandler:r}=e("5758c6ee7bb9cc2a"),{MessageListener:s}=e("75bcbf886f6b5de8"),{MessageProcessor:a}=e("bc86930879fbb71b"),{RewardsConst:o}=e("64a9879ad20f16c"),l=e("14b75b28b4bb8047"),{TranslationsMapper:h}=e("e2a6585d36441da"),{PluginInterface:u}=e("385773ca42bfbe1"),{Logger:c,sc:d}=e("a334a81b6409a572");t.exports.RewardsPlugin=class extends u{setup(e){this.gameManager=d.get(e,"gameManager",!1),this.events=d.get(e,"events",!1),this.preloaderHandler=new r,this.messageListener=new s,this.validateProperties()&&(this.setTranslations(),this.listenEvents(),this.listenMessages(),c.debug("Plugin READY: Rewards"))}validateProperties(){return this.gameManager?!!this.events||(c.error("EventsManager undefined in RewardsPlugin."),!1):(c.error("Game Manager undefined in RewardsPlugin."),!1)}setTranslations(){if(!this.gameManager)return!1;h.forConfig(this.gameManager.config.client,l,o.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events){c.error('EventsManager undefined in RewardsPlugin for "listenEvents".');return}this.events.on("reldens.preloadUiScene",e=>{this.preloaderHandler.loadContents(e)}),this.events.on("reldens.createEngineSceneDone",e=>{a.processRewardsMessagesQueue(e,this)})}listenMessages(){if(!this.gameManager||!this.events){c.error('Game Manager or EventsManager undefined in RewardsPlugin for "listenMessages".');return}this.gameManager.config.client.message.listeners[o.KEY]=this.messageListener}}},{"5758c6ee7bb9cc2a":"fPzf2","75bcbf886f6b5de8":"gPPuI",bc86930879fbb71b:"a3cFM","64a9879ad20f16c":"dEYaW","14b75b28b4bb8047":"ftTJf",e2a6585d36441da:"hgeoj","385773ca42bfbe1":"jorwg",a334a81b6409a572:"3lwy5"}],fPzf2:[function(e,t,i,n){let{RewardsConst:r}=e("c0baaedb21bffd44");t.exports.PreloaderHandler=class{loadContents(e){let t="/assets/features/rewards/templates/";e.load.html(r.KEY,t+"ui-rewards.html"),e.load.html(r.TEMPLATES.REWARDS_LIST,t+"ui-rewards-list.html")}}},{c0baaedb21bffd44:"dEYaW"}],dEYaW:[function(e,t,i,n){let r="rewards.";t.exports.RewardsConst={KEY:"rewards",PREFIX:"rwd",ACTIONS:{INITIALIZE:"rwdIni",UPDATE:"rwdUp",ACCEPT_REWARD:"rwdAcpt",ACCEPTED_REWARD:"rwdAcpted"},SPLIT_EXPERIENCE:{ALL:0,PROPORTIONAL_BY_LEVEL:1},SPLIT_MODIFIER:{ALL:0,RANDOM:1},SPLIT_ITEMS:{DROP_KEEPS:0,RANDOM:1},MESSAGE:{DATA:{LABEL:"rlbl",DESCRIPTION:"rdes",POSITION:"rpos",SHOW_REWARD_IMAGE:"srimg",REWARD_IMAGE:"rimg",REWARD_IMAGE_PATH:"rimgp",EVENT_DATA:"redt",STATE_DATA:"resd",ITEMS_DATA:"rmid",ITEM_KEY:"rikey",ITEM_LABEL:"rilbl",ITEM_DESCRIPTION:"rides",ITEM_QUANTITY:"riqty"},DATA_VALUES:{NAMESPACE:"rewards"}},TEMPLATES:{REWARDS_LIST:"rewardsList"},SNIPPETS:{PREFIX:r,TITLE:r+"title",ACCEPTED_REWARD:r+"acceptedReward"}}},{}],gPPuI:[function(e,t,i,n){let{MessageHandler:r}=e("64a92a5204678fc9"),{RewardsConst:s}=e("364f1cdb78fb98e9"),{Logger:a,sc:o}=e("f9451ec69cdd0a47");t.exports.MessageListener=class{async executeClientMessageActions(e){let t=o.get(e,"message",!1);if(!t)return a.error("Missing message data on RewardsMessageListener.",e),!1;let i=o.get(e,"roomEvents",!1);if(!i)return a.error("Missing RoomEvents on RewardsMessageListener.",e),!1;if(!this.isRewardsMessage(t))return!1;let n=new r({roomEvents:i,message:t});return n.validate()?this.handleRewardsMessage(t,n):(i.rewardsMessagesQueue||(i.rewardsMessagesQueue=[]),i.rewardsMessagesQueue.push(t),!0)}handleRewardsMessage(e,t){return s.ACTIONS.UPDATE===e.act?t.updateRewardsBox():s.ACTIONS.ACCEPTED_REWARD!==e.act||t.showAcceptedReward()}isRewardsMessage(e){return 0===e.act?.indexOf(s.PREFIX)}}},{"64a92a5204678fc9":"1sAdE","364f1cdb78fb98e9":"dEYaW",f9451ec69cdd0a47:"3lwy5"}],"1sAdE":[function(e,t,i,n){let{UserInterface:r}=e("5bc785032b2d0856"),{RewardsConst:s}=e("1433e37d05c49b27"),{GameConst:a}=e("214c4839fe65344a"),{Logger:o,sc:l}=e("62758788d6e9eb13");t.exports.MessageHandler=class{constructor(e){this.roomEvents=l.get(e,"roomEvents",!1),this.message=l.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.config=this.gameManager?.config,this.translator=this.gameManager?.services?.translator,this.uiScene=this.gameManager?.gameEngine?.uiScene}validate(){return this.roomEvents?this.message?this.gameManager?this.uiScene:(o.info("Missing GameManager on RewardsMessageHandler."),!1):(o.info("Missing message on RewardsMessageHandler."),!1):(o.info("Missing RoomEvents on RewardsMessageHandler."),!1)}createRewardsUi(e){let t=l.get(this.uiScene.userInterfaces,e);if(t)return t;this.uiScene.userInterfaces||(this.uiScene.userInterfaces={});let i=new r(this.gameManager,{id:e,type:e,defaultOpen:!0,defaultClose:!0},"/assets/features/rewards/templates/ui-rewards.html",e);i.createUiElement(this.uiScene,e),i.closeButton.addEventListener("click",()=>{this.gameDom.emptyElement(".accepted-reward")});let n=this.uiScene.elementsUi[e];if(!n)return o.error("Scores UI box not found.",{uiRewards:i,uiBox:n}),!1;let a=this.translator.t(this.config.getWithoutLogs("client/rewards/labels/title",s.SNIPPETS.TITLE));return this.roomEvents.uiSetTitleAndContent(n,{title:a},this.uiScene),this.uiScene.userInterfaces[e]=i,this.uiScene.userInterfaces[e]}updateRewardsBox(){this.createRewardsUi(s.KEY);let e=l.get(this.message,"rewards",!1);if(!e){o.debug("Missing rewards data on message.");return}this.enrichForDisplay(e),this.uiScene.rewards=e,this.roomEvents.uiSetContent(this.uiScene.elementsUi[s.KEY],{content:this.createUpdateContent()},this.uiScene),this.showRewardsNotificationBalloon(),this.activateRewardsAction()}showAcceptedReward(){this.createRewardsUi(s.KEY);let e=l.get(this.message,"acceptedReward",!1);if(!e){o.debug("Missing rewards on update message.");return}this.enrichForDisplay([e]),this.uiScene.acceptedReward=e,this.roomEvents.uiSetContent(this.uiScene.elementsUi[s.KEY],{content:this.createUpdateContent()},this.uiScene)}createUpdateContent(){let e=this.uiScene.cache.html.get(s.TEMPLATES.REWARDS_LIST);if(!e)return o.error('Missing template "'+s.TEMPLATES.REWARDS_LIST+'".'),"";let t=this.uiScene.acceptedReward,i=t?this.translator.t(this.config.getWithoutLogs("client/rewards/labels/acceptedReward",s.SNIPPETS.ACCEPTED_REWARD),{rewardLabel:t.translated.label}):"",n={rewards:this.uiScene.rewards,acceptedReward:t,acceptedRewardMessage:i};return this.gameManager.gameEngine.parseTemplate(e,n)}enrichForDisplay(e){for(let t of e){let e=this.translator.t(t[s.MESSAGE.DATA.DESCRIPTION]||"",{loginCount:t[s.MESSAGE.DATA.EVENT_DATA]?.days||""});this.config.getWithoutLogs("client/rewards/labels/includeItemsDescription",!0)&&(e+=this.mapItemsText(t));let i=this.translator.t(t[s.MESSAGE.DATA.LABEL]||"",{loginCount:t[s.MESSAGE.DATA.EVENT_DATA]?.days||""});t.translated={label:i,description:e};let n=t[s.MESSAGE.DATA.STATE_DATA];t.activeClass=n?.ready&&!n?.complete?"active":"inactive",t.showRewardImage=t[s.MESSAGE.DATA.SHOW_REWARD_IMAGE]||"",t.rewardImage=t[s.MESSAGE.DATA.REWARD_IMAGE]||"",t.rewardImagePath=t[s.MESSAGE.DATA.REWARD_IMAGE_PATH]||""}return e}mapItemsText(e){let t=this.config.getWithoutLogs("client/rewards/labels/itemsSeparator","<br/>"),i=this.config.getWithoutLogs("client/rewards/labels/itemsTemplate","%label (%quantity)");return t+e[s.MESSAGE.DATA.ITEMS_DATA]?.map(e=>i=(i=i.replace("%label",e[s.MESSAGE.DATA.ITEM_LABEL])).replace("%quantity",e[s.MESSAGE.DATA.ITEM_QUANTITY])).join(t)}showRewardsNotificationBalloon(){let e=this.gameDom.getElement("#rewards-notification-balloon"),t=this.gameDom.getElements(".reward-active");if(e&&t&&0<t.label){e.classList.remove("hidden");return}e.classList.add("hidden")}activateRewardsAction(){for(let e of this.gameDom.getElements(".reward-active"))e.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send({[a.ACTION_KEY]:s.ACTIONS.ACCEPT_REWARD,id:e.dataset.rewardId})})}}},{"5bc785032b2d0856":"iRs7L","1433e37d05c49b27":"dEYaW","214c4839fe65344a":"7Qdd3","62758788d6e9eb13":"3lwy5"}],a3cFM:[function(e,t,i,n){let{MessageHandler:r}=e("45635d97a9c1c345"),{Logger:s,sc:a}=e("5db63803d008826");t.exports.MessageProcessor=class{static processRewardsMessagesQueue(e,t){let i=e?.roomEvents;if(!i)return s.critical("RoomEvents undefined for process Rewards messages queue on RewardsPlugin.",e),!1;if(a.isArray(i.rewardsMessagesQueue)&&0!==i.rewardsMessagesQueue.length){for(let e of i.rewardsMessagesQueue)t.messageListener?.handleRewardsMessage(e,new r({roomEvents:i,message:e}));i.rewardsMessagesQueue=[]}}}},{"45635d97a9c1c345":"1sAdE","5db63803d008826":"3lwy5"}],ftTJf:[function(e,t,i,n){t.exports={rewards:{title:"Rewards",dailyLogin:"Daily Login",dailyDescription:"Login every day and claim your reward",straightDaysLogin:"%loginCount Days Login",straightDaysDescription:"Login every day for %loginCount days and claim your reward",acceptedReward:'You accepted the "%rewardLabel" reward!'}}},{}],exRYr:[function(e,t,i,n){let r=e("e7d36bfbb0724f13").default,s=e("2ec809fd89cf35d5"),a=e("c0c0dbe4468962c4"),o=e("2b9362a186f219e2"),{ErrorsBlockHandler:l}=e("e880c9c922303a35"),{GameConst:h}=e("9ce09ab103654ea9"),{ErrorManager:u,Logger:c,sc:d}=e("7a4562850a98c1a");t.exports.FirebaseConnector=class{constructor(e){e||u.error("FirebaseConnector - Missing game manager."),this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.analytics=s,this.app=r,this.firebaseAuth=a,this.ui=o,this.authUi=!1,this.isActive=!1,this.containerId="#firebaseui-auth-container",this.uiConfig={signInOptions:[{provider:this.firebaseAuth.GoogleAuthProvider.PROVIDER_ID},{provider:this.firebaseAuth.FacebookAuthProvider.PROVIDER_ID},{provider:this.firebaseAuth.GithubAuthProvider.PROVIDER_ID}],signInFlow:"popup"},this.gameManager.events.on("reldens.beforeJoinGame",e=>{"firebase-login"===e.formData.formId&&(e.gameManager.userData.isFirebaseLogin=!0)})}startFirebase(){let e=this.gameManager.appServerUrl+h.ROUTE_PATHS.FIREBASE;this.gameDom.getJSON(e,(e,t)=>{if(e)return c.error("FirebaseConnector - Failed to load firebase config.",e),!1;if(!t||!t.enabled)return!1;let i=t.firebaseConfig;this.initAuth(i,this.uiConfig),this.gameDom.getWindow().addEventListener("beforeunload",()=>{this.isActive&&this.app.auth().signOut()}),this.app.auth().onAuthStateChanged(e=>(e?this.setActiveUser(e):this.startAuthUi(),!1));let n=this.gameDom.getElement("#firebase-login");n&&this.activateLoginBehavior(n)})}activateLoginBehavior(e){e.addEventListener("submit",t=>{if(t.preventDefault(),!e.checkValidity())return!1;this.gameDom.getElement(".firebase-row-container").classList.remove("hidden")});let t=this.gameDom.getElement("#firebase-username");if(!t)return!1;this.gameDom.getElement(".firebase-row-container").classList.remove("hidden"),t.addEventListener("change",()=>{l.reset(e)}),t.addEventListener("focus",()=>{l.reset(e)})}startAuthUi(){this.isActive=!1,this.gameDom.getElement(this.containerId)&&(this.gameDom.getElement(this.containerId).innerHTML=""),this.authUi.start(this.containerId,this.uiConfig)}setActiveUser(e){this.isActive=!0;let t={formId:"firebase-login",email:e.email,username:this.gameDom.getElement("#firebase-username").value,password:e.uid};this.gameManager.startGame(t,!0)}initAuth(e,t){if(!e||!t)return c.error("Missing firebase configuration."),!1;this.firebaseConfig=e,this.uiConfig=t,this.app.initializeApp(this.firebaseConfig),d.hasOwn(this.firebaseConfig,"measurementId")&&this.app.analytics(),this.authUi=new this.ui.auth.AuthUI(this.app.auth()),d.hasOwn(this.uiConfig,"callbacks")||(this.uiConfig.callbacks={}),d.hasOwn(this.uiConfig.callbacks,"signInSuccessWithAuthResult")||(this.uiConfig.callbacks.signInSuccessWithAuthResult=()=>!1)}}},{e7d36bfbb0724f13:"llQKY","2ec809fd89cf35d5":"jiMXy",c0c0dbe4468962c4:"2s8iN","2b9362a186f219e2":"1Z3EC",e880c9c922303a35:"lVBG2","9ce09ab103654ea9":"7Qdd3","7a4562850a98c1a":"3lwy5"}],llQKY:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"default",()=>a.default);var s=e("@firebase/app-compat"),a=r.interopDefault(s);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,a.default).registerVersion("firebase","10.14.1","app-compat")},{"@firebase/app-compat":"9Npvu","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"9Npvu":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"default",()=>f);var s=e("@firebase/util"),a=e("@firebase/component"),o=e("@firebase/app"),l=e("@firebase/logger");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(e,t){this._delegate=e,this.firebase=t,(0,o._addComponent)(e,new a.Component("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate)))}_getService(e,t=o._DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();let n=this._delegate.container.getProvider(e);return n.isInitialized()||(null===(i=n.getComponent())||void 0===i?void 0:i.instantiationMode)!=="EXPLICIT"||n.initialize(),n.getImmediate({identifier:t})}_removeServiceInstance(e,t=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}let u=new s.ErrorFactory("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e(){let t=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t={},i={__esModule:!0,initializeApp:function(n,r={}){let a=o.initializeApp(n,r);if((0,s.contains)(t,a.name))return t[a.name];let l=new e(a,i);return t[a.name]=l,l},app:n,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){let r=t.name,a=r.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){let o=(e=n())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&(0,s.deepExtend)(o,t.serviceProps),i[a]=o,e.prototype[a]=function(...e){return this._getService.bind(this,r).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?i[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:o}};function n(e){if(e=e||o._DEFAULT_ENTRY_NAME,!(0,s.contains)(t,e))throw u.create("no-app",{appName:e});return t[e]}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),n.App=e,i}(h);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,s.deepExtend)(t,e)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}(),d=new l.Logger("@firebase/app-compat");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{let e=(0,s.getGlobal)();if(void 0!==e.firebase){d.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);let t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&d.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch(e){}let f=c;(0,o.registerVersion)("@firebase/app-compat","0.2.43",void 0)},{"@firebase/util":"j1gcd","@firebase/component":"dVjVM","@firebase/app":"hZODh","@firebase/logger":"7RF90","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],j1gcd:[function(e,t,i,n){/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"CONSTANTS",()=>o),r.export(i,"DecodeBase64StringError",()=>f),r.export(i,"Deferred",()=>I),r.export(i,"ErrorFactory",()=>X),r.export(i,"FirebaseError",()=>H),r.export(i,"MAX_VALUE_MILLIS",()=>eT),r.export(i,"RANDOM_FACTOR",()=>eA),r.export(i,"Sha1",()=>ec),r.export(i,"areCookiesEnabled",()=>Y),r.export(i,"assert",()=>l),r.export(i,"assertionError",()=>h),r.export(i,"async",()=>ep),r.export(i,"base64",()=>d),r.export(i,"base64Decode",()=>g),r.export(i,"base64Encode",()=>p),r.export(i,"base64urlEncodeWithoutPadding",()=>m),r.export(i,"calculateBackoffMillis",()=>e_),r.export(i,"contains",()=>ei),r.export(i,"createMockUserToken",()=>P),r.export(i,"createSubscribe",()=>ed),r.export(i,"decode",()=>Q),r.export(i,"deepCopy",()=>v),r.export(i,"deepEqual",()=>function e(t,i){if(t===i)return!0;let n=Object.keys(t),r=Object.keys(i);for(let s of n){if(!r.includes(s))return!1;let n=t[s],a=i[s];if(ea(n)&&ea(a)){if(!e(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}),r.export(i,"deepExtend",()=>y),r.export(i,"errorPrefix",()=>ev),r.export(i,"extractQuerystring",()=>eu),r.export(i,"getDefaultAppConfig",()=>_),r.export(i,"getDefaultEmulatorHost",()=>T),r.export(i,"getDefaultEmulatorHostnameAndPort",()=>A),r.export(i,"getDefaults",()=>S),r.export(i,"getExperimentalSetting",()=>C),r.export(i,"getGlobal",()=>b),r.export(i,"getModularInstance",()=>eI),r.export(i,"getUA",()=>R),r.export(i,"isAdmin",()=>et),r.export(i,"isBrowser",()=>L),r.export(i,"isBrowserExtension",()=>N),r.export(i,"isCloudflareWorker",()=>k),r.export(i,"isElectron",()=>B),r.export(i,"isEmpty",()=>er),r.export(i,"isIE",()=>U),r.export(i,"isIndexedDBAvailable",()=>W),r.export(i,"isMobileCordova",()=>O),r.export(i,"isNode",()=>M),r.export(i,"isNodeSdk",()=>V),r.export(i,"isReactNative",()=>F),r.export(i,"isSafari",()=>G),r.export(i,"isUWP",()=>j),r.export(i,"isValidFormat",()=>ee),r.export(i,"isValidTimestamp",()=>J),r.export(i,"isWebWorker",()=>D),r.export(i,"issuedAtTime",()=>Z),r.export(i,"jsonEval",()=>K),r.export(i,"map",()=>es),r.export(i,"ordinal",()=>eC),r.export(i,"promiseWithTimeout",()=>eo),r.export(i,"querystring",()=>el),r.export(i,"querystringDecode",()=>eh),r.export(i,"safeGet",()=>en),r.export(i,"stringLength",()=>ew),r.export(i,"stringToByteArray",()=>eE),r.export(i,"stringify",()=>$),r.export(i,"uuidv4",()=>eS),r.export(i,"validateArgCount",()=>eg),r.export(i,"validateCallback",()=>eb),r.export(i,"validateContextObject",()=>ex),r.export(i,"validateIndexedDBOpenable",()=>z),r.export(i,"validateNamespace",()=>ey);var s=arguments[3],a=e("d07263985281b344");let o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(e,t){if(!e)throw h(t)},h=function(e){return Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:((64512&r)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),t[i++]=r>>18|240,t[i++]=r>>12&63|128):t[i++]=r>>12|224,t[i++]=r>>6&63|128),t[i++]=63&r|128)}return t},c=function(e){let t=[],i=0,n=0;for(;i<e.length;){let r=e[i++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let s=e[i++];t[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){let s=((7&r)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{let s=e[i++],a=e[i++];t[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let r=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,h=r>>2,u=(3&r)<<4|a>>4,c=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(c=64)),n.push(i[h],i[u],i[c],i[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let r=i[e.charAt(t++)],s=t<e.length?i[e.charAt(t)]:0,a=++t<e.length?i[e.charAt(t)]:64,o=++t<e.length?i[e.charAt(t)]:64;if(++t,null==r||null==s||null==a||null==o)throw new f;let l=r<<2|s>>4;if(n.push(l),64!==a){let e=s<<4&240|a>>2;if(n.push(e),64!==o){let e=a<<6&192|o;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let p=function(e){let t=u(e);return d.encodeByteArray(t,!0)},m=function(e){return p(e).replace(/\./g,"")},g=function(e){try{return d.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e){return y(void 0,e)}function y(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(let i in t)t.hasOwnProperty(i)&&"__proto__"!==i&&(e[i]=y(e[i],t[i]));return e}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==s)return s;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x=()=>b().__FIREBASE_DEFAULTS__,E=()=>{if(void 0===a||void 0===a.env)return;let e=void 0;if(e)return JSON.parse(e)},w=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&g(e[1]);return t&&JSON.parse(t)},S=()=>{try{return x()||E()||w()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},T=e=>{var t,i;return null===(i=null===(t=S())||void 0===t?void 0:t.emulatorHosts)||void 0===i?void 0:i[e]},A=e=>{let t=T(e);if(!t)return;let i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(i+1),10);return"["===t[0]?[t.substring(1,i-1),n]:[t.substring(0,i),n]},_=()=>{var e;return null===(e=S())||void 0===e?void 0:e.config},C=e=>{var t;return null===(t=S())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i=t||"demo-project",n=e.iat||0,r=e.sub||e.user_id;if(!r)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[m(JSON.stringify({alg:"none",type:"JWT"})),m(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function O(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())}function M(){var e;let t=null===(e=S())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(s.process)}catch(e){return!1}}function L(){return"undefined"!=typeof window||D()}function D(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function k(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function N(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function F(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function B(){return R().indexOf("Electron/")>=0}function U(){let e=R();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j(){return R().indexOf("MSAppHost/")>=0}function V(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function G(){return!M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){try{return"object"==typeof indexedDB}catch(e){return!1}}function z(){return new Promise((e,t)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function Y(){return"undefined"!=typeof navigator&&!!navigator.cookieEnabled}class H extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?r.replace(q,(e,t)=>{let n=i[t];return null!=n?String(n):`<${t}?>`}):"Error",a=`${this.serviceName}: ${s} (${n}).`;return new H(n,a,i)}}let q=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e){return JSON.parse(e)}function $(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q=function(e){let t={},i={},n={},r="";try{let s=e.split(".");t=K(g(s[0])||""),i=K(g(s[1])||""),r=s[2],n=i.d||{},delete i.d}catch(e){}return{header:t,claims:i,data:n,signature:r}},J=function(e){let t=Q(e).claims,i=Math.floor(new Date().getTime()/1e3),n=0,r=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?n=t.nbf:t.hasOwnProperty("iat")&&(n=t.iat),r=t.hasOwnProperty("exp")?t.exp:n+86400),!!i&&!!n&&!!r&&i>=n&&i<=r},Z=function(e){let t=Q(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},ee=function(e){let t=Q(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},et=function(e){let t=Q(e).claims;return"object"==typeof t&&!0===t.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function en(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function er(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function es(e,t,i){let n={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=t.call(i,e[r],r,e));return n}function ea(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(e,t=2e3){let i=new I;return setTimeout(()=>i.reject("timeout!"),t),e.then(i.resolve,i.reject),i.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(e){let t=[];for(let[i,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function eh(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[i,n]=e.split("=");t[decodeURIComponent(i)]=decodeURIComponent(n)}}),t}function eu(e){let t=e.indexOf("?");if(!t)return"";let i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0}compress_(e,t){let i,n;t||(t=0);let r=this.W_;if("string"==typeof e)for(let i=0;i<16;i++)r[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let i=0;i<16;i++)r[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=r[e-3]^r[e-8]^r[e-14]^r[e-16];r[e]=(t<<1|t>>>31)&0xffffffff}let s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(i=l^a&(o^l),n=0x5a827999):(i=a^o^l,n=0x6ed9eba1):e<60?(i=a&o|l&(a|o),n=0x8f1bbcdc):(i=a^o^l,n=0xca62c1d6);let t=(s<<5|s>>>27)+i+h+n+r[e]&0xffffffff;h=l,l=o,o=(a<<30|a>>>2)&0xffffffff,a=s,s=t}this.chain_[0]=this.chain_[0]+s&0xffffffff,this.chain_[1]=this.chain_[1]+a&0xffffffff,this.chain_[2]=this.chain_[2]+o&0xffffffff,this.chain_[3]=this.chain_[3]+l&0xffffffff,this.chain_[4]=this.chain_[4]+h&0xffffffff}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let i=t-this.blockSize,n=0,r=this.buf_,s=this.inbuf_;for(;n<t;){if(0===s)for(;n<=i;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(r[s]=e.charCodeAt(n),++s,++n,s===this.blockSize){this.compress_(r),s=0;break}}else for(;n<t;)if(r[s]=e[n],++s,++n,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let t=0;t<5;t++)for(let n=24;n>=0;n-=8)e[i]=this.chain_[t]>>n&255,++i;return e}}function ed(e,t){let i=new ef(e,t);return i.subscribe.bind(i)}class ef{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let n;if(void 0===e&&void 0===t&&void 0===i)throw Error("Missing Observer.");void 0===(n=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:i}:e).next&&(n.next=em),void 0===n.error&&(n.error=em),void 0===n.complete&&(n.complete=em);let r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ep(e,t){return(...i)=>{Promise.resolve(!0).then(()=>{e(...i)}).catch(e=>{t&&t(e)})}}function em(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg=function(e,t,i,n){let r;if(n<t?r="at least "+t:n>i&&(r=0===i?"none":"no more than "+i),r)throw Error(e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+r+".")};function ev(e,t){return`${e} failed: ${t} argument `}function ey(e,t,i){if((!i||t)&&"string"!=typeof t)throw Error(ev(e,"namespace")+"must be a valid firebase namespace.")}function eb(e,t,i,n){if((!n||i)&&"function"!=typeof i)throw Error(ev(e,t)+"must be a valid function.")}function ex(e,t,i,n){if((!n||i)&&("object"!=typeof i||null===i))throw Error(ev(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eE=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r>=55296&&r<=56319){let t=r-55296;l(++n<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(n)-56320)}r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:(r<65536?t[i++]=r>>12|224:(t[i++]=r>>18|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128),t[i++]=63&r|128)}return t},ew=function(e){let t=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,i++):t+=3}return t},eS=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},eT=144e5,eA=.5;function e_(e,t=1e3,i=2){let n=t*Math.pow(i,e),r=Math.round(eA*n*(Math.random()-.5)*2);return Math.min(eT,n+r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(e){return Number.isFinite(e)?e+function(e){let t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";let i=e%10;return 1===i?"st":2===i?"nd":3===i?"rd":"th"}(e):`${e}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(e){return e&&e._delegate?e._delegate:e}},{d07263985281b344:"hcVnn","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],dVjVM:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"Component",()=>a),r.export(i,"ComponentContainer",()=>h),r.export(i,"Provider",()=>l);var s=e("@firebase/util");class a{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new s.Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&e.resolve(i)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:i});t.resolve(e)}catch(e){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[e,t]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var i;let n=this.normalizeInstanceIdentifier(t),r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(e),this.onInitCallbacks.set(n,r);let s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let n of i)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e===o?void 0:e,options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(e){}return i||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new l(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},{"@firebase/util":"j1gcd","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],hZODh:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"FirebaseError",()=>o.FirebaseError),r.export(i,"SDK_VERSION",()=>P),r.export(i,"_DEFAULT_ENTRY_NAME",()=>f),r.export(i,"_addComponent",()=>y),r.export(i,"_addOrOverwriteComponent",()=>b),r.export(i,"_apps",()=>m),r.export(i,"_clearComponents",()=>A),r.export(i,"_components",()=>v),r.export(i,"_getProvider",()=>E),r.export(i,"_isFirebaseApp",()=>S),r.export(i,"_isFirebaseServerApp",()=>T),r.export(i,"_registerComponent",()=>x),r.export(i,"_removeServiceInstance",()=>w),r.export(i,"_serverApps",()=>g),r.export(i,"deleteApp",()=>D),r.export(i,"getApp",()=>M),r.export(i,"getApps",()=>L),r.export(i,"initializeApp",()=>R),r.export(i,"initializeServerApp",()=>O),r.export(i,"onLog",()=>N),r.export(i,"registerVersion",()=>k),r.export(i,"setLogLevel",()=>F);var s=e("@firebase/component"),a=e("@firebase/logger"),o=e("@firebase/util"),l=e("idb");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let u="@firebase/app",c="0.10.13",d=new a.Logger("@firebase/app"),f="[DEFAULT]",p={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},m=new Map,g=new Map,v=new Map;function y(e,t){try{e.container.addComponent(t)}catch(i){d.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function b(e,t){e.container.addOrOverwriteComponent(t)}function x(e){let t=e.name;if(v.has(t))return d.debug(`There were multiple attempts to register component ${t}.`),!1;for(let i of(v.set(t,e),m.values()))y(i,e);for(let t of g.values())y(t,e);return!0}function E(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function w(e,t,i=f){E(e,t).clearInstance(i)}function S(e){return void 0!==e.options}function T(e){return void 0!==e.settings}function A(){v.clear()}let _=new o.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new s.Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I extends C{constructor(e,t,i,n){let r=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:i,automaticDataCollectionEnabled:r};void 0!==e.apiKey?super(e,s,n):super(e.options,s,n),this._serverConfig=Object.assign({automaticDataCollectionEnabled:r},t),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,k(u,c,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){D(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw _.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P="10.14.1";function R(e,t={}){let i=e;"object"!=typeof t&&(t={name:t});let n=Object.assign({name:f,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw _.create("bad-app-name",{appName:String(r)});if(i||(i=(0,o.getDefaultAppConfig)()),!i)throw _.create("no-options");let a=m.get(r);if(a){if((0,o.deepEqual)(i,a.options)&&(0,o.deepEqual)(n,a.config))return a;throw _.create("duplicate-app",{appName:r})}let l=new s.ComponentContainer(r);for(let e of v.values())l.addComponent(e);let h=new C(i,n,l);return m.set(r,h),h}function O(e,t){let i;if((0,o.isBrowser)()&&!(0,o.isWebWorker)())throw _.create("invalid-server-app-environment");void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),i=S(e)?e.options:e;let n=Object.assign(Object.assign({},t),i);if(void 0!==n.releaseOnDeref&&delete n.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw _.create("finalization-registry-not-supported",{});let r=""+[...JSON.stringify(n)].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0),a=g.get(r);if(a)return a.incRefCount(t.releaseOnDeref),a;let l=new s.ComponentContainer(r);for(let e of v.values())l.addComponent(e);let h=new I(i,t,r,l);return g.set(r,h),h}function M(e=f){let t=m.get(e);if(!t&&e===f&&(0,o.getDefaultAppConfig)())return R();if(!t)throw _.create("no-app",{appName:e});return t}function L(){return Array.from(m.values())}async function D(e){let t=!1,i=e.name;m.has(i)?(t=!0,m.delete(i)):g.has(i)&&0>=e.decRefCount()&&(g.delete(i),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function k(e,t,i){var n;let r=null!==(n=p[e])&&void 0!==n?n:e;i&&(r+=`-${i}`);let a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){let e=[`Unable to register library "${r}" with version "${t}":`];a&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),d.warn(e.join(" "));return}x(new s.Component(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function N(e,t){if(null!==e&&"function"!=typeof e)throw _.create("invalid-log-argument");(0,a.setUserLogHandler)(e,t)}function F(e){(0,a.setLogLevel)(e)}let B="firebase-heartbeat-store",U=null;function j(){return U||(U=(0,l.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(B)}catch(e){console.warn(e)}}}).catch(e=>{throw _.create("idb-open",{originalErrorMessage:e.message})})),U}async function V(e){try{let t=(await j()).transaction(B),i=await t.objectStore(B).get(W(e));return await t.done,i}catch(e){if(e instanceof o.FirebaseError)d.warn(e.message);else{let t=_.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});d.warn(t.message)}}}async function G(e,t){try{let i=(await j()).transaction(B,"readwrite"),n=i.objectStore(B);await n.put(t,W(e)),await i.done}catch(e){if(e instanceof o.FirebaseError)d.warn(e.message);else{let t=_.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});d.warn(t.message)}}}function W(e){return`${e.name}!${e.options.appId}`}class z{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new H(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Y();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){d.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=Y(),{heartbeatsToSend:i,unsentEntries:n}=function(e,t=1024){let i=[],n=e.slice();for(let r of e){let e=i.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),X(i)>t){e.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),X(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),r=(0,o.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return d.warn(e),""}}}function Y(){return new Date().toISOString().substring(0,10)}class H{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.isIndexedDBAvailable)()&&(0,o.validateIndexedDBOpenable)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await V(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return G(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return G(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}}}function X(e){return(0,o.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}x(new s.Component("platform-logger",e=>new h(e),"PRIVATE")),x(new s.Component("heartbeat",e=>new z(e),"PRIVATE")),k(u,c,""),k(u,c,"esm2017"),k("fire-js","")},{"@firebase/component":"dVjVM","@firebase/logger":"7RF90","@firebase/util":"j1gcd",idb:"4zejX","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"7RF90":[function(e,t,i,n){/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r,s,a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(i),a.export(i,"LogLevel",()=>s),a.export(i,"Logger",()=>d),a.export(i,"setLogLevel",()=>f),a.export(i,"setUserLogHandler",()=>p);let o=[];(r=s||(s={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";let l={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},h=s.INFO,u={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},c=(e,t,...i)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),r=u[t];if(r)console[r](`[${n}]  ${e.name}:`,...i);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class d{constructor(e){this.name=e,this._logLevel=h,this._logHandler=c,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?l[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...e),this._logHandler(this,s.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...e),this._logHandler(this,s.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,s.INFO,...e),this._logHandler(this,s.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,s.WARN,...e),this._logHandler(this,s.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...e),this._logHandler(this,s.ERROR,...e)}}function f(e){o.forEach(t=>{t.setLogLevel(e)})}function p(e,t){for(let i of o){let n=null;t&&t.level&&(n=l[t.level]),null===e?i.userLogHandler=null:i.userLogHandler=(t,i,...r)=>{let a=r.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");i>=(null!=n?n:t.logLevel)&&e({level:s[i].toLowerCase(),message:a,args:r,type:t.name})}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"4zejX":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"unwrap",()=>s.u),r.export(i,"wrap",()=>s.w),r.export(i,"deleteDB",()=>o),r.export(i,"openDB",()=>a);var s=e("./wrap-idb-value.js");function a(e,t,{blocked:i,upgrade:n,blocking:r,terminated:o}={}){let l=indexedDB.open(e,t),h=(0,s.w)(l);return n&&l.addEventListener("upgradeneeded",e=>{n((0,s.w)(l.result),e.oldVersion,e.newVersion,(0,s.w)(l.transaction),e)}),i&&l.addEventListener("blocked",e=>i(e.oldVersion,e.newVersion,e)),h.then(e=>{o&&e.addEventListener("close",()=>o()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),h}function o(e,{blocked:t}={}){let i=indexedDB.deleteDatabase(e);return t&&i.addEventListener("blocked",e=>t(e.oldVersion,e)),(0,s.w)(i).then(()=>void 0)}let l=["get","getKey","getAll","getAllKeys","count"],h=["put","add","delete","clear"],u=new Map;function c(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(u.get(t))return u.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=h.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||l.includes(i)))return;let s=async function(e,...t){let s=this.transaction(e,r?"readwrite":"readonly"),a=s.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[i](...t),r&&s.done]))[0]};return u.set(t,s),s}(0,s.r)(e=>({...e,get:(t,i,n)=>c(t,i)||e.get(t,i,n),has:(t,i)=>!!c(t,i)||e.has(t,i)}))},{"./wrap-idb-value.js":"4IA5n","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"4IA5n":[function(e,t,i,n){let r,s;var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(i),a.export(i,"a",()=>d),a.export(i,"i",()=>o),a.export(i,"r",()=>p),a.export(i,"u",()=>g),a.export(i,"w",()=>m);let o=(e,t)=>t.some(t=>e instanceof t),l=new WeakMap,h=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,f={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return m(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){f=e(f)}function m(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,i)=>{let n=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(m(e.result)),n()},s=()=>{i(e.error),n()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&l.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(c.has(e))return c.get(e);let i="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(g(this),e),m(l.get(this))}:function(...e){return m(t.apply(g(this),e))}:function(e,...i){let n=t.call(g(this),e,...i);return u.set(n,e.sort?e.sort():[e]),m(n)}:(t instanceof IDBTransaction&&function(e){if(h.has(e))return;let t=new Promise((t,i)=>{let n=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),n()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});h.set(e,t)}(t),o(t,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,f):t;return i!==e&&(c.set(e,i),d.set(i,e)),i}let g=e=>d.get(e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],jiMXy:[function(e,t,i,n){e("@firebase/analytics-compat")},{"@firebase/analytics-compat":"60GUK"}],"60GUK":[function(e,t,i,n){var r,s,a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(i),a.export(i,"registerAnalytics",()=>f);var o=e("@firebase/app-compat"),l=a.interopDefault(o),h=e("@firebase/analytics"),u=e("@firebase/component");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,i){(0,h.logEvent)(this._delegate,e,t,i)}setCurrentScreen(e,t){(0,h.setCurrentScreen)(this._delegate,e,t)}setUserId(e,t){(0,h.setUserId)(this._delegate,e,t)}setUserProperties(e,t){(0,h.setUserProperties)(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){(0,h.setAnalyticsCollectionEnabled)(this._delegate,e)}}(r=s||(s={})).ADD_SHIPPING_INFO="add_shipping_info",r.ADD_PAYMENT_INFO="add_payment_info",r.ADD_TO_CART="add_to_cart",r.ADD_TO_WISHLIST="add_to_wishlist",r.BEGIN_CHECKOUT="begin_checkout",r.CHECKOUT_PROGRESS="checkout_progress",r.EXCEPTION="exception",r.GENERATE_LEAD="generate_lead",r.LOGIN="login",r.PAGE_VIEW="page_view",r.PURCHASE="purchase",r.REFUND="refund",r.REMOVE_FROM_CART="remove_from_cart",r.SCREEN_VIEW="screen_view",r.SEARCH="search",r.SELECT_CONTENT="select_content",r.SELECT_ITEM="select_item",r.SELECT_PROMOTION="select_promotion",r.SET_CHECKOUT_OPTION="set_checkout_option",r.SHARE="share",r.SIGN_UP="sign_up",r.TIMING_COMPLETE="timing_complete",r.VIEW_CART="view_cart",r.VIEW_ITEM="view_item",r.VIEW_ITEM_LIST="view_item_list",r.VIEW_PROMOTION="view_promotion",r.VIEW_SEARCH_RESULTS="view_search_results";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d=e=>new c(e.getProvider("app-compat").getImmediate(),e.getProvider("analytics").getImmediate());function f(){let e={Analytics:c,settings:h.settings,isSupported:h.isSupported,EventName:s};(0,l.default).INTERNAL.registerComponent(new(0,u.Component)("analytics-compat",d,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}f(),(0,l.default).registerVersion("@firebase/analytics-compat","0.2.14")},{"@firebase/app-compat":"9Npvu","@firebase/analytics":"d71wp","@firebase/component":"dVjVM","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],d71wp:[function(e,t,i,n){let r,s,a,o;var l=e("@parcel/transformer-js/src/esmodule-helpers.js");l.defineInteropFlag(i),l.export(i,"getAnalytics",()=>G),l.export(i,"getGoogleAnalyticsClientId",()=>H),l.export(i,"initializeAnalytics",()=>W),l.export(i,"isSupported",()=>z),l.export(i,"logEvent",()=>Q),l.export(i,"setAnalyticsCollectionEnabled",()=>K),l.export(i,"setConsent",()=>J),l.export(i,"setCurrentScreen",()=>Y),l.export(i,"setDefaultEventParameters",()=>$),l.export(i,"setUserId",()=>X),l.export(i,"setUserProperties",()=>q),l.export(i,"settings",()=>V);var h=e("@firebase/app"),u=e("@firebase/logger"),c=e("@firebase/util"),d=e("@firebase/component");e("@firebase/installations");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f="analytics",p="https://www.googletagmanager.com/gtag/js",m=new u.Logger("@firebase/analytics"),g=new c.ErrorFactory("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e){if(!e.startsWith(p)){let t=g.create("invalid-gtag-resource",{gtagURL:e});return m.warn(t.message),""}return e}function y(e){return Promise.all(e.map(e=>e.catch(e=>e)))}async function b(e,t,i,n,r,s){let a=n[r];try{if(a)await t[a];else{let e=(await y(i)).find(e=>e.measurementId===r);e&&await t[e.appId]}}catch(e){m.error(e)}e("config",r,s)}async function x(e,t,i,n,r){try{let s=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);let n=await y(i);for(let i of e){let e=n.find(e=>e.measurementId===i),r=e&&t[e.appId];if(r)s.push(r);else{s=[];break}}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",n,r||{})}catch(e){m.error(e)}}let E=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};async function w(e){var t;let{appId:i,apiKey:n}=e,r={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":n})},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",i),a=await fetch(s,r);if(200!==a.status&&304!==a.status){let e="";try{let i=await a.json();(null===(t=i.error)||void 0===t?void 0:t.message)&&(e=i.error.message)}catch(e){}throw g.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}async function S(e,t=E,i){let{appId:n,apiKey:r,measurementId:s}=e.options;if(!n)throw g.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:n};throw g.create("no-api-key")}let a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new A;return setTimeout(async()=>{o.abort()},void 0!==i?i:6e4),T({appId:n,apiKey:r,measurementId:s},a,o,t)}async function T(e,{throttleEndTimeMillis:t,backoffCount:i},n,r=E){var s;let{appId:a,measurementId:o}=e;try{await new Promise((e,i)=>{let r=setTimeout(e,Math.max(t-Date.now(),0));n.addEventListener(()=>{clearTimeout(r),i(g.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}catch(e){if(o)return m.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:a,measurementId:o};throw e}try{let t=await w(e);return r.deleteThrottleMetadata(a),t}catch(h){if(!function(e){if(!(e instanceof c.FirebaseError)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(h)){if(r.deleteThrottleMetadata(a),o)return m.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==h?void 0:h.message}]`),{appId:a,measurementId:o};throw h}let t=503===Number(null===(s=null==h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?(0,c.calculateBackoffMillis)(i,r.intervalMillis,30):(0,c.calculateBackoffMillis)(i,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+t,backoffCount:i+1};return r.setThrottleMetadata(a,l),m.debug(`Calling attemptFetch again in ${t} millis`),T(e,l,n,r)}}class A{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _(e,t,i,n,r){if(r&&r.global){e("event",i,n);return}{let r=await t;e("event",i,Object.assign(Object.assign({},n),{send_to:r}))}}async function C(e,t,i,n){if(n&&n.global)return e("set",{screen_name:i}),Promise.resolve();e("config",await t,{update:!0,screen_name:i})}async function I(e,t,i,n){if(n&&n.global)return e("set",{user_id:i}),Promise.resolve();e("config",await t,{update:!0,user_id:i})}async function P(e,t,i,n){if(n&&n.global){let t={};for(let e of Object.keys(i))t[`user_properties.${e}`]=i[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:i})}async function R(e,t){let i=await t;return new Promise((t,n)=>{e("get",i,"client_id",e=>{e||n(g.create("no-client-id")),t(e)})})}async function O(e,t){let i=await e;window[`ga-disable-${i}`]=!t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M(){if(!(0,c.isIndexedDBAvailable)())return m.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await (0,c.validateIndexedDBOpenable)()}catch(e){return m.warn(g.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}async function L(e,t,i,n,a,o,l){var h;let u=S(e);u.then(t=>{i[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&m.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>m.error(e)),t.push(u);let c=M().then(e=>e?n.getId():void 0),[d,f]=await Promise.all([u,c]);!function(e){for(let t of Object.values(window.document.getElementsByTagName("script")))if(t.src&&t.src.includes(p)&&t.src.includes(e))return t;return null}(o)&&function(e,t){var i,n;let r;let s=(i="firebase-js-sdk-policy",n={createScriptURL:v},window.trustedTypes&&(r=window.trustedTypes.createPolicy(i,n)),r),a=document.createElement("script"),o=`${p}?l=${e}&id=${t}`;a.src=s?null==s?void 0:s.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}(o,d.measurementId),s&&(a("consent","default",s),s=void 0),a("js",new Date);let g=null!==(h=null==l?void 0:l.config)&&void 0!==h?h:{};return g.origin="firebase",g.update=!0,null!=f&&(g.firebase_id=f),a("config",d.measurementId,g),r&&(a("set",r),r=void 0),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.app=e}_delete(){return delete k[this.app.options.appId],Promise.resolve()}}let k={},N=[],F={},B="dataLayer",U="gtag",j=!1;function V(e){if(j)throw g.create("already-initialized");e.dataLayerName&&(B=e.dataLayerName),e.gtagName&&(U=e.gtagName)}function G(e=(0,h.getApp)()){e=(0,c.getModularInstance)(e);let t=(0,h._getProvider)(e,f);return t.isInitialized()?t.getImmediate():W(e)}function W(e,t={}){let i=(0,h._getProvider)(e,f);if(i.isInitialized()){let e=i.getImmediate();if((0,c.deepEqual)(t,i.getOptions()))return e;throw g.create("already-initialized")}return i.initialize({options:t})}async function z(){if((0,c.isBrowserExtension)()||!(0,c.areCookiesEnabled)()||!(0,c.isIndexedDBAvailable)())return!1;try{return await (0,c.validateIndexedDBOpenable)()}catch(e){return!1}}function Y(e,t,i){e=(0,c.getModularInstance)(e),C(o,k[e.app.options.appId],t,i).catch(e=>m.error(e))}async function H(e){return e=(0,c.getModularInstance)(e),R(o,k[e.app.options.appId])}function X(e,t,i){e=(0,c.getModularInstance)(e),I(o,k[e.app.options.appId],t,i).catch(e=>m.error(e))}function q(e,t,i){e=(0,c.getModularInstance)(e),P(o,k[e.app.options.appId],t,i).catch(e=>m.error(e))}function K(e,t){O(k[(e=(0,c.getModularInstance)(e)).app.options.appId],t).catch(e=>m.error(e))}function $(e){o?o("set",e):r=e}function Q(e,t,i,n){e=(0,c.getModularInstance)(e),_(o,k[e.app.options.appId],t,i,n).catch(e=>m.error(e))}function J(e){o?o("consent","update",e):s=e}let Z="@firebase/analytics",ee="0.10.8";(0,h._registerComponent)(new d.Component(f,(e,{options:t})=>(function(e,t,i){!function(){let e=[];if((0,c.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,c.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),i=g.create("invalid-analytics-context",{errorInfo:t});m.warn(i.message)}}();let n=e.options.appId;if(!n)throw g.create("no-app-id");if(!e.options.apiKey){if(e.options.measurementId)m.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw g.create("no-api-key")}if(null!=k[n])throw g.create("already-exists",{id:n});if(!j){var r,s,l,h;let e,t;r=B,e=[],Array.isArray(window[r])?e=window[r]:window[r]=e;let{wrappedGtag:i,gtagCore:n}=(s=B,l=U,t=function(...e){window[s].push(arguments)},window[l]&&"function"==typeof window[l]&&(t=window[l]),window[l]=(h=t,async function(e,...t){try{if("event"===e){let[e,i]=t;await x(h,k,N,e,i)}else if("config"===e){let[e,i]=t;await b(h,k,N,F,e,i)}else if("consent"===e){let[e,i]=t;h("consent",e,i)}else if("get"===e){let[e,i,n]=t;h("get",e,i,n)}else if("set"===e){let[e]=t;h("set",e)}else h(e,...t)}catch(e){m.error(e)}}),{gtagCore:t,wrappedGtag:window[l]});o=i,a=n,j=!0}return k[n]=L(e,N,F,t,a,B,i),new D(e)})(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,h._registerComponent)(new d.Component("analytics-internal",function(e){try{let t=e.getProvider(f).getImmediate();return{logEvent:(e,i,n)=>Q(t,e,i,n)}}catch(e){throw g.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,h.registerVersion)(Z,ee),(0,h.registerVersion)(Z,ee,"esm2017")},{"@firebase/app":"hZODh","@firebase/logger":"7RF90","@firebase/util":"j1gcd","@firebase/component":"dVjVM","@firebase/installations":"fWFBI","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],fWFBI:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"deleteInstallations",()=>J),r.export(i,"getId",()=>q),r.export(i,"getInstallations",()=>ee),r.export(i,"getToken",()=>K),r.export(i,"onIdChange",()=>Z);var s=e("@firebase/app"),a=e("@firebase/component"),o=e("@firebase/util"),l=e("idb");let h="@firebase/installations",u="0.6.9",c=`w:${u}`,d="FIS_v2",f=new o.ErrorFactory("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function p(e){return e instanceof o.FirebaseError&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function g(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function v(e,t){let i=(await t.json()).error;return f.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function y({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function b(e,{refreshToken:t}){let i=y(e);return i.append("Authorization",`${d} ${t}`),i}async function x(e){let t=await e();return t.status>=500&&t.status<600?e():t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E({appConfig:e,heartbeatServiceProvider:t},{fid:i}){let n=m(e),r=y(e),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}let a={method:"POST",headers:r,body:JSON.stringify({fid:i,authVersion:d,appId:e.appId,sdkVersion:c})},o=await x(()=>fetch(n,a));if(o.ok){let e=await o.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:g(e.authToken)}}throw await v("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A=new Map;function _(e,t){let i=T(e);C(i,t),function(e,t){let i=P();i&&i.postMessage({key:e,fid:t}),R()}(i,t)}function C(e,t){let i=A.get(e);if(i)for(let e of i)e(t)}let I=null;function P(){return!I&&"BroadcastChannel"in self&&((I=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{C(e.data.key,e.data.fid)}),I}function R(){0===A.size&&I&&(I.close(),I=null)}let O="firebase-installations-store",M=null;function L(){return M||(M=(0,l.openDB)("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(O)}})),M}async function D(e,t){let i=T(e),n=(await L()).transaction(O,"readwrite"),r=n.objectStore(O),s=await r.get(i);return await r.put(t,i),await n.done,s&&s.fid===t.fid||_(e,t.fid),t}async function k(e){let t=T(e),i=(await L()).transaction(O,"readwrite");await i.objectStore(O).delete(t),await i.done}async function N(e,t){let i=T(e),n=(await L()).transaction(O,"readwrite"),r=n.objectStore(O),s=await r.get(i),a=t(s);return void 0===a?await r.delete(i):await r.put(a,i),await n.done,a&&(!s||s.fid!==a.fid)&&_(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F(e){let t;let i=await N(e.appConfig,i=>{let n=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(f.create("app-offline"))};let i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=B(e,i);return{installationEntry:i,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:U(e)}:{installationEntry:t}}(e,V(i||{fid:function(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let t=btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22);return S.test(t)?t:""}catch(e){return""}}(),registrationStatus:0}));return t=n.registrationPromise,n.installationEntry});return""===i.fid?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}async function B(e,t){try{let i=await E(e,t);return D(e.appConfig,i)}catch(i){throw p(i)&&409===i.customData.serverCode?await k(e.appConfig):await D(e.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function U(e){let t=await j(e.appConfig);for(;1===t.registrationStatus;)await w(100),t=await j(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:i}=await F(e);return i||t}return t}function j(e){return N(e,e=>{if(!e)throw f.create("installation-not-found");return V(e)})}function V(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G({appConfig:e,heartbeatServiceProvider:t},i){let n=function(e,{fid:t}){return`${m(e)}/${t}/authTokens:generate`}(e,i),r=b(e,i),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}let a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:c,appId:e.appId}})},o=await x(()=>fetch(n,a));if(o.ok)return g(await o.json());throw await v("Generate Auth Token",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W(e,t=!1){let i;let n=await N(e.appConfig,n=>{var r;if(!X(n))throw f.create("not-registered");let s=n.authToken;if(!t&&2===(r=s).requestStatus&&!function(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(r))return n;if(1===s.requestStatus)return i=z(e,t),n;{if(!navigator.onLine)throw f.create("app-offline");let t=function(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(n);return i=H(e,t),t}});return i?await i:n.authToken}async function z(e,t){let i=await Y(e.appConfig);for(;1===i.authToken.requestStatus;)await w(100),i=await Y(e.appConfig);let n=i.authToken;return 0===n.requestStatus?W(e,t):n}function Y(e){return N(e,e=>{var t;if(!X(e))throw f.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function H(e,t){try{let i=await G(e,t),n=Object.assign(Object.assign({},t),{authToken:i});return await D(e.appConfig,n),i}catch(i){if(p(i)&&(401===i.customData.serverCode||404===i.customData.serverCode))await k(e.appConfig);else{let i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await D(e.appConfig,i)}throw i}}function X(e){return void 0!==e&&2===e.registrationStatus}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q(e){let{installationEntry:t,registrationPromise:i}=await F(e);return i?i.catch(console.error):W(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(e,t=!1){return await $(e),(await W(e,t)).token}async function $(e){let{registrationPromise:t}=await F(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q(e,t){let i=function(e,{fid:t}){return`${m(e)}/${t}`}(e,t),n={method:"DELETE",headers:b(e,t)},r=await x(()=>fetch(i,n));if(!r.ok)throw await v("Delete Installation",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(e){let{appConfig:t}=e,i=await N(t,e=>{if(!e||0!==e.registrationStatus)return e});if(i){if(1===i.registrationStatus)throw f.create("delete-pending-registration");if(2===i.registrationStatus){if(navigator.onLine)await Q(t,i),await k(t);else throw f.create("app-offline")}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e,t){let{appConfig:i}=e;return!function(e,t){P();let i=T(e),n=A.get(i);n||(n=new Set,A.set(i,n)),n.add(t)}(i,t),()=>{!function(e,t){let i=T(e),n=A.get(i);n&&(n.delete(t),0===n.size&&A.delete(i),R())}(i,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(e=(0,s.getApp)()){return(0,s._getProvider)(e,"installations").getImmediate()}function et(e){return f.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ei="installations";(0,s._registerComponent)(new a.Component(ei,e=>{let t=e.getProvider("app").getImmediate(),i=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(!e||!e.options)throw et("App Configuration");if(!e.name)throw et("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw et(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),n=(0,s._getProvider)(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},"PUBLIC")),(0,s._registerComponent)(new a.Component("installations-internal",e=>{let t=e.getProvider("app").getImmediate(),i=(0,s._getProvider)(t,ei).getImmediate();return{getId:()=>q(i),getToken:e=>K(i,e)}},"PRIVATE")),(0,s.registerVersion)(h,u),(0,s.registerVersion)(h,u,"esm2017")},{"@firebase/app":"hZODh","@firebase/component":"dVjVM","@firebase/util":"j1gcd",idb:"4zejX","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"2s8iN":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i);var s=e("@firebase/auth");r.exportAll(s,i)},{"@firebase/auth":"7aHdK","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"7aHdK":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"ActionCodeOperation",()=>s.A),r.export(i,"ActionCodeURL",()=>s.ai),r.export(i,"AuthCredential",()=>s.L),r.export(i,"AuthErrorCodes",()=>s.I),r.export(i,"EmailAuthCredential",()=>s.M),r.export(i,"EmailAuthProvider",()=>s.V),r.export(i,"FacebookAuthProvider",()=>s.W),r.export(i,"FactorId",()=>s.F),r.export(i,"GithubAuthProvider",()=>s.Y),r.export(i,"GoogleAuthProvider",()=>s.X),r.export(i,"OAuthCredential",()=>s.N),r.export(i,"OAuthProvider",()=>s.Z),r.export(i,"OperationType",()=>s.O),r.export(i,"PhoneAuthCredential",()=>s.Q),r.export(i,"PhoneAuthProvider",()=>s.P),r.export(i,"PhoneMultiFactorGenerator",()=>s.m),r.export(i,"ProviderId",()=>s.p),r.export(i,"RecaptchaVerifier",()=>s.R),r.export(i,"SAMLAuthProvider",()=>s._),r.export(i,"SignInMethod",()=>s.S),r.export(i,"TotpMultiFactorGenerator",()=>s.T),r.export(i,"TotpSecret",()=>s.n),r.export(i,"TwitterAuthProvider",()=>s.$),r.export(i,"applyActionCode",()=>s.a7),r.export(i,"beforeAuthStateChanged",()=>s.x),r.export(i,"browserLocalPersistence",()=>s.b),r.export(i,"browserPopupRedirectResolver",()=>s.k),r.export(i,"browserSessionPersistence",()=>s.a),r.export(i,"checkActionCode",()=>s.a8),r.export(i,"confirmPasswordReset",()=>s.a6),r.export(i,"connectAuthEmulator",()=>s.K),r.export(i,"createUserWithEmailAndPassword",()=>s.aa),r.export(i,"debugErrorMap",()=>s.G),r.export(i,"deleteUser",()=>s.E),r.export(i,"fetchSignInMethodsForEmail",()=>s.af),r.export(i,"getAdditionalUserInfo",()=>s.aq),r.export(i,"getAuth",()=>s.o),r.export(i,"getIdToken",()=>s.an),r.export(i,"getIdTokenResult",()=>s.ao),r.export(i,"getMultiFactorResolver",()=>s.as),r.export(i,"getRedirectResult",()=>s.j),r.export(i,"inMemoryPersistence",()=>s.U),r.export(i,"indexedDBLocalPersistence",()=>s.i),r.export(i,"initializeAuth",()=>s.J),r.export(i,"initializeRecaptchaConfig",()=>s.t),r.export(i,"isSignInWithEmailLink",()=>s.ad),r.export(i,"linkWithCredential",()=>s.a2),r.export(i,"linkWithPhoneNumber",()=>s.l),r.export(i,"linkWithPopup",()=>s.d),r.export(i,"linkWithRedirect",()=>s.g),r.export(i,"multiFactor",()=>s.at),r.export(i,"onAuthStateChanged",()=>s.y),r.export(i,"onIdTokenChanged",()=>s.w),r.export(i,"parseActionCodeURL",()=>s.aj),r.export(i,"prodErrorMap",()=>s.H),r.export(i,"reauthenticateWithCredential",()=>s.a3),r.export(i,"reauthenticateWithPhoneNumber",()=>s.r),r.export(i,"reauthenticateWithPopup",()=>s.e),r.export(i,"reauthenticateWithRedirect",()=>s.h),r.export(i,"reload",()=>s.ar),r.export(i,"revokeAccessToken",()=>s.D),r.export(i,"sendEmailVerification",()=>s.ag),r.export(i,"sendPasswordResetEmail",()=>s.a5),r.export(i,"sendSignInLinkToEmail",()=>s.ac),r.export(i,"setPersistence",()=>s.q),r.export(i,"signInAnonymously",()=>s.a0),r.export(i,"signInWithCredential",()=>s.a1),r.export(i,"signInWithCustomToken",()=>s.a4),r.export(i,"signInWithEmailAndPassword",()=>s.ab),r.export(i,"signInWithEmailLink",()=>s.ae),r.export(i,"signInWithPhoneNumber",()=>s.s),r.export(i,"signInWithPopup",()=>s.c),r.export(i,"signInWithRedirect",()=>s.f),r.export(i,"signOut",()=>s.C),r.export(i,"unlink",()=>s.ap),r.export(i,"updateCurrentUser",()=>s.B),r.export(i,"updateEmail",()=>s.al),r.export(i,"updatePassword",()=>s.am),r.export(i,"updatePhoneNumber",()=>s.u),r.export(i,"updateProfile",()=>s.ak),r.export(i,"useDeviceLanguage",()=>s.z),r.export(i,"validatePassword",()=>s.v),r.export(i,"verifyBeforeUpdateEmail",()=>s.ah),r.export(i,"verifyPasswordResetCode",()=>s.a9);var s=e("./index-68602d24.js");e("@firebase/app"),e("@firebase/util"),e("@firebase/logger"),e("tslib"),e("@firebase/component")},{"./index-68602d24.js":"gWuQ9","@firebase/app":"hZODh","@firebase/util":"j1gcd","@firebase/logger":"7RF90",tslib:"3aD9C","@firebase/component":"dVjVM","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],gWuQ9:[function(e,t,i,n){var r,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"$",()=>tw),s.export(i,"A",()=>m),s.export(i,"B",()=>ig),s.export(i,"C",()=>iv),s.export(i,"D",()=>iy),s.export(i,"E",()=>ib),s.export(i,"F",()=>c),s.export(i,"G",()=>v),s.export(i,"H",()=>y),s.export(i,"I",()=>x),s.export(i,"J",()=>eK),s.export(i,"K",()=>e$),s.export(i,"L",()=>eZ),s.export(i,"M",()=>ti),s.export(i,"N",()=>tr),s.export(i,"O",()=>p),s.export(i,"P",()=>ne),s.export(i,"Q",()=>tu),s.export(i,"R",()=>i3),s.export(i,"S",()=>f),s.export(i,"T",()=>nJ),s.export(i,"U",()=>eE),s.export(i,"V",()=>tf),s.export(i,"W",()=>tv),s.export(i,"X",()=>ty),s.export(i,"Y",()=>tb),s.export(i,"Z",()=>tg),s.export(i,"_",()=>tE),s.export(i,"a",()=>iO),s.export(i,"a0",()=>t_),s.export(i,"a1",()=>tk),s.export(i,"a2",()=>tN),s.export(i,"a3",()=>tF),s.export(i,"a4",()=>tU),s.export(i,"a5",()=>tY),s.export(i,"a6",()=>tH),s.export(i,"a7",()=>tX),s.export(i,"a8",()=>tq),s.export(i,"a9",()=>tK),s.export(i,"aA",()=>eL),s.export(i,"aB",()=>T),s.export(i,"aC",()=>P),s.export(i,"aD",()=>nP),s.export(i,"aE",()=>eb),s.export(i,"aF",()=>ew),s.export(i,"aG",()=>nC),s.export(i,"aH",()=>nv),s.export(i,"aI",()=>ng),s.export(i,"aJ",()=>ej),s.export(i,"aK",()=>ev),s.export(i,"aL",()=>eU),s.export(i,"aM",()=>ek),s.export(i,"aN",()=>iL),s.export(i,"aO",()=>nz),s.export(i,"aP",()=>F),s.export(i,"aQ",()=>tx),s.export(i,"aa",()=>t$),s.export(i,"ab",()=>tQ),s.export(i,"ac",()=>tJ),s.export(i,"ad",()=>tZ),s.export(i,"ae",()=>t0),s.export(i,"af",()=>t2),s.export(i,"ag",()=>t3),s.export(i,"ah",()=>t4),s.export(i,"ai",()=>tc),s.export(i,"aj",()=>td),s.export(i,"ak",()=>t9),s.export(i,"al",()=>t6),s.export(i,"am",()=>t8),s.export(i,"an",()=>ei),s.export(i,"ao",()=>en),s.export(i,"ap",()=>tR),s.export(i,"aq",()=>io),s.export(i,"ar",()=>ec),s.export(i,"as",()=>iw),s.export(i,"at",()=>iA),s.export(i,"au",()=>O),s.export(i,"av",()=>eM),s.export(i,"aw",()=>eP),s.export(i,"ax",()=>S),s.export(i,"ay",()=>nH),s.export(i,"az",()=>nM),s.export(i,"b",()=>iP),s.export(i,"c",()=>nl),s.export(i,"d",()=>nu),s.export(i,"e",()=>nh),s.export(i,"f",()=>nx),s.export(i,"g",()=>nT),s.export(i,"h",()=>nw),s.export(i,"i",()=>iq),s.export(i,"j",()=>n_),s.export(i,"k",()=>nq),s.export(i,"l",()=>i9),s.export(i,"m",()=>nQ),s.export(i,"n",()=>n0),s.export(i,"o",()=>n8),s.export(i,"p",()=>d),s.export(i,"q",()=>il),s.export(i,"r",()=>i6),s.export(i,"s",()=>i5),s.export(i,"t",()=>ih),s.export(i,"u",()=>i7),s.export(i,"v",()=>iu),s.export(i,"w",()=>ic),s.export(i,"x",()=>id),s.export(i,"y",()=>ip),s.export(i,"z",()=>im);var a=e("@firebase/app"),o=e("@firebase/util"),l=e("@firebase/logger"),h=e("tslib"),u=e("@firebase/component");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c={PHONE:"phone",TOTP:"totp"},d={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},f={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},p={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},m={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function g(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let v=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},y=g,b=new o.ErrorFactory("auth","Firebase",g()),x={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},E=new l.Logger("@firebase/auth");function w(e,...t){E.logLevel<=l.LogLevel.ERROR&&E.error(`Auth (${a.SDK_VERSION}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(e,...t){throw I(e,...t)}function T(e,...t){return I(e,...t)}function A(e,t,i){let n=Object.assign(Object.assign({},y()),{[t]:i});return new o.ErrorFactory("auth","Firebase",n).create(t,{appName:e.name})}function _(e){return A(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C(e,t,i){if(!(t instanceof i))throw i.name!==t.constructor.name&&S(e,"argument-error"),A(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function I(e,...t){if("string"!=typeof e){let i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return b.create(e,...t)}function P(e,t,...i){if(!e)throw I(t,...i)}function R(e){let t="INTERNAL ASSERTION FAILED: "+e;throw w(t),Error(t)}function O(e,t){e||R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function L(){return"http:"===D()||"https:"===D()}function D(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,O(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,o.isMobileCordova)()||(0,o.isReactNative)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(L()||(0,o.isBrowserExtension)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e,t){O(e.emulator,"Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void R("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void R("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void R("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},U=new k(3e4,6e4);function j(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function V(e,t,i,n,r={}){return G(e,r,async()=>{let r={},s={};n&&("GET"===t?s=n:r={body:JSON.stringify(n)});let a=(0,o.querystring)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:l},r);return(0,o.isCloudflareWorker)()||(h.referrerPolicy="no-referrer"),F.fetch()(z(e,e.config.apiHost,i,a),h)})}async function G(e,t,i){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},B),t);try{let t=new Y(e),r=await Promise.race([i(),t.promise]);t.clearNetworkTimeout();let s=await r.json();if("needConfirmation"in s)throw H(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{let[t,i]=(r.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw H(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw H(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw H(e,"user-disabled",s);let a=n[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw A(e,a,i);S(e,a)}}catch(t){if(t instanceof o.FirebaseError)throw t;S(e,"network-request-failed",{message:String(t)})}}async function W(e,t,i,n,r={}){let s=await V(e,t,i,n,r);return"mfaPendingCredential"in s&&S(e,"multi-factor-auth-required",{_serverResponse:s}),s}function z(e,t,i,n){let r=`${t}${i}?${n}`;return e.config.emulator?N(e.config,r):`${e.config.apiScheme}://${r}`}class Y{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(T(this.auth,"network-request-failed")),U.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(e,t,i){let n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=T(e,t,n);return r.customData._tokenResponse=i,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(e){return void 0!==e&&void 0!==e.getResponse}function q(e){return void 0!==e&&void 0!==e.enterprise}class K{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $(e){return(await V(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Q(e,t){return V(e,"GET","/v2/recaptchaConfig",j(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(e,t){return V(e,"POST","/v1/accounts:delete",t)}async function Z(e,t){return V(e,"POST","/v1/accounts:update",t)}async function ee(e,t){return V(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e,t=!1){return(0,o.getModularInstance)(e).getIdToken(t)}async function en(e,t=!1){let i=(0,o.getModularInstance)(e),n=await i.getIdToken(t),r=es(n);P(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let s="object"==typeof r.firebase?r.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:et(er(r.auth_time)),issuedAtTime:et(er(r.iat)),expirationTime:et(er(r.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function er(e){return 1e3*Number(e)}function es(e){let[t,i,n]=e.split(".");if(void 0===t||void 0===i||void 0===n)return w("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,o.base64Decode)(i);if(!e)return w("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return w("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function ea(e){let t=es(e);return P(t,"internal-error"),P(void 0!==t.exp,"internal-error"),P(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(e,t,i=!1){if(i)return t;try{return await t}catch(t){throw t instanceof o.FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=et(this.lastLoginAt),this.creationTime=et(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(e){var t;let i=e.auth,n=await e.getIdToken(),r=await eo(e,ee(i,{idToken:n}));P(null==r?void 0:r.users.length,i,"internal-error");let s=r.users[0];e._notifyReloadListener(s);let a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ed(s.providerUserInfo):[],o=[...e.providerData.filter(e=>!a.some(t=>t.providerId===e.providerId)),...a],l=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new eh(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&h})}async function ec(e){let t=(0,o.getModularInstance)(e);await eu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ed(e){return e.map(e=>{var{providerId:t}=e,i=(0,h.__rest)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(e,t){let i=await G(e,{},async()=>{let i=(0,o.querystring)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:r}=e.config,s=z(e,n,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",F.fetch()(s,{method:"POST",headers:a,body:i})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ep(e,t){return V(e,"POST","/v2/accounts:revokeToken",j(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(void 0!==e.idToken,"internal-error"),P(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):ea(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){P(0!==e.length,"internal-error");let t=ea(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(P(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:i,refreshToken:n,expiresIn:r}=await ef(e,t);this.updateTokensAndExpiration(i,n,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){let{refreshToken:i,accessToken:n,expirationTime:r}=t,s=new em;return i&&(P("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),n&&(P("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),r&&(P("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new em,this.toJSON())}_performRefresh(){return R("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(e,t){P("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ev{constructor(e){var{uid:t,auth:i,stsTokenManager:n}=e,r=(0,h.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new el(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new eh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await eo(this,this.stsTokenManager.getToken(this.auth,e));return P(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return en(this,e)}reload(){return ec(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new ev(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await eu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,a._isFirebaseServerApp)(this.auth.app))return Promise.reject(_(this.auth));let e=await this.getIdToken();return await eo(this,J(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,n,r,s,a,o,l,h;let u=null!==(i=t.displayName)&&void 0!==i?i:void 0,c=null!==(n=t.email)&&void 0!==n?n:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(h=t.lastLoginAt)&&void 0!==h?h:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:E,stsTokenManager:w}=t;P(y&&w,e,"internal-error");let S=em.fromJSON(this.name,w);P("string"==typeof y,e,"internal-error"),eg(u,e.name),eg(c,e.name),P("boolean"==typeof b,e,"internal-error"),P("boolean"==typeof x,e,"internal-error"),eg(d,e.name),eg(f,e.name),eg(p,e.name),eg(m,e.name),eg(g,e.name),eg(v,e.name);let T=new ev({uid:y,auth:e,email:c,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,i=!1){let n=new em;n.updateFromServerResponse(t);let r=new ev({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:i});return await eu(r),r}static async _fromGetAccountInfoResponse(e,t,i){let n=t.users[0];P(void 0!==n.localId,"internal-error");let r=void 0!==n.providerUserInfo?ed(n.providerUserInfo):[],s=!(n.email&&n.passwordHash)&&!(null==r?void 0:r.length),a=new em;a.updateFromIdToken(i);let o=new ev({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:r,metadata:new eh(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(null==r?void 0:r.length)}),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey=new Map;function eb(e){O(e instanceof Function,"Expected a class definition");let t=ey.get(e);return t?O(t instanceof e,"Instance stored in cache mismatched with class"):(t=new e,ey.set(e,t)),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ex.type="NONE";let eE=ex;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(e,t,i){return`firebase:${e}:${t}:${i}`}class eS{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:n,name:r}=this.auth;this.fullUserKey=ew(this.userKey,n.apiKey,r),this.fullPersistenceKey=ew("persistence",n.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?ev._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new eS(eb(eE),e,i);let n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),r=n[0]||eb(eE),s=ew(i,e.config.apiKey,e.name),a=null;for(let i of t)try{let t=await i._get(s);if(t){let n=ev._fromJSON(e,t);i!==r&&(a=n),r=i;break}}catch(e){}let o=n.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length&&(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new eS(r,e,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(eI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eR(t))return"Blackberry";if(eO(t))return"Webos";if(e_(t))return"Safari";if((t.includes("chrome/")||eC(t))&&!t.includes("edge/"))return"Chrome";if(eP(t))return"Android";let i=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==i?void 0:i.length)===2)return i[1]}return"Other"}function eA(e=(0,o.getUA)()){return/firefox\//i.test(e)}function e_(e=(0,o.getUA)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eC(e=(0,o.getUA)()){return/crios\//i.test(e)}function eI(e=(0,o.getUA)()){return/iemobile/i.test(e)}function eP(e=(0,o.getUA)()){return/android/i.test(e)}function eR(e=(0,o.getUA)()){return/blackberry/i.test(e)}function eO(e=(0,o.getUA)()){return/webos/i.test(e)}function eM(e=(0,o.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function eL(e=(0,o.getUA)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function eD(e=(0,o.getUA)()){return eM(e)||eP(e)||eO(e)||eR(e)||/windows phone/i.test(e)||eI(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(e,t=[]){let i;switch(e){case"Browser":i=eT((0,o.getUA)());break;case"Worker":i=`${eT((0,o.getUA)())}-${e}`;break;default:i=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${a.SDK_VERSION}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=t=>new Promise((i,n)=>{try{let n=e(t);i(n)}catch(e){n(e)}});i.onAbort=t,this.queue.push(i);let n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF(e,t={}){return V(e,"GET","/v2/passwordPolicy",j(e,t))}class eB{constructor(e){var t,i,n,r;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,n,r,s,a;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(i=o.meetsMaxPasswordLength)||void 0===i||i),o.isValid&&(o.isValid=null===(n=o.containsLowercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)i=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,n,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,t,i,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eV(this),this.idTokenSubscription=new eV(this),this.beforeStateQueue=new eN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eb(t)),this._initializationPromise=this.queue(async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await eS.create(this,e),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ee(this,{idToken:e}),i=await ev._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,a._isFirebaseServerApp)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let i=await this.assertedPersistence.getCurrentUser(),n=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===s)&&(null==a?void 0:a.user)&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(P(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await eu(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,a._isFirebaseServerApp)(this.app))return Promise.reject(_(this));let t=e?(0,o.getModularInstance)(e):null;return t&&P(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&P(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,a._isFirebaseServerApp)(this.app)?Promise.reject(_(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,a._isFirebaseServerApp)(this.app)?Promise.reject(_(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eb(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new eB(await eF(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new o.ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await ep(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let i=await this.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&eb(e)||this._popupRedirectResolver;P(t,this,"argument-error"),this.redirectPersistenceManager=await eS.create(this,[eb(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,n){if(this._deleted)return()=>{};let r="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(a,this,"internal-error"),a.then(()=>{s||r(this.currentUser)}),"function"==typeof t){let r=e.addObserver(t,i,n);return()=>{s=!0,r()}}{let i=e.addObserver(t);return()=>{s=!0,i()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ek(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);let n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){E.logLevel<=l.LogLevel.WARN&&E.warn(`Auth (${a.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function ej(e){return(0,o.getModularInstance)(e)}class eV{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,o.createSubscribe)(e=>this.observer=e)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eG={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eW(e){return eG.loadJS(e)}function ez(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eY{constructor(e){this.type="recaptcha-enterprise",this.auth=ej(e)}async verify(e="verify",t=!1){async function i(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,i)=>{Q(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0===n.recaptchaKey)i(Error("recaptcha Enterprise site key undefined"));else{let i=new K(n);return null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,t(i.siteKey)}}).catch(e=>{i(e)})})}function n(t,i,n){let r=window.grecaptcha;q(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{i(e)}).catch(()=>{i("NO_RECAPTCHA")})}):n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{i(this.auth).then(i=>{if(!t&&q(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window){r(Error("RecaptchaVerifier is only supported in browser"));return}let t=eG.recaptchaEnterpriseScript;0!==t.length&&(t+=i),eW(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function eH(e,t,i,n=!1){let r;let s=new eY(e);try{r=await s.verify(i)}catch(e){r=await s.verify(i,!0)}let a=Object.assign({},t);return n?Object.assign(a,{captchaResp:r}):Object.assign(a,{captchaResponse:r}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function eX(e,t,i,n){var r;if(null===(r=e._getRecaptchaConfig())||void 0===r||!r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return n(e,t).catch(async r=>{if("auth/missing-recaptcha-token"!==r.code)return Promise.reject(r);{console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let r=await eH(e,t,i,"getOobCode"===i);return n(e,r)}});{let r=await eH(e,t,i,"getOobCode"===i);return n(e,r)}}async function eq(e){let t=ej(e),i=new K(await Q(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")&&new eY(t).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(e,t){let i=(0,a._getProvider)(e,"auth");if(i.isInitialized()){let e=i.getImmediate(),n=i.getOptions();if((0,o.deepEqual)(n,null!=t?t:{}))return e;S(e,"already-initialized")}return i.initialize({options:t})}function e$(e,t,i){let n=ej(e);P(n._canInitEmulator,n,"emulator-config-failed"),P(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!(null==i?void 0:i.disableWarnings),s=eQ(t),{host:a,port:o}=function(e){let t=eQ(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let e=r[1];return{host:e,port:eJ(n.substr(e.length+1))}}{let[e,t]=n.split(":");return{host:e,port:eJ(t)}}}(t),l=null===o?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eQ(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eJ(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return R("not implemented")}_getIdTokenResponse(e){return R("not implemented")}_linkToIdToken(e,t){return R("not implemented")}_getReauthenticationResolver(e){return R("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0(e,t){return V(e,"POST","/v1/accounts:resetPassword",j(e,t))}async function e1(e,t){return V(e,"POST","/v1/accounts:update",t)}async function e2(e,t){return V(e,"POST","/v1/accounts:signUp",t)}async function e3(e,t){return V(e,"POST","/v1/accounts:update",j(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(e,t){return W(e,"POST","/v1/accounts:signInWithPassword",j(e,t))}async function e5(e,t){return V(e,"POST","/v1/accounts:sendOobCode",j(e,t))}async function e9(e,t){return e5(e,t)}async function e6(e,t){return e5(e,t)}async function e8(e,t){return e5(e,t)}async function e7(e,t){return e5(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function te(e,t){return W(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}async function tt(e,t){return W(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends eZ{constructor(e,t,i,n=null){super("password",i),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new ti(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ti(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return eX(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",e4);case"emailLink":return te(e,{email:this._email,oobCode:this._password});default:S(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return eX(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e2);case"emailLink":return tt(e,{idToken:t,email:this._email,oobCode:this._password});default:S(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tn(e,t){return W(e,"POST","/v1/accounts:signInWithIdp",j(e,t))}class tr extends eZ{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new tr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):S("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:n}=t,r=(0,h.__rest)(t,["providerId","signInMethod"]);if(!i||!n)return null;let s=new tr(i,n);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return tn(e,this.buildRequest())}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,tn(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,tn(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,o.querystring)(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(e,t){return V(e,"POST","/v1/accounts:sendVerificationCode",j(e,t))}async function ta(e,t){return W(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t))}async function to(e,t){let i=await W(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t));if(i.temporaryProof)throw H(e,"account-exists-with-different-credential",i);return i}let tl={USER_NOT_FOUND:"user-not-found"};async function th(e,t){return W(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),tl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends eZ{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new tu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return ta(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return to(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return th(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:n}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:r}=e;return i||t||n||r?new tu({verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:r}):null}}class tc{constructor(e){var t,i,n,r,s,a;let l=(0,o.querystringDecode)((0,o.extractQuerystring)(e)),h=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,c=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=l.mode)&&void 0!==n?n:null);P(h&&u&&c,"argument-error"),this.apiKey=h,this.operation=c,this.code=u,this.continueUrl=null!==(r=l.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){let t=function(e){let t=(0,o.querystringDecode)((0,o.extractQuerystring)(e)).link,i=t?(0,o.querystringDecode)((0,o.extractQuerystring)(t)).deep_link_id:null,n=(0,o.querystringDecode)((0,o.extractQuerystring)(e)).deep_link_id;return(n?(0,o.querystringDecode)((0,o.extractQuerystring)(n)).link:null)||n||i||t||e}(e);try{return new tc(t)}catch(e){return null}}}function td(e){return tc.parseLink(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this.providerId=tf.PROVIDER_ID}static credential(e,t){return ti._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let i=tc.parseLink(t);return P(i,"argument-error"),ti._fromEmailAndCode(e,i.code,i.tenantId)}}tf.PROVIDER_ID="password",tf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tg extends tm{static credentialFromJSON(e){let t="string"==typeof e?JSON.parse(e):e;return P("providerId"in t&&"signInMethod"in t,"argument-error"),tr._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return P(e.idToken||e.accessToken,"argument-error"),tr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tg.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tg.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:n,pendingToken:r,nonce:s,providerId:a}=e;if(!i&&!n&&!t&&!r||!a)return null;try{return new tg(a)._credential({idToken:t,accessToken:i,nonce:s,pendingToken:r})}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends tm{constructor(){super("facebook.com")}static credential(e){return tr._fromParams({providerId:tv.PROVIDER_ID,signInMethod:tv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tv.credentialFromTaggedObject(e)}static credentialFromError(e){return tv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tv.credential(e.oauthAccessToken)}catch(e){return null}}}tv.FACEBOOK_SIGN_IN_METHOD="facebook.com",tv.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends tm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tr._fromParams({providerId:ty.PROVIDER_ID,signInMethod:ty.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ty.credentialFromTaggedObject(e)}static credentialFromError(e){return ty.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ty.credential(t,i)}catch(e){return null}}}ty.GOOGLE_SIGN_IN_METHOD="google.com",ty.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends tm{constructor(){super("github.com")}static credential(e){return tr._fromParams({providerId:tb.PROVIDER_ID,signInMethod:tb.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tb.credentialFromTaggedObject(e)}static credentialFromError(e){return tb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tb.credential(e.oauthAccessToken)}catch(e){return null}}}tb.GITHUB_SIGN_IN_METHOD="github.com",tb.PROVIDER_ID="github.com";class tx extends eZ{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return tn(e,this.buildRequest())}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,tn(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,tn(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let{providerId:t,signInMethod:i,pendingToken:n}="string"==typeof e?JSON.parse(e):e;return t&&i&&n&&t===i?new tx(t,n):null}static _create(e,t){return new tx(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class tE extends tp{constructor(e){P(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return tE.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return tE.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let t=tx.fromJSON(e);return P(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return tx._create(i,t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends tm{constructor(){super("twitter.com")}static credential(e,t){return tr._fromParams({providerId:tw.PROVIDER_ID,signInMethod:tw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tw.credentialFromTaggedObject(e)}static credentialFromError(e){return tw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return tw.credential(t,i)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(e,t){return W(e,"POST","/v1/accounts:signUp",j(e,t))}tw.TWITTER_SIGN_IN_METHOD="twitter.com",tw.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,n=!1){return new tT({user:await ev._fromIdTokenResponse(e,i,n),providerId:tA(i),_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){return await e._updateTokensIfNecessary(i,!0),new tT({user:e,providerId:tA(i),_tokenResponse:i,operationType:t})}}function tA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_(e){var t;if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(_(e));let i=ej(e);if(await i._initializationPromise,null===(t=i.currentUser)||void 0===t?void 0:t.isAnonymous)return new tT({user:i.currentUser,providerId:null,operationType:"signIn"});let n=await tS(i,{returnSecureToken:!0}),r=await tT._fromIdTokenResponse(i,"signIn",n,!0);return await i._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends o.FirebaseError{constructor(e,t,i,n){var r;super(t.code,t.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,tC.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,n){return new tC(e,t,i,n)}}function tI(e,t,i,n){return("reauthenticate"===t?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(i=>{if("auth/multi-factor-auth-required"===i.code)throw tC._fromErrorAndOperation(e,i,t,n);throw i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(e,t){let i=(0,o.getModularInstance)(e);await tM(!0,i,t);let{providerUserInfo:n}=await Z(i.auth,{idToken:await i.getIdToken(),deleteProvider:[t]}),r=tP(n||[]);return i.providerData=i.providerData.filter(e=>r.has(e.providerId)),r.has("phone")||(i.phoneNumber=null),await i.auth._persistUserIfCurrent(i),i}async function tO(e,t,i=!1){let n=await eo(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return tT._forOperation(e,"link",n)}async function tM(e,t,i){await eu(t),P(tP(t.providerData).has(i)===e,t.auth,!1===e?"provider-already-linked":"no-such-provider")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(e,t,i=!1){let{auth:n}=e;if((0,a._isFirebaseServerApp)(n.app))return Promise.reject(_(n));let r="reauthenticate";try{let s=await eo(e,tI(n,r,t,e),i);P(s.idToken,n,"internal-error");let a=es(s.idToken);P(a,n,"internal-error");let{sub:o}=a;return P(e.uid===o,n,"user-mismatch"),tT._forOperation(e,r,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&S(n,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(e,t,i=!1){if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(_(e));let n="signIn",r=await tI(e,n,t),s=await tT._fromIdTokenResponse(e,n,r);return i||await e._updateCurrentUser(s.user),s}async function tk(e,t){return tD(ej(e),t)}async function tN(e,t){let i=(0,o.getModularInstance)(e);return await tM(!1,i,t.providerId),tO(i,t)}async function tF(e,t){return tL((0,o.getModularInstance)(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(e,t){return W(e,"POST","/v1/accounts:signInWithCustomToken",j(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(e,t){if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(_(e));let i=ej(e),n=await tB(i,{token:t,returnSecureToken:!0}),r=await tT._fromIdTokenResponse(i,"signIn",n);return await i._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tV._fromServerResponse(e,t):"totpInfo"in t?tG._fromServerResponse(e,t):S(e,"internal-error")}}class tV extends tj{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tV(t)}}class tG extends tj{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new tG(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(e,t,i){var n;P((null===(n=i.url)||void 0===n?void 0:n.length)>0,e,"invalid-continue-uri"),P(void 0===i.dynamicLinkDomain||i.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=i.url,t.dynamicLinkDomain=i.dynamicLinkDomain,t.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(P(i.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=i.iOS.bundleId),i.android&&(P(i.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=i.android.installApp,t.androidMinimumVersionCode=i.android.minimumVersion,t.androidPackageName=i.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(e){let t=ej(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function tY(e,t,i){let n=ej(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};i&&tW(n,r,i),await eX(n,r,"getOobCode",e6)}async function tH(e,t,i){await e0((0,o.getModularInstance)(e),{oobCode:t,newPassword:i}).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tz(e),t})}async function tX(e,t){await e3((0,o.getModularInstance)(e),{oobCode:t})}async function tq(e,t){let i=(0,o.getModularInstance)(e),n=await e0(i,{oobCode:t}),r=n.requestType;switch(P(r,i,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":P(n.newEmail,i,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":P(n.mfaInfo,i,"internal-error");default:P(n.email,i,"internal-error")}let s=null;return n.mfaInfo&&(s=tj._fromServerResponse(ej(i),n.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.newEmail:n.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.email:n.newEmail)||null,multiFactorInfo:s},operation:r}}async function tK(e,t){let{data:i}=await tq((0,o.getModularInstance)(e),t);return i.email}async function t$(e,t,i){if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(_(e));let n=ej(e),r=eX(n,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tS),s=await r.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tz(e),t}),o=await tT._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function tQ(e,t,i){return(0,a._isFirebaseServerApp)(e.app)?Promise.reject(_(e)):tk((0,o.getModularInstance)(e),tf.credential(t,i)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tz(e),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tJ(e,t,i){let n=ej(e),r={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};P(i.handleCodeInApp,n,"argument-error"),i&&tW(n,r,i),await eX(n,r,"getOobCode",e8)}function tZ(e,t){let i=tc.parseLink(t);return(null==i?void 0:i.operation)==="EMAIL_SIGNIN"}async function t0(e,t,i){if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(_(e));let n=(0,o.getModularInstance)(e),r=tf.credentialWithLink(t,i||M());return P(r._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),tk(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(e,t){return V(e,"POST","/v1/accounts:createAuthUri",j(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(e,t){let i=L()?M():"http://localhost",{signinMethods:n}=await t1((0,o.getModularInstance)(e),{identifier:t,continueUri:i});return n||[]}async function t3(e,t){let i=(0,o.getModularInstance)(e),n={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&tW(i.auth,n,t);let{email:r}=await e9(i.auth,n);r!==e.email&&await e.reload()}async function t4(e,t,i){let n=(0,o.getModularInstance)(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};i&&tW(n.auth,r,i);let{email:s}=await e7(n.auth,r);s!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(e,t){return V(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(e,{displayName:t,photoURL:i}){if(void 0===t&&void 0===i)return;let n=(0,o.getModularInstance)(e),r=await n.getIdToken(),s=await eo(n,t5(n.auth,{idToken:r,displayName:t,photoUrl:i,returnSecureToken:!0}));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;let a=n.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function t6(e,t){let i=(0,o.getModularInstance)(e);return(0,a._isFirebaseServerApp)(i.auth.app)?Promise.reject(_(i.auth)):t7(i,t,null)}function t8(e,t){return t7((0,o.getModularInstance)(e),null,t)}async function t7(e,t,i){let{auth:n}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),i&&(r.password=i);let s=await eo(e,e1(n,r));await e._updateTokensIfNecessary(s,!0)}class ie{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class it extends ie{constructor(e,t,i,n){super(e,t,i),this.username=n}}class ii extends ie{constructor(e,t){super(e,"facebook.com",t)}}class ir extends it{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class is extends ie{constructor(e,t){super(e,"google.com",t)}}class ia extends it{constructor(e,t,i){super(e,"twitter.com",t,i)}}function io(e){let{user:t,_tokenResponse:i}=e;return t.isAnonymous&&!i?{providerId:null,isNewUser:!1,profile:null}:/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var t,i;if(!e)return null;let{providerId:n}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!n&&(null==e?void 0:e.idToken)){let n=null===(i=null===(t=es(e.idToken))||void 0===t?void 0:t.firebase)||void 0===i?void 0:i.sign_in_provider;if(n)return new ie(s,"anonymous"!==n&&"custom"!==n?n:null)}if(!n)return null;switch(n){case"facebook.com":return new ii(s,r);case"github.com":return new ir(s,r);case"google.com":return new is(s,r);case"twitter.com":return new ia(s,r,e.screenName||null);case"custom":case"anonymous":return new ie(s,null);default:return new ie(s,n,r)}}(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(e,t){return(0,o.getModularInstance)(e).setPersistence(t)}function ih(e){return eq(e)}async function iu(e,t){return ej(e).validatePassword(t)}function ic(e,t,i,n){return(0,o.getModularInstance)(e).onIdTokenChanged(t,i,n)}function id(e,t,i){return(0,o.getModularInstance)(e).beforeAuthStateChanged(t,i)}function ip(e,t,i,n){return(0,o.getModularInstance)(e).onAuthStateChanged(t,i,n)}function im(e){(0,o.getModularInstance)(e).useDeviceLanguage()}function ig(e,t){return(0,o.getModularInstance)(e).updateCurrentUser(t)}function iv(e){return(0,o.getModularInstance)(e).signOut()}function iy(e,t){return ej(e).revokeAccessToken(t)}async function ib(e){return(0,o.getModularInstance)(e).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new ix("enroll",e,t)}static _fromMfaPendingCredential(e){return new ix("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ix._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(i=e.multiFactorSession)||void 0===i?void 0:i.idToken)return ix._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){let i=ej(e),n=t.customData._serverResponse,r=(n.mfaInfo||[]).map(e=>tj._fromServerResponse(i,e));P(n.mfaPendingCredential,i,"internal-error");let s=ix._fromMfaPendingCredential(n.mfaPendingCredential);return new iE(s,r,async e=>{let r=await e._process(i,s);delete n.mfaInfo,delete n.mfaPendingCredential;let a=Object.assign(Object.assign({},n),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":let o=await tT._fromIdTokenResponse(i,t.operationType,a);return await i._updateCurrentUser(o.user),o;case"reauthenticate":return P(t.user,i,"internal-error"),tT._forOperation(t.user,t.operationType,a);default:S(i,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}function iw(e,t){var i;let n=(0,o.getModularInstance)(e);return P(t.customData.operationType,n,"argument-error"),P(null===(i=t.customData._serverResponse)||void 0===i?void 0:i.mfaPendingCredential,n,"argument-error"),iE._fromError(n,t)}class iS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>tj._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new iS(e)}async getSession(){return ix._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let i=await this.getSession(),n=await eo(this.user,e._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(n),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,i=await this.user.getIdToken();try{var n,r;let e=await eo(this.user,(n=this.user.auth,r={idToken:i,mfaEnrollmentId:t},V(n,"POST","/v2/accounts/mfaEnrollment:withdraw",j(n,r))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}let iT=new WeakMap;function iA(e){let t=(0,o.getModularInstance)(e);return iT.has(t)||iT.set(t,iS._fromUser(t)),iT.get(t)}let i_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(i_,"1"),this.storage.removeItem(i_),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class iI extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let i=this.storage.getItem(t),n=this.localCache[t];i!==n&&e(t,n,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,i)=>{this.notifyListeners(e,i)});return}let i=e.key;t?this.detachListener():this.stopPolling();let n=()=>{let e=this.storage.getItem(i);(t||this.localCache[i]!==e)&&this.notifyListeners(i,e)},r=this.storage.getItem(i);(0,o.isIE)()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iI.type="LOCAL";let iP=iI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iR.type="SESSION";let iO=iR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let i=new iM(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:i,data:n}=e.data,r=this.handlersMap[i];if(!(null==r?void 0:r.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:i});let s=Array.from(r).map(async t=>t(e.origin,n)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(e="",t=10){let i="";for(let e=0;e<t;e++)i+=Math.floor(10*Math.random());return e+i}iM.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){let n,r;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=iL("",20);s.port1.start();let h=setTimeout(()=>{o(Error("unsupported_event"))},i);r={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(h),n=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(n),a(e.data.response);break;default:clearTimeout(h),clearTimeout(n),o(Error("invalid_response"))}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return void 0!==ik().WorkerGlobalScope&&"function"==typeof ik().importScripts}async function iF(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iB="firebaseLocalStorageDb",iU="firebaseLocalStorage",ij="fbase_key";class iV{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function iG(e,t){return e.transaction([iU],t?"readwrite":"readonly").objectStore(iU)}function iW(){let e=indexedDB.open(iB,1);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(iU,{keyPath:ij})}catch(e){i(e)}}),e.addEventListener("success",async()=>{let i=e.result;i.objectStoreNames.contains(iU)?t(i):(i.close(),await new iV(indexedDB.deleteDatabase(iB)).toPromise(),t(await iW()))})})}async function iz(e,t,i){return new iV(iG(e,!0).put({[ij]:t,value:i})).toPromise()}async function iY(e,t){let i=iG(e,!1).get(t),n=await new iV(i).toPromise();return void 0===n?null:n.value}function iH(e,t){return new iV(iG(e,!0).delete(t)).toPromise()}class iX{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await iW()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iM._getInstance(iN()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iF(),!this.activeServiceWorker)return;this.sender=new iD(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=i[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await iW();return await iz(e,i_,"1"),await iH(e,i_),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iz(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>iY(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iH(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new iV(iG(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],i=new Set;if(0!==e.length)for(let{fbase_key:n,value:r}of e)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),t.push(n));for(let e of Object.keys(this.localCache))this.localCache[e]&&!i.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}iX.type="LOCAL";let iq=iX;class iK{constructor(e){this.auth=e,this.counter=1e12,this._widgets=new Map}render(e,t){let i=this.counter;return this._widgets.set(i,new i$(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;let i=e||1e12;null===(t=this._widgets.get(i))||void 0===t||t.delete(),this._widgets.delete(i)}getResponse(e){var t;return(null===(t=this._widgets.get(e||1e12))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;return null===(t=this._widgets.get(e||1e12))||void 0===t||t.execute(),""}}class i${constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let n="string"==typeof e?document.getElementById(e):e;P(n,"argument-error",{appName:t}),this.container=n,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){let t=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(i.charAt(Math.floor(Math.random()*i.length)));return t.join("")}(0);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw Error("reCAPTCHA mock was already deleted!")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iQ=ez("rcb"),iJ=new k(3e4,6e4);class iZ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ik().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return(P(t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t),e,"argument-error"),this.shouldResolveImmediately(t)&&X(ik().grecaptcha))?Promise.resolve(ik().grecaptcha):new Promise((i,n)=>{let r=ik().setTimeout(()=>{n(T(e,"network-request-failed"))},iJ.get());ik()[iQ]=()=>{ik().clearTimeout(r),delete ik()[iQ];let s=ik().grecaptcha;if(!s||!X(s)){n(T(e,"internal-error"));return}let a=s.render;s.render=(e,t)=>{let i=a(e,t);return this.counter++,i},this.hostLanguage=t,i(s)},eW(`${eG.recaptchaV2Script}?${(0,o.querystring)({onload:iQ,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(r),n(T(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ik().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class i0{async load(e){return new iK(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i1="recaptcha",i2={theme:"light",type:"image"};class i3{constructor(e,t,i=Object.assign({},i2)){this.parameters=i,this.type=i1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ej(e),this.isInvisible="invisible"===this.parameters.size,P("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");let n="string"==typeof t?document.getElementById(t):t;P(n,this.auth,"argument-error"),this.container=n,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new i0:new iZ,this.validateStartingState()}async verify(){this.assertNotDestroyed();let e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise(i=>{let n=e=>{e&&(this.tokenChangeListeners.delete(n),i(e))};this.tokenChangeListeners.add(n),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){P(!this.parameters.sitekey,this.auth,"argument-error"),P(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),P("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){let i=ik()[e];"function"==typeof i&&i(t)}}}assertNotDestroyed(){P(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){let e;P(L()&&!iN(),this.auth,"internal-error"),await (e=null,new Promise(t=>{if("complete"===document.readyState){t();return}e=()=>t(),window.addEventListener("load",e)}).catch(t=>{throw e&&window.removeEventListener("load",e),t})),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let t=await $(this.auth);P(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return P(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=tu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function i5(e,t,i){if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(_(e));let n=ej(e);return new i4(await i8(n,t,(0,o.getModularInstance)(i)),e=>tk(n,e))}async function i9(e,t,i){let n=(0,o.getModularInstance)(e);return await tM(!1,n,"phone"),new i4(await i8(n.auth,t,(0,o.getModularInstance)(i)),e=>tN(n,e))}async function i6(e,t,i){let n=(0,o.getModularInstance)(e);return(0,a._isFirebaseServerApp)(n.auth.app)?Promise.reject(_(n.auth)):new i4(await i8(n.auth,t,(0,o.getModularInstance)(i)),e=>tF(n,e))}async function i8(e,t,i){var n,r,s;let a=await i.verify();try{let o;if(P("string"==typeof a,e,"argument-error"),P(i.type===i1,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o)return P("enroll"===t.type,e,"internal-error"),(await (r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}},V(e,"POST","/v2/accounts/mfaEnrollment:start",j(e,r)))).phoneSessionInfo.sessionInfo;{P("signin"===t.type,e,"internal-error");let i=(null===(n=o.multiFactorHint)||void 0===n?void 0:n.uid)||o.multiFactorUid;return P(i,e,"missing-multi-factor-info"),(await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:a}},V(e,"POST","/v2/accounts/mfaSignIn:start",j(e,s)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await ts(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{i._reset()}}async function i7(e,t){let i=(0,o.getModularInstance)(e);if((0,a._isFirebaseServerApp)(i.auth.app))return Promise.reject(_(i.auth));await tO(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.providerId=ne.PROVIDER_ID,this.auth=ej(e)}verifyPhoneNumber(e,t){return i8(this.auth,e,(0,o.getModularInstance)(t))}static credential(e,t){return tu._fromVerification(e,t)}static credentialFromResult(e){return ne.credentialFromTaggedObject(e)}static credentialFromError(e){return ne.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:i}=e;return t&&i?tu._fromTokenResponse(t,i):null}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e,t){return t?eb(t):(P(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ne.PROVIDER_ID="phone",ne.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends eZ{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tn(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nn(e){return tD(e.auth,new ni(e),e.bypassAuthState)}function nr(e){let{auth:t,user:i}=e;return P(i,t,"internal-error"),tL(i,new ni(e),e.bypassAuthState)}async function ns(e){let{auth:t,user:i}=e;return P(i,t,"internal-error"),tO(i,new ni(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t,i,n,r=!1){this.auth=e,this.resolver=i,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:i,postBody:n,tenantId:r,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nn;case"linkViaPopup":case"linkViaRedirect":return ns;case"reauthViaPopup":case"reauthViaRedirect":return nr;default:S(this.auth,"internal-error")}}resolve(e){O(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){O(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no=new k(2e3,1e4);async function nl(e,t,i){if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(T(e,"operation-not-supported-in-this-environment"));let n=ej(e);C(e,t,tp);let r=nt(n,i);return new nc(n,"signInViaPopup",t,r).executeNotNull()}async function nh(e,t,i){let n=(0,o.getModularInstance)(e);if((0,a._isFirebaseServerApp)(n.auth.app))return Promise.reject(T(n.auth,"operation-not-supported-in-this-environment"));C(n.auth,t,tp);let r=nt(n.auth,i);return new nc(n.auth,"reauthViaPopup",t,r,n).executeNotNull()}async function nu(e,t,i){let n=(0,o.getModularInstance)(e);C(n.auth,t,tp);let r=nt(n.auth,i);return new nc(n.auth,"linkViaPopup",t,r,n).executeNotNull()}class nc extends na{constructor(e,t,i,n,r){super(e,t,n,r),this.provider=i,this.authWindow=null,this.pollId=null,nc.currentPopupAction&&nc.currentPopupAction.cancel(),nc.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return P(e,this.auth,"internal-error"),e}async onExecution(){O(1===this.filter.length,"Popup operations only handle one event");let e=iL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(T(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(T(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nc.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,i;if(null===(i=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===i?void 0:i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(T(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,no.get())};e()}}nc.currentPopupAction=null;let nd=new Map;class nf extends na{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{let t=await np(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function np(e,t){let i=nb(t),n=ny(e);if(!await n._isAvailable())return!1;let r=await n._get(i)==="true";return await n._remove(i),r}async function nm(e,t){return ny(e)._set(nb(t),"true")}function ng(){nd.clear()}function nv(e,t){nd.set(e._key(),t)}function ny(e){return eb(e._redirectPersistence)}function nb(e){return ew("pendingRedirect",e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(e,t,i){return nE(e,t,i)}async function nE(e,t,i){if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(_(e));let n=ej(e);C(e,t,tp),await n._initializationPromise;let r=nt(n,i);return await nm(r,n),r._openRedirect(n,t,"signInViaRedirect")}function nw(e,t,i){return nS(e,t,i)}async function nS(e,t,i){let n=(0,o.getModularInstance)(e);if(C(n.auth,t,tp),(0,a._isFirebaseServerApp)(n.auth.app))return Promise.reject(_(n.auth));await n.auth._initializationPromise;let r=nt(n.auth,i);await nm(r,n.auth);let s=await nI(n);return r._openRedirect(n.auth,t,"reauthViaRedirect",s)}function nT(e,t,i){return nA(e,t,i)}async function nA(e,t,i){let n=(0,o.getModularInstance)(e);C(n.auth,t,tp),await n.auth._initializationPromise;let r=nt(n.auth,i);await tM(!1,n,t.providerId),await nm(r,n.auth);let s=await nI(n);return r._openRedirect(n.auth,t,"linkViaRedirect",s)}async function n_(e,t){return await ej(e)._initializationPromise,nC(e,t,!1)}async function nC(e,t,i=!1){if((0,a._isFirebaseServerApp)(e.app))return Promise.reject(_(e));let n=ej(e),r=nt(n,t),s=new nf(n,r,i),o=await s.execute();return o&&!i&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}async function nI(e){let t=iL(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class nP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nO(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!nO(e)){let n=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(T(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nR(e))}saveEventToCache(e){this.cachedEventUids.add(nR(e)),this.lastProcessedEventTime=Date.now()}}function nR(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function nO({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(e,t={}){return V(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function nk(e){if(e.config.emulator)return;let{authorizedDomains:t}=await nM(e);for(let e of t)try{if(function(e){let t=M(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let r=new URL(e);return""===r.hostname&&""===n?"chrome-extension:"===i&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===i&&r.hostname===n}if(!nD.test(i))return!1;if(nL.test(e))return n===e;let r=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}(e))return}catch(e){}S(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nN=new k(3e4,6e4);function nF(){let e=ik().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let nB=null,nU=new k(5e3,15e3),nj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function nG(e){let t=await (nB=nB||new Promise((t,i)=>{var n,r,s;function a(){nF(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nF(),i(T(e,"network-request-failed"))},timeout:nN.get()})}if(null===(r=null===(n=ik().gapi)||void 0===n?void 0:n.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else if(null===(s=ik().gapi)||void 0===s?void 0:s.load)a();else{let t=ez("iframefcb");return ik()[t]=()=>{gapi.load?a():i(T(e,"network-request-failed"))},eW(`${eG.gapiScript}?onload=${t}`).catch(e=>i(e))}}).catch(e=>{throw nB=null,e})),i=ik().gapi;return P(i,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;P(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?N(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:a.SDK_VERSION},r=nV.get(e.config.apiHost);r&&(n.eid=r);let s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${i}?${(0,o.querystring)(n).slice(1)}`}(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nj,dontclear:!0},t=>new Promise(async(i,n)=>{await t.restyle({setHideOnLeave:!1});let r=T(e,"network-request-failed"),s=ik().setTimeout(()=>{n(r)},nU.get());function a(){ik().clearTimeout(s),i(t)}t.ping(a).then(a,()=>{n(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nz{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let nY=encodeURIComponent("fac");async function nH(e,t,i,n,r,s){P(e.config.authDomain,e,"auth-domain-config-required"),P(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:a.SDK_VERSION,eventId:r};if(t instanceof tp)for(let[i,n]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,o.isEmpty)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))l[i]=n;if(t instanceof tm){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}for(let t of(e.tenantId&&(l.tid=e.tenantId),Object.keys(l)))void 0===l[t]&&delete l[t];let h=await e._getAppCheckToken(),u=h?`#${nY}=${encodeURIComponent(h)}`:"";return`${function({config:e}){return e.emulator?N(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,o.querystring)(l).slice(1)}${u}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nX="webStorageSupport",nq=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iO,this._completeRedirectFn=nC,this._overrideRedirectResult=nv}async _openPopup(e,t,i,n){var r;O(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");let s=await nH(e,t,i,M(),n);return function(e,t,i,n=500,r=600){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString(),l="",h=Object.assign(Object.assign({},nW),{width:n.toString(),height:r.toString(),top:s,left:a}),u=(0,o.getUA)().toLowerCase();i&&(l=eC(u)?"_blank":i),eA(u)&&(t=t||"http://localhost",h.scrollbars="yes");let c=Object.entries(h).reduce((e,[t,i])=>`${e}${t}=${i},`,"");if(function(e=(0,o.getUA)()){var t;return eM(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){let i=document.createElement("a");i.href=e,i.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}(t||"",l),new nz(null);let d=window.open(t||"",l,c);P(d,e,"popup-blocked");try{d.focus()}catch(e){}return new nz(d)}(e,s,iL())}async _openRedirect(e,t,i,n){var r;return await this._originValidation(e),r=await nH(e,t,i,M(),n),ik().location.href=r,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:i}=this.eventManagers[t];return e?Promise.resolve(e):(O(i,"If manager is not set, promise should be"),i)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){let t=await nG(e),i=new nP(e);return t.register("authEvent",t=>(P(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:i.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nX,{type:nX},i=>{var n;let r=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n[nX];void 0!==r&&t(!!r),S(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eD()||e_()||eM()}};class nK{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return R("unexpected MultiFactorSessionType")}}}class n$ extends nK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new n$(e)}_finalizeEnroll(e,t,i){return V(e,"POST","/v2/accounts/mfaEnrollment:finalize",j(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return V(e,"POST","/v2/accounts/mfaSignIn:finalize",j(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class nQ{constructor(){}static assertion(e){return n$._fromCredential(e)}}nQ.FACTOR_ID="phone";class nJ{static assertionForEnrollment(e,t){return nZ._fromSecret(e,t)}static assertionForSignIn(e,t){return nZ._fromEnrollmentId(e,t)}static async generateSecret(e){var t,i;P(void 0!==(null===(t=e.user)||void 0===t?void 0:t.auth),"internal-error");let n=await V(i=e.user.auth,"POST","/v2/accounts/mfaEnrollment:start",j(i,{idToken:e.credential,totpEnrollmentInfo:{}}));return n0._fromStartTotpMfaEnrollmentResponse(n,e.user.auth)}}nJ.FACTOR_ID="totp";class nZ extends nK{constructor(e,t,i){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=i}static _fromSecret(e,t){return new nZ(t,void 0,e)}static _fromEnrollmentId(e,t){return new nZ(t,e)}async _finalizeEnroll(e,t,i){return P(void 0!==this.secret,e,"argument-error"),V(e,"POST","/v2/accounts/mfaEnrollment:finalize",j(e,{idToken:t,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){P(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let i={verificationCode:this.otp};return V(e,"POST","/v2/accounts/mfaSignIn:finalize",j(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i}))}}class n0{constructor(e,t,i,n,r,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=i,this.codeIntervalSeconds=n,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(e,t){return new n0(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var i;let n=!1;return(n1(e)||n1(t))&&(n=!0),n&&(n1(e)&&(e=(null===(i=this.auth.currentUser)||void 0===i?void 0:i.email)||"unknownuser"),n1(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function n1(e){return void 0===e||(null==e?void 0:e.length)===0}var n2="@firebase/auth",n3="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let n5=(0,o.getExperimentalSetting)("authIdTokenMaxAge")||300,n9=null,n6=e=>async t=>{let i=t&&await t.getIdTokenResult(),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>n5)return;let r=null==i?void 0:i.token;n9!==r&&(n9=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function n8(e=(0,a.getApp)()){let t=(0,a._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();let i=eK(e,{popupRedirectResolver:nq,persistence:[iq,iP,iO]}),n=(0,o.getExperimentalSetting)("authTokenSyncURL");if(n&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(n,location.origin);if(location.origin===e.origin){let t=n6(e.toString());id(i,t,()=>t(i.currentUser)),ic(i,e=>t(e))}}let r=(0,o.getDefaultEmulatorHost)("auth");return r&&e$(i,`http://${r}`),i}eG={loadJS:e=>new Promise((t,i)=>{var n,r;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=T("internal-error");t.customData=e,i(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(r=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==r?r:document).appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},r="Browser",(0,a._registerComponent)(new(0,u.Component)("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;P(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let l=new eU(i,n,s,{apiKey:a,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ek(r)});return function(e,t){let i=(null==t?void 0:t.persistence)||[],n=(Array.isArray(i)?i:[i]).map(eb);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,a._registerComponent)(new(0,u.Component)("auth-internal",e=>new n4(ej(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,a.registerVersion)(n2,n3,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(r)),(0,a.registerVersion)(n2,n3,"esm2017")},{"@firebase/app":"hZODh","@firebase/util":"j1gcd","@firebase/logger":"7RF90",tslib:"3aD9C","@firebase/component":"dVjVM","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"3aD9C":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"__extends",()=>a),r.export(i,"__assign",()=>o),r.export(i,"__rest",()=>l),r.export(i,"__decorate",()=>h),r.export(i,"__param",()=>u),r.export(i,"__esDecorate",()=>c),r.export(i,"__runInitializers",()=>d),r.export(i,"__propKey",()=>f),r.export(i,"__setFunctionName",()=>p),r.export(i,"__metadata",()=>m),r.export(i,"__awaiter",()=>g),r.export(i,"__generator",()=>v),r.export(i,"__createBinding",()=>y),r.export(i,"__exportStar",()=>b),r.export(i,"__values",()=>x),r.export(i,"__read",()=>E),r.export(i,"__spread",()=>w),r.export(i,"__spreadArrays",()=>S),r.export(i,"__spreadArray",()=>T),r.export(i,"__await",()=>A),r.export(i,"__asyncGenerator",()=>_),r.export(i,"__asyncDelegator",()=>C),r.export(i,"__asyncValues",()=>I),r.export(i,"__makeTemplateObject",()=>P),r.export(i,"__importStar",()=>M),r.export(i,"__importDefault",()=>L),r.export(i,"__classPrivateFieldGet",()=>D),r.export(i,"__classPrivateFieldSet",()=>k),r.export(i,"__classPrivateFieldIn",()=>N),r.export(i,"__addDisposableResource",()=>F),r.export(i,"__disposeResources",()=>U),r.export(i,"__rewriteRelativeImportExtension",()=>j);var s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var o=function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function l(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}function h(e,t,i,n){var r,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,i,a):r(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}function u(e,t){return function(i,n){t(i,n,e)}}function c(e,t,i,n,r,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var o,l=n.kind,h="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d=!1,f=i.length-1;f>=0;f--){var p={};for(var m in n)p[m]="access"===m?{}:n[m];for(var m in n.access)p.access[m]=n.access[m];p.addInitializer=function(e){if(d)throw TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var g=(0,i[f])("accessor"===l?{get:c.get,set:c.set}:c[h],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw TypeError("Object expected");(o=a(g.get))&&(c.get=o),(o=a(g.set))&&(c.set=o),(o=a(g.init))&&r.unshift(o)}else(o=a(g))&&("field"===l?r.unshift(o):c[h]=o)}u&&Object.defineProperty(u,n.name,c),d=!0}function d(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function g(e,t,i,n){return new(i||(i=Promise))(function(r,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})}function v(e,t){var i,n,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(i)throw TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var y=Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]};function b(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||y(t,e,i)}function x(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function E(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(E(arguments[t]));return e}function S(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),r=0,t=0;t<i;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,r++)n[r]=s[a];return n}function T(e,t,i){if(i||2==arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function A(e){return this instanceof A?(this.v=e,this):new A(e)}function _(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(e,t||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,h)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){r[e]&&(n[e]=function(t){return new Promise(function(i,n){s.push([e,t,i,n])>1||o(e,t)})},t&&(n[e]=t(n[e])))}function o(e,t){try{var i;(i=r[e](t)).value instanceof A?Promise.resolve(i.value.v).then(l,h):u(s[0][2],i)}catch(e){u(s[0][3],e)}}function l(e){o("next",e)}function h(e){o("throw",e)}function u(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function C(e){var t,i;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,r){t[n]=e[n]?function(t){return(i=!i)?{value:A(e[n](t)),done:!1}:r?r(t):t}:r}}function I(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=x(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,r){!function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)}(n,r,(t=e[i](t)).done,t.value)})}}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var R=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},O=function(e){return(O=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t})(e)};function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=O(e),n=0;n<i.length;n++)"default"!==i[n]&&y(t,e,i[n]);return R(t,e),t}function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function k(e,t,i,n,r){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i}function N(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function F(e,t,i){if(null!=t){var n,r;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(i){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t}var B="function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function U(e){function t(t){e.error=e.hasError?new B(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var i,n=0;return function r(){for(;i=e.stack.pop();)try{if(!i.async&&1===n)return n=0,e.stack.push(i),Promise.resolve().then(r);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return n|=2,Promise.resolve(s).then(r,function(e){return t(e),r()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function j(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,i,n,r,s){return i?t?".jsx":".js":!n||r&&s?n+r+"."+s.toLowerCase()+"js":e}):e}i.default={__extends:a,__assign:o,__rest:l,__decorate:h,__param:u,__esDecorate:c,__runInitializers:d,__propKey:f,__setFunctionName:p,__metadata:m,__awaiter:g,__generator:v,__createBinding:y,__exportStar:b,__values:x,__read:E,__spread:w,__spreadArrays:S,__spreadArray:T,__await:A,__asyncGenerator:_,__asyncDelegator:C,__asyncValues:I,__makeTemplateObject:P,__importStar:M,__importDefault:L,__classPrivateFieldGet:D,__classPrivateFieldSet:k,__classPrivateFieldIn:N,__addDisposableResource:F,__disposeResources:U,__rewriteRelativeImportExtension:j}},{"@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"1Z3EC":[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"auth",()=>u);var s=e("firebase/compat/app"),a=r.interopDefault(s);e("firebase/compat/auth");var o=e("dialog-polyfill"),l=r.interopDefault(o);e("material-design-lite/src/mdlComponentHandler"),e("material-design-lite/src/button/button"),e("material-design-lite/src/progress/progress"),e("material-design-lite/src/spinner/spinner"),e("material-design-lite/src/textfield/textfield");var h=arguments[3];(function(){(function(){var e,t,i="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{a:{var n={};try{n.__proto__={xb:!0},n5=n.xb;break a}catch(e){}n5=!1}t=n5?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw TypeError(e+" is not extensible");return e}:null}var r=t;function s(e,t){if(e.prototype=i(t.prototype),e.prototype.constructor=e,r)r(e,t);else for(var n in t)if("prototype"!=n){if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(t,n);s&&Object.defineProperty(e,n,s)}else e[n]=t[n]}e.K=t.prototype}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},l="undefined"!=typeof window&&window===this?this:void 0!==h&&null!=h?h:this;function u(e,t){if(t){var i=l;e=e.split(".");for(var n=0;n<e.length-1;n++){var r=e[n];r in i||(i[r]={}),i=i[r]}(t=t(n=i[e=e[e.length-1]]))!=n&&null!=t&&o(i,e,{configurable:!0,writable:!0,value:t})}}u("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),u("Array.prototype.includes",function(e){return e||function(e,t){var i=this;i instanceof String&&(i=String(i));var n=i.length;for(0>(t=t||0)&&(t=Math.max(t+n,0));t<n;t++){var r=i[t];if(r===e||Object.is(r,e))return!0}return!1}});var c=this;function d(e){return void 0!==e}function f(e){return"string"==typeof e}var p=/^[\w+/_-]+[=]{0,2}$/,m=null;function g(){}function v(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function y(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var i=Object.prototype.toString.call(e);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function b(e){return"array"==y(e)}function x(e){var t=y(e);return"array"==t||"object"==t&&"number"==typeof e.length}function E(e){return"function"==y(e)}function w(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var S="closure_uid_"+(1e9*Math.random()>>>0),T=0;function A(e,t,i){return e.call.apply(e.bind,arguments)}function _(e,t,i){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function C(e,t,i){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:_).apply(null,arguments)}function I(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function P(e,t){for(var i in t)e[i]=t[i]}var R=Date.now||function(){return+new Date};function O(e,t){e=e.split(".");var i,n=c;for((e[0]in n)||void 0===n.execScript||n.execScript("var "+e[0]);e.length&&(i=e.shift());)!e.length&&d(t)?n[i]=t:n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={}}function M(e,t){function i(){}i.prototype=t.prototype,e.K=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.vc=function(e,i,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[i].apply(e,r)}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function D(e,t){e=e.split("%s");for(var i="",n=e.length-1,r=0;r<n;r++)i+=e[r]+(r<t.length?t[r]:"%s");L.call(this,i+e[n])}function k(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}M(L,Error),L.prototype.name="CustomError",M(D,L),D.prototype.name="AssertionError";var N=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(f(e))return f(t)&&1==t.length?e.indexOf(t,0):-1;for(var i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return -1},F=Array.prototype.forEach?function(e,t,i){Array.prototype.forEach.call(e,t,i)}:function(e,t,i){for(var n=e.length,r=f(e)?e.split(""):e,s=0;s<n;s++)s in r&&t.call(i,r[s],s,e)},B=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var i=e.length,n=[],r=0,s=f(e)?e.split(""):e,a=0;a<i;a++)if(a in s){var o=s[a];t.call(void 0,o,a,e)&&(n[r++]=o)}return n},U=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var i=e.length,n=Array(i),r=f(e)?e.split(""):e,s=0;s<i;s++)s in r&&(n[s]=t.call(void 0,r[s],s,e));return n},j=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var i=e.length,n=f(e)?e.split(""):e,r=0;r<i;r++)if(r in n&&t.call(void 0,n[r],r,e))return!0;return!1};function V(e,t){return 0<=N(e,t)}function G(e,t){var i;return(i=0<=(t=N(e,t)))&&W(e,t),i}function W(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function z(e){return Array.prototype.concat.apply([],arguments)}function Y(e){var t=e.length;if(0<t){for(var i=Array(t),n=0;n<t;n++)i[n]=e[n];return i}return[]}var H=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},X=/&/g,q=/</g,K=/>/g,$=/"/g,Q=/'/g,J=/\x00/g,Z=/[\x00&<>"']/;function ee(e,t){return e<t?-1:e>t?1:0}function et(e){return Z.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(X,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(q,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(K,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace($,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Q,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(J,"&#0;"))),e}function ei(e,t,i){for(var n in e)t.call(i,e[n],n,e)}function en(e){var t,i={};for(t in e)i[t]=e[t];return i}var er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(e,t){for(var i,n,r=1;r<arguments.length;r++){for(i in n=arguments[r])e[i]=n[i];for(var s=0;s<er.length;s++)i=er[s],Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}}var ea="StopIteration"in c?c.StopIteration:{message:"StopIteration",stack:""};function eo(){}function el(e){if(e instanceof eo)return e;if("function"==typeof e.ha)return e.ha(!1);if(x(e)){var t=0,i=new eo;return i.next=function(){for(;;){if(t>=e.length)throw ea;if(t in e)return e[t++];t++}},i}throw Error("Not implemented")}function eh(e,t){this.g={},this.a=[],this.j=this.h=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else if(e){if(e instanceof eh)for(i=e.ja(),n=0;n<i.length;n++)this.set(i[n],e.get(i[n]));else for(n in e)this.set(n,e[n])}}function eu(e){if(e.h!=e.a.length){for(var t=0,i=0;t<e.a.length;){var n=e.a[t];ec(e.g,n)&&(e.a[i++]=n),t++}e.a.length=i}if(e.h!=e.a.length){var r={};for(i=t=0;t<e.a.length;)ec(r,n=e.a[t])||(e.a[i++]=n,r[n]=1),t++;e.a.length=i}}function ec(e,t){return Object.prototype.hasOwnProperty.call(e,t)}eo.prototype.next=function(){throw ea},eo.prototype.ha=function(){return this},(e=eh.prototype).la=function(){eu(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return eu(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return ec(this.g,e)?this.g[e]:t},e.set=function(e,t){ec(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var i=this.ja(),n=0;n<i.length;n++){var r=i[n],s=this.get(r);e.call(t,s,r,this)}},e.ha=function(e){eu(this);var t=0,i=this.j,n=this,r=new eo;return r.next=function(){if(i!=n.j)throw Error("The map has changed since the iterator was created");if(t>=n.a.length)throw ea;var r=n.a[t++];return e?r:n.g[r]},r};var ed=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ef(e,t,i,n){for(var r=i.length;0<=(t=e.indexOf(i,t))&&t<n;){var s=e.charCodeAt(t-1);if((38==s||63==s)&&(!(s=e.charCodeAt(t+r))||61==s||38==s||35==s))return t;t+=r+1}return -1}var ep=/#|$/;function em(e,t){var i=e.search(ep),n=ef(e,0,t,i);if(0>n)return null;var r=e.indexOf("&",n);return(0>r||r>i)&&(r=i),n+=t.length+1,decodeURIComponent(e.substr(n,r-n).replace(/\+/g," "))}var eg=/[?&]($|#)/;function ev(e,t){var i;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof ev?(this.i=d(t)?t:e.i,ey(this,e.j),this.A=e.A,this.h=e.h,eb(this,e.C),this.g=e.g,ex(this,eD(e.a)),this.s=e.s):e&&(i=String(e).match(ed))?(this.i=!!t,ey(this,i[1]||"",!0),this.A=ew(i[2]||""),this.h=ew(i[3]||"",!0),eb(this,i[4]),this.g=ew(i[5]||"",!0),ex(this,i[6]||"",!0),this.s=ew(i[7]||"")):(this.i=!!t,this.a=new eR(null,this.i))}function ey(e,t,i){e.j=i?ew(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function eb(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function ex(e,t,i){var n,r;t instanceof eR?(e.a=t,n=e.a,(r=e.i)&&!n.j&&(eO(n),n.h=null,n.a.forEach(function(e,t){var i=t.toLowerCase();t!=i&&(eM(this,t),eM(this,i),0<e.length&&(this.h=null,this.a.set(ek(this,i),Y(e)),this.g+=e.length))},n)),n.j=r):(i||(t=eS(t,eI)),e.a=new eR(t,e.i))}function eE(e){return e instanceof ev?new ev(e):new ev(e,void 0)}function ew(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function eS(e,t,i){return f(e)?(e=encodeURI(e).replace(t,eT),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function eT(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ev.prototype.toString=function(){var e=[],t=this.j;t&&e.push(eS(t,eA,!0),":");var i=this.h;return(i||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(eS(t,eA,!0),"@"),e.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.C)&&e.push(":",String(i))),(i=this.g)&&(this.h&&"/"!=i.charAt(0)&&e.push("/"),e.push(eS(i,"/"==i.charAt(0)?eC:e_,!0))),(i=this.a.toString())&&e.push("?",i),(i=this.s)&&e.push("#",eS(i,eP)),e.join("")};var eA=/[#\/\?@]/g,e_=/[#\?:]/g,eC=/[#\?]/g,eI=/[#\?@]/g,eP=/#/g;function eR(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function eO(e){e.a||(e.a=new eh,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var i=0;i<e.length;i++){var n=e[i].indexOf("="),r=null;if(0<=n){var s=e[i].substring(0,n);r=e[i].substring(n+1)}else s=e[i];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.h,function(t,i){e.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}function eM(e,t){eO(e),t=ek(e,t),ec(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,ec((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&eu(e)))}function eL(e,t){return eO(e),t=ek(e,t),ec(e.a.g,t)}function eD(e){var t=new eR;return t.h=e.h,e.a&&(t.a=new eh(e.a),t.g=e.g),t}function ek(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function eN(e){this.a=eE(e)}function eF(e){return e.a.a.get(eU.Pa)||null}function eB(e,t){t?e.a.a.set(eU.PROVIDER_ID,t):eM(e.a.a,eU.PROVIDER_ID)}(e=eR.prototype).add=function(e,t){eO(this),this.h=null,e=ek(this,e);var i=this.a.get(e);return i||this.a.set(e,i=[]),i.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){eO(this),this.a.forEach(function(i,n){F(i,function(i){e.call(t,i,n,this)},this)},this)},e.ja=function(){eO(this);for(var e=this.a.la(),t=this.a.ja(),i=[],n=0;n<t.length;n++)for(var r=e[n],s=0;s<r.length;s++)i.push(t[n]);return i},e.la=function(e){eO(this);var t=[];if(f(e))eL(this,e)&&(t=z(t,this.a.get(ek(this,e))));else{e=this.a.la();for(var i=0;i<e.length;i++)t=z(t,e[i])}return t},e.set=function(e,t){return eO(this),this.h=null,eL(this,e=ek(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),i=0;i<t.length;i++){var n=t[i],r=encodeURIComponent(String(n));n=this.la(n);for(var s=0;s<n.length;s++){var a=r;""!==n[s]&&(a+="="+encodeURIComponent(String(n[s]))),e.push(a)}}return this.h=e.join("&")},eN.prototype.toString=function(){return this.a.toString()};var eU={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};a:{var ej=c.navigator;if(ej){var eV=ej.userAgent;if(eV){n6=eV;break a}}n6=""}function eG(e){return -1!=n6.indexOf(e)}function eW(){return(eG("Chrome")||eG("CriOS"))&&!eG("Edge")}function ez(e){return ez[" "](e),e}ez[" "]=g;var eY=eG("Opera"),eH=eG("Trident")||eG("MSIE"),eX=eG("Edge"),eq=eX||eH,eK=eG("Gecko")&&!(-1!=n6.toLowerCase().indexOf("webkit")&&!eG("Edge"))&&!(eG("Trident")||eG("MSIE"))&&!eG("Edge"),e$=-1!=n6.toLowerCase().indexOf("webkit")&&!eG("Edge"),eQ=e$&&eG("Mobile"),eJ=eG("Macintosh");function eZ(){var e=c.document;return e?e.documentMode:void 0}a:{var e0,e1="",e2=(e0=n6,eK?/rv:([^\);]+)(\)|;)/.exec(e0):eX?/Edge\/([\d\.]+)/.exec(e0):eH?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e0):e$?/WebKit\/(\S+)/.exec(e0):eY?/(?:Version)[ \/]?(\S+)/.exec(e0):void 0);if(e2&&(e1=e2?e2[1]:""),eH){var e3=eZ();if(null!=e3&&e3>parseFloat(e1)){n8=String(e3);break a}}n8=e1}var e4={};function e5(e){var t;return t=function(){for(var t=0,i=H(String(n8)).split("."),n=H(String(e)).split("."),r=Math.max(i.length,n.length),s=0;0==t&&s<r;s++){var a=i[s]||"",o=n[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;t=ee(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ee(0==a[2].length,0==o[2].length)||ee(a[2],o[2]),a=a[3],o=o[3]}while(0==t)}return 0<=t},Object.prototype.hasOwnProperty.call(e4,e)?e4[e]:e4[e]=t(e)}var e9=c.document;function e6(e,t){this.a=e===e7&&t||"",this.g=e8}n7=e9&&eH?eZ()||("CSS1Compat"==e9.compatMode?parseInt(n8,10):5):void 0,e6.prototype.ma=!0,e6.prototype.ka=function(){return this.a},e6.prototype.toString=function(){return"Const{"+this.a+"}"};var e8={},e7={};function te(){this.a="",this.h=ti}function tt(e){return e instanceof te&&e.constructor===te&&e.h===ti?e.a:(k("expected object of type TrustedResourceUrl, got '"+e+"' of type "+y(e)),"type_error:TrustedResourceUrl")}te.prototype.ma=!0,te.prototype.ka=function(){return this.a.toString()},te.prototype.g=function(){return 1},te.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ti={};function tn(){this.a="",this.h=tl}function tr(e){return e instanceof tn&&e.constructor===tn&&e.h===tl?e.a:(k("expected object of type SafeUrl, got '"+e+"' of type "+y(e)),"type_error:SafeUrl")}tn.prototype.ma=!0,tn.prototype.ka=function(){return this.a.toString()},tn.prototype.g=function(){return 1},tn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var ts=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ta(e){return e instanceof tn?e:(e="object"==typeof e&&e.ma?e.ka():String(e),ts.test(e)||(e="about:invalid#zClosurez"),th(e))}function to(e){return e instanceof tn?e:(e="object"==typeof e&&e.ma?e.ka():String(e),ts.test(e)||(e="about:invalid#zClosurez"),th(e))}var tl={};function th(e){var t=new tn;return t.a=e,t}function tu(){this.a="",this.g=tc}th("about:blank"),tu.prototype.ma=!0;var tc={};function td(){this.a="",this.j=tp,this.h=null}function tf(e){return e instanceof td&&e.constructor===td&&e.j===tp?e.a:(k("expected object of type SafeHtml, got '"+e+"' of type "+y(e)),"type_error:SafeHtml")}tu.prototype.ka=function(){return this.a},tu.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},td.prototype.g=function(){return this.h},td.prototype.ma=!0,td.prototype.ka=function(){return this.a.toString()},td.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var tp={};function tm(e,t){var i=new td;return i.a=e,i.h=t,i}tm("<!DOCTYPE html>",0);var tg=tm("",0);tm("<br>",0);var tv=(n2=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=tf(tg),!t.parentElement)},n4=!1,function(){return n4||(n3=n2(),n4=!0),n3});function ty(e,t){t=t instanceof tn?t:to(t),e.assign(tr(t))}function tb(e,t){this.a=d(e)?e:0,this.g=d(t)?t:0}function tx(e,t){this.width=e,this.height=t}function tE(e){return e?new tO(tI(e)):n9||(n9=new tO)}function tw(e,t){var i=t||document;return i.querySelectorAll&&i.querySelector?i.querySelectorAll("."+e):tT(document,e,t)}function tS(e,t){var i=t||document;if(i.getElementsByClassName)e=i.getElementsByClassName(e)[0];else{i=document;var n=t||i;e=n.querySelectorAll&&n.querySelector&&e?n.querySelector(e?"."+e:""):tT(i,e,t)[0]||null}return e||null}function tT(e,t,i){var n;if((e=i||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var r=e.getElementsByClassName(t);return r}if(r=e.getElementsByTagName("*"),t){var s={};for(i=n=0;e=r[i];i++){var a=e.className;"function"==typeof a.split&&V(a.split(/\s+/),t)&&(s[n++]=e)}return s.length=n,s}return r}tb.prototype.toString=function(){return"("+this.a+", "+this.g+")"},tb.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},tb.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},tb.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=tx.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var tA={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function t_(e){return e.scrollingElement?e.scrollingElement:(e$||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function tC(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function tI(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function tP(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var i;i=e.firstChild;)e.removeChild(i);e.appendChild(tI(e).createTextNode(String(t)))}}function tR(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,function(e){return!t||f(e.className)&&V(e.className.split(/\s+/),t)}):null}function tO(e){this.a=e||c.document||document}tO.prototype.N=function(){return f(void 0)?this.a.getElementById(void 0):void 0};var tM={Fc:!0},tL={Hc:!0},tD={},tk={Gc:!0};function tN(){throw Error("Do not instantiate directly")}function tF(e,t,i,n){if(e=e(t||tU,void 0,i),n=(n||tE()).a.createElement("DIV"),(e=function(e){if(!w(e))return et(String(e));if(e instanceof tN){if(e.fa===tM)return e.content;if(e.fa===tk)return et(e.content)}return k("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(tB),e=tm(e,null),tv())for(;n.lastChild;)n.removeChild(n.lastChild);return n.innerHTML=tf(e),1==n.childNodes.length&&1==(e=n.firstChild).nodeType&&(n=e),n}tN.prototype.va=null,tN.prototype.toString=function(){return this.content};var tB=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,tU={};function tj(){tN.call(this)}function tV(e){return null!=e&&e.fa===tM?e:e instanceof td?tY(tf(e).toString(),e.g()):tY(et(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case -1:return -1;case 0:return 0}return null}(e))}function tG(){tN.call(this)}function tW(e,t){this.content=String(e),this.va=null!=t?t:null}function tz(e){return new tW(e,void 0)}M(tj,tN),tj.prototype.fa=tM,M(tG,tN),tG.prototype.fa=tL,tG.prototype.va=1,M(tW,tN),tW.prototype.fa=tk;var tY=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,i){return e=new t(String(e)),void 0!==i&&(e.va=i),e}}(tj),tH=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(tG);function tX(e){return(e=String(e))?new tW(e,void 0):""}var tq=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,i){return(e=String(e))?(e=new t(e),void 0!==i&&(e.va=i),e):""}}(tj);function tK(e){return null!=e&&e.fa===tM?String(String(e.content).replace(t9,"").replace(t6,"&lt;")).replace(t2,tZ):et(String(e))}function t$(e){return null!=e&&e.fa===tL?e=String(e).replace(t3,t1):e instanceof tn?e=String(tr(e).toString()).replace(t3,t1):t5.test(e=String(e))?e=e.replace(t3,t1):(k("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz"),e}function tQ(e){return null!=e&&e.fa===tD?e=e.content:null==e?e="":e instanceof tu?e instanceof tu&&e.constructor===tu&&e.g===tc?e=e.a:(k("expected object of type SafeStyle, got '"+e+"' of type "+y(e)),e="type_error:SafeStyle"):t4.test(e=String(e))||(k("Bad value `%s` for |filterCssValue",[e]),e="zSoyz"),e}var tJ={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function tZ(e){return tJ[e]}var t0={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function t1(e){return t0[e]}var t2=/[\x00\x22\x27\x3c\x3e]/g,t3=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,t4=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,t5=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,t9=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,t6=/</g;function t8(){return tz("Enter a valid phone number")}function t7(){return tz("Unable to send password reset code to specified email")}function ie(){return tz("Something went wrong. Please try again.")}function it(){return tz("This email already exists without any means of sign-in. Please reset the password to recover.")}function ii(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return tz(t)}function ir(e,t,i){var n=Error.call(this);this.message=n.message,"stack"in n&&(this.stack=n.stack),this.code=is+e,(e=t)||((e="","firebaseui/merge-conflict"===this.code)?e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.":e+=ie(),e=tz(e).toString()),this.message=e||"",this.credential=i||null}s(ir,Error),ir.prototype.toJSON=function(){return{code:this.code,message:this.message}};var is="firebaseui/";function ia(){0!=io&&(il[this[S]||(this[S]=++T)]=this),this.T=this.T,this.C=this.C}var io=0,il={};function ih(e,t){e.T?d(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(d(void 0)?C(t,void 0):t))}function iu(e){e&&"function"==typeof e.m&&e.m()}ia.prototype.T=!1,ia.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=io)){var e=this[S]||(this[S]=++T);if(0!=io&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete il[e]}},ia.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var ic=Object.freeze||function(e){return e},id=!eH||9<=Number(n7),ip=eH&&!e5("9"),im=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",g,t),c.removeEventListener("test",g,t)}catch(e){}return e}();function ig(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function iv(e,t){if(ig.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var i=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(eK){a:{try{ez(t.nodeName);var r=!0;break a}catch(e){}r=!1}r||(t=null)}}else"mouseover"==i?t=e.fromElement:"mouseout"==i&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==i?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=f(e.pointerType)?e.pointerType:iy[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}ig.prototype.stopPropagation=function(){this.h=!0},ig.prototype.preventDefault=function(){this.qb=!1},M(iv,ig);var iy=ic({2:"touch",3:"pen",4:"mouse"});iv.prototype.stopPropagation=function(){iv.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},iv.prototype.preventDefault=function(){iv.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ip)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var ib="closure_listenable_"+(1e6*Math.random()|0),ix=0;function iE(e,t,i,n,r){this.listener=e,this.proxy=null,this.src=t,this.type=i,this.capture=!!n,this.La=r,this.key=++ix,this.sa=this.Ia=!1}function iw(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function iS(e){this.src=e,this.a={},this.g=0}function iT(e,t){var i=t.type;i in e.a&&G(e.a[i],t)&&(iw(t),0==e.a[i].length&&(delete e.a[i],e.g--))}function iA(e,t,i,n){for(var r=0;r<e.length;++r){var s=e[r];if(!s.sa&&s.listener==t&&!!i==s.capture&&s.La==n)return r}return -1}iS.prototype.add=function(e,t,i,n,r){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.g++);var a=iA(e,t,n,r);return -1<a?(t=e[a],i||(t.Ia=!1)):((t=new iE(t,this.src,s,!!n,r)).Ia=i,e.push(t)),t};var i_="closure_lm_"+(1e6*Math.random()|0),iC={},iI=0;function iP(e,t,i,n,r){if(n&&n.once)return iO(e,t,i,n,r);if(b(t)){for(var s=0;s<t.length;s++)iP(e,t[s],i,n,r);return null}return i=ij(i),e&&e[ib]?e.J.add(String(t),i,!1,w(n)?!!n.capture:!!n,r):iR(e,t,i,!1,n,r)}function iR(e,t,i,n,r,s){if(!t)throw Error("Invalid event type");var a,o=w(r)?!!r.capture:!!r,l=iB(e);if(l||(e[i_]=l=new iS(e)),(i=l.add(t,i,n,o,s)).proxy)return i;if(n=a=id?function(e){return iF.call(a.src,a.listener,e)}:function(e){if(!(e=iF.call(a.src,a.listener,e)))return e},i.proxy=n,n.src=e,n.listener=i,e.addEventListener)im||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),n,r);else if(e.attachEvent)e.attachEvent(iD(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return iI++,i}function iO(e,t,i,n,r){if(b(t)){for(var s=0;s<t.length;s++)iO(e,t[s],i,n,r);return null}return i=ij(i),e&&e[ib]?e.J.add(String(t),i,!0,w(n)?!!n.capture:!!n,r):iR(e,t,i,!0,n,r)}function iM(e,t,i,n,r){if(b(t))for(var s=0;s<t.length;s++)iM(e,t[s],i,n,r);else(n=w(n)?!!n.capture:!!n,i=ij(i),e&&e[ib])?(e=e.J,(t=String(t).toString())in e.a&&-1<(i=iA(s=e.a[t],i,n,r))&&(iw(s[i]),W(s,i),0==s.length&&(delete e.a[t],e.g--))):e&&(e=iB(e))&&(t=e.a[t.toString()],e=-1,t&&(e=iA(t,i,n,r)),(i=-1<e?t[e]:null)&&iL(i))}function iL(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[ib])iT(t.J,e);else{var i=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(i,n,e.capture):t.detachEvent?t.detachEvent(iD(i),n):t.addListener&&t.removeListener&&t.removeListener(n),iI--,(i=iB(t))?(iT(i,e),0==i.g&&(i.src=null,t[i_]=null)):iw(e)}}}function iD(e){return e in iC?iC[e]:iC[e]="on"+e}function ik(e,t,i,n){var r=!0;if((e=iB(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==i&&!s.sa&&(s=iN(s,n),r=r&&!1!==s)}return r}function iN(e,t){var i=e.listener,n=e.La||e.src;return e.Ia&&iL(e),i.call(n,t)}function iF(e,t){if(e.sa)return!0;if(!id){if(!t)a:{t=["window","event"];for(var i=c,n=0;n<t.length;n++)if(null==(i=i[t[n]])){t=null;break a}t=i}if(t=new iv(n=t,this),i=!0,!(0>n.keyCode||void 0!=n.returnValue)){a:{var r=!1;if(0==n.keyCode)try{n.keyCode=-1;break a}catch(e){r=!0}(r||void 0==n.returnValue)&&(n.returnValue=!0)}for(n=[],r=t.g;r;r=r.parentNode)n.push(r);for(e=e.type,r=n.length-1;!t.h&&0<=r;r--){t.g=n[r];var s=ik(n[r],e,!0,t);i=i&&s}for(r=0;!t.h&&r<n.length;r++)t.g=n[r],s=ik(n[r],e,!1,t),i=i&&s}return i}return iN(e,new iv(t,this))}function iB(e){return(e=e[i_])instanceof iS?e:null}var iU="__closure_events_fn_"+(1e9*Math.random()>>>0);function ij(e){return E(e)?e:(e[iU]||(e[iU]=function(t){return e.handleEvent(t)}),e[iU])}function iV(){ia.call(this),this.J=new iS(this),this.wb=this,this.Ha=null}function iG(e,t){var i,n=e.Ha;if(n)for(i=[];n;n=n.Ha)i.push(n);if(e=e.wb,n=t.type||t,f(t))t=new ig(t,e);else if(t instanceof ig)t.target=t.target||e;else{var r=t;es(t=new ig(n,e),r)}if(r=!0,i)for(var s=i.length-1;!t.h&&0<=s;s--){var a=t.g=i[s];r=iW(a,n,!0,t)&&r}if(t.h||(r=iW(a=t.g=e,n,!0,t)&&r,t.h||(r=iW(a,n,!1,t)&&r)),i)for(s=0;!t.h&&s<i.length;s++)r=iW(a=t.g=i[s],n,!1,t)&&r;return r}function iW(e,t,i,n){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.sa&&a.capture==i){var o=a.listener,l=a.La||a.src;a.Ia&&iT(e.J,a),r=!1!==o.call(l,n)&&r}}return r&&0!=n.qb}M(iV,ia),iV.prototype[ib]=!0,iV.prototype.Za=function(e){this.Ha=e},iV.prototype.removeEventListener=function(e,t,i,n){iM(this,e,t,i,n)},iV.prototype.o=function(){if(iV.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var i=t.a[e],n=0;n<i.length;n++)iw(i[n]);delete t.a[e],t.g--}}this.Ha=null};var iz={},iY=0;function iH(e,t){if(!e)throw Error("Event target element must be provided!");if(iz[e=iX(e)]&&iz[e].length)for(var i=0;i<iz[e].length;i++)iG(iz[e][i],t)}function iX(e){return void 0===e.a&&(e.a=iY,iY++),e.a}function iq(e){if(!e)throw Error("Event target element must be provided!");iV.call(this),this.a=e}function iK(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function i$(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function iQ(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function iJ(){this.g=this.a=null}s(iq,iV),iq.prototype.N=function(){return this.a},iq.prototype.register=function(){var e=iX(this.N());iz[e]?V(iz[e],this)||iz[e].push(this):iz[e]=[this]},i$.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var iZ=new i$(function(){return new i0},function(e){e.reset()});function i0(){this.next=this.g=this.a=null}function i1(e){c.setTimeout(function(){throw e},0)}function i2(e,t){rt||function(){if(c.Promise&&c.Promise.resolve){var e=c.Promise.resolve(void 0);rt=function(){e.then(i5)}}else rt=function(){!E(c.setImmediate)||c.Window&&c.Window.prototype&&!eG("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(re||(re=function(){var e=c.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!eG("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var i="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=C(function(e){("*"==n||e.origin==n)&&e.data==i&&this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(i,n)}}}),void 0!==e&&!eG("Trident")&&!eG("MSIE")){var t=new e,i={},n=i;return t.port1.onmessage=function(){if(d(i.next)){var e=(i=i.next).gb;i.gb=null,e()}},function(e){n.next={gb:e},n=n.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){c.setTimeout(e,0)}}()),re(i5)):c.setImmediate(i5)}}(),i3||(rt(),i3=!0),i4.add(e,t)}iJ.prototype.add=function(e,t){var i=iZ.get();i.set(e,t),this.g?this.g.next=i:this.a=i,this.g=i},i0.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},i0.prototype.reset=function(){this.next=this.g=this.a=null};var i3=!1,i4=new iJ;function i5(){for(var e,t;e=null,i4.a&&(e=i4.a,i4.a=i4.a.next,i4.a||(i4.g=null),e.next=null),t=e;){try{t.a.call(t.g)}catch(e){i1(e)}iQ(iZ,t)}i3=!1}function i9(e){if(this.a=i6,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=g)try{var t=this;e.call(void 0,function(e){no(t,i8,e)},function(e){if(!(e instanceof nf))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}no(t,i7,e)})}catch(e){no(this,i7,e)}}var i6=0,i8=2,i7=3;function ne(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}ne.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var nt=new i$(function(){return new ne},function(e){e.reset()});function ni(e,t,i){var n=nt.get();return n.s=e,n.g=t,n.j=i,n}function nn(e){if(e instanceof i9)return e;var t=new i9(g);return no(t,i8,e),t}function nr(e){return new i9(function(t,i){i(e)})}function ns(e,t){e.g||e.a!=i8&&e.a!=i7||nl(e),e.j?e.j.next=t:e.g=t,e.j=t}function na(e,t,i,n){var r=ni(null,null,null);return r.a=new i9(function(e,s){r.s=t?function(i){try{var r=t.call(n,i);e(r)}catch(e){s(e)}}:e,r.g=i?function(t){try{var r=i.call(n,t);!d(r)&&t instanceof nf?s(t):e(r)}catch(e){s(e)}}:s}),r.a.h=e,ns(e,r),r.a}function no(e,t,i){if(e.a==i6){e===i&&(t=i7,i=TypeError("Promise cannot resolve to itself")),e.a=1;a:{var n,r=i,s=e.hc,a=e.ic;if(r instanceof i9){ns(r,ni(s||g,a||null,e));var o=!0}else if(iK(r))r.then(s,a,e),o=!0;else{if(w(r))try{var l=r.then;if(E(l)){(function(e,t,i,n,r){function s(e){a||(a=!0,n.call(r,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,i.call(r,e))},s)}catch(e){s(e)}})(r,l,s,a,e),o=!0;break a}}catch(t){a.call(e,t),o=!0;break a}o=!1}}o||(e.A=i,e.a=t,e.h=null,nl(e),t!=i7||i instanceof nf||(n=i,e.s=!0,i2(function(){e.s&&nd.call(null,n)})))}}function nl(e){e.i||(e.i=!0,i2(e.Hb,e))}function nh(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function nu(e,t,i,n){if(i==i7&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,nc(t,i,n);else try{t.h?t.s.call(t.j):nc(t,i,n)}catch(e){nd.call(null,e)}iQ(nt,t)}function nc(e,t,i){t==i8?e.s.call(e.j,i):e.g&&e.g.call(e.j,i)}i9.prototype.then=function(e,t,i){return na(this,E(e)?e:null,E(t)?t:null,i)},i9.prototype.$goog_Thenable=!0,(e=i9.prototype).fc=function(e,t){return(e=ni(e,e,t)).h=!0,ns(this,e),this},e.Ca=function(e,t){return na(this,null,e,t)},e.cancel=function(e){this.a==i6&&i2(function(){(function e(t,i){if(t.a==i6){if(t.h){var n=t.h;if(n.g){for(var r=0,s=null,a=null,o=n.g;o&&(o.h||(r++,o.a==t&&(s=o),!(s&&1<r)));o=o.next)s||(a=o);s&&(n.a==i6&&1==r?e(n,i):(a?((r=a).next==n.j&&(n.j=r),r.next=r.next.next):nh(n),nu(n,s,i7,i)))}t.h=null}else no(t,i7,i)}})(this,new nf(e))},this)},e.hc=function(e){this.a=i6,no(this,i8,e)},e.ic=function(e){this.a=i6,no(this,i7,e)},e.Hb=function(){for(var e;e=nh(this);)nu(this,e,this.a,this.A);this.i=!1};var nd=i1;function nf(e){L.call(this,e)}function np(e,t,i){t||(t={}),i=i||window;var n=e instanceof tn?e:ta(void 0!==e.href?e.href:String(e));e=t.target||e.target;var r=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");return(eG("iPhone")&&!eG("iPod")&&!eG("iPad")||eG("iPad")||eG("iPod"))&&i.navigator&&i.navigator.standalone&&e&&"_self"!=e?(s=i.document.createElement("A"),n=n instanceof tn?n:to(n),s.href=tr(n),s.setAttribute("target",e),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),i={}):t.noreferrer?(i=i.open("",e,s),t=tr(n).toString(),i&&(eq&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),i.opener=null,t=tm('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+et(t)+'">',null),i.document.write(tf(t)),i.document.close())):(i=i.open(tr(n).toString(),e,s))&&t.noopener&&(i.opener=null),i}function nm(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function ng(e){np(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function nv(e,t){if(null==(e=w(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function ny(){return window.location.href}function nb(e){this.s=[],this.T=nP,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function nx(e,t,i){e.a=!0,e.h=i,e.j=!t,nT(e)}function nE(e){if(e.a){if(!e.J)throw new nA(e);e.J=!1}}function nw(e,t,i){e.s.push([t,i,void 0]),e.a&&nT(e)}function nS(e){return j(e.s,function(e){return E(e[1])})}function nT(e){if(e.i&&e.a&&nS(e)){var t=e.i,i=nI[t];i&&(c.clearTimeout(i.a),delete nI[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var n=i=!1;e.s.length&&!e.A;){var r=e.s.shift(),s=r[0],a=r[1];if(r=r[2],s=e.j?a:s)try{var o=s.call(r||e.O,t);d(o)&&(e.j=e.j&&(o==t||o instanceof Error),e.h=t=o),(iK(t)||"function"==typeof c.Promise&&t instanceof c.Promise)&&(n=!0,e.A=!0)}catch(n){t=n,e.j=!0,nS(e)||(i=!0)}}e.h=t,n&&(o=C(e.L,e,!0),n=C(e.L,e,!1),t instanceof nb?(nw(t,o,n),t.l=!0):t.then(o,n)),i&&(nI[(t=new nC(t)).a]=t,e.i=t.a)}function nA(){L.call(this)}function n_(){L.call(this)}function nC(e){this.a=c.setTimeout(C(this.h,this),0),this.g=e}M(nf,L),nf.prototype.name="cancel",nb.prototype.cancel=function(e){if(this.a)this.h instanceof nb&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new n_(this),nE(this),nx(this,!1,e))}},nb.prototype.L=function(e,t){this.A=!1,nx(this,e,t)},nb.prototype.callback=function(e){nE(this),nx(this,!0,e)},nb.prototype.then=function(e,t,i){var n,r,s=new i9(function(e,t){n=e,r=t});return nw(this,n,function(e){e instanceof n_?s.cancel():r(e)}),s.then(e,t,i)},nb.prototype.$goog_Thenable=!0,M(nA,L),nA.prototype.message="Deferred has already fired",nA.prototype.name="AlreadyCalledError",M(n_,L),n_.prototype.message="Deferred was canceled",n_.prototype.name="CanceledError",nC.prototype.h=function(){throw delete nI[this.a],this.g};var nI={};function nP(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&nR(e,!0,this.sb)}}function nR(e,t,i){null!=i&&c.clearTimeout(i),e.onload=g,e.onerror=g,e.onreadystatechange=g,t&&window.setTimeout(function(){tC(e)},0)}function nO(e,t){var i="Jsloader error (code #"+e+")";t&&(i+=": "+t),L.call(this,i),this.code=e}function nM(){return c.google&&c.google.accounts&&c.google.accounts.id||null}function nL(e){this.a=e||nM(),this.h=!1,this.g=null}M(nO,L),nL.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},v(nL);var nD=new e6(e7,"https://accounts.google.com/gsi/client");function nk(){this.a=null}function nN(e,t){this.a=e,this.g=t||function(e){throw e}}function nF(e,t,i){this.reset(e,t,i,void 0,void 0)}nk.prototype.load=function(){var e,t,i,n=this;if(this.a)return this.a;var r=((e=nD)instanceof e6&&e.constructor===e6&&e.g===e8?e=e.a:(k("expected object of type Const, got '"+e+"'"),e="type_error:Const"),(t=new te).a=e,t);return nM()?nn():this.a=(i=null,new i9(function(e){"complete"==c.document.readyState?e():iO(window,"load",i=function(){e()})}).Ca(function(e){throw iM(window,"load",i),e})).then(function(){if(!nM())return new i9(function(e,t){var i,s,a,o,l,h,u,d,f,g=setTimeout(function(){n.a=null,t(Error("Network error!"))},1e4);c.onGoogleLibraryLoad=function(){clearTimeout(g),e()},nn((a=(s={}).document||document,o=tt(r).toString(),u=new nb(h={rb:l=document.createElement("SCRIPT"),sb:void 0}),d=null,0<(f=null!=s.timeout?s.timeout:5e3)&&(d=window.setTimeout(function(){nR(l,!0);var e=new nO(1,"Timeout reached for loading script "+o);nE(u),nx(u,!1,e)},f),h.sb=d),l.onload=l.onreadystatechange=function(){l.readyState&&"loaded"!=l.readyState&&"complete"!=l.readyState||(nR(l,s.xc||!1,d),u.callback(null))},l.onerror=function(){nR(l,!0,d);var e=new nO(0,"Error while loading script "+o);nE(u),nx(u,!1,e)},es(h=s.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ei(h,function(e,t){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==t?l.style.cssText=e:"class"==t?l.className=e:"for"==t?l.htmlFor=e:tA.hasOwnProperty(t)?l.setAttribute(tA[t],e):0==t.lastIndexOf("aria-",0)||0==t.lastIndexOf("data-",0)?l.setAttribute(t,e):l[t]=e}),function(e,t){if(e.src=tt(t),null===m)o:{if((t=(t=c.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&p.test(t)){m=t;break o}m=""}(t=m)&&e.setAttribute("nonce",t)}(l,r),((i=(a||document).getElementsByTagName("HEAD"))&&0!=i.length?i[0]:a.documentElement).appendChild(l),u)).then(function(){nM()&&e()}).Ca(function(e){clearTimeout(g),n.a=null,t(e)})})})},v(nk),nN.prototype.confirm=function(e){return nn(this.a.confirm(e)).Ca(this.g)},nF.prototype.a=null;var nB=0;function nU(e){this.s=e,this.a=this.h=this.j=this.g=null}function nj(e,t){this.name=e,this.value=t}nF.prototype.reset=function(e,t,i,n,r){"number"==typeof r||nB++,this.h=n||R(),this.j=e,this.s=t,this.g=i,delete this.a},nj.prototype.toString=function(){return this.name};var nV=new nj("SEVERE",1e3),nG=new nj("WARNING",900),nW=new nj("CONFIG",700);nU.prototype.log=function(e,t,i){if(e.value>=function e(t){return t.j?t.j:t.g?e(t.g):(k("Root logger has no level set."),null)}(this).value)for(E(t)&&(t=t()),e=new nF(e,String(t),this.s),i&&(e.a=i),i=this;i;){var n=i,r=e;if(n.a)for(var s=0;t=n.a[s];s++)t(r);i=i.g}};var nz={},nY=null;function nH(){nY||(nY=new nU(""),nz[""]=nY,nY.j=nW)}function nX(){this.a=R()}var nq=null;function nK(e){this.j=e||"",nq||(nq=new nX),this.s=nq}function n$(e){return 10>e?"0"+e:String(e)}function nQ(e){nK.call(this,e)}function nJ(){this.s=C(this.h,this),this.a=new nQ,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}nX.prototype.set=function(e){this.a=e},nX.prototype.reset=function(){this.set(R())},nX.prototype.get=function(){return this.a},nK.prototype.a=!0,nK.prototype.g=!0,nK.prototype.h=!1,M(nQ,nK),nJ.prototype.h=function(e){if(!this.j[e.g]){var t,i,n=function(e,t){var i=[];if(i.push(e.j," "),e.g){var n=new Date(t.h);i.push("[",n$(n.getFullYear()-2e3)+n$(n.getMonth()+1)+n$(n.getDate())+" "+n$(n.getHours())+":"+n$(n.getMinutes())+":"+n$(n.getSeconds())+"."+n$(Math.floor(n.getMilliseconds()/10)),"] ")}return i.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var i=0;if(1>e)i=2;else for(;100>e;)i++,e*=10;for(;0<i--;)t=" "+t;return t}(t,e.s.get()),"s] "),i.push("[",t.g,"] "),i.push(t.s),e.h&&(t=t.a)&&i.push("\n",t instanceof Error?t.message:t.toString()),e.a&&i.push("\n"),i.join("")}(this.a,e);nZ&&(t=function(e){if(e){if(e.value>=nV.value)return"error";if(e.value>=nG.value)return"warn";if(e.value>=nW.value)return"log"}return"debug"}(e.j),i=e.a,nZ[t]?nZ[t](n,i||""):nZ.log(n,i||""))}};var nZ=c.console;function n0(e,t){var i=ri;i&&i.log(nV,e,t)}ri=function e(t){if(nH(),!(i=nz[t])){i=new nU(t);var i,n=t.lastIndexOf("."),r=t.substr(n+1);(n=e(t.substr(0,n))).h||(n.h={}),n.h[r]=i,i.g=n,nz[t]=i}return i}("firebaseui");var n1=new nJ;if(1!=n1.g){nH(),rn=nY;var n2,n3,n4,n5,n9,n6,n8,n7,re,rt,ri,rn,rr=n1.s;rn.a||(rn.a=[]),rn.a.push(rr),n1.g=!0}function rs(e){var t=ri;t&&t.log(nG,e,void 0)}function ra(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function ro(e){e=(e.a.cookie||"").split(";");for(var t,i,n=[],r=[],s=0;s<e.length;s++)-1==(t=(i=H(e[s])).indexOf("="))?(n.push(""),r.push(i)):(n.push(i.substring(0,t)),r.push(i.substring(t+1)));return{keys:n,values:r}}(e=ra.prototype).set=function(e,t,i,n,r,s){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');d(i)||(i=-1),r=r?";domain="+r:"",n=n?";path="+n:"",s=s?";secure":"",i=0>i?"":0==i?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(R()+1e3*i).toUTCString(),this.a.cookie=e+"="+t+r+n+i+s},e.get=function(e,t){for(var i,n=e+"=",r=(this.a.cookie||"").split(";"),s=0;s<r.length;s++){if(0==(i=H(r[s])).lastIndexOf(n,0))return i.substr(n.length);if(i==e)return""}return t},e.ja=function(){return ro(this).keys},e.la=function(){return ro(this).values},e.clear=function(){for(var e=ro(this).keys,t=e.length-1;0<=t;t--){var i=e[t];this.get(i),this.set(i,"",0,void 0,void 0)}};var rl=new ra;function rh(){}function ru(e,t,i,n){this.h=null!=e?e:-1,this.g=t||null,this.a=i||null,this.j=!!n}function rc(e,t){this.g=e,this.a=t||null}function rd(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function rf(e){if(e&&e.email){var t=e.credential&&(0,a.default).auth.AuthCredential.fromJSON(e.credential);return new rc(e.email,t)}return null}function rp(e){this.a=e||null}function rm(e){for(var t=[],i=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);255<r&&(t[i++]=255&r,r>>=8),t[i++]=r}return t}function rg(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(rv*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=[,,,,];for(e=this.g;e<rv*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var i=t[0];t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=i,rT(t),t[0]^=rC[e/this.g][0],t[1]^=rC[e/this.g][1],t[2]^=rC[e/this.g][2],t[3]^=rC[e/this.g][3]}else 6<this.g&&4==e%this.g&&rT(t);this.a[e]=[,,,,],this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}s(ru,rh),ru.prototype.set=function(e,t){rl.set(e,t,this.h,this.g,this.a,this.j)},ru.prototype.get=function(e){return rl.get(e)||null},ru.prototype.ra=function(e){var t=this.g,i=this.a;rl.get(e),rl.set(e,"",0,t,i)},rg.prototype.A=16;var rv=rg.prototype.A/4;function ry(e,t){for(var i,n=0;n<rv;n++)for(var r=0;4>r;r++)i=t[i=4*r+n],e.h[n][r]=i}function rb(e){for(var t=[],i=0;i<rv;i++)for(var n=0;4>n;n++)t[4*n+i]=e.h[i][n];return t}function rx(e,t){for(var i=0;4>i;i++)for(var n=0;4>n;n++)e.h[i][n]^=e.a[4*t+n][i]}function rE(e,t){for(var i=0;4>i;i++)for(var n=0;4>n;n++)e.h[i][n]=t[e.h[i][n]]}function rw(e){for(var t=1;4>t;t++)for(var i=0;4>i;i++)e.s[t][i]=e.h[t][i];for(t=1;4>t;t++)for(i=0;4>i;i++)e.h[t][i]=e.s[t][(i+t)%rv]}function rS(e){for(var t=1;4>t;t++)for(var i=0;4>i;i++)e.s[t][(i+t)%rv]=e.h[t][i];for(t=1;4>t;t++)for(i=0;4>i;i++)e.h[t][i]=e.s[t][i]}function rT(e){e[0]=rA[e[0]],e[1]=rA[e[1]],e[2]=rA[e[2]],e[3]=rA[e[3]]}var rA=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],r_=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],rC=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],rI=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],rP=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],rR=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],rO=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],rM=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],rL=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function rD(e,t){e=new rg(rN(e)),t=rm(t);for(var i,n=t.splice(0,16),r="";n.length;){i=16-n.length;for(var s=0;s<i;s++)n.push(0);for(ry(i=e,n),rx(i,0),n=1;n<i.j;++n){rE(i,rA),rw(i),s=i.h;for(var a=i.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=rI[a[0]]^rP[a[1]]^a[2]^a[3],s[1][o]=a[0]^rI[a[1]]^rP[a[2]]^a[3],s[2][o]=a[0]^a[1]^rI[a[2]]^rP[a[3]],s[3][o]=rP[a[0]]^a[1]^a[2]^rI[a[3]];rx(i,n)}rE(i,rA),rw(i),rx(i,i.j),r+=U(rb(i),function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join(""),n=t.splice(0,16)}return r}function rk(e,t){e=new rg(rN(e));for(var i=[],n=0;n<t.length;n+=2)i.push(parseInt(t.substring(n,n+2),16));var r=i.splice(0,16);for(t="";r.length;){for(ry(n=e,r),rx(n,n.j),r=1;r<n.j;++r){rS(n),rE(n,r_),rx(n,n.j-r);for(var s=n.h,a=n.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=rL[a[0]]^rO[a[1]]^rM[a[2]]^rR[a[3]],s[1][o]=rR[a[0]]^rL[a[1]]^rO[a[2]]^rM[a[3]],s[2][o]=rM[a[0]]^rR[a[1]]^rL[a[2]]^rO[a[3]],s[3][o]=rO[a[0]]^rM[a[1]]^rR[a[2]]^rL[a[3]]}if(rS(n),rE(n,r_),rx(n,0),8192>=(n=rb(n)).length)n=String.fromCharCode.apply(null,n);else{for(s=0,r="";s<n.length;s+=8192)r+=String.fromCharCode.apply(null,function(e,t,i){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,i)}(n,s,s+8192));n=r}t+=n,r=i.splice(0,16)}return t.replace(/(\x00)+$/,"")}function rN(e){e=rm(e.substring(0,32));for(var t=32-e.length,i=0;i<t;i++)e.push(0);return e}function rF(e){var t=[];return function e(t,i,n){if(null==i)n.push("null");else{if("object"==typeof i){if(b(i)){var r=i;i=r.length,n.push("[");for(var s="",a=0;a<i;a++)n.push(s),e(t,r[a],n),s=",";n.push("]");return}if(i instanceof String||i instanceof Number||i instanceof Boolean)i=i.valueOf();else{for(r in n.push("{"),s="",i)Object.prototype.hasOwnProperty.call(i,r)&&"function"!=typeof(a=i[r])&&(n.push(s),rV(r,n),n.push(":"),e(t,a,n),s=",");n.push("}");return}}switch(typeof i){case"string":rV(i,n);break;case"number":n.push(isFinite(i)&&!isNaN(i)?String(i):"null");break;case"boolean":n.push(String(i));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof i)}}}(new rB,e,t),t.join("")}function rB(){}var rU={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},rj=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rV(e,t){t.push('"',e.replace(rj,function(e){var t=rU[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),rU[e]=t),t}),'"')}function rG(e){this.a=e}function rW(){}function rz(e){this.a=e}function rY(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(e){return!1}}function rH(){var e=null;try{e=window.localStorage||null}catch(e){}this.a=e}function rX(){var e=null;try{e=window.sessionStorage||null}catch(e){}this.a=e}function rq(e,t){this.g=e,this.a=t+"::"}rG.prototype.set=function(e,t){d(t)?this.a.set(e,rF(t)):this.a.ra(e)},rG.prototype.get=function(e){try{var t=this.a.get(e)}catch(e){return}if(null!==t)try{return JSON.parse(t)}catch(e){throw"Storage: Invalid value was encountered"}},M(rW,rh),rW.prototype.clear=function(){var e=function(e){if(x(e))return Y(e);e=el(e);var t=[];return function(e,t){if(x(e))try{F(e,t,void 0)}catch(e){if(e!==ea)throw e}else{e=el(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(e){if(e!==ea)throw e}}}(e,function(e){t.push(e)}),t}(this.ha(!0)),t=this;F(e,function(e){t.ra(e)})},M(rz,rW),(e=rz.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(e){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!f(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,i=this.a,n=new eo;return n.next=function(){if(t>=i.length)throw ea;var n=i.key(t++);if(e)return n;if(!f(n=i.getItem(n)))throw"Storage mechanism: Invalid value was encountered";return n},n},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},M(rH,rz),M(rX,rz),M(rq,rW),rq.prototype.set=function(e,t){this.g.set(this.a+e,t)},rq.prototype.get=function(e){return this.g.get(this.a+e)},rq.prototype.ra=function(e){this.g.ra(this.a+e)},rq.prototype.ha=function(e){var t=this.g.ha(!0),i=this,n=new eo;return n.next=function(){for(var n=t.next();n.substr(0,i.a.length)!=i.a;)n=t.next();return e?n.substr(i.a.length):i.g.get(n)},n},rY(new rH);var rK=new rX,r$=new rG(rY(rK)?new rq(rK,"firebaseui"):null),rQ={name:"pendingEmailCredential",storage:r$},rJ={name:"redirectStatus",storage:r$},rZ={name:"redirectUrl",storage:r$},r0={name:"emailForSignIn",storage:new rG(new ru(3600,"/"))},r1={name:"pendingEncryptedCredential",storage:new rG(new ru(3600,"/"))};function r2(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function r3(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function r4(e,t,i){e.storage.set(i?e.name+":"+i:e.name,t)}function r5(e){return r2(rZ,e)||null}function r9(e){return rf(e=r2(rQ,e)||null)}function r6(e){r3(rQ,e)}function r8(e){return(e=r2(rJ,e)||null)&&void 0!==e.tenantId?new rp(e.tenantId):null}function r7(){this.W={}}function se(e,t,i){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=i}function st(e,t,i){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=i}function si(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function sn(){this.g=void 0,this.a={}}function sr(e,t,i,n){for(var r=0;r<t.length;r++){var s=t.charAt(r);e.a[s]||(e.a[s]=new sn),e=e.a[s]}if(n&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=i}function ss(e){for(this.a=e,this.g=new sn,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function sa(e,t){e=e.g;var i={},n=0;for(void 0!==e.g&&(i[n]=e.g);n<t.length;n++){var r=t.charAt(n);if(!(r in e.a))break;void 0!==(e=e.a[r]).g&&(i[n]=e.g)}for(var s in i)if(i.hasOwnProperty(s))return i[s];return[]}function so(e){for(var t=0;t<sc.length;t++)if(sc[t].c===e)return sc[t];return null}function sl(e){e=e.toUpperCase();for(var t=[],i=0;i<sc.length;i++)sc[i].f===e&&t.push(sc[i]);return t}function sh(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],i=0;i<sc.length;i++)sc[i].b==e&&t.push(sc[i]);e=t}else e=sl(e);return e}function su(e){e.sort(function(e,t){return e.name.localeCompare(t.name,"en")})}r7.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=sn.prototype).set=function(e,t){sr(this,e,t,!1)},e.add=function(e,t){sr(this,e,t,!0)},e.get=function(e){a:{for(var t=this,i=0;i<e.length;i++)if(!(t=t.a[e.charAt(i)])){e=void 0;break a}e=t}return e?e.g:void 0},e.la=function(){var e=[];return function e(t,i){for(var n in void 0!==t.g&&i.push(t.g),t.a)e(t.a[n],i)}(this,e),e},e.ja=function(){var e=[];return function e(t,i,n){for(var r in void 0!==t.g&&n.push(i),t.a)e(t.a[r],i+r,n)}(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var sc=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];su(sc);var sd=new ss(sc);function sf(e,t){this.a=e,this.Aa=t}function sp(e){var t=sa(sd,e=H(e));return 0<t.length?new sf("1"==t[0].b?"1-US-0":t[0].c,H(e.substr(t[0].b.length+1))):null}function sm(e){var t=so(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function sg(e,t){for(var i=0;i<e.length;i++)if(!V(sv,e[i])&&(null!==sy&&e[i]in sy||V(t,e[i])))return e[i];return null}var sv=["emailLink","password","phone"],sy={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function sb(){this.a=new r7,se(this.a,"autoUpgradeAnonymousUsers"),se(this.a,"callbacks"),se(this.a,"credentialHelper",sq),se(this.a,"immediateFederatedRedirect",!1),se(this.a,"popupMode",!1),se(this.a,"privacyPolicyUrl"),se(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),se(this.a,"queryParameterForWidgetMode","mode"),se(this.a,"signInFlow"),se(this.a,"signInOptions"),se(this.a,"signInSuccessUrl"),se(this.a,"siteName"),se(this.a,"tosUrl"),se(this.a,"widgetUrl"),se(this.a,"adminRestrictedOperation")}function sx(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!sV(e)&&n0('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function sE(e){e=e.a.get("signInOptions")||[];for(var t=[],i=0;i<e.length;i++){var n=e[i];(n=w(n)?n:{provider:n}).provider&&t.push(n)}return t}function sw(e,t){e=sE(e);for(var i=0;i<e.length;i++)if(e[i].provider===t)return e[i];return null}function sS(e){return sE(e).map(function(e){return e.provider})}function sT(e,t){e=sA(e);for(var i=0;i<e.length;i++)if(e[i].providerId===t)return e[i];return null}function sA(e){return sE(e).map(function(e){if(sy[e.provider]||V(sZ,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?tr(ta(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?tr(ta(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}})}function s_(e){var t,i=sw(e,a.default.auth.GoogleAuthProvider.PROVIDER_ID);if(t=i&&i.clientId){a:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol)){for(n in e=e.a.get("credentialHelper"),sK)if(sK[n]===e){var n=sK[n];break a}}n=sq}t=n===sX}return t&&i.clientId||null}function sC(e){return!!((e=sw(e,a.default.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function sI(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function sP(e,t){return Array.isArray(e=(e=sw(e,t))&&e.scopes)?e:[]}function sR(e,t){return w(e=(e=sw(e,t))&&e.customParameters)?(e=en(e),t===a.default.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===a.default.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function sO(e){if(!(e=sw(e,a.default.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,i=e.blacklistedCountries;if(void 0!==t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==i&&!Array.isArray(i))throw Error("BlacklistedCountries must be an array.");if(t&&i)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!i)return sc;if(e=[],t){i={};for(var n=0;n<t.length;n++)for(var r=sh(t[n]),s=0;s<r.length;s++)i[r[s].c]=r[s];for(var o in i)i.hasOwnProperty(o)&&e.push(i[o])}else{for(t=0,o={};t<i.length;t++)for(r=sh(i[t]),n=0;n<r.length;n++)o[r[n].c]=r[n];for(r=0;r<sc.length;r++)null!==o&&sc[r].c in o||e.push(sc[r])}return e}function sM(e){return si(e.a,"queryParameterForWidgetMode")}function sL(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&rs("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){ng(t)}}return null}function sD(e){var t=e.a.get("tosUrl")||null,i=e.a.get("privacyPolicyUrl")||null;if(i&&!t&&rs("Term of Service URL is missing, the link will not be displayed."),t&&i){if("function"==typeof i)return i;if("string"==typeof i)return function(){ng(i)}}return null}function sk(e){return!(e=sw(e,a.default.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function sN(e){return!(!(e=sw(e,a.default.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==a.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function sF(e){var t=!!e.a.get("immediateFederatedRedirect"),i=sS(e);return e=sB(e),t&&1==i.length&&!V(sv,i[0])&&e==s$}function sB(e){for(var t in e=e.a.get("signInFlow"),sQ)if(sQ[t]==e)return sQ[t];return s$}function sU(e){return sG(e).signInSuccess||null}function sj(e){return sG(e).signInSuccessWithAuthResult||null}function sV(e){return sG(e).signInFailure||null}function sG(e){return e.a.get("callbacks")||{}}var sW,sz,sY,sH,sX="googleyolo",sq="none",sK={nc:sX,NONE:sq},s$="redirect",sQ={qc:"popup",rc:s$},sJ={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},sZ=["anonymous"],s0=["sitekey","tabindex","callback","expired-callback"],s1={};function s2(e,t,i,n){s1[e].apply(null,Array.prototype.slice.call(arguments,1))}function s3(e){return e.classList?e.classList:f(e=e.className)&&e.match(/\S+/g)||[]}function s4(e,t){return e.classList?e.classList.contains(t):V(s3(e),t)}function s5(e,t){e.classList?e.classList.add(t):s4(e,t)||(e.className+=0<e.className.length?" "+t:t)}function s9(e,t){e.classList?e.classList.remove(t):s4(e,t)&&(e.className=B(s3(e),function(e){return e!=t}).join(" "))}function s6(e){var t=e.type;switch(f(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var i,n=0;i=e.options[n];n++)i.selected&&t.push(i.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function s8(e,t){var i=e.type;switch(f(i)&&i.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,f(t)){for(var n=0;i=e.options[n];n++)if(i.value==t){i.selected=!0;break}}break;case"select-multiple":for(f(t)&&(t=[t]),n=0;i=e.options[n];n++)if(i.selected=!1,t)for(var r,s=0;r=t[s];s++)i.value==r&&(i.selected=!0);break;default:e.value=null!=t?t:""}}function s7(e,t,i,n,r,s){if(e$&&!e5("525"))return!0;if(eJ&&r)return ae(e);if(r&&!n)return!1;if(!eK){"number"==typeof t&&(t=at(t));var a=17==t||18==t||eJ&&91==t;if((!i||eJ)&&a||eJ&&16==t&&(n||s))return!1}if((e$||eX)&&n&&i)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(eH&&n&&t==e)return!1;switch(e){case 13:return!eK||!s&&!r&&!(i&&n);case 27:return!(e$||eX||eK)}return(!eK||!n&&!r&&!s)&&ae(e)}function ae(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(e$||eX)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return eK;default:return!1}}function at(e){return eK?e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e):eJ&&e$&&93===e&&(e=91),e}function ai(e){iV.call(this),this.a=e,iP(e,"keydown",this.g,!1,this),iP(e,"click",this.h,!1,this)}function an(e,t){var i=new as(t);if(iG(e,i)){i=new ar(t);try{iG(e,i)}finally{t.stopPropagation()}}}function ar(e){iv.call(this,e.a),this.type="action"}function as(e){iv.call(this,e.a),this.type="beforeaction"}function aa(e){iV.call(this),this.a=e,e=eH?"focusout":"blur",this.g=iP(this.a,eH?"focusin":"focus",this,!eH),this.h=iP(this.a,e,this,!eH)}function ao(e,t){iV.call(this),this.g=e||1,this.a=t||c,this.h=C(this.gc,this),this.j=R()}function al(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function ah(e){ia.call(this),this.g=e,this.a={}}M(ai,iV),ai.prototype.g=function(e){(13==e.keyCode||e$&&3==e.keyCode)&&an(this,e)},ai.prototype.h=function(e){an(this,e)},ai.prototype.o=function(){ai.K.o.call(this),iM(this.a,"keydown",this.g,!1,this),iM(this.a,"click",this.h,!1,this),delete this.a},M(ar,iv),M(as,iv),M(aa,iV),aa.prototype.handleEvent=function(e){var t=new iv(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",iG(this,t)},aa.prototype.o=function(){aa.K.o.call(this),iL(this.g),iL(this.h),delete this.a},M(ao,iV),(e=ao.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=R()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),iG(this,"tick"),this.Ka&&(al(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=R())},e.o=function(){ao.K.o.call(this),al(this),delete this.a},M(ah,ia);var au=[];function ac(e,t,i,n){b(i)||(i&&(au[0]=i.toString()),i=au);for(var r=0;r<i.length;r++){var s=iP(t,i[r],n||e.handleEvent,!1,e.g||e);if(!s)break;e.a[s.key]=s}}function ad(e){ei(e.a,function(e,t){this.a.hasOwnProperty(t)&&iL(e)},e),e.a={}}function af(e){iV.call(this),this.a=null,this.g=e,e=eH||eX||e$&&!e5("531")&&"TEXTAREA"==e.tagName,this.h=new ah(this),ac(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function ap(e){null!=e.a&&(c.clearTimeout(e.a),e.a=null)}function am(e){return(e=new iv(e.a)).type="input",e}function ag(e,t){iV.call(this),e&&(this.Oa&&aE(this),this.qa=e,this.Na=iP(this.qa,"keypress",this,t),this.Ya=iP(this.qa,"keydown",this.Jb,t,this),this.Oa=iP(this.qa,"keyup",this.Kb,t,this))}ah.prototype.o=function(){ah.K.o.call(this),ad(this)},ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},M(af,iV),af.prototype.handleEvent=function(e){if("input"==e.type)eH&&e5(10)&&0==e.keyCode&&0==e.j||(ap(this),iG(this,am(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(ae(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!eK;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;eH&&229==e.keyCode&&(t=null);var i=am(e);ap(this),this.a=function(e,t){if(E(e))t&&(e=C(e,t));else if(e&&"function"==typeof e.handleEvent)e=C(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(0)?-1:c.setTimeout(e,0)}(function(){this.a=null,this.g.value!=t&&iG(this,i)},this)}},af.prototype.o=function(){af.K.o.call(this),this.h.m(),ap(this),delete this.g},M(ag,iV),(e=ag.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var av={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ay={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ab=!e$||e5("525"),ax=eJ&&eK;function aE(e){e.Na&&(iL(e.Na),iL(e.Ya),iL(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function aw(e,t,i,n){iv.call(this,n),this.type="key",this.keyCode=e,this.j=t,this.repeat=i}function aS(e,t,i,n){this.top=e,this.right=t,this.bottom=i,this.left=n}function aT(e,t){var i=tI(e);return i.defaultView&&i.defaultView.getComputedStyle&&(e=i.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function aA(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return eH&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function a_(e){var t=tI(e),i=new tb(0,0),n=t?tI(t):document;return e==(n=!eH||9<=Number(n7)||"CSS1Compat"==tE(n).a.compatMode?n.documentElement:n.body)||(e=aA(e),t=t_(n=tE(t).a),n=n.parentWindow||n.defaultView,t=eH&&e5("10")&&n.pageYOffset!=t.scrollTop?new tb(t.scrollLeft,t.scrollTop):new tb(n.pageXOffset||t.scrollLeft,n.pageYOffset||t.scrollTop),i.a=e.left+t.a,i.g=e.top+t.g),i}(e=ag.prototype).Jb=function(e){(e$||eX)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||eJ&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),ab&&!s7(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=at(e.keyCode),ax&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,i=t.altKey;if(eH&&"keypress"==e.type)var n=this.X,r=13!=n&&27!=n?t.keyCode:0;else(e$||eX)&&"keypress"==e.type?(n=this.X,r=0<=t.charCode&&63232>t.charCode&&ae(n)?t.charCode:0):eY&&!e$?r=ae(n=this.X)?t.keyCode:0:("keypress"==e.type?(ax&&(i=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(n=t.keyCode,r=0):(n=this.X,r=t.charCode):(n=t.keyCode||this.X,r=t.charCode||0)):(n=t.keyCode||this.X,r=t.charCode||0),eJ&&63==r&&224==n&&(n=191));var s=n=at(n);n?63232<=n&&n in av?s=av[n]:25==n&&e.shiftKey&&(s=9):t.keyIdentifier&&t.keyIdentifier in ay&&(s=ay[t.keyIdentifier]),eK&&ab&&"keypress"==e.type&&!s7(s,this.R,e.shiftKey,e.ctrlKey,i,e.metaKey)||(e=s==this.R,this.R=s,(t=new aw(s,r,e,t)).altKey=i,iG(this,t))},e.N=function(){return this.qa},e.o=function(){ag.K.o.call(this),aE(this)},M(aw,iv),aS.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},aS.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},aS.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},aS.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var aC={thin:2,medium:4,thick:6};function aI(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var i=e.currentStyle?e.currentStyle[t+"Width"]:null;if(i in aC)e=aC[i];else if(/^\d+px?$/.test(i))e=parseInt(i,10);else{t=e.style.left;var n=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=i,i=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=n,e=+i}return e}function aP(){}function aR(e){iV.call(this),this.s=e||tE(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function aO(e,t){return e.g?tS(t,e.g||e.s.a):null}function aM(e){return e.L||(e.L=new ah(e)),e.L}function aL(e,t){e.Ea&&F(e.Ea,t,void 0)}function aD(e,t){var i=tR(e,"firebaseui-textfield");t?(s9(e,"firebaseui-input-invalid"),s5(e,"firebaseui-input"),i&&s9(i,"firebaseui-textfield-invalid")):(s9(e,"firebaseui-input"),s5(e,"firebaseui-input-invalid"),i&&s5(i,"firebaseui-textfield-invalid"))}function ak(e,t,i){ih(e,I(iu,t=new af(t))),ac(aM(e),t,"input",i)}function aN(e,t,i){ih(e,I(iu,t=new ag(t))),ac(aM(e),t,"key",function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),i(e))})}function aF(e,t,i){ih(e,I(iu,t=new ai(t))),ac(aM(e),t,"action",function(e){e.stopPropagation(),e.preventDefault(),i(e)})}function aB(e){s5(e,"firebaseui-hidden")}function aU(e,t){t&&tP(e,t),s9(e,"firebaseui-hidden")}function aj(e){return!s4(e,"firebaseui-hidden")&&"none"!=e.style.display}function aV(e){var t=(e=e||{}).email,i=e.disabled,n='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return tY(n=(e.wc?n+"Enter new email address":n+"Email")+('</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+tK(null!=t?t:"")+'"')+(i?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>')}function aG(e){e=(e=e||{}).label;var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return tY((t=e?t+tV(e):t+"Next")+"</button>")}function aW(){return tY(""+aG({label:tX("Sign In")}))}function az(){return tY(""+aG({label:tX("Save")}))}function aY(){return tY(""+aG({label:tX("Continue")}))}function aH(e){e=(e=e||{}).label;var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return tY((t=e?t+tV(e):t+"Choose password")+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function aX(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return tY((e+="Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function aq(){return tY('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function aK(e){e=(e=e||{}).label;var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return tY((t=e?t+tV(e):t+"Cancel")+"</button>")}function a$(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),tY(t)}function aQ(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),tY(t)}function aJ(e){return tY(e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+tV(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>')}function aZ(e){var t=e.content;return tY('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+((e=e.Ab)?" "+tK(e):"")+'">'+tV(t)+"</dialog>")}function a0(e){var t=e.message;return tY(aZ({content:tq('<div class="firebaseui-dialog-icon-wrapper"><div class="'+tK(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+tV(t)+"</div>")}))}function a1(e){var t='<div class="firebaseui-list-box-actions">';e=e.items;for(var i=e.length,n=0;n<i;n++){var r=e[n];t+='<button type="button" data-listboxid="'+tK(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+tK(r.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+tV(r.label)+"</div></button>"}return tY(t=""+aZ({Ab:tX("firebaseui-list-box-dialog"),content:tq(t+"</div>")}))}function a2(e){return tY((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function a3(e,t){return tz((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")?e.providerId.substring(5):e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function a4(e){a6(e,"upgradeElement")}function a5(e){a6(e,"downgradeElements")}v(aP),aP.prototype.a=0,M(aR,iV),(e=aR.prototype).Lb=aP.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");aR.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,aL(this,function(e){!e.na&&e.N()&&e.v()})},e.ya=function(){aL(this,function(e){e.na&&e.ya()}),this.L&&ad(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),aL(this,function(e){e.m()}),this.g&&tC(this.g),this.Y=this.g=this.oa=this.Ea=null,aR.K.o.call(this)},e.removeChild=function(e,t){if(e){var i=f(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(e=this.oa&&i&&(null!==(e=this.oa)&&i in e?e[i]:void 0)||null,i&&e){var n=this.oa;if(i in n&&delete n[i],G(this.Ea,e),t&&(e.ya(),e.g&&tC(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,aR.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},aJ.a="firebaseui.auth.soy2.element.infoBar",a0.a="firebaseui.auth.soy2.element.progressDialog",a1.a="firebaseui.auth.soy2.element.listBoxDialog",a2.a="firebaseui.auth.soy2.element.busyIndicator";var a9=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function a6(e,t){e&&window.componentHandler&&window.componentHandler[t]&&a9.forEach(function(i){s4(e,i)&&window.componentHandler[t](e),F(tw(i,e),function(e){window.componentHandler[t](e)})})}function a8(e,t,i){if(a7.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),a4(e),t&&aF(this,e,function(t){var i=e.getBoundingClientRect();(t.clientX<i.left||i.left+i.width<t.clientX||t.clientY<i.top||i.top+i.height<t.clientY)&&a7.call(this)}),!i){var n=this.N().parentElement||this.N().parentNode;if(n){var r=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,i=n.getBoundingClientRect().height,s=n.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=n.getBoundingClientRect().left-document.body.getBoundingClientRect().left,o=e.getBoundingClientRect().width,l=n.getBoundingClientRect().width;e.style.top=(s+(i-t)/2).toString()+"px",t=a+(l-o)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-o).toString()+"px"}else window.removeEventListener("resize",r.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function a7(){var e=oe.call(this);e&&(a5(e),e.open&&e.close(),tC(e),this.da&&window.removeEventListener("resize",this.da))}function oe(){return tS("firebaseui-id-dialog")}function ot(){tC(oi.call(this))}function oi(){return aO(this,"firebaseui-id-info-bar")}function on(){return aO(this,"firebaseui-id-dismiss-info-bar")}var or={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function os(e,t,i){for(var n in ig.call(this,e,t),i)this[n]=i[n]}function oa(e,t,i,n,r){aR.call(this,i),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=n||null,this.A=this.ca=null,this.Z=en(or),es(this.Z,r||{})}function oo(e){return e.N().parentElement||e.N().parentNode}function ol(e,t,i){aN(e,t,function(){i.focus()})}function oh(e,t,i){aN(e,t,function(){i()})}function ou(e,t,i){t=(e=e||{}).Va;var n=e.ia;return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+aV(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?aK(null):"")+aG(null)+'</div></div><div class="firebaseui-card-footer">'+(n?aQ(i):a$(i))+"</div></form></div>")}function oc(e,t,i){return t=(e=e||{}).ia,tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+aV(e)+aX()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+aq()+'</div><div class="firebaseui-form-actions">'+aW()+'</div></div><div class="firebaseui-card-footer">'+(t?aQ(i):a$(i))+"</div></form></div>")}function od(e,t,i){var n=(e=e||{}).Tb;t=e.Ta;var r=e.ia;return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+aV(e)+(e=n?tY(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+tK(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>'):"")+aH(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?aK(null):"")+az()+'</div></div><div class="firebaseui-card-footer">'+(r?aQ(i):a$(i))+"</div></form></div>",tY(i)}function of(e,t,i){return t=(e=e||{}).Ta,tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+aV(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?aK(null):"")+aG({label:tX("Send")})+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function op(e,t,i){t=e.G;var n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+tV(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(n+='<div class="firebaseui-form-actions">'+aG({label:tX("Done")})+"</div>"),tY(n+='</div><div class="firebaseui-card-footer">'+a$(i)+"</div></div>")}function om(e,t,i){return tY('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+a2(null,null,i)+"</div></div>")}function og(e,t,i){return tY('<div class="firebaseui-container firebaseui-id-page-spinner">'+a2({tb:!0},null,i)+"</div>")}function ov(){return tY('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function oy(e,t,i){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+tV(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+tY('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+aK({label:tX("Back")})+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>",tY(t)}function ob(e,t,i){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+tY('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+aK({label:tX("Back")})+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>",tY(e)}function ox(e,t,i){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+aV(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aK(null)+aG(null)+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function oE(){return tY('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aK({label:tX("Dismiss")})+"</div></div></div>")}function ow(){return tY('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aK({label:tX("Dismiss")})+"</div></div></div>")}function oS(e,t,i){return tY('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="You’ve already used <strong>"+tV(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+aX()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+aq()+'</div><div class="firebaseui-form-actions">'+aW()+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function oT(e,t,i){var n=e.email;return t="",e=tX(e=""+a3(e,i)),tY(t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(n="You’ve already used <strong>"+(tV(n)+("</strong>. You can connect your <strong>"+tV(e)))+"</strong> account with <strong>"+tV(n)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+tV(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aW()+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function oA(e,t,i){t="";var n=""+a3(e,i);return tY(t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+tV(n=tX(n))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(n="If you still want to connect your <strong>"+tV(n)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aY()+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function o_(e,t,i){var n=e.email;return t="",e=tX(e=""+a3(e,i)),tY(t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(n="You’ve already used <strong>"+tV(n)+"</strong>. Sign in with "+tV(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aG({label:tX("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function oC(e,t,i){var n=(e=e||{}).kc;t=e.yb,e=e.Eb;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return n?r+=n="<strong>"+tV(n)+"</strong> is not authorized to view the requested page.":r+="User is not authorized to view the requested page.",r+="</p>",t&&(r+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+tV(t)+"</strong> for authorization.")+"</p>"),r+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(r+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),tY(r+='</div><div class="firebaseui-form-actions">'+aK({label:tX("Back")})+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function oI(e,t,i){return tY('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+tV(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aK(null)+aG({label:tX("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function oP(e){var t="";return tY(t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+tV(e.email)+"</strong></p>"+aH(function(e){function t(){}var i={label:tX("New password")};for(var n in t.prototype=e,e=new t,i)e[n]=i[n];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+az()+"</div></div></form></div>")}function oR(e){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></div>")}function oO(e){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></div>")}function oM(e){var t=e.G,i="";return tY(i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+tV(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></form></div>")}function oL(e){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></div>")}function oD(e){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></div>")}function ok(e){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></div>")}function oN(e){var t=e.G,i="";return tY(i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+tV(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></div>")}function oF(e){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></div>")}function oB(e){var t=e.factorId,i=e.phoneNumber;e=e.G;var n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return"phone"===t?n+=t="The <strong>"+tV(t)+" "+tV(i)+"</strong> was removed as a second authentication step.":n+="The device or app was removed as a second authentication step.",tY(n+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></form></div>")}function oU(e){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aY()+"</div>":"")+"</div></div>")}function oj(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+tV(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=aG({label:tX("Retry")})),tY(e+"</div></div></div>")}function oV(e){return tY(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+tV(e.errorMessage)+"</p></div></div>")}function oG(e,t,i){var n=e.Qb;return tY('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+tV(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(n="You originally wanted to sign in with "+tV(n))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aK(null)+aG({label:tX("Continue")})+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function oW(e,t,i){var n='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var r=0;r<t;r++){var s={ga:e[r]},a=(s=s||{}).ga,o=s,l="";switch((o=o||{}).ga.providerId){case"google.com":l+="firebaseui-idp-google";break;case"github.com":l+="firebaseui-idp-github";break;case"facebook.com":l+="firebaseui-idp-facebook";break;case"twitter.com":l+="firebaseui-idp-twitter";break;case"phone":l+="firebaseui-idp-phone";break;case"anonymous":l+="firebaseui-idp-anonymous";break;case"password":l+="firebaseui-idp-password";break;default:l+="firebaseui-idp-generic"}o=(o='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+tK(tz(l))+' firebaseui-id-idp-button" data-provider-id="'+tK(a.providerId)+'" style="background-color:')+tK(tQ(tz((l=(l=(l=s)||{}).ga).ta?l.ta:i.wa[l.providerId]?""+i.wa[l.providerId]:0==l.providerId.indexOf("saml.")?""+i.wa.saml:0==l.providerId.indexOf("oidc.")?""+i.wa.oidc:""+i.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var h=s;l=i,l=tH((h=(h=h||{}).ga).za?t$(h.za):l.xa[h.providerId]?t$(l.xa[h.providerId]):0==h.providerId.indexOf("saml.")?t$(l.xa.saml):0==h.providerId.indexOf("oidc.")?t$(l.xa.oidc):t$(l.xa.password)),o=o+tK(t$(l))+'"></span>',"password"==a.providerId?(o+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?o+=tV(a.V):a.S?o+=s="Sign in with "+tV(a3(s,i)):o+="Sign in with email",o+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',o=(a.S?o+tV(a.S):o+"Email")+"</span>"):"phone"==a.providerId?(o+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?o+=tV(a.V):a.S?o+=s="Sign in with "+tV(a3(s,i)):o+="Sign in with phone",o+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',o=(a.S?o+tV(a.S):o+"Phone")+"</span>"):"anonymous"==a.providerId?(o+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?o+=tV(a.V):a.S?o+=s="Sign in with "+tV(a3(s,i)):o+="Continue as guest",o+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',o=(a.S?o+tV(a.S):o+"Guest")+"</span>"):(o+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?o+=tV(a.V):o+=l="Sign in with "+tV(a3(s,i)),o+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(a.S?tV(a.S):tV(a3(s,i)))+"</span>"),n+='<li class="firebaseui-list-item">'+(a=tY(o+"</button>"))+"</li>"}return tY(n+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+aQ(i)+"</div></div>")}function oz(e,t,i){var n,r=(e=e||{}).Gb,s=e.Va;return t=e.ia,n=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+tY(e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+tK(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>'))+(n=r?tY('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(s?aK(null):"")+aG({label:tX("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',i=tY((t=i.F&&i.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.")+"</p>")):i=tY('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+a$(i),tY(n+i+"</div></form></div>")}function oY(e,t,i){t=(e=e||{}).phoneNumber;var n="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+tV(t)+"</a>",tV(t),t=n,i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(n=tY('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aK(null)+aG({label:tX("Continue")})+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form>",e=tY('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),tY(t+(i+e+"</div>"))}function oH(){return tY('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function oX(e,t,i){var n='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var r=0;r<t;r++){var s=e[r],a="",o=tV(s.displayName),l=s.tenantId?s.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+tK(l=tX(l))+' firebaseui-id-tenant-selection-button"'+(s.tenantId?'data-tenant-id="'+tK(s.tenantId)+'"':"")+'style="background-color:'+tK(tQ(s.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+tK(t$(s.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?a+=tV(s.V):a+=s="Sign in to "+tV(s.displayName),n+='<li class="firebaseui-list-item">'+(a=tY(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+o+"</span></button>"))+"</li>"}return tY(n+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+aQ(i)+"</div></div>")}function oq(e,t,i){return tY('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+aV(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aG(null)+'</div></div><div class="firebaseui-card-footer">'+aQ(i)+"</div></form></div>")}function oK(){return aO(this,"firebaseui-id-submit")}function o$(){return aO(this,"firebaseui-id-secondary-link")}function oQ(e,t){aF(this,oK.call(this),function(t){e(t)});var i=o$.call(this);i&&t&&aF(this,i,function(e){t(e)})}function oJ(){return aO(this,"firebaseui-id-password")}function oZ(){return aO(this,"firebaseui-id-password-error")}function o0(){var e=oJ.call(this),t=oZ.call(this);ak(this,e,function(){aj(t)&&(aD(e,!0),aB(t))})}function o1(){var e=oJ.call(this),t=oZ.call(this);return s6(e)?(aD(e,!0),aB(t),t=!0):(aD(e,!1),aU(t,tz("Enter your password").toString()),t=!1),t?s6(e):null}function o2(e,t,i,n,r,s){oa.call(this,oS,{email:e},s,"passwordLinking",{F:n,D:r}),this.w=t,this.H=i}M(os,ig),M(oa,aR),(e=oa.prototype).kb=function(){var e=tF(this.fb,this.eb,this.Z,this.s);a4(e),this.g=e},e.v=function(){if(oa.K.v.call(this),iH(oo(this),new os("pageEnter",oo(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;aF(this,this.bb(),function(){e()})}if(this.ab()&&this.Z.D){var t=this.Z.D;aF(this,this.ab(),function(){t()})}},e.ya=function(){iH(oo(this),new os("pageExit",oo(this),{pageId:this.Ga})),oa.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,a5(this.N()),oa.K.o.call(this)},e.I=function(e,t,i,n){function r(){if(a.T)return null;a.Fa=!1,window.clearTimeout(a.ca),a.ca=null,a.A&&(a5(a.A),tC(a.A),a.A=null)}var s,a=this;return a.Fa?null:(a.Fa=!0,s=s4(a.N(),"firebaseui-use-spinner"),a.ca=window.setTimeout(function(){a.N()&&null===a.A&&(a.A=tF(a2,{tb:s},null,a.s),a.N().appendChild(a.A),a4(a.A))},500),e.apply(null,t).then(i,n).then(r,r))},P(oa.prototype,{a:function(e){ot.call(this);var t=tF(aJ,{message:e},null,this.s);this.N().appendChild(t),aF(this,on.call(this),function(){tC(t)})},yc:ot,Ac:oi,zc:on,$:function(e,t){e=tF(a0,{Ma:e,message:t},null,this.s),a8.call(this,e)},h:a7,Cb:oe,Cc:function(){return aO(this,"firebaseui-tos")},bb:function(){return aO(this,"firebaseui-tos-link")},ab:function(){return aO(this,"firebaseui-pp-link")},Dc:function(){return aO(this,"firebaseui-tos-list")}}),ou.a="firebaseui.auth.soy2.page.signIn",oc.a="firebaseui.auth.soy2.page.passwordSignIn",od.a="firebaseui.auth.soy2.page.passwordSignUp",of.a="firebaseui.auth.soy2.page.passwordRecovery",op.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",om.a="firebaseui.auth.soy2.page.callback",og.a="firebaseui.auth.soy2.page.spinner",ov.a="firebaseui.auth.soy2.page.blank",oy.a="firebaseui.auth.soy2.page.emailLinkSignInSent",ob.a="firebaseui.auth.soy2.page.emailNotReceived",ox.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",oE.a="firebaseui.auth.soy2.page.differentDeviceError",ow.a="firebaseui.auth.soy2.page.anonymousUserMismatch",oS.a="firebaseui.auth.soy2.page.passwordLinking",oT.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",oA.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",o_.a="firebaseui.auth.soy2.page.federatedLinking",oC.a="firebaseui.auth.soy2.page.unauthorizedUser",oI.a="firebaseui.auth.soy2.page.unsupportedProvider",oP.a="firebaseui.auth.soy2.page.passwordReset",oR.a="firebaseui.auth.soy2.page.passwordResetSuccess",oO.a="firebaseui.auth.soy2.page.passwordResetFailure",oM.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",oL.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",oD.a="firebaseui.auth.soy2.page.emailVerificationSuccess",ok.a="firebaseui.auth.soy2.page.emailVerificationFailure",oN.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",oF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",oB.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",oU.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",oj.a="firebaseui.auth.soy2.page.recoverableError",oV.a="firebaseui.auth.soy2.page.unrecoverableError",oG.a="firebaseui.auth.soy2.page.emailMismatch",oW.a="firebaseui.auth.soy2.page.providerSignIn",oz.a="firebaseui.auth.soy2.page.phoneSignInStart",oY.a="firebaseui.auth.soy2.page.phoneSignInFinish",oH.a="firebaseui.auth.soy2.page.signOut",oX.a="firebaseui.auth.soy2.page.selectTenant",oq.a="firebaseui.auth.soy2.page.providerMatchByEmail",s(o2,oa),o2.prototype.v=function(){this.P(),this.M(this.w,this.H),oh(this,this.i(),this.w),this.i().focus(),oa.prototype.v.call(this)},o2.prototype.o=function(){this.w=null,oa.prototype.o.call(this)},o2.prototype.j=function(){return s6(aO(this,"firebaseui-id-email"))},P(o2.prototype,{i:oJ,B:oZ,P:o0,u:o1,ea:oK,ba:o$,M:oQ});var o3=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function o4(){return aO(this,"firebaseui-id-email")}function o5(){return aO(this,"firebaseui-id-email-error")}function o9(e){var t=o4.call(this),i=o5.call(this);ak(this,t,function(){aj(i)&&(aD(t,!0),aB(i))}),e&&aN(this,t,function(){e()})}function o6(){return H(s6(o4.call(this))||"")}function o8(){var e=o4.call(this),t=o5.call(this),i=s6(e)||"";return i?o3.test(i)?(aD(e,!0),aB(t),t=!0):(aD(e,!1),aU(t,tz("That email address isn't correct").toString()),t=!1):(aD(e,!1),aU(t,tz("Enter your email address to continue").toString()),t=!1),t?H(s6(e)):null}function o7(e,t,i,n,r,s,a){oa.call(this,oc,{email:i,ia:!!s},a,"passwordSignIn",{F:n,D:r}),this.w=e,this.H=t}function le(e,t,i,n,r,s){oa.call(this,e,t,n,r||"notice",s),this.i=i||null}function lt(e,t,i,n,r){le.call(this,op,{email:e,G:!!t},t,r,"passwordRecoveryEmailSent",{F:i,D:n})}function li(e,t){le.call(this,oD,{G:!!e},e,t,"emailVerificationSuccess")}function ln(e,t){le.call(this,ok,{G:!!e},e,t,"emailVerificationFailure")}function lr(e,t,i){le.call(this,oN,{email:e,G:!!t},t,i,"verifyAndChangeEmailSuccess")}function ls(e,t){le.call(this,oF,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function la(e,t){le.call(this,oU,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function lo(e){le.call(this,oH,void 0,void 0,e,"signOut")}function ll(e,t){le.call(this,oR,{G:!!e},e,t,"passwordResetSuccess")}function lh(e,t){le.call(this,oO,{G:!!e},e,t,"passwordResetFailure")}function lu(e,t){le.call(this,oL,{G:!!e},e,t,"emailChangeRevokeFailure")}function lc(e,t,i){le.call(this,oj,{errorMessage:e,zb:!!t},t,i,"recoverableError")}function ld(e,t){le.call(this,oV,{errorMessage:e},void 0,t,"unrecoverableError")}function lf(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function lp(e,t,i,n){function r(i){if(!i.name||"cancel"!=i.name){a:{var n=i.message;try{var r=((JSON.parse(n).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(r&&r.length){var s=!0;break a}}catch(e){}s=!1}if(s)i=oo(t),t.m(),lE(e,i,void 0,tz("Your sign-in session has expired. Please try again.").toString());else{if(s=i&&i.message||"",i.code){if("auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code)return;s=lv(i)}t.a(s)}}}if(hk(e),n)return lm(e,i),nn();if(!i.credential)throw Error("No credential found!");if(!hA(e).currentUser&&!i.user)throw Error("User not logged in.");try{var s,a=(s=i,hB(e),hM(e,function(t){if(e.j&&!e.j.isAnonymous&&sx(hF(e))&&!hA(e).currentUser)return hj(e).then(function(){return"password"==s.credential.providerId&&(s.credential=null),s});if(t)return hj(e).then(function(){return t.linkWithCredential(s.credential)}).then(function(e){return s.user=e.user,s.credential=e.credential,s.operationType=e.operationType,s.additionalUserInfo=e.additionalUserInfo,s},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return hV(e,t,s.credential)});if(!s.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return hj(e).then(function(){return h_(e).updateCurrentUser(s.user)}).then(function(){return s.user=h_(e).currentUser,s.operationType="signIn",s.credential&&s.credential.providerId&&"password"==s.credential.providerId&&(s.credential=null),s})}))}catch(e){return n0(e.code||e.message,e),t.a(e.code||e.message),nn()}return i=a.then(function(t){lm(e,t)},r).then(void 0,r),hD(e,a),nn(i)}function lm(e,t){if(!t.user)throw Error("No user found");var i=sj(hF(e));if(sU(hF(e))&&i&&rs("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),i){i=sj(hF(e));var n=r5(hC(e))||void 0;r3(rZ,hC(e));var r=!1;nm()?((!i||i(t,n))&&(r=!0,ty(window.opener.location,lg(e,n))),i||window.close()):(!i||i(t,n))&&(r=!0,ty(window.location,lg(e,n))),r||e.reset()}else{i=t.user,t=t.credential,n=sU(hF(e)),r=r5(hC(e))||void 0,r3(rZ,hC(e));var s=!1;nm()?((!n||n(i,t,r))&&(s=!0,ty(window.opener.location,lg(e,r))),n||window.close()):(!n||n(i,t,r))&&(s=!0,ty(window.location,lg(e,r))),s||e.reset()}}function lg(e,t){if(!(e=t||hF(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function lv(e){var t={code:e.code},i="";switch((t=t||{}).code){case"auth/email-already-in-use":i+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":i+=tz("Please login again to perform this operation");break;case"auth/too-many-requests":i+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":i+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":i+="That email address doesn't match an existing account";break;case"auth/weak-password":i+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":i+="The email and password you entered don't match";break;case"auth/network-request-failed":i+="A network error has occurred";break;case"auth/invalid-phone-number":i+=t8();break;case"auth/invalid-verification-code":i+=tz("Wrong code. Try again.");break;case"auth/code-expired":i+="This code is no longer valid";break;case"auth/expired-action-code":i+="This code has expired.";break;case"auth/invalid-action-code":i+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=tz(i).toString())return t;try{return JSON.parse(e.message),n0("Internal error: "+e.message,void 0),ie().toString()}catch(t){return e.message}}function ly(e,t,i,n){function r(){var i,n;i=new rp(e.h.tenantId||null),n=hC(e),r4(rJ,{tenantId:i.a},n),hD(e,t.I(C(e.dc,e),[h],function(){if("file:"===(window.location&&window.location.protocol))return hD(e,hw(e).then(function(i){t.m(),r3(rJ,hC(e)),s2("callback",e,l,nn(i))},s))},o))}function s(n){if(r3(rJ,hC(e)),!n.name||"cancel"!=n.name)switch((n=lf(n)).code){case"auth/popup-blocked":r();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(lv(n));break;case"auth/admin-restricted-operation":t.m(),sI(hF(e))?s2("handleUnauthorizedUser",e,l,null,i):s2("callback",e,l,nr(n));break;default:t.m(),s2("callback",e,l,nr(n))}}function o(i){r3(rJ,hC(e)),i.name&&"cancel"==i.name||(n0("signInWithRedirect: "+i.code,void 0),i=lv(i),"blank"==t.Ga&&sF(hF(e))?(t.m(),s2("providerSignIn",e,l,i)):t.a(i))}var l=oo(t),h=function(e,t,i){var n=sy[t]&&a.default.auth[sy[t]]?new a.default.auth[sy[t]]:0==t.indexOf("saml.")?new a.default.auth.SAMLAuthProvider(t):new a.default.auth.OAuthProvider(t);if(!n)throw Error("Invalid Firebase Auth provider!");var r=sP(hF(e),t);if(n.addScope)for(var s=0;s<r.length;s++)n.addScope(r[s]);return r=sR(hF(e),t)||{},i&&(e=t==a.default.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==a.default.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=sT(hF(e),t))&&e.Ob)&&(r[e]=i),n.setCustomParameters&&n.setCustomParameters(r),n}(e,i,n);sB(hF(e))==s$?r():hD(e,(hB(e),hM(e,function(t){return t&&!r9(hC(e))?t.linkWithPopup(h).then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return hV(e,t)}):hA(e).signInWithPopup(h)})).then(function(i){t.m(),s2("callback",e,l,nn(i))},s))}function lb(e){return 1==(e=sS(hF(e))).length&&e[0]==a.default.auth.EmailAuthProvider.PROVIDER_ID}function lx(e){return 1==(e=sS(hF(e))).length&&e[0]==a.default.auth.PhoneAuthProvider.PROVIDER_ID}function lE(e,t,i,n){lb(e)?n?s2("signIn",e,t,i,n):lA(e,t,i):e&&lx(e)&&!n?s2("phoneSignInStart",e,t):e&&sF(hF(e))&&!n?s2("federatedRedirect",e,t,i):s2("providerSignIn",e,t,n,i)}function lw(e,t,i,n){var r=oo(t);hD(e,t.I(C(hA(e).fetchSignInMethodsForEmail,hA(e)),[i],function(s){t.m(),lS(e,r,s,i,n)},function(e){e=lv(e),t.a(e)}))}function lS(e,t,i,n,r,s){var o,l;i.length||sN(hF(e))&&!sN(hF(e))?V(i,a.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?s2("passwordSignIn",e,t,n,s):1==i.length&&i[0]===a.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?sN(hF(e))?s2("sendEmailLinkForSignIn",e,t,n,function(){s2("signIn",e,t)}):s2("unsupportedProvider",e,t,n):(i=sg(i,sS(hF(e))))?(o=new rc(n),l=hC(e),r4(rQ,rd(o),l),s2("federatedSignIn",e,t,n,i,r)):s2("unsupportedProvider",e,t,n):sC(hF(e))?s2("handleUnauthorizedUser",e,t,n,a.default.auth.EmailAuthProvider.PROVIDER_ID):sN(hF(e))?s2("sendEmailLinkForSignIn",e,t,n,function(){s2("signIn",e,t)}):s2("passwordSignUp",e,t,n,void 0,void 0,s)}function lT(e,t,i,n,r,s){var a=oo(t);hD(e,t.I(C(e.Ib,e),[i,s],function(){t.m(),s2("emailLinkSignInSent",e,a,i,n,s)},r))}function lA(e,t,i){i?s2("prefilledEmailSignIn",e,t,i):s2("signIn",e,t)}function l_(){return em(ny(),"oobCode")}function lC(){var e=em(ny(),"continueUrl");return e?function(){ty(window.location,e)}:null}function lI(e,t){oa.call(this,ow,void 0,t,"anonymousUserMismatch"),this.i=e}function lP(e){oa.call(this,om,void 0,e,"callback")}function lR(e,t,i){if(i.user){var n,r,s={user:i.user,credential:i.credential,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo},a=r9(hC(e)),o=a&&a.g;if(o&&!function(e,t){if(t==e.email)return!0;if(e.providerData){for(var i=0;i<e.providerData.length;i++)if(t==e.providerData[i].email)return!0}return!1}(i.user,o))n=s,r=oo(t),hD(e,hj(e).then(function(){t.m(),s2("emailMismatch",e,r,n)},function(e){e.name&&"cancel"==e.name||(e=lv(e.code),t.a(e))}));else{var l=a&&a.a;l?hD(e,i.user.linkWithCredential(l).then(function(i){lO(e,t,s={user:i.user,credential:l,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo})},function(i){lM(e,t,i)})):lO(e,t,s)}}else i=oo(t),t.m(),r6(hC(e)),lE(e,i)}function lO(e,t,i){r6(hC(e)),lp(e,t,i)}function lM(e,t,i){var n=oo(t);r6(hC(e)),i=lv(i),t.m(),lE(e,n,void 0,i)}function lL(e,t,i,n){var r=oo(t);hD(e,hA(e).fetchSignInMethodsForEmail(i).then(function(s){t.m(),s.length?V(s,a.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?s2("passwordLinking",e,r,i):1==s.length&&s[0]===a.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?s2("emailLinkSignInLinking",e,r,i):(s=sg(s,sS(hF(e))))?s2("federatedLinking",e,r,i,s,n):(r6(hC(e)),s2("unsupportedProvider",e,r,i)):(r6(hC(e)),s2("passwordRecovery",e,r,i,!1,it().toString()))},function(i){lM(e,t,i)}))}function lD(e,t){oa.call(this,oE,void 0,t,"differentDeviceError"),this.i=e}function lk(e,t,i,n){oa.call(this,oM,{email:e,G:!!i},n,"emailChangeRevoke"),this.l=t,this.i=i||null}function lN(){return aO(this,"firebaseui-id-new-password")}function lF(){return aO(this,"firebaseui-id-password-toggle")}function lB(){this.Ra=!this.Ra;var e=lF.call(this),t=lN.call(this);this.Ra?(t.type="text",s5(e,"firebaseui-input-toggle-off"),s9(e,"firebaseui-input-toggle-on")):(t.type="password",s5(e,"firebaseui-input-toggle-on"),s9(e,"firebaseui-input-toggle-off")),t.focus()}function lU(){return aO(this,"firebaseui-id-new-password-error")}function lj(){this.Ra=!1;var e,t,i,n,r=lN.call(this);r.type="password";var s=lU.call(this);ak(this,r,function(){aj(s)&&(aD(r,!0),aB(s))});var a=lF.call(this);s5(a,"firebaseui-input-toggle-on"),s9(a,"firebaseui-input-toggle-off"),e=r,t=function(){s5(a,"firebaseui-input-toggle-focus"),s9(a,"firebaseui-input-toggle-blur")},ih(this,I(iu,e=new aa(e))),ac(aM(this),e,"focusin",t),i=r,n=function(){s5(a,"firebaseui-input-toggle-blur"),s9(a,"firebaseui-input-toggle-focus")},ih(this,I(iu,i=new aa(i))),ac(aM(this),i,"focusout",n),aF(this,a,C(lB,this))}function lV(){var e=lN.call(this),t=lU.call(this);return s6(e)?(aD(e,!0),aB(t),t=!0):(aD(e,!1),aU(t,tz("Enter your password").toString()),t=!1),t?s6(e):null}function lG(e,t,i){oa.call(this,oP,{email:e},i,"passwordReset"),this.l=t}function lW(e,t,i,n,r){oa.call(this,oB,{factorId:e,phoneNumber:i||null,G:!!n},r,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=n||null}function lz(e,t,i,n){"auth/weak-password"==(n&&n.code)?(e=lv(n),aD(i.i(),!1),aU(i.w(),e),i.i().focus()):(i&&i.m(),(i=new lh).render(t),hS(e,i))}function lY(e,t){try{var i="number"==typeof e.selectionStart}catch(e){i=!1}i?(e.selectionStart=t,e.selectionEnd=t):eH&&!e5("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function lH(e,t,i,n,r,s){oa.call(this,ox,{email:i},s,"emailLinkSignInConfirmation",{F:n,D:r}),this.l=e,this.u=t}function lX(e,t,i,n,r){oa.call(this,oA,{ga:e},r,"emailLinkSignInLinkingDifferentDevice",{F:i,D:n}),this.i=t}function lq(e){oa.call(this,ov,void 0,e,"blank")}function lK(e,t,i,n,r){var s=new lq,o=new eN(i),l=o.a.a.get(eU.$a)||"",h=o.a.a.get(eU.Sa)||"",u="1"===o.a.a.get(eU.Qa),c=eF(o),d=o.a.a.get(eU.PROVIDER_ID)||null;hN(e,o=o.a.a.get(eU.vb)||null);var f=!r2(r0,hC(e)),p=n||function(e,t){t=r2(r0,t);var i=null;if(t)try{var n=rk(e,t),r=JSON.parse(n);i=r&&r.email||null}catch(e){}return i}(h,hC(e)),m=(n=function(e,t){t=r2(r1,t);var i=null;if(t)try{var n=rk(e,t);i=JSON.parse(n)}catch(e){}return rf(i||null)}(h,hC(e)))&&n.a;d&&m&&m.providerId!==d&&(m=null),s.render(t),hS(e,s),hD(e,s.I(function(){var t,n,s=nn(null);s=c&&f||f&&u?nr(Error("anonymous-user-not-found")):((n=eF(new eN(t=i)))?(t=new i9(function(t,i){var r=h_(e).onAuthStateChanged(function(e){r(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?i(Error("anonymous-user-mismatch")):i(Error("anonymous-user-not-found"))});hD(e,r)}),hD(e,t),t):nn(null)).then(function(e){if(d&&!m)throw Error("pending-credential-not-found");return e});var a=null;return s.then(function(t){return a=t,r?null:hA(e).checkActionCode(l)}).then(function(){return a})},[],function(n){p?function(e,t,i,n,r,s){var o,l,h,u,c,d,f,p,m=oo(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",tz("Signing in...").toString());var g=null;r=(s?(o=i,l=r,hB(e),h=l||null,u=(0,a.default).auth.EmailAuthProvider.credentialWithLink(o,n),o=h?hA(e).signInWithEmailLink(o,n).then(function(e){return e.user.linkWithCredential(h)}).then(function(){return hj(e)}).then(function(){return hV(e,{code:"auth/email-already-in-use"},h)}):hA(e).fetchSignInMethodsForEmail(o).then(function(t){return t.length?hV(e,{code:"auth/email-already-in-use"},u):s.linkWithCredential(u)}),hD(e,o),o):(c=i,d=r,hB(e),p=d||null,c=hA(e).signInWithEmailLink(c,n).then(function(e){if(f={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},p)return e.user.linkWithCredential(p).then(function(e){f={user:e.user,credential:p,operationType:f.operationType,additionalUserInfo:e.additionalUserInfo}})}).then(function(){hj(e)}).then(function(){return h_(e).updateCurrentUser(f.user)}).then(function(){return f.user=h_(e).currentUser,f}),hD(e,c),c)).then(function(i){r3(r1,hC(e)),r3(r0,hC(e)),t.h(),t.$("firebaseui-icon-done",tz("Signed in!").toString()),g=setTimeout(function(){t.h(),lp(e,t,i,!0)},1e3),hD(e,function(){t&&(t.h(),t.m()),clearTimeout(g)})},function(r){if(t.h(),t.m(),!r.name||"cancel"!=r.name){var s=lv(r=lf(r));"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?(r3(r1,hC(e)),r3(r0,hC(e))):"auth/invalid-email"==r.code?s2("emailLinkConfirmation",e,m,n,l$,null,s=tz("The email provided does not match the current sign-in session.").toString()):lE(e,m,i,s)}}),hD(e,r)}(e,s,p,i,m,n):u?(s.m(),s2("differentDeviceError",e,t)):(s.m(),s2("emailLinkConfirmation",e,t,i,l$))},function(n){var r=void 0;if(!n||!n.name||"cancel"!=n.name)switch(s.m(),n&&n.message){case"anonymous-user-not-found":s2("differentDeviceError",e,t);break;case"anonymous-user-mismatch":s2("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":s2("emailLinkNewDeviceLinking",e,t,i,lQ);break;default:n&&(r=lv(n)),lE(e,t,void 0,r)}}))}function l$(e,t,i,n){lK(e,t,n,i,!0)}function lQ(e,t,i){lK(e,t,i)}function lJ(e,t,i,n,r,s){oa.call(this,oT,{email:e,ga:t},s,"emailLinkSignInLinking",{F:n,D:r}),this.i=i}function lZ(e,t,i,n,r,s){oa.call(this,oy,{email:e},s,"emailLinkSignInSent",{F:n,D:r}),this.u=t,this.i=i}function l0(e,t,i,n,r,s,a){oa.call(this,oG,{jc:e,Qb:t},a,"emailMismatch",{F:r,D:s}),this.l=i,this.i=n}function l1(e,t,i,n,r){oa.call(this,ob,void 0,r,"emailNotReceived",{F:i,D:n}),this.l=e,this.i=t}function l2(e,t,i,n,r,s){oa.call(this,o_,{email:e,ga:t},s,"federatedLinking",{F:n,D:r}),this.i=i}function l3(e,t,i,n,r,s){oa.call(this,of,{email:i,Ta:!!t},s,"passwordRecovery",{F:n,D:r}),this.l=e,this.u=t}function l4(){return aO(this,"firebaseui-id-name")}function l5(){return aO(this,"firebaseui-id-name-error")}function l9(e,t,i,n,r,s,a,o,l){oa.call(this,od,{email:n,Tb:e,name:r,Ta:!!i,ia:!!o},l,"passwordSignUp",{F:s,D:a}),this.w=t,this.H=i,this.B=e}function l6(){return aO(this,"firebaseui-id-phone-confirmation-code")}function l8(){return aO(this,"firebaseui-id-phone-confirmation-code-error")}function l7(){return aO(this,"firebaseui-id-resend-countdown")}function he(e,t,i,n,r,s,a,o,l){oa.call(this,oY,{phoneNumber:r},l,"phoneSignInFinish",{F:a,D:o}),this.jb=s,this.i=new ao(1e3),this.B=s,this.P=e,this.l=t,this.H=i,this.M=n}s(o7,oa),o7.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),ol(this,this.l(),this.i()),oh(this,this.i(),this.w),s6(this.l())?this.i().focus():this.l().focus(),oa.prototype.v.call(this)},o7.prototype.o=function(){this.H=this.w=null,oa.prototype.o.call(this)},P(o7.prototype,{l:o4,U:o5,P:o9,M:o6,j:o8,i:oJ,B:oZ,ea:o0,u:o1,ua:oK,pa:o$,ba:oQ}),M(le,oa),le.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),le.K.v.call(this)},le.prototype.o=function(){this.i=null,le.K.o.call(this)},P(le.prototype,{l:oK,w:o$,u:oQ}),M(lt,le),M(li,le),M(ln,le),M(lr,le),M(ls,le),M(la,le),M(lo,le),M(ll,le),M(lh,le),M(lu,le),M(lc,le),M(ld,le),s(lI,oa),lI.prototype.v=function(){var e=this;aF(this,this.l(),function(){e.i()}),this.l().focus(),oa.prototype.v.call(this)},lI.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},P(lI.prototype,{l:o$}),s1.anonymousUserMismatch=function(e,t){var i=new lI(function(){i.m(),lE(e,t)});i.render(t),hS(e,i)},s(lP,oa),lP.prototype.I=function(e,t,i,n){return e.apply(null,t).then(i,n)},s1.callback=function(e,t,i){var n=new lP;n.render(t),hS(e,n),i=i||hw(e),hD(e,i.then(function(t){lR(e,n,t)},function(i){if((i=lf(i))&&("auth/account-exists-with-different-credential"==i.code||"auth/email-already-in-use"==i.code)&&i.email&&i.credential){var r,s;r=new rc(i.email,i.credential),s=hC(e),r4(rQ,rd(r),s),lL(e,n,i.email)}else if(i&&"auth/user-cancelled"==i.code){var a=r9(hC(e)),o=lv(i);a&&a.a?lL(e,n,a.g,o):a?lw(e,n,a.g,o):lM(e,n,i)}else i&&"auth/credential-already-in-use"==i.code||(i&&"auth/operation-not-supported-in-this-environment"==i.code&&lb(e)?lR(e,n,{user:null,credential:null}):i&&"auth/admin-restricted-operation"==i.code&&sI(hF(e))?(n.m(),r6(hC(e)),s2("handleUnauthorizedUser",e,t,null,null)):lM(e,n,i))}))},s(lD,oa),lD.prototype.v=function(){var e=this;aF(this,this.l(),function(){e.i()}),this.l().focus(),oa.prototype.v.call(this)},lD.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},P(lD.prototype,{l:o$}),s1.differentDeviceError=function(e,t){var i=new lD(function(){i.m(),lE(e,t)});i.render(t),hS(e,i)},s(lk,oa),lk.prototype.v=function(){var e=this;aF(this,aO(this,"firebaseui-id-reset-password-link"),function(){e.l()}),this.i&&(this.w(this.i),this.u().focus()),oa.prototype.v.call(this)},lk.prototype.o=function(){this.l=this.i=null,oa.prototype.o.call(this)},P(lk.prototype,{u:oK,B:o$,w:oQ}),s(lG,oa),lG.prototype.v=function(){this.H(),this.B(this.l),oh(this,this.i(),this.l),this.i().focus(),oa.prototype.v.call(this)},lG.prototype.o=function(){this.l=null,oa.prototype.o.call(this)},P(lG.prototype,{i:lN,w:lU,M:lF,H:lj,u:lV,U:oK,P:o$,B:oQ}),s(lW,oa),lW.prototype.v=function(){var e=this;aF(this,aO(this,"firebaseui-id-reset-password-link"),function(){e.l()}),this.i&&(this.w(this.i),this.u().focus()),oa.prototype.v.call(this)},lW.prototype.o=function(){this.l=this.i=null,oa.prototype.o.call(this)},P(lW.prototype,{u:oK,B:o$,w:oQ}),s1.passwordReset=function(e,t,i,n){hD(e,hA(e).verifyPasswordResetCode(i).then(function(r){var s=new lG(r,function(){var r;(r=s.u())&&hD(e,s.I(C(hA(e).confirmPasswordReset,hA(e)),[i,r],function(){s.m();var i=new ll(n);i.render(t),hS(e,i)},function(i){lz(e,t,s,i)}))});s.render(t),hS(e,s)},function(){lz(e,t)}))},s1.emailChangeRevocation=function(e,t,i){var n=null;hD(e,hA(e).checkActionCode(i).then(function(t){return n=t.data.email,hA(e).applyActionCode(i)}).then(function(){var i,r;(r=new lk(i=n,function(){hD(e,r.I(C(hA(e).sendPasswordResetEmail,hA(e)),[i],function(){r.m(),(r=new lt(i,void 0,sL(hF(e)),sD(hF(e)))).render(t),hS(e,r)},function(){r.a(t7().toString())}))})).render(t),hS(e,r)},function(){var i=new lu;i.render(t),hS(e,i)}))},s1.emailVerification=function(e,t,i,n){hD(e,hA(e).applyActionCode(i).then(function(){var i=new li(n);i.render(t),hS(e,i)},function(){var i=new ln;i.render(t),hS(e,i)}))},s1.revertSecondFactorAddition=function(e,t,i){var n=null,r=null;hD(e,hA(e).checkActionCode(i).then(function(t){return n=t.data.email,r=t.data.multiFactorInfo,hA(e).applyActionCode(i)}).then(function(){var i,s,a;i=n,(a=new lW((s=r).factorId,function(){a.I(C(hA(e).sendPasswordResetEmail,hA(e)),[i],function(){a.m(),(a=new lt(i,void 0,sL(hF(e)),sD(hF(e)))).render(t),hS(e,a)},function(){a.a(t7().toString())})},s.phoneNumber)).render(t),hS(e,a)},function(){var i=new la;i.render(t),hS(e,i)}))},s1.verifyAndChangeEmail=function(e,t,i,n){var r=null;hD(e,hA(e).checkActionCode(i).then(function(t){return r=t.data.email,hA(e).applyActionCode(i)}).then(function(){var i=new lr(r,n);i.render(t),hS(e,i)},function(){var i=new ls;i.render(t),hS(e,i)}))},s(lH,oa),lH.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),lY(this.i(),(this.i().value||"").length),oa.prototype.v.call(this)},lH.prototype.o=function(){this.u=this.l=null,oa.prototype.o.call(this)},P(lH.prototype,{i:o4,M:o5,w:o9,H:o6,j:o8,U:oK,P:o$,B:oQ}),s1.emailLinkConfirmation=function(e,t,i,n,r,s){var a=new lH(function(){var r=a.j();r?(a.m(),n(e,t,r,i)):a.i().focus()},function(){a.m(),lE(e,t,r||void 0)},r||void 0,sL(hF(e)),sD(hF(e)));a.render(t),hS(e,a),s&&a.a(s)},s(lX,oa),lX.prototype.v=function(){this.u(this.i),this.l().focus(),oa.prototype.v.call(this)},lX.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},P(lX.prototype,{l:oK,u:oQ}),s1.emailLinkNewDeviceLinking=function(e,t,i,n){var r=new eN(i);if(i=r.a.a.get(eU.PROVIDER_ID)||null,eB(r,null),i){var s=new lX(sT(hF(e),i),function(){s.m(),n(e,t,r.toString())},sL(hF(e)),sD(hF(e)));s.render(t),hS(e,s)}else lE(e,t)},s(lq,oa),s1.emailLinkSignInCallback=lK,s(lJ,oa),lJ.prototype.v=function(){this.u(this.i),this.l().focus(),oa.prototype.v.call(this)},lJ.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},P(lJ.prototype,{l:oK,u:oQ}),s1.emailLinkSignInLinking=function(e,t,i){var n=r9(hC(e));if(r6(hC(e)),n){var r=n.a.providerId,s=new lJ(i,sT(hF(e),r),function(){var t;t=oo(s),lT(e,s,i,function(){lE(e,t,i)},function(n){if(!n.name||"cancel"!=n.name){var r=lv(n);n&&"auth/network-request-failed"==n.code?s.a(r):(s.m(),lE(e,t,i,r))}},n)},sL(hF(e)),sD(hF(e)));s.render(t),hS(e,s)}else lE(e,t)},s(lZ,oa),lZ.prototype.v=function(){var e=this;aF(this,this.l(),function(){e.i()}),aF(this,aO(this,"firebaseui-id-trouble-getting-email-link"),function(){e.u()}),this.l().focus(),oa.prototype.v.call(this)},lZ.prototype.o=function(){this.i=this.u=null,oa.prototype.o.call(this)},P(lZ.prototype,{l:o$}),s1.emailLinkSignInSent=function(e,t,i,n,r){var s=new lZ(i,function(){s.m(),s2("emailNotReceived",e,t,i,n,r)},function(){s.m(),n()},sL(hF(e)),sD(hF(e)));s.render(t),hS(e,s)},s(l0,oa),l0.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),oa.prototype.v.call(this)},l0.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},P(l0.prototype,{u:oK,B:o$,w:oQ}),s1.emailMismatch=function(e,t,i){var n=r9(hC(e));if(n){var r=new l0(i.user.email,n.g,function(){r6(hC(e)),lp(e,r,i)},function(){var t=i.credential.providerId,s=oo(r);r.m(),n.a?s2("federatedLinking",e,s,n.g,t):s2("federatedSignIn",e,s,n.g,t)},sL(hF(e)),sD(hF(e)));r.render(t),hS(e,r)}else lE(e,t)},s(l1,oa),l1.prototype.v=function(){var e=this;aF(this,this.u(),function(){e.i()}),aF(this,this.Da(),function(){e.l()}),this.u().focus(),oa.prototype.v.call(this)},l1.prototype.Da=function(){return aO(this,"firebaseui-id-resend-email-link")},l1.prototype.o=function(){this.i=this.l=null,oa.prototype.o.call(this)},P(l1.prototype,{u:o$}),s1.emailNotReceived=function(e,t,i,n,r){var s=new l1(function(){lT(e,s,i,n,function(e){e=lv(e),s.a(e)},r)},function(){s.m(),lE(e,t,i)},sL(hF(e)),sD(hF(e)));s.render(t),hS(e,s)},s(l2,oa),l2.prototype.v=function(){this.u(this.i),this.l().focus(),oa.prototype.v.call(this)},l2.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},P(l2.prototype,{l:oK,u:oQ}),s1.federatedLinking=function(e,t,i,n,r){var s=r9(hC(e));if(s&&s.a){var a=new l2(i,sT(hF(e),n),function(){ly(e,a,n,i)},sL(hF(e)),sD(hF(e)));a.render(t),hS(e,a),r&&a.a(r)}else lE(e,t)},s1.federatedRedirect=function(e,t,i){var n=new lq;n.render(t),hS(e,n),t=sS(hF(e))[0],ly(e,n,t,i)},s1.federatedSignIn=function(e,t,i,n,r){var s=new l2(i,sT(hF(e),n),function(){ly(e,s,n,i)},sL(hF(e)),sD(hF(e)));s.render(t),hS(e,s),r&&s.a(r)},s1.passwordLinking=function(e,t,i){var n=r9(hC(e));r6(hC(e));var r=n&&n.a;if(r){var s=new o2(i,function(){var t;(t=s.u())?hD(e,s.I(C(e.Xb,e),[i,t],function(t){return t=t.user.linkWithCredential(r).then(function(t){return lp(e,s,{user:t.user,credential:r,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo})}),hD(e,t),t},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":aD(s.i(),!1),aU(s.B(),lv(e));break;case"auth/too-many-requests":s.a(lv(e));break;default:n0("signInWithEmailAndPassword: "+e.message,void 0),s.a(lv(e))}})):s.i().focus()},function(){s.m(),s2("passwordRecovery",e,t,i)},sL(hF(e)),sD(hF(e)));s.render(t),hS(e,s)}else lE(e,t)},s(l3,oa),l3.prototype.v=function(){this.B(),this.H(this.l,this.u),s6(this.i())||this.i().focus(),oh(this,this.i(),this.l),oa.prototype.v.call(this)},l3.prototype.o=function(){this.u=this.l=null,oa.prototype.o.call(this)},P(l3.prototype,{i:o4,w:o5,B:o9,M:o6,j:o8,U:oK,P:o$,H:oQ}),s1.passwordRecovery=function(e,t,i,n,r){var s=new l3(function(){!function(e,t){var i=t.j();if(i){var n=oo(t);hD(e,t.I(C(hA(e).sendPasswordResetEmail,hA(e)),[i],function(){t.m();var r=new lt(i,function(){r.m(),lE(e,n)},sL(hF(e)),sD(hF(e)));r.render(n),hS(e,r)},function(e){aD(t.i(),!1),aU(t.w(),lv(e))}))}else t.i().focus()}(e,s)},n?void 0:function(){s.m(),lE(e,t)},i,sL(hF(e)),sD(hF(e)));s.render(t),hS(e,s),r&&s.a(r)},s1.passwordSignIn=function(e,t,i,n){var r=new o7(function(){!function(e,t){var i=t.j(),n=t.u();if(i){if(n){var r=(0,a.default).auth.EmailAuthProvider.credential(i,n);hD(e,t.I(C(e.bc,e),[i,n],function(i){return lp(e,t,{user:i.user,credential:r,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo})},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":aD(t.l(),!1),aU(t.U(),lv(e));break;case"auth/too-many-requests":case"auth/wrong-password":aD(t.i(),!1),aU(t.B(),lv(e));break;default:n0("verifyPassword: "+e.message,void 0),t.a(lv(e))}}))}else t.i().focus()}else t.l().focus()}(e,r)},function(){var i=r.M();r.m(),s2("passwordRecovery",e,t,i)},i,sL(hF(e)),sD(hF(e)),n);r.render(t),hS(e,r)},s(l9,oa),l9.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(ol(this,this.i(),this.u()),ol(this,this.u(),this.l())):ol(this,this.i(),this.l()),this.w&&oh(this,this.l(),this.w),s6(this.i())?this.B&&!s6(this.u())?this.u().focus():this.l().focus():this.i().focus(),oa.prototype.v.call(this)},l9.prototype.o=function(){this.H=this.w=null,oa.prototype.o.call(this)},P(l9.prototype,{i:o4,U:o5,ea:o9,jb:o6,j:o8,u:l4,Bc:l5,Ja:function(){var e=l4.call(this),t=l5.call(this);ak(this,e,function(){aj(t)&&(aD(e,!0),aB(t))})},M:function(){var e=l4.call(this),t=l5.call(this),i=s6(e);return aD(e,i=!/^[\s\xa0]*$/.test(null==i?"":String(i))),i?(aB(t),t=!0):(aU(t,tz("Enter your account name").toString()),t=!1),t?H(s6(e)):null},l:lN,ba:lU,lb:lF,ua:lj,P:lV,Nb:oK,Mb:o$,pa:oQ}),s1.passwordSignUp=function(e,t,i,n,r,s){var o=new l9(sk(hF(e)),function(){!function(e,t){var i=sk(hF(e)),n=t.j(),r=null;i&&(r=t.M());var s=t.P();if(n){if(i){if(r)r=et(r);else{t.u().focus();return}}if(s){var o=(0,a.default).auth.EmailAuthProvider.credential(n,s);hD(e,t.I(C(e.Yb,e),[n,s],function(n){var s={user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};return i?(n=n.user.updateProfile({displayName:r}).then(function(){return lp(e,t,s)}),hD(e,n),n):lp(e,t,s)},function(i){if(!i.name||"cancel"!=i.name){var r=lf(i);switch(i=lv(r),r.code){case"auth/email-already-in-use":return function(e,t,i,n){function r(){var e=lv(n);aD(t.i(),!1),aU(t.U(),e),t.i().focus()}var s=hA(e).fetchSignInMethodsForEmail(i).then(function(n){n.length?r():(n=oo(t),t.m(),s2("passwordRecovery",e,n,i,!1,it().toString()))},function(){r()});return hD(e,s),s}(e,t,n,r);case"auth/too-many-requests":i=tz("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":aD(t.l(),!1),aU(t.ba(),i);break;case"auth/admin-restricted-operation":sI(hF(e))?(i=oo(t),t.m(),s2("handleUnauthorizedUser",e,i,n,a.default.auth.EmailAuthProvider.PROVIDER_ID)):t.a(i);break;default:n0(r="setAccountInfo: "+rF(r),void 0),t.a(i)}}}))}else t.l().focus()}else t.i().focus()}(e,o)},r?void 0:function(){o.m(),lE(e,t)},i,n,sL(hF(e)),sD(hF(e)),s);o.render(t),hS(e,o)},s(he,oa),he.prototype.v=function(){var e=this;this.U(this.jb),iP(this.i,"tick",this.w,!1,this),this.i.start(),aF(this,aO(this,"firebaseui-id-change-phone-number-link"),function(){e.P()}),aF(this,this.Da(),function(){e.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),oa.prototype.v.call(this)},he.prototype.o=function(){this.M=this.H=this.l=this.P=null,al(this.i),iM(this.i,"tick",this.w),this.i=null,oa.prototype.o.call(this)},he.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(al(this.i),iM(this.i,"tick",this.w),this.ua(),this.lb())},P(he.prototype,{u:l6,pa:l8,Ja:function(e){var t=l6.call(this),i=l8.call(this);ak(this,t,function(){aj(i)&&(aD(t,!0),aB(i))}),e&&aN(this,t,function(){e()})},ba:function(){var e=H(s6(l6.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:l7,U:function(e){tP(l7.call(this),tz("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){aB(this.Fb())},Da:function(){return aO(this,"firebaseui-id-resend-link")},lb:function(){aU(this.Da())},Nb:oK,Mb:o$,ea:oQ}),s1.phoneSignInFinish=function(e,t,i,n,r,s){var a=new he(function(){a.m(),s2("phoneSignInStart",e,t,i)},function(){!function(e,t,i,n){function r(e){t.u().focus(),aD(t.u(),!1),aU(t.pa(),e)}var s=t.ba();s?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",tz("Verifying...").toString()),hD(e,t.I(C(n.confirm,n),[s],function(i){t.h(),t.$("firebaseui-icon-done",tz("Verified!").toString());var n=setTimeout(function(){t.h(),t.m();var n={user:h_(e).currentUser,credential:null,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};lp(e,t,n,!0)},1e3);hD(e,function(){t&&t.h(),clearTimeout(n)})},function(n){if(n.name&&"cancel"==n.name)t.h();else{var s=lf(n);switch(n=lv(s),s.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":s=oo(t),t.h(),t.m(),s2("phoneSignInStart",e,s,i,n);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),r(n);break;default:t.h(),t.a(n)}}}))):r(tz("Wrong code. Try again.").toString())}(e,a,i,r)},function(){a.m(),lE(e,t)},function(){a.m(),s2("phoneSignInStart",e,t,i)},sm(i),n,sL(hF(e)),sD(hF(e)));a.render(t),hS(e,a),s&&a.a(s)};var ht=!eH&&!(eG("Safari")&&!(eW()||eG("Coast")||eG("Opera")||eG("Edge")||eG("Firefox")||eG("FxiOS")||eG("Silk")||eG("Android")));function hi(e,t){return/-[a-z]/.test(t)?null:ht&&e.dataset?!eG("Android")||eW()||eG("Firefox")||eG("FxiOS")||eG("Opera")||eG("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function hn(e,t,i){var n=this;e=tF(a1,{items:e},null,this.s),a8.call(this,e,!0,!0),i&&(i=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var i=0;i<e.length;i++)if(hi(e[i],"listboxid")===t)return e[i];return null}(e,i))&&(i.focus(),function(e,t){var i=(t=t||t_(document))||t_(document),n=a_(e),r=a_(i);if(!eH||9<=Number(n7)){a=aT(i,"borderLeftWidth");var s=aT(i,"borderRightWidth");o=aT(i,"borderTopWidth"),l=aT(i,"borderBottomWidth"),s=new aS(parseFloat(o),parseFloat(s),parseFloat(l),parseFloat(a))}else{var a=aI(i,"borderLeft");s=aI(i,"borderRight");var o=aI(i,"borderTop"),l=aI(i,"borderBottom");s=new aS(o,s,l,a)}i==t_(document)?(a=n.a-i.scrollLeft,n=n.g-i.scrollTop,!eH||10<=Number(n7)||(a+=s.left,n+=s.top)):(a=n.a-r.a-s.left,n=n.g-r.g-s.top),r=e.offsetWidth,s=e.offsetHeight,o=e$&&!r&&!s,e=(!d(r)||o)&&e.getBoundingClientRect?new tx((e=aA(e)).right-e.left,e.bottom-e.top):new tx(r,s),r=i.clientHeight-e.height,s=i.scrollLeft,o=i.scrollTop,s+=Math.min(a,Math.max(a-(i.clientWidth-e.width),0)),o+=Math.min(n,Math.max(n-r,0)),i=new tb(s,o),t.scrollLeft=i.a,t.scrollTop=i.g}(i,e)),aF(this,e,function(e){(e=(e=tR(e.target,"firebaseui-id-list-box-dialog-button"))&&hi(e,"listboxid"))&&(a7.call(n),t(e))})}function hr(){return aO(this,"firebaseui-id-phone-number")}function hs(){return aO(this,"firebaseui-id-country-selector")}function ha(){return aO(this,"firebaseui-id-phone-number-error")}function ho(e,t){var i=e.a,n=hl("1-US-0",i),r=null;if(!(r=t&&hl(t,i)?t:n?"1-US-0":0<i.length?i[0].c:null))throw Error("No available default country");hc.call(this,r,e)}function hl(e,t){return!(!(e=so(e))||!V(t,e))}function hh(e){return"firebaseui-flag-"+e.f}function hu(e){var t=this;hn.call(this,e.a.map(function(e){return{id:e.c,Ma:"firebaseui-flag "+hh(e),label:e.name+" ‎+"+e.b}}),function(i){hc.call(t,i,e,!0),t.O().focus()},this.Ba)}function hc(e,t,i){var n=so(e);n&&(i&&(t=sa(t,i=H(s6(hr.call(this))||""))).length&&t[0].b!=n.b&&(i="+"+n.b+i.substr(t[0].b.length+1),s8(hr.call(this),i)),t=so(this.Ba),this.Ba=e,e=aO(this,"firebaseui-id-country-selector-flag"),t&&s9(e,hh(t)),s5(e,hh(n)),tP(aO(this,"firebaseui-id-country-selector-code"),"‎+"+n.b))}function hd(e,t,i,n,r,s,a,o,l,h){oa.call(this,oz,{Gb:t,Aa:l||null,Va:!!i,ia:!!s},h,"phoneSignInStart",{F:n,D:r}),this.H=o||null,this.M=t,this.l=e,this.w=i||null,this.pa=a||null}function hf(e,t,i,n){try{var r=t.U(sY)}catch(e){return}r?sW?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",tz("Verifying...").toString()),hD(e,t.I(C(e.cc,e),[sm(r),i],function(i){var n=oo(t);t.$("firebaseui-icon-done",tz("Code sent!").toString());var s=setTimeout(function(){t.h(),t.m(),s2("phoneSignInFinish",e,n,r,15,i)},1e3);hD(e,function(){t&&t.h(),clearTimeout(s)})},function(i){if(t.h(),!i.name||"cancel"!=i.name){grecaptcha.reset(sH),sW=null;var n=i&&i.message||"";if(i.code)switch(i.code){case"auth/too-many-requests":n=tz("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":t.O().focus(),aU(t.B(),t8().toString());return;case"auth/admin-restricted-operation":if(sI(hF(e))){i=oo(t),t.m(),s2("handleUnauthorizedUser",e,i,sm(r),a.default.auth.PhoneAuthProvider.PROVIDER_ID);return}n=lv(i);break;default:n=lv(i)}t.a(n)}}))):sz?aU(t.u(),tz("Solve the reCAPTCHA").toString()):!sz&&n&&t.i().click():(t.O().focus(),aU(t.B(),t8().toString()))}function hp(e,t,i,n,r){oa.call(this,oW,{Sb:t},r,"providerSignIn",{F:i,D:n}),this.i=e}function hm(e,t,i,n,r,s,a){oa.call(this,ou,{email:i,Va:!!t,ia:!!s},a,"signIn",{F:n,D:r}),this.i=e,this.u=t}function hg(e,t,i,n,r,s,a){oa.call(this,oC,{kc:e,yb:i,Eb:!!n},a,"unauthorizedUser",{F:r,D:s}),this.l=t,this.i=n}function hv(e,t,i,n,r,s){oa.call(this,oI,{email:e},s,"unsupportedProvider",{F:n,D:r}),this.l=t,this.i=i}function hy(e,t){this.$=!1;var i=hE(t);if(hx[i])throw Error('An AuthUI instance already exists for the key "'+i+'"');hx[i]=this,this.a=e,this.u=null,this.Y=!1,hb(this.a),this.h=(0,a.default).initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(i=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===i?"":":"+i),e.options)),hb(this.h),this.h.setPersistence&&this.h.setPersistence(a.default.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new sb,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=nL.Xa(),this.j=this.C=null,this.da=this.A=!1}function hb(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}s(hd,oa),hd.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||ol(this,this.O(),this.i()),oh(this,this.i(),this.l),this.O().focus(),lY(this.O(),(this.O().value||"").length),oa.prototype.v.call(this)},hd.prototype.o=function(){this.w=this.l=null,oa.prototype.o.call(this)},P(hd.prototype,{Cb:oe,O:hr,B:ha,ea:function(e,t,i){var n=this,r=hr.call(this),s=hs.call(this),a=ha.call(this),o=e||sd,l=o.a;if(0==l.length)throw Error("No available countries provided.");ho.call(n,o,t),aF(this,s,function(){hu.call(n,o)}),ak(this,r,function(){aj(a)&&(aD(r,!0),aB(a));var e=H(s6(r)||""),t=so(this.Ba),i=sa(o,e);e=hl("1-US-0",l),i.length&&i[0].b!=t.b&&(t=i[0],hc.call(n,"1"==t.b&&e?"1-US-0":t.c,o))}),i&&aN(this,r,function(){i()})},U:function(e){var t=H(s6(hr.call(this))||""),i=(e=e||sd).a,n=sa(sd,t);if(n.length&&!V(i,n[0]))throw s8(hr.call(this)),hr.call(this).focus(),aU(ha.call(this),tz("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return i=so(this.Ba),n.length&&n[0].b!=i.b&&hc.call(this,n[0].c,e),n.length&&(t=t.substr(n[0].b.length+1)),t?new sf(this.Ba,t):null},Ja:hs,ba:function(){return aO(this,"firebaseui-recaptcha-container")},u:function(){return aO(this,"firebaseui-id-recaptcha-error")},i:oK,ua:o$,P:oQ}),s1.phoneSignInStart=function(e,t,i,n){var r,s,o,l,h,u=function(e){var t=null;if(sE(e).forEach(function(e){e.provider==a.default.auth.PhoneAuthProvider.PROVIDER_ID&&w(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=en(e.recaptchaParameters))}),t){var i=[];s0.forEach(function(e){void 0!==t[e]&&(i.push(e),delete t[e])}),i.length&&rs('The following provided "recaptchaParameters" keys are not allowed: '+i.join(", "))}return t}(hF(e))||{};sW=null,sz=!(u&&"invisible"===u.size);var c=lx(e),d=(s=(s=(r=sw(r=hF(e),a.default.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null)&&sl(s),o=null,r&&"string"==typeof r.loginHint&&(o=sp(r.loginHint)),s&&s[0]||o&&so(o.a)||null),f=c?(l=sw(l=hF(e),a.default.auth.PhoneAuthProvider.PROVIDER_ID),h=null,l&&"string"==typeof l.loginHint&&(h=sp(l.loginHint)),l&&l.defaultNationalNumber||h&&h.Aa||null):null;d=i&&i.a||d&&d.c||null,i=i&&i.Aa||f,(f=sO(hF(e)))&&su(f),sY=f?new ss(sO(hF(e))):sd;var p=new hd(function(t){hf(e,p,m,!(!t||!t.keyCode))},sz,c?null:function(){m.clear(),p.m(),lE(e,t)},sL(hF(e)),sD(hF(e)),c,sY,d,i);p.render(t),hS(e,p),n&&p.a(n),u.callback=function(t){p.u()&&aB(p.u()),sW=t,sz||hf(e,p,m)},u["expired-callback"]=function(){sW=null};var m=new a.default.auth.RecaptchaVerifier(sz?p.ba():p.i(),u,h_(e).app);hD(e,p.I(C(m.render,m),[],function(e){sH=e},function(i){i.name&&"cancel"==i.name||(i=lv(i),p.m(),lE(e,t,void 0,i))}))},s1.prefilledEmailSignIn=function(e,t,i){var n=new lq;n.render(t),hS(e,n),hD(e,n.I(C(hA(e).fetchSignInMethodsForEmail,hA(e)),[i],function(r){n.m();var s=!(!lb(e)||!hI(e));lS(e,t,r,i,void 0,s)},function(r){r=lv(r),n.m(),s2("signIn",e,t,i,r)}))},s(hp,oa),hp.prototype.v=function(){this.l(this.i),oa.prototype.v.call(this)},hp.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},P(hp.prototype,{l:function(e){function t(t){e(t)}for(var i=this.g?tw("firebaseui-id-idp-button",this.g||this.s.a):[],n=0;n<i.length;n++){var r=i[n],s=hi(r,"providerId");aF(this,r,I(t,s))}}}),s1.providerSignIn=function(e,t,i,n){var r=new hp(function(i){i==a.default.auth.EmailAuthProvider.PROVIDER_ID?(r.m(),lA(e,t,n)):i==a.default.auth.PhoneAuthProvider.PROVIDER_ID?(r.m(),s2("phoneSignInStart",e,t)):"anonymous"==i?hD(e,r.I(C(e.$b,e),[],function(t){return r.m(),lp(e,r,t,!0)},function(e){e.name&&"cancel"==e.name||(n0("ContinueAsGuest: "+e.code,void 0),e=lv(e),r.a(e))})):ly(e,r,i,n),hB(e),e.l.cancel()},sA(hF(e)),sL(hF(e)),sD(hF(e)));r.render(t),hS(e,r),i&&r.a(i),function(e){hB(e);try{var t,i;(function e(t,i,n){return t.a&&i?(t.h=!0,new i9(function(e){t.g=e,t.a.initialize({client_id:i,callback:e,auto_select:!n}),t.a.prompt()})):i?nn(nk.Xa().load().then(function(){return t.a=nM(),e(t,i,n)}).Ca(function(){return null})):nn(null)})(e.l,s_(hF(e)),(t=e,hB(t),(i=t.Z)||(i=!(!(t=sR(t=hF(t),a.default.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==t.prompt)),i)).then(function(t){return!!e.g&&function(e,t,i){if(i&&i.credential&&i.clientId===s_(hF(e))){if(sP(hF(e),a.default.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var n,r,s=JSON.parse(atob(i.credential.split(".")[1])).email}catch(e){}return ly(e,t,a.default.auth.GoogleAuthProvider.PROVIDER_ID,s),nn(!0)}return n=(0,a.default).auth.GoogleAuthProvider.credential(i.credential),r=!1,n=t.I(C(e.ac,e),[n],function(i){var n=oo(t);t.m(),s2("callback",e,n,nn(i)),r=!0},function(i){if((!i.name||"cancel"!=i.name)&&(!i||"auth/credential-already-in-use"!=i.code)){if(i&&"auth/email-already-in-use"==i.code&&i.email&&i.credential){var n=oo(t);t.m(),s2("callback",e,n,nr(i))}else i&&"auth/admin-restricted-operation"==i.code&&sI(hF(e))?(i=oo(t),t.m(),s2("handleUnauthorizedUser",e,i,null,a.default.auth.GoogleAuthProvider.PROVIDER_ID)):(i=lv(i),t.a(i))}}),hD(e,n),n.then(function(){return r},function(){return!1})}return i&&t.a(tz("The selected credential for the authentication provider is not supported!").toString()),nn(!1)}(e,e.g,t)})}catch(e){}}(e)},s1.sendEmailLinkForSignIn=function(e,t,i,n){var r=new lP;r.render(t),hS(e,r),lT(e,r,i,n,function(n){r.m(),n&&"auth/admin-restricted-operation"==n.code&&sI(hF(e))?s2("handleUnauthorizedUser",e,t,i,a.default.auth.EmailAuthProvider.PROVIDER_ID):s2("signIn",e,t,i,n=lv(n))})},s(hm,oa),hm.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),lY(this.l(),(this.l().value||"").length),oa.prototype.v.call(this)},hm.prototype.o=function(){this.u=this.i=null,oa.prototype.o.call(this)},P(hm.prototype,{l:o4,M:o5,w:o9,H:o6,j:o8,U:oK,P:o$,B:oQ}),s1.signIn=function(e,t,i,n){var r=lb(e),s=new hm(function(){var t=s.j()||"";t&&lw(e,s,t)},r?null:function(){s.m(),lE(e,t,i)},i,sL(hF(e)),sD(hF(e)),r);s.render(t),hS(e,s),n&&s.a(n)},s(hg,oa),hg.prototype.v=function(){var e=this,t=aO(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&aF(this,t,function(){e.i()}),aF(this,this.u(),function(){e.l()}),this.u().focus(),oa.prototype.v.call(this)},hg.prototype.o=function(){this.i=this.l=null,oa.prototype.o.call(this)},P(hg.prototype,{u:o$}),s1.handleUnauthorizedUser=function(e,t,i,n){function r(){lE(e,t)}n===a.default.auth.EmailAuthProvider.PROVIDER_ID?r=function(){lA(e,t)}:n===a.default.auth.PhoneAuthProvider.PROVIDER_ID&&(r=function(){s2("phoneSignInStart",e,t)});var s,o,l=null,h=null;n===a.default.auth.EmailAuthProvider.PROVIDER_ID&&sC(hF(e))?(l=(s=sw(s=hF(e),a.default.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null,h=function(e){if((e=sw(e,a.default.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"==typeof t)return function(){ng(t)}}return null}(hF(e))):sI(hF(e))&&(l=(o=(o=hF(e)).a.get("adminRestrictedOperation"))&&o.adminEmail?o.adminEmail:null,h=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"==typeof t)return function(){ng(t)}}return null}(hF(e)));var u=new hg(i,function(){u.m(),r()},l,h,sL(hF(e)),sD(hF(e)));u.render(t),hS(e,u)},s(hv,oa),hv.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),oa.prototype.v.call(this)},hv.prototype.o=function(){this.i=this.l=null,oa.prototype.o.call(this)},P(hv.prototype,{u:oK,B:o$,w:oQ}),s1.unsupportedProvider=function(e,t,i){var n=new hv(i,function(){n.m(),s2("passwordRecovery",e,t,i)},function(){n.m(),lE(e,t,i)},sL(hF(e)),sD(hF(e)));n.render(t),hS(e,n)};var hx={};function hE(e){return e||"[DEFAULT]"}function hw(e){return hB(e),e.i||(e.i=hM(e,function(t){return t&&!r9(hC(e))?nn(h_(e).getRedirectResult().then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return hV(e,t)})):nn(hA(e).getRedirectResult().then(function(t){return sx(hF(e))&&!t.user&&e.j&&!e.j.isAnonymous?h_(e).getRedirectResult():t}))})),e.i}function hS(e,t){hB(e),e.g=t}var hT=null;function hA(e){return hB(e),e.h}function h_(e){return hB(e),e.a}function hC(e){return hB(e),e.oa}function hI(e){return hB(e),e.O?e.O.emailHint:void 0}function hP(e){return"signIn"===((e=new eN(e)).a.a.get(eU.ub)||null)&&!!e.a.a.get(eU.$a)}function hR(e,t,i,n){hB(e),void 0!==e.a.languageCode&&(e.u=e.a.languageCode);var r="en".replace(/_/g,"-");e.a.languageCode=r,e.h.languageCode=r,e.Y=!0,void 0!==e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(i),e.O=n||null;var s=c.document;e.C?e.C.then(function(){"complete"==s.readyState?hO(e,t):iO(window,"load",function(){hO(e,t)})}):"complete"==s.readyState?hO(e,t):iO(window,"load",function(){hO(e,t)})}function hO(e,t){var i,n=nv(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),hT){var r=hT;hB(r),r9(hC(r))&&rs("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),hT.reset()}if(hT=e,e.T=n,i=n,e.L=null,e.J=new iq(i),e.J.register(),iP(e.J,"pageEnter",function(t){if(t=t&&t.pageId,e.L!=t){var i=hF(e);(i=sG(i).uiChanged||null)&&i(e.L,t),e.L=t}}),rY(new rH)&&rY(new rX)){t=nv(t,"Could not find the FirebaseUI widget element on the page."),n=(n=em(n=ny(),r=si(hF(e).a,"queryParameterForSignInSuccessUrl")))?tr(ta(n)).toString():null;a:{for(s in r=em(r=ny(),sM(hF(e)))||"",sJ)if(sJ[s].toLowerCase()==r.toLowerCase()){var s=sJ[s];break a}s="callback"}switch(s){case"callback":n&&r4(rZ,n,s=hC(e)),e.nb()?s2("callback",e,t):lE(e,t,hI(e));break;case"resetPassword":s2("passwordReset",e,t,l_(),lC());break;case"recoverEmail":s2("emailChangeRevocation",e,t,l_());break;case"revertSecondFactorAddition":s2("revertSecondFactorAddition",e,t,l_());break;case"verifyEmail":s2("emailVerification",e,t,l_(),lC());break;case"verifyAndChangeEmail":s2("verifyAndChangeEmail",e,t,l_(),lC());break;case"signIn":s2("emailLinkSignInCallback",e,t,ny()),hU();break;case"select":n&&r4(rZ,n,s=hC(e)),lE(e,t);break;default:throw Error("Unhandled widget operation.")}(t=sG(t=hF(e)).uiShown||null)&&t()}else t=nv(t,"Could not find the FirebaseUI widget element on the page."),(s=new ld(tz("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),hS(e,s);t=e.g&&"blank"==e.g.Ga&&sF(hF(e)),r8(hC(e))&&!t&&(t=r8(hC(e)),hN(e,t.a),r3(rJ,hC(e)))}function hM(e,t){if(e.A)return t(hL(e));if(hD(e,function(){e.A=!1}),sx(hF(e))){var i=new i9(function(i){hD(e,e.a.onAuthStateChanged(function(n){e.j=n,e.A||(e.A=!0,i(t(hL(e))))}))});return hD(e,i),i}return e.A=!0,t(null)}function hL(e){return hB(e),sx(hF(e))&&e.j&&e.j.isAnonymous?e.j:null}function hD(e,t){if(hB(e),t){e.s.push(t);var i=function(){var i,n,r;i=e.s,n=function(e){return e==t},r=0,function(e,t){for(var i=f(e)?e.split(""):e,n=e.length-1;0<=n;--n)n in i&&t.call(void 0,i[n],n,e)}(i,function(e,t){n.call(void 0,e,t,i)&&W(i,t)&&r++})};"function"!=typeof t&&t.then(i,i)}}function hk(e){void 0!==e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function hN(e,t){e.a.tenantId=t,e.h.tenantId=t}function hF(e){return hB(e),e.ca}function hB(e){if(e.$)throw Error("AuthUI instance is deleted!")}function hU(){var e=ny();if(hP(e)){for(var t in e=new eN(e),eU)eU.hasOwnProperty(t)&&eM(e.a.a,eU[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var i=c.document.title;c.history&&c.history.replaceState&&c.history.replaceState(t,i,e.toString())}}function hj(e){return hB(e),hA(e).signOut()}function hV(e,t,i){if(hB(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var n=sV(hF(e));return nn().then(function(){return n(new ir("anonymous-upgrade-merge-conflict",null,i||t.credential))}).then(function(){throw e.g&&(e.g.m(),e.g=null),t})}return nr(t)}function hG(e,t,i,n){oa.call(this,oq,void 0,n,"providerMatchByEmail",{F:t,D:i}),this.i=e}function hW(e,t,i,n,r){oa.call(this,oX,{ec:t},r,"selectTenant",{F:i,D:n}),this.i=e}function hz(e){oa.call(this,og,void 0,e,"spinner")}function hY(e){for(var t in this.a=new r7,se(this.a,"authDomain"),se(this.a,"displayMode",hJ),se(this.a,"tenants"),se(this.a,"callbacks"),se(this.a,"tosUrl"),se(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{st(this.a,t,e[t])}catch(e){n0('Invalid config: "'+t+'"',void 0)}}function hH(e){return e.a.get("callbacks")||{}}function hX(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&rs("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){ng(t)}}return null}function hq(e){var t=e.a.get("tosUrl")||null,i=e.a.get("privacyPolicyUrl")||null;if(i&&!t&&rs("Terms of Service URL is missing, the link will not be displayed."),t&&i){if("function"==typeof i)return i;if("string"==typeof i)return function(){ng(i)}}return null}function hK(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty(h0))throw Error("Invalid tenant configuration!")}function h$(e,t,i){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var n=[];if(!(e=e[t]||e[h0]))return n0("Invalid tenant configuration: "+t+" is not configured!",void 0),n;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach(function(e){if("string"==typeof e)n.push(e);else if("string"==typeof e.provider){var t=e.hd;t&&i?(t instanceof RegExp?t:RegExp("@"+t.replace(".","\\.")+"$")).test(i)&&n.push(e.provider):n.push(e.provider)}else n0(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)}),n}(e=hy.prototype).nb=function(){return hB(this),!!r8(hC(this))||hP(ny())},e.start=function(e,t){hR(this,e,t)},e.Db=function(){hB(this),this.Z=!0},e.reset=function(){hB(this);var e,t,i=this;this.T&&this.T.removeAttribute("lang"),this.J&&iz[t=iX((e=this.J).N())]&&iz[t].length&&(function(e,t){a:{for(var i=e.length,n=f(e)?e.split(""):e,r=0;r<i;r++)if(r in n&&t.call(void 0,n[r],r,e)){t=r;break a}t=-1}0<=t&&W(e,t)}(iz[t],function(t){return t==e}),iz[t].length||delete iz[t]),hk(this),this.O=null,hU(),r3(rJ,hC(this)),hB(this),this.l.cancel(),this.i=nn({user:null,credential:null}),hT==this&&(hT=null),this.T=null;for(var n=0;n<this.s.length;n++)"function"==typeof this.s[n]?this.s[n]():this.s[n].cancel&&this.s[n].cancel();this.s=[],r6(hC(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=hj(this).then(function(){i.C=null},function(){i.C=null}))},e.ib=function(e){hB(this);var t,i=this.ca;for(t in e)try{st(i.a,t,e[t])}catch(e){n0('Invalid config: "'+t+'"',void 0)}eQ&&st(i.a,"popupMode",!1),sO(i),!this.da&&sU(hF(this))&&(rs("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){hB(this);var e=hF(this),t=si(e.a,"widgetUrl");e=sM(e);for(var i,n=t.search(ep),r=0,s=[];0<=(i=ef(t,r,e,n));)s.push(t.substring(r,i)),r=Math.min(t.indexOf("&",i)+1||n,n);s.push(t.substr(r)),t=s.join("").replace(eg,"$1"),(e+=n="="+encodeURIComponent("select"))?(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n?(r=n,i=""):i=t.substring(r+1,n),n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,n=t[0]+(t[1]?"?"+t[1]:"")+t[2]):n=t,hF(this).a.get("popupMode")?(e=(window.screen.availHeight-600)/2,t=(window.screen.availWidth-500)/2,n=n||"about:blank",(e={width:500,height:600,top:0<e?e:0,left:0<t?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||n.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=np(n,e))&&e.focus()):ty(window.location,n)},e.Wa=function(){var e=this;return hB(this),this.h.app.delete().then(function(){var t=hE(hC(e));delete hx[t],e.reset(),e.$=!0})},e.Ib=function(e,t){hB(this);var i,n,r,s=this,o=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!sN(hF(this)))return nr(Error("Email link sign-in should be enabled to trigger email sending."));var l=function(e){if(sN(e)){var t={url:ny(),handleCodeInApp:!0};(e=sw(e,a.default.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof e.emailLinkSignIn&&es(t,e.emailLinkSignIn()),e=t.url;var i=ny();i instanceof ev||(i=eE(i)),e instanceof ev||(e=eE(e));var n=i;i=new ev(n);var r=!!e.j;r?ey(i,e.j):r=!!e.A,r?i.A=e.A:r=!!e.h,r?i.h=e.h:r=null!=e.C;var s=e.g;if(r)eb(i,e.C);else if(r=!!e.g){if("/"!=s.charAt(0)&&(n.h&&!n.g?s="/"+s:-1!=(n=i.g.lastIndexOf("/"))&&(s=i.g.substr(0,n+1)+s)),".."==s||"."==s)s="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){n=0==s.lastIndexOf("/",0),s=s.split("/");for(var o=[],l=0;l<s.length;){var h=s[l++];"."==h?n&&l==s.length&&o.push(""):".."==h?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),n&&l==s.length&&o.push("")):(o.push(h),n=!0)}s=o.join("/")}}return r?i.g=s:r=""!==e.a.toString(),r?ex(i,eD(e.a)):r=!!e.s,r&&(i.s=e.s),t.url=i.toString(),t}return null}(hF(this)),h=new eN(l.url);return o?h.a.a.set(eU.Sa,o):eM(h.a.a,eU.Sa),t&&t.a&&(i=hC(this),r4(r1,rD(o,JSON.stringify(rd(t))),i),eB(h,t.a.providerId)),r=!(!(n=sw(n=hF(this),a.default.auth.EmailAuthProvider.PROVIDER_ID))||!n.forceSameDevice),h.a.a.set(eU.Qa,r?"1":"0"),hM(this,function(t){return t&&((t=t.uid)?h.a.a.set(eU.Pa,t):eM(h.a.a,eU.Pa)),l.url=h.toString(),hA(s).sendSignInLinkToEmail(e,l)}).then(function(){var t=hC(s),i={};i.email=e,r4(r0,rD(o,JSON.stringify(i)),t)},function(e){throw r3(r1,hC(s)),r3(r0,hC(s)),e})},e.bc=function(e,t){hB(this);var i=this;return hA(this).signInWithEmailAndPassword(e,t).then(function(n){return hM(i,function(r){return r?hj(i).then(function(){return hV(i,{code:"auth/email-already-in-use"},(0,a.default).auth.EmailAuthProvider.credential(e,t))}):n})})},e.Yb=function(e,t){hB(this);var i=this;return hM(this,function(n){if(n){var r=(0,a.default).auth.EmailAuthProvider.credential(e,t);return n.linkWithCredential(r)}return hA(i).createUserWithEmailAndPassword(e,t)})},e.ac=function(e){hB(this);var t=this;return hM(this,function(i){return i?i.linkWithCredential(e).then(function(e){return e},function(i){if(i&&"auth/email-already-in-use"==i.code&&i.email&&i.credential)throw i;return hV(t,i,e)}):hA(t).signInWithCredential(e)})},e.dc=function(e){hB(this);var t=this,i=this.i;return this.i=null,hM(this,function(i){return i&&!r9(hC(t))?i.linkWithRedirect(e):hA(t).signInWithRedirect(e)}).then(function(){},function(e){throw t.i=i,e})},e.cc=function(e,t){hB(this);var i=this;return hM(this,function(n){return n?n.linkWithPhoneNumber(e,t).then(function(e){return new nN(e,function(e){if("auth/credential-already-in-use"==e.code)return hV(i,e);throw e})}):h_(i).signInWithPhoneNumber(e,t).then(function(e){return new nN(e)})})},e.$b=function(){return hB(this),h_(this).signInAnonymously()},e.Xb=function(e,t){return hB(this),hA(this).signInWithEmailAndPassword(e,t)},s(hG,oa),hG.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),lY(this.l(),(this.l().value||"").length),oa.prototype.v.call(this)},hG.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},P(hG.prototype,{l:o4,H:o5,u:o9,B:o6,j:o8,M:oK,w:oQ}),s(hW,oa),hW.prototype.v=function(){(function(e,t){function i(e){t(e)}for(var n=e.g?tw("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],r=0;r<n.length;r++){var s=n[r],a=hi(s,"tenantId");aF(e,s,I(i,a))}})(this,this.i),oa.prototype.v.call(this)},hW.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},s(hz,oa);var hQ=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],hJ="optionFirst",hZ={pc:hJ,oc:"identifierFirst"},h0="*";function h1(e,t){var i=this;this.s=nv(e),this.a={},Object.keys(t).forEach(function(e){i.a[e]=new hY(t[e])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function h2(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=h1.prototype).Ub=function(e,t){var i=this;h2(this);var n=e.apiKey;return new i9(function(e,r){if(i.a.hasOwnProperty(n)){var s=hH(i.a[n]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),hZ)if(hZ[t]===e)return hZ[t];return hJ}(i.a[n])===hJ){var a=[];t.forEach(function(e){e=e||"_";var t=i.a[n].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[h0])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(n0("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)});var o=function(t){e(t={tenantId:t,providerIds:h$(i.a[n],t||"_")})};if(1===a.length){o(a[0].tenantId);return}i.g=new hW(function(e){h2(i),s&&s(),o(e)},a,hX(i.a[n]),hq(i.a[n]))}else i.g=new hG(function(){var r=i.g.j();if(r){for(var a=0;a<t.length;a++){var o=h$(i.a[n],t[a]||"_",r);if(0!==o.length){r={tenantId:t[a],providerIds:o,email:r},h2(i),s&&s(),e(r);return}}i.g.a(ii({code:"no-matching-tenant-for-email"}).toString())}},hX(i.a[n]),hq(i.a[n]));i.g.render(i.s),(r=hH(i.a[n]).selectTenantUiShown||null)&&r()}else{var l=Error("Invalid project configuration: API key is invalid!");l.code="invalid-configuration",i.pb(l),r(l)}})},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var i=t||void 0;hK(this.a[e],t||"_");try{this.i=(0,a.default).app(i).auth()}catch(r){var n=this.a[e].a.get("authDomain");if(!n)throw Error("Invalid project configuration: authDomain is required!");(e=(0,a.default).initializeApp({apiKey:e,authDomain:n},i)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var i=this;return new i9(function(n,r){function s(t,n){i.j=new hy(e),hR(i.j,i.s,t,n)}var a,o,l,h,u,c,d,f,p,m=e.app.options.apiKey;i.a.hasOwnProperty(m)||r(Error("Invalid project configuration: API key is invalid!"));var g=(c=i.a[m],d=e.tenantId||"_",f=t&&t.providerIds,(d=(u=void 0===u?{}:u,hK(a=c,o=d),l=(a=a.a.get("tenants"))[o]||a[h0],h=void 0===(h=u)?{}:h,c=Object.keys(l).filter(function(e){return hQ.includes(e)}).reduce(function(e,t){return e[t]=l[t],e},h)).signInOptions)&&f&&(d=d.filter(function(e){return"string"==typeof e?f.includes(e):f.includes(e.provider)}),c.signInOptions=d),c);h2(i),r={signInSuccessWithAuthResult:function(e){return n(e),!1}};var v=hH(i.a[m]).signInUiShown||null,y=!1;r.uiChanged=function(t,n){null===t&&"callback"===n?((t=tS("firebaseui-id-page-callback",i.s))&&aB(t),i.h=new hz,i.h.render(i.s)):y||null===t&&"spinner"===n||"blank"===n||(i.h&&(i.h.m(),i.h=null),y=!0,v&&v(e.tenantId))},g.callbacks=r,g.credentialHelper="none",t&&t.email&&(p={emailHint:t.email}),i.j?i.j.Wa().then(function(){s(g,p)}):s(g,p)})},e.reset=function(){var e=this;return nn().then(function(){e.j&&e.j.Wa()}).then(function(){e.j=null,h2(e)})},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout(function(){h2(e),e.h=new hz,e.g=e.h,e.h.render(e.s),e.A=null},500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return h2(this),this.g=new lo,this.g.render(this.s),nn()},e.pb=function(e){var t,i=this,n=ii({code:e.code}).toString()||e.message;h2(this),e.retry&&"function"==typeof e.retry&&(t=function(){i.reset(),e.retry()}),this.g=new lc(n,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return nn().then(function(){var i=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(i))throw Error("Invalid project configuration: API key is invalid!");if(hK(t.a[i],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(i=hH(t.a[i]).beforeSignInSuccess||null)?i(e):e}).then(function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t})},O("firebaseui.auth.FirebaseUiHandler",h1),O("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",h1.prototype.Ub),O("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",h1.prototype.Pb),O("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",h1.prototype.Zb),O("firebaseui.auth.FirebaseUiHandler.prototype.reset",h1.prototype.reset),O("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",h1.prototype.Vb),O("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",h1.prototype.mb),O("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",h1.prototype.Bb),O("firebaseui.auth.FirebaseUiHandler.prototype.handleError",h1.prototype.pb),O("firebaseui.auth.FirebaseUiHandler.prototype.processUser",h1.prototype.Rb),O("firebaseui.auth.AuthUI",hy),O("firebaseui.auth.AuthUI.getInstance",function(e){return hx[e=hE(e)]?hx[e]:null}),O("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",hy.prototype.Db),O("firebaseui.auth.AuthUI.prototype.start",hy.prototype.start),O("firebaseui.auth.AuthUI.prototype.setConfig",hy.prototype.ib),O("firebaseui.auth.AuthUI.prototype.signIn",hy.prototype.Wb),O("firebaseui.auth.AuthUI.prototype.reset",hy.prototype.reset),O("firebaseui.auth.AuthUI.prototype.delete",hy.prototype.Wa),O("firebaseui.auth.AuthUI.prototype.isPendingRedirect",hy.prototype.nb),O("firebaseui.auth.AuthUIError",ir),O("firebaseui.auth.AuthUIError.prototype.toJSON",ir.prototype.toJSON),O("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",sX),O("firebaseui.auth.CredentialHelper.NONE",sq),O("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),i9.prototype.catch=i9.prototype.Ca,i9.prototype.finally=i9.prototype.fc}).apply(void 0!==h?h:"undefined"!=typeof self?self:window)}).apply(void 0!==h?h:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=l.default);var u=firebaseui.auth},{"firebase/compat/app":"llQKY","firebase/compat/auth":"3ZnGS","dialog-polyfill":"a0qnr","material-design-lite/src/mdlComponentHandler":"fenpL","material-design-lite/src/button/button":"5EQJC","material-design-lite/src/progress/progress":"k5ZeA","material-design-lite/src/spinner/spinner":"8dhF5","material-design-lite/src/textfield/textfield":"kNxcX","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"3ZnGS":[function(e,t,i,n){e("@firebase/auth-compat")},{"@firebase/auth-compat":"iuJLk"}],iuJLk:[function(e,t,i,n){var r,s=e("@parcel/transformer-js/src/esmodule-helpers.js"),a=e("@firebase/app-compat"),o=s.interopDefault(a),l=e("@firebase/auth/internal"),h=e("@firebase/component"),u=e("@firebase/util"),c=arguments[3];function d(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function f(e=(0,u.getUA)()){return!!(("file:"===d()||"ionic:"===d()||"capacitor:"===d())&&e.toLowerCase().match(/iphone|ipad|ipod|android/))}function p(){try{let e=self.localStorage,t=l._generateEventId();if(e){if(e.setItem(t,"1"),e.removeItem(t),function(e=(0,u.getUA)()){return(0,u.isIE)()&&(null==document?void 0:document.documentMode)===11||function(e=(0,u.getUA)()){return/Edge\/\d+/.test(e)}(e)}())return(0,u.isIndexedDBAvailable)();return!0}}catch(e){return m()&&(0,u.isIndexedDBAvailable)()}return!1}function m(){return void 0!==c&&"WorkerGlobalScope"in c&&"importScripts"in c}function g(){return("http:"===d()||"https:"===d()||(0,u.isBrowserExtension)()||f())&&!((0,u.isReactNative)()||(0,u.isNode)())&&p()&&!m()}function v(){return f()&&"undefined"!=typeof document}async function y(){return!!v()&&new Promise(e=>{let t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b={LOCAL:"local",NONE:"none",SESSION:"session"},x=l._assert,E="persistence";async function w(e){await e._initializationPromise;let t=S(),i=l._persistenceKeyName(E,e.config.apiKey,e.name);t&&t.setItem(i,e._getPersistence())}function S(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T=l._assert;class A{constructor(){this.browserResolver=l._getInstance(l.browserPopupRedirectResolver),this.cordovaResolver=l._getInstance(l.cordovaPopupRedirectResolver),this.underlyingResolver=null,this._redirectPersistence=l.browserSessionPersistence,this._completeRedirectFn=l._getRedirectResult,this._overrideRedirectResult=l._overrideRedirectResult}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,n){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,n)}async _openRedirect(e,t,i,n){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,n)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return v()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return T(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;let e=await y();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function _(e){let t;let{_tokenResponse:i}=e instanceof u.FirebaseError?e.customData:e;if(!i)return null;if(!(e instanceof u.FirebaseError)&&"temporaryProof"in i&&"phoneNumber"in i)return l.PhoneAuthProvider.credentialFromResult(e);let n=i.providerId;if(!n||n===l.ProviderId.PASSWORD)return null;switch(n){case l.ProviderId.GOOGLE:t=l.GoogleAuthProvider;break;case l.ProviderId.FACEBOOK:t=l.FacebookAuthProvider;break;case l.ProviderId.GITHUB:t=l.GithubAuthProvider;break;case l.ProviderId.TWITTER:t=l.TwitterAuthProvider;break;default:let{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:h}=i;if(!s&&!a&&!r&&!o)return null;if(o){if(n.startsWith("saml."))return l.SAMLAuthCredential._create(n,o);return l.OAuthCredential._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:r,accessToken:s})}return new l.OAuthProvider(n).credential({idToken:r,accessToken:s,rawNonce:h})}return e instanceof u.FirebaseError?t.credentialFromError(e):t.credentialFromResult(e)}function C(e,t){return t.catch(t=>{throw t instanceof u.FirebaseError&&function(e,t){var i;let n=null===(i=t.customData)||void 0===i?void 0:i._tokenResponse;if((null==t?void 0:t.code)==="auth/multi-factor-auth-required")t.resolver=new P(e,l.getMultiFactorResolver(e,t));else if(n){let e=_(t);e&&(t.credential=e,t.tenantId=n.tenantId||void 0,t.email=n.email||void 0,t.phoneNumber=n.phoneNumber||void 0)}}(e,t),t}).then(e=>{let t=e.operationType,i=e.user;return{operationType:t,credential:_(e),additionalUserInfo:l.getAdditionalUserInfo(e),user:R.getOrCreate(i)}})}async function I(e,t){let i=await t;return{verificationId:i.verificationId,confirm:t=>C(e,i.confirm(t))}}class P{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return C(this.auth.unwrap(),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this._delegate=e,this.multiFactor=l.multiFactor(e)}static getOrCreate(e){return R.USER_MAP.has(e)||R.USER_MAP.set(e,new R(e)),R.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return C(this.auth,l.linkWithCredential(this._delegate,e))}async linkWithPhoneNumber(e,t){return I(this.auth,l.linkWithPhoneNumber(this._delegate,e,t))}async linkWithPopup(e){return C(this.auth,l.linkWithPopup(this._delegate,e,A))}async linkWithRedirect(e){return await w(l._castAuth(this.auth)),l.linkWithRedirect(this._delegate,e,A)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return C(this.auth,l.reauthenticateWithCredential(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return I(this.auth,l.reauthenticateWithPhoneNumber(this._delegate,e,t))}reauthenticateWithPopup(e){return C(this.auth,l.reauthenticateWithPopup(this._delegate,e,A))}async reauthenticateWithRedirect(e){return await w(l._castAuth(this.auth)),l.reauthenticateWithRedirect(this._delegate,e,A)}sendEmailVerification(e){return l.sendEmailVerification(this._delegate,e)}async unlink(e){return await l.unlink(this._delegate,e),this}updateEmail(e){return l.updateEmail(this._delegate,e)}updatePassword(e){return l.updatePassword(this._delegate,e)}updatePhoneNumber(e){return l.updatePhoneNumber(this._delegate,e)}updateProfile(e){return l.updateProfile(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return l.verifyBeforeUpdateEmail(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}R.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O=l._assert;class M{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:i}=e.options;O(i,"invalid-api-key",{appName:e.name}),O(i,"invalid-api-key",{appName:e.name});let n="undefined"!=typeof window?A:void 0;this._delegate=t.initialize({options:{persistence:function(e,t){let i=function(e,t){let i=S();if(!i)return[];let n=l._persistenceKeyName(E,e,t);switch(i.getItem(n)){case b.NONE:return[l.inMemoryPersistence];case b.LOCAL:return[l.indexedDBLocalPersistence,l.browserSessionPersistence];case b.SESSION:return[l.browserSessionPersistence];default:return[]}}(e,t);if("undefined"==typeof self||i.includes(l.indexedDBLocalPersistence)||i.push(l.indexedDBLocalPersistence),"undefined"!=typeof window)for(let e of[l.browserLocalPersistence,l.browserSessionPersistence])i.includes(e)||i.push(e);return i.includes(l.inMemoryPersistence)||i.push(l.inMemoryPersistence),i}(i,e.name),popupRedirectResolver:n}}),this._delegate._updateErrorMap(l.debugErrorMap),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?R.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){l.connectAuthEmulator(this._delegate,e,t)}applyActionCode(e){return l.applyActionCode(this._delegate,e)}checkActionCode(e){return l.checkActionCode(this._delegate,e)}confirmPasswordReset(e,t){return l.confirmPasswordReset(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return C(this._delegate,l.createUserWithEmailAndPassword(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return l.fetchSignInMethodsForEmail(this._delegate,e)}isSignInWithEmailLink(e){return l.isSignInWithEmailLink(this._delegate,e)}async getRedirectResult(){O(g(),this._delegate,"operation-not-supported-in-this-environment");let e=await l.getRedirectResult(this._delegate,A);return e?C(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){l.addFrameworkForLogging(this._delegate,e)}onAuthStateChanged(e,t,i){let{next:n,error:r,complete:s}=L(e,t,i);return this._delegate.onAuthStateChanged(n,r,s)}onIdTokenChanged(e,t,i){let{next:n,error:r,complete:s}=L(e,t,i);return this._delegate.onIdTokenChanged(n,r,s)}sendSignInLinkToEmail(e,t){return l.sendSignInLinkToEmail(this._delegate,e,t)}sendPasswordResetEmail(e,t){return l.sendPasswordResetEmail(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(!function(e,t){if(x(Object.values(b).includes(t),e,"invalid-persistence-type"),(0,u.isReactNative)()){x(t!==b.SESSION,e,"unsupported-persistence-type");return}if((0,u.isNode)()){x(t===b.NONE,e,"unsupported-persistence-type");return}if(m()){x(t===b.NONE||t===b.LOCAL&&(0,u.isIndexedDBAvailable)(),e,"unsupported-persistence-type");return}x(t===b.NONE||p(),e,"unsupported-persistence-type")}(this._delegate,e),e){case b.SESSION:t=l.browserSessionPersistence;break;case b.LOCAL:t=await l._getInstance(l.indexedDBLocalPersistence)._isAvailable()?l.indexedDBLocalPersistence:l.browserLocalPersistence;break;case b.NONE:t=l.inMemoryPersistence;break;default:return l._fail("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return C(this._delegate,l.signInAnonymously(this._delegate))}signInWithCredential(e){return C(this._delegate,l.signInWithCredential(this._delegate,e))}signInWithCustomToken(e){return C(this._delegate,l.signInWithCustomToken(this._delegate,e))}signInWithEmailAndPassword(e,t){return C(this._delegate,l.signInWithEmailAndPassword(this._delegate,e,t))}signInWithEmailLink(e,t){return C(this._delegate,l.signInWithEmailLink(this._delegate,e,t))}signInWithPhoneNumber(e,t){return I(this._delegate,l.signInWithPhoneNumber(this._delegate,e,t))}async signInWithPopup(e){return O(g(),this._delegate,"operation-not-supported-in-this-environment"),C(this._delegate,l.signInWithPopup(this._delegate,e,A))}async signInWithRedirect(e){return O(g(),this._delegate,"operation-not-supported-in-this-environment"),await w(this._delegate),l.signInWithRedirect(this._delegate,e,A)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return l.verifyPasswordResetCode(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function L(e,t,i){let n=e;"function"!=typeof e&&({next:n,error:t,complete:i}=e);let r=n;return{next:e=>r(e&&R.getOrCreate(e)),error:t,complete:i}}M.Persistence=b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(){this.providerId="phone",this._delegate=new l.PhoneAuthProvider((0,o.default).auth().unwrap())}static credential(e,t){return l.PhoneAuthProvider.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}D.PHONE_SIGN_IN_METHOD=l.PhoneAuthProvider.PHONE_SIGN_IN_METHOD,D.PROVIDER_ID=l.PhoneAuthProvider.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k=l._assert;(r=o.default).INTERNAL.registerComponent(new(0,h.Component)("auth-compat",e=>new M(e.getProvider("app-compat").getImmediate(),e.getProvider("auth")),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:l.ActionCodeOperation.EMAIL_SIGNIN,PASSWORD_RESET:l.ActionCodeOperation.PASSWORD_RESET,RECOVER_EMAIL:l.ActionCodeOperation.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:l.ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:l.ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:l.ActionCodeOperation.VERIFY_EMAIL}},EmailAuthProvider:l.EmailAuthProvider,FacebookAuthProvider:l.FacebookAuthProvider,GithubAuthProvider:l.GithubAuthProvider,GoogleAuthProvider:l.GoogleAuthProvider,OAuthProvider:l.OAuthProvider,SAMLAuthProvider:l.SAMLAuthProvider,PhoneAuthProvider:D,PhoneMultiFactorGenerator:l.PhoneMultiFactorGenerator,RecaptchaVerifier:class{constructor(e,t,i=(0,o.default).app()){var n;k(null===(n=i.options)||void 0===n?void 0:n.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new l.RecaptchaVerifier(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:l.TwitterAuthProvider,Auth:M,AuthCredential:l.AuthCredential,Error:u.FirebaseError}).setInstantiationMode("LAZY").setMultipleInstances(!1)),r.registerVersion("@firebase/auth-compat","0.5.14")},{"@firebase/app-compat":"9Npvu","@firebase/auth/internal":"geiDV","@firebase/component":"dVjVM","@firebase/util":"j1gcd","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],geiDV:[function(e,t,i,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"ActionCodeOperation",()=>s.A),r.export(i,"ActionCodeURL",()=>s.ai),r.export(i,"AuthCredential",()=>s.L),r.export(i,"AuthErrorCodes",()=>s.I),r.export(i,"AuthImpl",()=>s.aL),r.export(i,"AuthPopup",()=>s.aO),r.export(i,"EmailAuthCredential",()=>s.M),r.export(i,"EmailAuthProvider",()=>s.V),r.export(i,"FacebookAuthProvider",()=>s.W),r.export(i,"FactorId",()=>s.F),r.export(i,"FetchProvider",()=>s.aP),r.export(i,"GithubAuthProvider",()=>s.Y),r.export(i,"GoogleAuthProvider",()=>s.X),r.export(i,"OAuthCredential",()=>s.N),r.export(i,"OAuthProvider",()=>s.Z),r.export(i,"OperationType",()=>s.O),r.export(i,"PhoneAuthCredential",()=>s.Q),r.export(i,"PhoneAuthProvider",()=>s.P),r.export(i,"PhoneMultiFactorGenerator",()=>s.m),r.export(i,"ProviderId",()=>s.p),r.export(i,"RecaptchaVerifier",()=>s.R),r.export(i,"SAMLAuthCredential",()=>s.aQ),r.export(i,"SAMLAuthProvider",()=>s._),r.export(i,"SignInMethod",()=>s.S),r.export(i,"TotpMultiFactorGenerator",()=>s.T),r.export(i,"TotpSecret",()=>s.n),r.export(i,"TwitterAuthProvider",()=>s.$),r.export(i,"UserImpl",()=>s.aK),r.export(i,"_assert",()=>s.aC),r.export(i,"_castAuth",()=>s.aJ),r.export(i,"_fail",()=>s.ax),r.export(i,"_generateEventId",()=>s.aN),r.export(i,"_getClientVersion",()=>s.aM),r.export(i,"_getInstance",()=>s.aE),r.export(i,"_getRedirectResult",()=>s.aG),r.export(i,"_overrideRedirectResult",()=>s.aH),r.export(i,"_persistenceKeyName",()=>s.aF),r.export(i,"applyActionCode",()=>s.a7),r.export(i,"beforeAuthStateChanged",()=>s.x),r.export(i,"browserLocalPersistence",()=>s.b),r.export(i,"browserPopupRedirectResolver",()=>s.k),r.export(i,"browserSessionPersistence",()=>s.a),r.export(i,"checkActionCode",()=>s.a8),r.export(i,"confirmPasswordReset",()=>s.a6),r.export(i,"connectAuthEmulator",()=>s.K),r.export(i,"createUserWithEmailAndPassword",()=>s.aa),r.export(i,"debugErrorMap",()=>s.G),r.export(i,"deleteUser",()=>s.E),r.export(i,"fetchSignInMethodsForEmail",()=>s.af),r.export(i,"getAdditionalUserInfo",()=>s.aq),r.export(i,"getAuth",()=>s.o),r.export(i,"getIdToken",()=>s.an),r.export(i,"getIdTokenResult",()=>s.ao),r.export(i,"getMultiFactorResolver",()=>s.as),r.export(i,"getRedirectResult",()=>s.j),r.export(i,"inMemoryPersistence",()=>s.U),r.export(i,"indexedDBLocalPersistence",()=>s.i),r.export(i,"initializeAuth",()=>s.J),r.export(i,"initializeRecaptchaConfig",()=>s.t),r.export(i,"isSignInWithEmailLink",()=>s.ad),r.export(i,"linkWithCredential",()=>s.a2),r.export(i,"linkWithPhoneNumber",()=>s.l),r.export(i,"linkWithPopup",()=>s.d),r.export(i,"linkWithRedirect",()=>s.g),r.export(i,"multiFactor",()=>s.at),r.export(i,"onAuthStateChanged",()=>s.y),r.export(i,"onIdTokenChanged",()=>s.w),r.export(i,"parseActionCodeURL",()=>s.aj),r.export(i,"prodErrorMap",()=>s.H),r.export(i,"reauthenticateWithCredential",()=>s.a3),r.export(i,"reauthenticateWithPhoneNumber",()=>s.r),r.export(i,"reauthenticateWithPopup",()=>s.e),r.export(i,"reauthenticateWithRedirect",()=>s.h),r.export(i,"reload",()=>s.ar),r.export(i,"revokeAccessToken",()=>s.D),r.export(i,"sendEmailVerification",()=>s.ag),r.export(i,"sendPasswordResetEmail",()=>s.a5),r.export(i,"sendSignInLinkToEmail",()=>s.ac),r.export(i,"setPersistence",()=>s.q),r.export(i,"signInAnonymously",()=>s.a0),r.export(i,"signInWithCredential",()=>s.a1),r.export(i,"signInWithCustomToken",()=>s.a4),r.export(i,"signInWithEmailAndPassword",()=>s.ab),r.export(i,"signInWithEmailLink",()=>s.ae),r.export(i,"signInWithPhoneNumber",()=>s.s),r.export(i,"signInWithPopup",()=>s.c),r.export(i,"signInWithRedirect",()=>s.f),r.export(i,"signOut",()=>s.C),r.export(i,"unlink",()=>s.ap),r.export(i,"updateCurrentUser",()=>s.B),r.export(i,"updateEmail",()=>s.al),r.export(i,"updatePassword",()=>s.am),r.export(i,"updatePhoneNumber",()=>s.u),r.export(i,"updateProfile",()=>s.ak),r.export(i,"useDeviceLanguage",()=>s.z),r.export(i,"validatePassword",()=>s.v),r.export(i,"verifyBeforeUpdateEmail",()=>s.ah),r.export(i,"verifyPasswordResetCode",()=>s.a9),r.export(i,"addFrameworkForLogging",()=>b),r.export(i,"cordovaPopupRedirectResolver",()=>v);var s=e("./index-68602d24.js"),a=e("@firebase/util");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o(){return window}async function l(e,t,i){var n;let{BuildInfo:r}=o();(0,s.au)(t.sessionId,"AuthEvent did not contain a session ID");let a=await c(t.sessionId),l={};return(0,s.av)()?l.ibi=r.packageName:(0,s.aw)()?l.apn=r.packageName:(0,s.ax)(e,"operation-not-supported-in-this-environment"),r.displayName&&(l.appDisplayName=r.displayName),l.sessionId=a,(0,s.ay)(e,i,t.type,void 0,null!==(n=t.eventId)&&void 0!==n?n:void 0,l)}async function h(e){let{BuildInfo:t}=o(),i={};(0,s.av)()?i.iosBundleId=t.packageName:(0,s.aw)()?i.androidPackageName=t.packageName:(0,s.ax)(e,"operation-not-supported-in-this-environment"),await (0,s.az)(e,i)}async function u(e,t,i){let{cordova:n}=o(),r=()=>{};try{await new Promise((a,o)=>{let l=null;function h(){var e;a();let t=null===(e=n.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==i?void 0:i.close)&&i.close()}function u(){l||(l=window.setTimeout(()=>{o((0,s.aB)(e,"redirect-cancelled-by-user"))},2e3))}function c(){(null==document?void 0:document.visibilityState)==="visible"&&u()}t.addPassiveListener(h),document.addEventListener("resume",u,!1),(0,s.aw)()&&document.addEventListener("visibilitychange",c,!1),r=()=>{t.removePassiveListener(h),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),l&&window.clearTimeout(l)}})}finally{r()}}async function c(e){let t=function(e){if((0,s.au)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return new TextEncoder().encode(e);let t=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}e("@firebase/app"),e("@firebase/logger"),e("tslib"),e("@firebase/component");class d extends s.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function f(e){let t=await p()._get(m(e));return t&&await p()._remove(m(e)),t}function p(){return(0,s.aE)(s.b)}function m(e){return(0,s.aF)("authEvent",e.config.apiKey,e.name)}function g(e){if(!(null==e?void 0:e.includes("?")))return{};let[t,...i]=e.split("?");return(0,a.querystringDecode)(i.join("?"))}let v=class{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}async _initialize(e){let t=e._key(),i=this.eventManagers.get(t);return i||(i=new d(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){(0,s.ax)(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,n){!function(e){var t,i,n,r,a,l,h,u,c,d;let f=o();(0,s.aC)("function"==typeof(null===(t=null==f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aC)(void 0!==(null===(i=null==f?void 0:f.BuildInfo)||void 0===i?void 0:i.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aC)("function"==typeof(null===(a=null===(r=null===(n=null==f?void 0:f.cordova)||void 0===n?void 0:n.plugins)||void 0===r?void 0:r.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(u=null===(h=null===(l=null==f?void 0:f.cordova)||void 0===l?void 0:l.plugins)||void 0===h?void 0:h.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(d=null===(c=null==f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);let r=await this._initialize(e);await r.initialized(),r.resetRedirect(),(0,s.aI)(),await this._originValidation(e);let a=function(e,t,i=null){return{type:t,eventId:i,urlResponse:null,sessionId:function(){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<20;i++){let i=Math.floor(Math.random()*t.length);e.push(t.charAt(i))}return e.join("")}(),postBody:null,tenantId:e.tenantId,error:(0,s.aB)(e,"no-auth-event")}}(e,i,n);await p()._set(m(e),a);let h=await l(e,a,t);return u(e,r,await function(e){let{cordova:t}=o();return new Promise(i=>{t.plugins.browsertab.isAvailable(n=>{let r=null;n?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,(0,s.aA)()?"_blank":"_system","location=yes"),i(r)})})}(h))}_isIframeWebStorageSupported(e,t){throw Error("Method not implemented.")}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=h(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){let{universalLinks:i,handleOpenURL:n,BuildInfo:r}=o(),a=setTimeout(async()=>{await f(e),t.onEvent(y())},500),l=async i=>{clearTimeout(a);let n=await f(e),r=null;n&&(null==i?void 0:i.url)&&(r=function(e,t){var i,n;let r=function(e){let t=g(e),i=t.link?decodeURIComponent(t.link):void 0,n=g(i).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return g(r).link||r||n||i||e}(t);if(r.includes("/__/auth/callback")){let t=g(r),a=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(n=null===(i=null==a?void 0:a.code)||void 0===i?void 0:i.split("auth/"))||void 0===n?void 0:n[1],l=o?(0,s.aB)(o):null;return l?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}(n,i.url)),t.onEvent(r||y())};void 0!==i&&"function"==typeof i.subscribe&&i.subscribe(null,l);let h=`${r.packageName.toLowerCase()}://`;o().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(h)&&l({url:e}),"function"==typeof n)try{n(e)}catch(e){console.error(e)}}}};function y(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.aB)("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e,t){(0,s.aJ)(e)._logFramework(t)}},{"./index-68602d24.js":"gWuQ9","@firebase/util":"j1gcd","@firebase/app":"hZODh","@firebase/logger":"7RF90",tslib:"3aD9C","@firebase/component":"dVjVM","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],a0qnr:[function(e,t,i,n){!function(){var e=window.CustomEvent;function i(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function n(e){e&&e.blur&&e!==document.body&&e.blur()}function r(e){return!!(e&&e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function s(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,i=!1,n=(function(){i?this.downgradeModal():this.maybeHideModal(),i=!1}).bind(this),r=function(r){if(r.target===e){var s="DOMNodeRemoved";i|=r.type.substr(0,s.length)===s,window.clearTimeout(t),t=window.setTimeout(n,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,r)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}e&&"object"!=typeof e||((e=function(e,t){t=t||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),i}).prototype=window.Event.prototype),s.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),a.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var i=document.createEvent("MouseEvents");i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(i),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}n(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!a.dm.pushDialog(this))throw Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),i=function(e,i){return!(void 0===t[e]||t[e]===i)};if(t.opacity<1||i("zIndex","auto")||i("transform","none")||i("mixBlendMode","normal")||i("filter","none")||i("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,a.needsCentering(this.dialog_)?(a.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var i=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(i)}};var a={};if(a.reposition=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,i=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,i)+"px"},a.isInlinePositionSetByStylesheet=function(e){for(var t=0;t<document.styleSheets.length;++t){var i=document.styleSheets[t],n=null;try{n=i.cssRules}catch(e){}if(n)for(var r=0;r<n.length;++r){var s=n[r],a=null;try{a=document.querySelectorAll(s.selectorText)}catch(e){}if(a&&function(e,t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1}(a,e)){var o=s.style.getPropertyValue("top"),l=s.style.getPropertyValue("bottom");if(o&&"auto"!==o||l&&"auto"!==l)return!0}}}return!1},a.needsCentering=function(e){return"absolute"===window.getComputedStyle(e).position&&("auto"===e.style.top||""===e.style.top)&&("auto"===e.style.bottom||""===e.style.bottom)&&!a.isInlinePositionSetByStylesheet(e)},a.forceRegisterDialog=function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw Error("Failed to register dialog: The element is not a dialog.");new s(e)},a.registerDialog=function(e){e.showModal||a.forceRegisterDialog(e)},a.DialogManager=function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var i=[];t.forEach(function(e){for(var t,n=0;t=e.removedNodes[n];++n)t instanceof Element&&("dialog"===t.localName&&i.push(t),i=i.concat(t.querySelectorAll("dialog")))}),i.length&&e(i)}))},a.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},a.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},a.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,i=0;e=this.pendingDialogStack[i];++i)e.updateZIndex(--t,--t),0===i&&(this.overlay.style.zIndex=--t);var n=this.pendingDialogStack[0];n?(n.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},a.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=i(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},a.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),n(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},a.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var i=new e("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(i)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},a.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},a.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},a.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},a.dm=new a.DialogManager,a.formSubmitter=null,a.useValue=null,void 0===window.HTMLDialogElement){var o=document.createElement("form");if(o.setAttribute("method","dialog"),"dialog"!==o.method){var l=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(l){var h=l.get;l.get=function(){return r(this)?"dialog":h.call(this)};var u=l.set;l.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):u.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",l)}}document.addEventListener("click",function(e){if(a.formSubmitter=null,a.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&r(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if(!("input"===t.localName&&"image"===t.type))return;a.useValue=e.offsetX+","+e.offsetY}i(t)&&(a.formSubmitter=t)}}},!1);var c=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!r(this))return c.call(this);var e=i(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(r(t)){e.preventDefault();var n=i(t);if(n){var s=a.formSubmitter;s&&s.form===t?n.close(a.useValue||s.value):n.close(),a.formSubmitter=null}}},!0)}a.forceRegisterDialog=a.forceRegisterDialog,a.registerDialog=a.registerDialog,"function"==typeof define&&"amd"in define?define(function(){return a}):"object"==typeof t.exports?t.exports=a:window.dialogPolyfill=a}()},{}],fenpL:[function(e,t,i,n){/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(r=function(){var e=[],t=[],i="mdlComponentConfigInternal_";function n(t,i){for(var n=0;n<e.length;n++)if(e[n].className===t)return void 0!==i&&(e[n]=i),e[n];return!1}function r(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,t){return -1!==r(e).indexOf(t)}function a(e,t,i){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:i});var n=document.createEvent("Events");return n.initEvent(e,t,i),n}function o(t,i){if(void 0===t&&void 0===i)for(var r=0;r<e.length;r++)o(e[r].className,e[r].cssClass);else{if(void 0===i){var s=n(t);s&&(i=s.cssClass)}for(var a=document.querySelectorAll("."+i),h=0;h<a.length;h++)l(a[h],t)}}function l(o,l){if(!("object"==typeof o&&o instanceof Element))throw Error("Invalid argument provided to upgrade MDL element.");var h=a("mdl-componentupgrading",!0,!0);if(o.dispatchEvent(h),!h.defaultPrevented){var u=r(o),c=[];if(l)s(o,l)||c.push(n(l));else{var d=o.classList;e.forEach(function(e){d.contains(e.cssClass)&&-1===c.indexOf(e)&&!s(o,e.className)&&c.push(e)})}for(var f,p=0,m=c.length;p<m;p++){if(f=c[p]){u.push(f.className),o.setAttribute("data-upgraded",u.join(","));var g=new f.classConstructor(o);g[i]=f,t.push(g);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](o);f.widget&&(o[f.className]=g)}else throw Error("Unable to find a registered component for the given class.");var b=a("mdl-componentupgraded",!0,!1);o.dispatchEvent(b)}}}function h(e){if(e){var n=t.indexOf(e);t.splice(n,1);var r=e.element_.getAttribute("data-upgraded").split(","),s=r.indexOf(e[i].classAsString);r.splice(s,1),e.element_.setAttribute("data-upgraded",r.join(","));var o=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(o)}}return{upgradeDom:o,upgradeElement:l,upgradeElements:function e(t){Array.isArray(t)||(t instanceof Element?t=[t]:t=Array.prototype.slice.call(t));for(var i,n=0,r=t.length;n<r;n++)(i=t[n])instanceof HTMLElement&&(l(i),i.children.length>0&&e(i.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)o(e[t].className)},registerUpgradedCallback:function(e,t){var i=n(e);i&&i.callbacks.push(t)},register:function(t){var r=void 0===t.widget&&void 0===t.widget,s=!0;r||(s=t.widget||t.widget);var a={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:s,callbacks:[]};if(e.forEach(function(e){if(e.cssClass===a.cssClass)throw Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===a.className)throw Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(i))throw Error("MDL component classes must not have "+i+" defined as a property.");n(t.classAsString,a)||e.push(a)},downgradeElements:function(e){var i=function(e){t.filter(function(t){return t.element_===e}).forEach(h)};if(e instanceof Array||e instanceof NodeList)for(var n=0;n<e.length;n++)i(e[n]);else if(e instanceof Node)i(e);else throw Error("Invalid argument provided to downgrade MDL nodes.")}}}()).ComponentConfigPublic,r.ComponentConfig,r.Component,r.upgradeDom=r.upgradeDom,r.upgradeElement=r.upgradeElement,r.upgradeElements=r.upgradeElements,r.upgradeAllRegistered=r.upgradeAllRegistered,r.registerUpgradedCallback=r.registerUpgradedCallback,r.register=r.register,r.downgradeElements=r.downgradeElements,window.componentHandler=r,window.componentHandler=r,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),r.upgradeAllRegistered()):(r.upgradeElement=function(){},r.register=function(){})})},{}],"5EQJC":[function(e,t,i,n){var r;r=function(e){this.element_=e,this.init()},window.MaterialButton=r,r.prototype.Constant_={},r.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},r.prototype.blurHandler_=function(e){e&&this.element_.blur()},r.prototype.disable=function(){this.element_.disabled=!0},r.prototype.disable=r.prototype.disable,r.prototype.enable=function(){this.element_.disabled=!1},r.prototype.enable=r.prototype.enable,r.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:r,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})},{}],k5ZeA:[function(e,t,i,n){var r;r=function(e){this.element_=e,this.init()},window.MaterialProgress=r,r.prototype.Constant_={},r.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},r.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},r.prototype.setProgress=r.prototype.setProgress,r.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},r.prototype.setBuffer=r.prototype.setBuffer,r.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:r,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})},{}],"8dhF5":[function(e,t,i,n){var r;r=function(e){this.element_=e,this.init()},window.MaterialSpinner=r,r.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},r.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},r.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[i,n,r],a=0;a<s.length;a++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[a].appendChild(o)}t.appendChild(i),t.appendChild(n),t.appendChild(r),this.element_.appendChild(t)},r.prototype.createLayer=r.prototype.createLayer,r.prototype.stop=function(){this.element_.classList.remove("is-active")},r.prototype.stop=r.prototype.stop,r.prototype.start=function(){this.element_.classList.add("is-active")},r.prototype.start=r.prototype.start,r.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:r,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})},{}],kNxcX:[function(e,t,i,n){var r;r=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},window.MaterialTextfield=r,r.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},r.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},r.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},r.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},r.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},r.prototype.onReset_=function(e){this.updateClasses_()},r.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},r.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},r.prototype.checkDisabled=r.prototype.checkDisabled,r.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},r.prototype.checkFocus=r.prototype.checkFocus,r.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},r.prototype.checkValidity=r.prototype.checkValidity,r.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},r.prototype.checkDirty=r.prototype.checkDirty,r.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},r.prototype.disable=r.prototype.disable,r.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},r.prototype.enable=r.prototype.enable,r.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},r.prototype.change=r.prototype.change,r.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:r,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})},{}],dRIPl:[function(e,t,i,n){let{ConfigProcessor:r}=e("5fbca4d95ccfdb58");t.exports.ConfigManager=class extends r{constructor(){super(),this.client={general:{users:{allowRegistration:!0,allowGuest:!0,allowGuestUserName:!0}},customClasses:{message:{listeners:{}}},message:{listeners:{}}}}}},{"5fbca4d95ccfdb58":"4b19P"}],"4b19P":[function(e,t,i,n){let{Logger:r,sc:s}=e("c5ed0c3af76d2f77");t.exports.ConfigProcessor=class{constructor(){this.avoidLog=!1}get(e,t){let i=void 0!==t&&t,n=e.split("/");if(2>n.length)return this.avoidLog||r.error("Path level is too low:",e),i;let a=this[n[0]]||{};for(let t=1;t<n.length;t++){if(!s.hasOwn(a,n[t])){this.avoidLog||r.error("Configuration level "+t+' > "'+n[t]+'" not defined: '+e),a=i;break}a=a[n[t]]}return a}getWithoutLogs(e,t=!1){this.avoidLog=!0;let i=this.get(e,t);return this.avoidLog=!1,i}}},{c5ed0c3af76d2f77:"3lwy5"}],eU3NY:[function(e,t,i,n){t.exports={game:{passwordConfirmationNotMatch:"Password and confirmation does not match.",pleaseReadTermsAndConditions:"Please read and accept the terms and conditions and continue.",sessionEnded:"Your session ended, please login again.",errors:{missingClasses:"None configured classes available.",missingPlayerData:"Missing player data.",joiningRoom:'There was an error while joining the room "%joinRoomName", please try again later.',joiningFeatureRoom:'There was an error while joining the feature room "%joinRoomName".',reconnectClient:"Reconnect Game Client error.",sessionEnded:"Your session ended, please login again.",connectionLost:"Connection lost, please login again.",serverDown:"Server is offline."},pleaseSelectScene:"Please select a Scene"}}},{}],"4k5m1":[function(e,t,i,n){let{sc:r}=e("f53434bdd3518741");t.exports.GameDom=new class{constructor(){this.styleSuffix={width:"px",height:"px",top:"px",bottom:"px",left:"px",right:"px"}}getWindow(){return window}getDocument(){return window.document}getElement(e,t=!1){return(t||document).querySelector(e)}getElements(e,t){return(t||document).querySelectorAll(e)}emptyElement(e,t=!1){let i=this.getElement(e,t);i&&(i.innerHTML="")}appendToElement(e,t){let i=this.getElement(e);if(!i||!t)return!1;let n=document.createElement("template");n.innerHTML=t;for(let e=0;e<n.content.childNodes.length;e++)i.appendChild(n.content.childNodes[e]);return i}updateContent(e,t){let i=this.getElement(e);return!!i&&(i.innerHTML=t,i)}removeElement(e){this.getElement(e)?.remove()}createElement(e,t="",i){let n=document.createElement(e);if(""!==t&&(n.id=t),r.isArray(i))for(let e of i)n.classList.add(e);return n}setElementStyles(e,t){if(!e||!t)return!1;for(let i of Object.keys(t)){let n=t[i],s=r.get(this.styleSuffix,i,"");""!==s&&(n+=s),e.style[i]=n}}createElementWithStyles(e,t="",i={}){let n=this.createElement(e,t);return this.setElementStyles(n,i),n}activeElement(){return document.activeElement}insideInput(){return"input"===this.activeElement().tagName.toLowerCase()}getJSON(e,t){let i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="json",i.onload=()=>{let e=i.status;200===e?t(null,i.response):t(e)},i.send()}alertReload(e){return alert(e),this.getWindow().location.reload(),!1}}},{f53434bdd3518741:"3lwy5"}],lsvIm:[function(e,t,i,n){t.exports=JSON.parse('{"name":"reldens","version":"4.0.0-beta.38.3","description":"Reldens - MMORPG Platform","author":"Damian A. Pastorini","license":"MIT","homepage":"https://www.reldens.com/","source":false,"repository":{"type":"git","url":"https://github.com/damian-pastorini/reldens.git"},"keywords":["reldens","game","mmorpg","rpg","dwd","colyseus","phaser","parcel","nodejs","mmo","multiplayer","rol","platform","framework","javascript","js","script"],"bugs":{"url":"https://github.com/damian-pastorini/reldens/issues"},"engines":{"node":">=18.0.0","npm":">=8.0.0"},"bin":{"reldens":"bin/reldens-commands.js","reldens-generate":"bin/generate.js","reldens-import":"bin/import.js"},"dependencies":{"@colyseus/core":"0.15.55","@colyseus/monitor":"0.15.8","@colyseus/schema":"2.0.36","@colyseus/ws-transport":"0.15.3","@parcel/bundler-default":"2.13.2","@parcel/compressor-raw":"2.13.2","@parcel/core":"2.13.2","@parcel/namer-default":"2.13.2","@parcel/optimizer-css":"2.13.2","@parcel/optimizer-data-url":"2.13.2","@parcel/optimizer-htmlnano":"2.13.2","@parcel/optimizer-image":"2.13.2","@parcel/optimizer-swc":"2.13.2","@parcel/packager-css":"2.13.2","@parcel/packager-html":"2.13.2","@parcel/packager-js":"2.13.2","@parcel/packager-raw":"2.13.2","@parcel/packager-raw-url":"2.13.2","@parcel/packager-svg":"2.13.2","@parcel/packager-ts":"2.13.2","@parcel/packager-wasm":"2.13.2","@parcel/packager-xml":"2.13.2","@parcel/reporter-dev-server":"2.13.2","@parcel/resolver-default":"2.13.2","@parcel/runtime-browser-hmr":"2.13.2","@parcel/runtime-js":"2.13.2","@parcel/runtime-react-refresh":"2.13.2","@parcel/runtime-service-worker":"2.13.2","@parcel/transformer-babel":"2.13.2","@parcel/transformer-coffeescript":"2.13.2","@parcel/transformer-css":"2.13.2","@parcel/transformer-glsl":"2.13.2","@parcel/transformer-graphql":"2.13.2","@parcel/transformer-html":"2.13.2","@parcel/transformer-image":"2.13.2","@parcel/transformer-inline-string":"2.13.2","@parcel/transformer-js":"2.13.2","@parcel/transformer-json":"2.13.2","@parcel/transformer-jsonld":"2.13.2","@parcel/transformer-less":"2.13.2","@parcel/transformer-postcss":"2.13.2","@parcel/transformer-posthtml":"2.13.2","@parcel/transformer-pug":"2.13.2","@parcel/transformer-raw":"2.13.2","@parcel/transformer-react-refresh-wrap":"2.13.2","@parcel/transformer-sass":"2.13.2","@parcel/transformer-stylus":"2.13.2","@parcel/transformer-sugarss":"2.13.2","@parcel/transformer-svg":"2.13.2","@parcel/transformer-toml":"2.13.2","@parcel/transformer-typescript-types":"2.13.2","@parcel/transformer-vue":"2.13.2","@parcel/transformer-webmanifest":"2.13.2","@parcel/transformer-worklet":"2.13.2","@parcel/transformer-xml":"2.13.2","@parcel/transformer-yaml":"2.13.2","@reldens/game-data-generator":"^0.9.0","@reldens/items-system":"^0.34.0","@reldens/modifiers":"^0.26.0","@reldens/skills":"^0.34.0","@reldens/storage":"^0.31.0","@reldens/tile-map-generator":"^0.16.0","@reldens/utils":"^0.39.0","@sendgrid/mail":"8.1.4","bcrypt":"5.1.1","body-parser":"1.20.3","colyseus.js":"0.15.26","core-js":"3.39.0","cors":"2.8.5","dotenv":"16.4.5","express":"4.21.1","express-basic-auth":"1.2.1","express-formidable":"1.2.0","express-rate-limit":"7.4.1","express-session":"1.18.1","firebase":"10.14.1","firebaseui":"6.1.0","jimp":"1.6.0","mime-types":"2.1.35","multer":"^1.4.5-lts.1","mustache":"4.2.0","nodemailer":"6.9.16","p2":"0.7.1","pathfinding":"0.4.18","phaser":"3.87.0","react":"^18.3.1","react-dom":"^18.3.1","react-router-dom":"^6.26.2","regenerator-runtime":"0.14.1","tslib":"2.8.1"},"alias":{"reldens":"./"},"devDependencies":{"process":"^0.11.10"}}')},{}],"7ASKi":[function(e,t,i,n){let{PluginInterface:r}=e("5775474fb24972c6"),{Npc1:s}=e("66950fed6ab0bf91");t.exports.ClientPlugin=class extends r{setup(e){this.events=e.events,this.events.on("reldens.beforeJoinGame",e=>{this.defineCustomClasses(e)})}defineCustomClasses(e){let t=e.gameManager.config.client.customClasses;t.objects||(t.objects={}),t.objects.people_town_1=s}}},{"5775474fb24972c6":"jorwg","66950fed6ab0bf91":"gVHJK"}],gVHJK:[function(e,t,i,n){let{AnimationEngine:r}=e("61ae8608f1dd11e8");t.exports.Npc1=class extends r{constructor(e,t,i){super(e,t,i)}}},{"61ae8608f1dd11e8":"f1BcF"}]},["f4hYr"],"f4hYr","parcelRequire94c2");